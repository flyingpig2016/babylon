!function(){function Map(t,e){if(t=baidu.g(t)){var i=this;baidu.lang.Class.call(i);var e=e||{};i.config={clickInterval:200,enableDragging:!0,enableKeyboard:!1,enableDblclickZoom:!0,enableContinuousZoom:!0,enableWheelZoom:e.enableWheelZoom||!1,enableWheelZoomLast:e.enableWheelZoom||!1,enableDeepZoom:!0,enableMouseDown:!0,enablePinchToZoom:!0,enableAutoResize:!0,enableStreetEntrance:!0,enable3DBuilding:e.enable3DBuilding||!1,fps:25,zoomerDuration:240,actionDuration:450,defaultCursor:MapConfig.defaultCursor,draggingCursor:MapConfig.draggingCursor,isOverviewMap:!!e.isOverviewMap,minZoom:Math.round(e.minZoom)||1,maxZoom:Math.round(e.maxZoom)||20,mapType:e.mapType||BMAP_NORMAL_MAP,restrictBounds:!1,drawer:e.drawer||BMAP_SYS_DRAWER,enableInertialDragging:!0,drawMargin:500,enableHighResolution:!(!1===e.enableHighResolution),enableMapClick:!(!1===e.enableMapClick),devicePixelRatio:e.devicePixelRatio||window.devicePixelRatio||1,vectorMapLevel:99,mapStyle:e.mapStyle||null,logoControl:!1!==e.logoControl,beautifyBlackList:[],beforeClickIcon:e.beforeClickIcon||null,enableIndoorLayer:!1,enableCustomLayer:!1,customEditor:!1,normalMapDisplay:!0,enableBizAuthLogo:!1!==e.enableBizAuthLogo,coordsType:e.coordsType||5,touchZoomCenter:e.touchZoomCenter||0,enablePinchDragging:!1!==e.enablePinchDragging,bdLogo:!1},i.config.mapStyle&&(this.initControl(i.config.mapStyle.controls),this.initCustomLayer(i.config.mapStyle.geotableId)),i.config.mapStyle&&i.config.mapStyle.styleId&&i.getStyleById(i.config.mapStyle.styleId),i.config.colorTypeHash={midnight:{backColor:"#001232",textColor:"#bfbfbf",iconUrl:"dicons"},dark:{backColor:"#2D2D2D",textColor:"#bfbfbf",iconUrl:"dicons"},normal:{backColor:"#F3F1EC",textColor:"#c61b1b",iconUrl:"icons"},light:{backColor:"#EBF8FC",textColor:"#017fb4",iconUrl:"licons"}},e.enableAutoResize&&(i.config.enableAutoResize=e.enableAutoResize),!1===e.enableStreetEntrance&&(i.config.enableStreetEntrance=e.enableStreetEntrance),!1===e.enableDeepZoom&&(i.config.enableDeepZoom=e.enableDeepZoom);var n=i.config.beautifyBlackList;if(isMobile())for(var o=0,a=n.length;o<a;o++)if(baidu.browser[n[o]]){i.config.devicePixelRatio=1;break}var r=navigator.userAgent.toLowerCase().indexOf("android")>-1,s=navigator.userAgent.toLowerCase().indexOf("mqqbrowser")>-1;(navigator.userAgent.toLowerCase().indexOf("UCBrowser")>-1||r&&s)&&(i.config.vectorMapLevel=99),i.container=t,i._setStyle(t),t.unselectable="on",t.innerHTML="",t.appendChild(i.render()),e.size&&this.setSize(e.size);var l=i.getSize();i.width=l.width,i.height=l.height,i.offsetX=0,i.offsetY=0,i.platform=t.firstChild,i.maskLayer=i.platform.firstChild,i.maskLayer.style.width=i.width+"px",i.maskLayer.style.height=i.height+"px",i._panes={},i.centerPoint=new PointN(0,0),i.mercatorCenter=new PointN(0,0),i.zoomLevel=3,i.lastLevel=0,i.defaultZoomLevel=null,i.defaultCenter=null,i.currentCity="",i.cityCode="",i._hotspots={},i._hotspots.custom={},i._areaspots={},i.currentOperation=0,!1===e.useWebGL&&useWebGL(!1),i._pano=new Panorama(t,{from:"api",_lazyLoad:!0}),i._pano.hide(),i._pano.setMap(i),e=e||{};var h=i.mapType=i.config.mapType;i.projection=h.getProjection(),h&&h.setProjectMap(i.config.coordsType),h===BMAP_PERSPECTIVE_MAP&&_addStat(STAT.MAP_USE_PERSPECTIVE_MAP),h===BMAP_HYBRID_MAP&&_addStat(STAT.MAP_USE_SATELLITE_OR_HYBRID_MAP);var c=i.config;c.userMinZoom=Math.round(e.minZoom),c.userMaxZoom=Math.round(e.maxZoom),i._checkZoom(),i.temp={operating:!1,arrow:0,lastDomMoveTime:0,lastLoadTileTime:0,lastMovingTime:0,canKeyboard:!1,registerIndex:-1,curSpots:[]},i.platform.style.cursor=i.config.defaultCursor;for(var o=0;o<BMap._register.length;o++)BMap._register[o](i);i.temp.registerIndex=o,i._bind(),ModuleMgr.load("map",function(){i._draw()}),i.config.enableMapClick&&(setTimeout(function(){_addStat(STAT.MAP_LOAD_MAPCLICK)},1e3),ModuleMgr.load("mapclick",function(){window.MPC_Mgr=window.MPC_Mgr||{},window.MPC_Mgr[i.guid]=new MapPoiClick(i)},!0)),isDesktop()&&ModuleMgr.load("oppc",function(){i._asyncRegister()}),isMobile()&&ModuleMgr.load("opmb",function(){i._asyncRegister()}),t=null,i._viewTiles=[]}}function _addStat(t,e){if(t){e=e||{};var i="";for(var n in e)i=i+"&"+n+"="+encodeURIComponent(e[n]);var o=function(t){t&&(_addStat._sending=!0,setTimeout(function(){},50))},a=function(){var t=_addStat._reqQueue.shift();t&&o(t)},r=(1e8*Math.random()).toFixed(0);_addStat._sending?_addStat._reqQueue.push({src:"product=jsapi&sub_product=jsapi&v="+BMap.version+"&sub_product_v="+BMap.version+"&t="+r+"&code="+t+"&da_src="+t+i}):o({src:"product=jsapi&sub_product=jsapi&v="+BMap.version+"&sub_product_v="+BMap.version+"&t="+r+"&code="+t+"&da_src="+t+i}),_addStat._binded||(baidu.on(_addStat._img,"load",function(){_addStat._sending=!1,a()}),baidu.on(_addStat._img,"error",function(){_addStat._sending=!1,a()}),_addStat._binded=!0)}}function Animation(t){var e={duration:1e3,fps:30,delay:0,transition:Transitions.linear,onStop:function(){}};if(this._anis=[],t)for(var i in t)e[i]=t[i];if(this._opts=e,isNumber(e.delay)){var n=this;setTimeout(function(){n.start()},e.delay)}else e.delay!=Animation.INFINITE&&this.start()}function Copyright(t,e,i){this.id=t,this.bounds=e,this.content=i}function getCookie(t){try{for(var e=/([^=&\s]+)[=\s]*([^&\s]*)/g,i={};e.exec(document.cookie);)i[RegExp.$1]=RegExp.$2;return i[t].replace(";","")}catch(t){return""}}function setPosition(t,e){var i=t.style;i.left=e[0]+"px",i.top=e[1]+"px"}function setUnSelectable(t){baidu.browser.ie>0?t.unselectable="on":t.style.MozUserSelect="none"}function isInDocument(t){return t&&t.parentNode&&11!==t.parentNode.nodeType}function beforeEndHTML(t,e){return baidu.dom.insertHTML(t,"beforeEnd",e),t.lastChild}function getPosition(t){for(var e={left:0,top:0};t&&t.offsetParent;)e.left+=t.offsetLeft,e.top+=t.offsetTop,t=t.offsetParent;return e}function stopBubble(t){var t=window.event||t;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function preventDefault(t){var t=window.event||t;return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}function stopAndPrevent(t){return stopBubble(t),preventDefault(t)}function getScroll(){var t=document.documentElement,e=document.body;return t&&(t.scrollTop||t.scrollLeft)?[t.scrollTop,t.scrollLeft]:e?[e.scrollTop,e.scrollLeft]:[0,0]}function getDistanceByPixel(t,e){if(t&&e)return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function jsonToQuery(t,e){var i=[];e=e||function(t){return t};for(var n in t)i.push(n+"="+e(t[n]));return i.join("&")}function getDistanceOnSphere(t,e){var i=t.lat,n=e.lat,o=t.lng,a=e.lng,r=toRadian(i),s=toRadian(n),l=toRadian(n-i),h=toRadian(a-o),c=Math.sin(l/2)*Math.sin(l/2)+Math.cos(r)*Math.cos(s)*Math.sin(h/2)*Math.sin(h/2);return 2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))*6371e3}function create(t,e,i){var n=document.createElement(t);return i&&(n=document.createElementNS(i,t)),baidu.dom.setAttrs(n,e||{})}function getCurrentStyle(t){return t.currentStyle?t.currentStyle:t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):void 0}function isFunction(t){return"function"==typeof t}function isNumber(t){return"number"==typeof t}function isString(t){return"string"==typeof t}function isDefined(t){return void 0!==t}function isObject(t){return"object"==typeof t}function isArray(t){return"[object Array]"==Object.prototype.toString.call(t)}function encodeTileUrl(t){for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i)<<1,o=n.toString(2),a=o.length,r=o;a<8&&(r="00000000"+o,r=r.substr(o.length,8)),e+=r}for(var s=5-e.length%5,l=[],i=0;i<s;i++)l[i]="0";e=l.join("")+e;for(var h=[],i=0;i<e.length/5;i++){var n=e.substr(5*i,5),c=parseInt(n,2)+50;h.push(String.fromCharCode(c))}return h.join("")+s.toString()}function decode64(t){var e,i,n,o,a,r="",s="",l="",h=0,c=/[^A-Za-z0-9\+\/\=]/g;if(!t||c.exec(t))return t;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{n=b64array.indexOf(t.charAt(h++)),o=b64array.indexOf(t.charAt(h++)),a=b64array.indexOf(t.charAt(h++)),l=b64array.indexOf(t.charAt(h++)),e=n<<2|o>>4,i=(15&o)<<4|a>>2,s=(3&a)<<6|l,r+=String.fromCharCode(e),64!=a&&(r+=String.fromCharCode(i)),64!=l&&(r+=String.fromCharCode(s)),e=i=s="",n=o=a=l=""}while(h<t.length);return r}function isMobile(){return!!(baidu.platform.isIphone||baidu.platform.isIpad||baidu.platform.isAndroid)}function isAndroid23More(){return!!(baidu.platform.isAndroid&&parseFloat(baidu.platform.android)>2.3)}function isDesktop(){return!!(baidu.platform.isWindows||baidu.platform.isMacintosh||baidu.platform.isX11)}function getCurrentTime(){return(new Date).getTime()}function isVml(){var t=document.body.appendChild(create("div"));t.innerHTML='<v:shape id="vml_tester1" adj="1" />';var e=t.firstChild;if(!e.style)return!1;e.style.behavior="url(#default#VML)";var i=!e||"object"==typeof e.adj;return t.parentNode.removeChild(t),i}function isSvg(){return!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.1")}function isCanvas(){return!!create("canvas").getContext}function cloneCanvas(t,e){return e||(e=document.createElement("canvas")),e.getContext("2d").drawImage(t,0,0),e}function toRadian(t){return t*Math.PI/180}function toAngle(t){return t/Math.PI*180}function getPointByStr(t){if("string"==typeof t){var e=t.split(",");if(!(e.length<2))return new Point(e[0],e[1])}}function parseGeo(t){if("string"==typeof t){var e=t.split("|"),i=parseInt(e[0],10),n=e[1],o=e[2],a=o.split(";");if(4===i){for(var r=[],s=0;s<a.length-1;s++)"1"===a[s].split("-")[0]&&r.push(a[s].split("-")[1]);a=r,a.push("")}var l=[];switch(i){case 1:l.push(a[0]);break;case 2:case 3:case 4:for(var s=0;s<a.length-1;s++){var h=a[s];if(h.length>100)h=h.replace(/([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*),([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*)(,)/g,"$1,$2;"),l.push(h);else{for(var c=[],d=h.split(","),u=0;u<d.length;u+=2){var p=d[u],_=d[u+1];c.push(p+","+_)}l.push(c.join(";"))}}}return l.length<=1&&(l=l.toString()),{type:i,bound:n,points:l}}}function _highlight(t){t&&(t._innerBox.style.border="1px solid "+BMap.MAPTYPE_BUTTON_COLORS.HIGHLIGHT,t._captionBg.style.backgroundColor=BMap.MAPTYPE_BUTTON_COLORS.HIGHLIGHT,t._captionBg.style.opacity="1",t._captionBg.style.filter="")}function _dehighlight(t){t&&(t._innerBox.style.border="1px solid "+BMap.MAPTYPE_BUTTON_COLORS.NORMAL,t._captionBg.style.backgroundColor=BMap.MAPTYPE_BUTTON_COLORS.NORMAL,t._captionBg.style.opacity="0.5",t._captionBg.style.filter="Alpha(opacity=50);")}function _toggleHybridStuff(t,e){var i=new BaseEvent("onchangehybirdmapmode");i.isHybirdMapShow=e,t._isHybirdShow=e,i.isHybirdMapShow?(t.setMapType(BMAP_HYBRID_MAP),t.dispatchEvent(i)):(t.setMapType(BMAP_SATELLITE_MAP),t.dispatchEvent(i))}function delegate(t,e,i,n){i.matchs||(i.matchs=[],i.handle={}),i.matchs.push({filter:n,fn:e}),i.addEventListener||(i.addEventListener=function(t,e){i.attachEvent("on"+t,e)}),i.handle[t]||(i.addEventListener(t,function(t){for(var e=t.target||t.srcElement;e!=i;)each(i.matchs,function(i,n){new RegExp(n.filter).test(e.getAttribute("filter"))&&n.fn.call(e,t,e.getAttribute("filter"))}),e=e.parentNode},!1),i.handle[t]=!0)}function each(t,e){for(var i=0,n=t.length;i<n;i++)e(i,t[i])}function consoleTime(t){-1!==document.location.href.indexOf(".local")&&console&&console.time&&console.time(t)}function consoleTimeEnd(t){-1!==document.location.href.indexOf(".local")&&console&&console.timeEnd&&console.timeEnd(t)}function consoleTimeStamp(t){-1!==document.location.href.indexOf(".local")&&console&&console.timeStamp&&console.timeStamp(t)}function getDistanceByMC(t,e){return t&&e?Math.round(Math.sqrt(Math.pow(t.lng-e.lng,2)+Math.pow(t.lat-e.lat,2))):0}function getTileVersion(t){var e=window.TILE_VERSION,i="20190410";if(e&&e.ditu){var n=e.ditu;n[t]&&n[t].updateDate&&(i=n[t].updateDate)}return i}function isInChina(t,e,i,n){for(var o=0;o<n;o+=2)if(t.lng>=e[o]&&t.lng<=e[o+1]&&t.lat>=i[o]&&t.lat<=i[o+1])return!0;return!1}function bdEncrypt(t){var e=t.lng,i=t.lat,n=Math.sqrt(e*e+i*i),o=Math.atan2(i,e),a=n+getDeltaR(i),r=o+getDeltaT(e),s=a*Math.cos(r),l=a*Math.sin(r);return{lng:s+OFFSET_X,lat:l+OFFSET_Y}}function bdDecrypt(t){var e=t.lng-OFFSET_X,i=t.lat-OFFSET_Y,n=Math.sqrt(e*e+i*i),o=Math.atan2(i,e),a=n-getDeltaR(i),r=o-getDeltaT(e);return{lng:a*Math.cos(r),lat:a*Math.sin(r)}}function decryptPt1(t,e){var i={},n=t.lng,o=t.lat,a=1,r=t.lng,s=t.lat,l=n-a,h=0,c=o+a,d=0,u=n-a,p=0,_=o-a,g=0,m=n+a,f=0,v=o-a,y=0,b=n+a,x=0,w=o+a,P=0,M=0,T=0,C=encryptFunc(e,n,o);if(M=C.lng,T=C.lat,dis(M,T,r,s)<=1e-6)return i.lng=n,i.lat=o,i;for(;;){l=n-a,h=0,c=o+a,d=0,u=n-a,p=0,_=o-a,g=0,m=n+a,f=0,v=o-a,y=0,b=n+a,x=0,w=o+a,P=0;var S=encryptFunc(e,l,c);h=S.lng,d=S.lat;var E=encryptFunc(e,u,_);p=E.lng,g=E.lat;var I=encryptFunc(e,m,v);f=I.lng,y=I.lat;var L=encryptFunc(e,b,w);x=L.lng,P=L.lat;var A=dis(h,d,r,s),B=dis(p,g,r,s),R=dis(f,y,r,s),D=dis(x,P,r,s);if(A<1e-6)return i.lng=l,i.lat=c,i;if(B<1e-6)return i.lng=u,i.lat=_,i;if(R<1e-6)return i.lng=m,i.lat=v,i;if(D<1e-6)return i.lng=b,i.lat=w,i;var k=1/A,O=1/B,N=1/R,j=1/D;n=(l*k+u*O+m*N+b*j)/(k+O+N+j),o=(c*k+_*O+v*N+w*j)/(k+O+N+j),C=encryptFunc(e,n,o),M=C.lng,T=C.lat;if(dis(M,T,r,s)<=1e-6)return i.lng=n,i.lat=o,i;if((a*=.6)<1e-6)return i=decryptPt2(t,1e-4,.03,e)}}function decryptPt2(t,e,i,n){for(var o,a,r,s,l,h,c=e,d=t.lng-i,u=t.lat-i,p=t.lng+i,_=t.lat+i,g=(p-d)/c+.5,m=(_-u)/c+.5,f=t.lng*BASE_FACTOR,v=t.lat*BASE_FACTOR,y=e*BASE_FACTOR,b=f-y,x=f+y,w=v-y,P=v+y,M=0,T=0,C=0,S=0,E=0,I=0,L=(n(t),0);L<=g;L++){for(var A=0;A<=m;A++)if(l.lng=d+L*c,l.lat=u+A*c,h=n(l),o=l.lng*BASE_FACTOR,a=l.lat*BASE_FACTOR,r=h.lng*BASE_FACTOR,s=h.lat*BASE_FACTOR,!(r<b||s<w||r>x||s>P)){if(M=o-r,T=a-s,(E=Math.sqrt((f-r)*(f-r)+(v-s)*(v-s)))<1){var B={};return B.lng=l.lng,B.lat=l.lat,B}C+=1*M/E,S+=1*T/E,I+=1/E}C/=I*BASE_FACTOR,S/=I*BASE_FACTOR}var R=C*BASE_FACTOR/BASE_FACTOR,D=S*BASE_FACTOR/BASE_FACTOR,B={};return B.lng=t.lng+R,B.lat=t.lat+D,B}function encryptFunc(t,e,i){var n={lng:e,lat:i},o=t(n),a={};return a.lng=o.lng,a.lat=o.lat,a}function getDeltaR(t){return Math.sin(t*GRID_RADIX*LL2RAD)*MAX_dR}function getDeltaT(t){return Math.cos(t*GRID_RADIX*LL2RAD)*MAX_dT}function intersect1(t){for(var e=0,i=0;i<NSIZE_POINTS;++i)BB_GCJ_Y[i]<=t.lat?BB_GCJ_Y[(i+1)%NSIZE_POINTS]>t.lat&&isLeft({lng:BB_GCJ_X[i],lat:BB_GCJ_Y[i]},{lng:BB_GCJ_X[(i+1)%NSIZE_POINTS],lat:BB_GCJ_Y[(i+1)%NSIZE_POINTS]},t)>0&&++e:BB_GCJ_Y[(i+1)%NSIZE_POINTS]<=t.lat&&isLeft({lng:BB_GCJ_X[i],lat:BB_GCJ_Y[i]},{lng:BB_GCJ_X[(i+1)%NSIZE_POINTS],lat:BB_GCJ_Y[(i+1)%NSIZE_POINTS]},t)<0&&--e;return 0===e?DEPARTURE:CONTAIN}function Mbr(t,e,i,n){var o=arguments.length;this.ll={},this.ru={},0===o||4===o&&this.normalize(t,e,i,n)}function Segment(t,e,i,n){this.sp={lng:t,lat:e},this.ep={lng:i,lat:n},this.mbr=new Mbr(t,e,i,n)}function distancePP(t,e){var i=t.lat*LL2RAD,n=t.lng*LL2RAD,o=e.lat*LL2RAD,a=e.lng*LL2RAD,r=Math.cos(i)*Math.cos(o),s=Math.cos(n)*Math.cos(a),l=Math.sin(i)*Math.sin(o),h=Math.sin(n)*Math.sin(a),c=r*s+r*h+l;return c<-1?c=-1:c>1&&(c=1),Math.acos(c)*EARTH_RADIUS}function distancePPEx(t,e){var i=t.lat*LL2RAD,n=e.lat*LL2RAD,o=t.lng*LL2RAD,a=e.lng*LL2RAD,r=i-n,s=o-a,l=Math.sin(r/2)*Math.sin(r/2)+Math.cos(i)*Math.cos(n)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.asin(Math.sqrt(l))*EARTH_RADIUS}function distancePS(t,e){var i=project(t,e),n=180,o=90,a=-180,r=-90,s=e.sp,l=e.ep;if(n=s.lng<l.lng?s.lng:l.lng,o=s.lat<l.lat?s.lat:l.lat,a=s.lng<l.lng?s.lng:l.lng,r=s.lat<l.lat?s.lat:l.lat,i.lng<=a&&i.lng>=n&&i.lng<=r&&i.lat>=o)return distancePP(t,i);var h=distancePPEx(t,e.sp),c=distancePPEx(t,e.ep);return h<c?h:c}function distancePSEx(t,e){}function dis(t,e,i,n){return Math.sqrt((t-i)*(t-i)+(e-n)*(e-n))}function project(t,e){var i=t.lng,n=t.lat,o=e.sp.lng,a=e.sp.lat,r=e.ep.lng,s=e.ep.lat,l=s-a,h=o-r;if(equal(l,0)&&equal(h,0))return e.sp;var c=r*a-o*s,d=h*i-l*n,u=l*l-h*h;return{lng:(h*d-l*c)/u,lat:-(l*d+h*c)/u}}function isLeft(t,e,i){return(e.lng-t.lng)*(i.lat-t.lat)-(i.lng-t.lng)*(e.lat-t.lat)}function equal(t,e){return!(Math.abs(t-e)>DEPSILON)}function gcj2bd(t){var e={};if(t.lng<BB_GCJ_BOX[0]-.4||t.lat<BB_GCJ_BOX[1]-.4||t.lng>BB_GCJ_BOX[2]+.4||t.lat>BB_GCJ_BOX[3]+.4)return e.lng=t.lng,e.lat=t.lat,e;if(isInChina(t,BB_CHN_GCJ_X,BB_CHN_GCJ_Y,NSIZE_BOX))return e=bdEncrypt(t);var i=0,n=MAX_DIST_GCJ,o=0,a=new Mbr;if(intersect1(t)===DEPARTURE){for(var r=0;r<NSIZE_POINTS;++r){var s=new Segment(BB_GCJ_X[r],BB_GCJ_Y[r],BB_GCJ_X[(r+1)%NSIZE_POINTS],BB_GCJ_Y[(r+1)%NSIZE_POINTS]);a.ll.lng=s.mbr.ll.lng-.5,a.ll.lat=s.mbr.ll.lat-.5,a.ru.lng=s.mbr.ru.lng+.5,a.ru.lat=s.mbr.ru.lat+.5,a.contains(t)!==DEPARTURE&&((o=distancePS(t,s))<n&&(n=o))}n<MAX_DIST_GCJ&&(i=(MAX_DIST_GCJ-n)/MAX_DIST_GCJ,2)}else 3,i=1;var l=bdEncrypt(t);return e={lng:t.lng+(l.lng-t.lng)*i,lat:t.lat+(l.lat-t.lat)*i}}function bd2gcj(t){var e={};if(t.lng<BB_BD_BOX[0]-.4||t.lat<BB_BD_BOX[1]-.4||t.lng>BB_BD_BOX[2]+.4||t.lat>BB_BD_BOX[3]+.4)return e.lng=t.lng,e.lat=t.lat,e;if(isInChina(t,BB_CHN_BD_X,BB_CHN_BD_Y,NSIZE_BOX))return e=bdDecrypt(t);var i=gcj2bd(t);return t.lng===i.lng&&t.lat===i.lng?(e.lng=t.lng,e.lat=t.lat,e):decryptPt1(t,gcj2bd)}function gcjToBd09(t,e){if(3===e&&t instanceof Point){var i=gcj2bd(t);return new PointN(i.lng,i.lat)}return t}function bd09ToGcj02(t,e){if(3===e&&t instanceof PointN){var i=bd2gcj(t);return new Point(i.lng,i.lat)}return 5===e&&t instanceof PointN?new Point(t.lng,t.lat):t}function ModuleMgr(){}function _jsload2(t,e){T.storage.isSupportLocalStorage&&T.storage.set(t,e),ModuleMgr.checkCodesStatus(t,e)}function Pixel(t,e){this.x=t||0,this.y=e||0,this.x=this.x,this.y=this.y}function Size(t,e){this.width=t||0,this.height=e||0}function Hotspot(t,e){t&&(this._position=t,this.guid="spot"+Hotspot.guid++,e=e||{},this._text=e.text||"",this._offsets=e.offsets?e.offsets.slice(0):[5,5,5,5],this._userData=e.userData||null,this._minZoom=e.minZoom||null,this._maxZoom=e.maxZoom||null)}function Control(){this._map=null,this._container,this._type="control",this.blockInfoWindow=!0,this._visible=!0}function NavigationControl(t){Control.call(this),t=t||{},this._opts={printable:!1,showZoomInfo:t.showZoomInfo||!0,anchor:t.anchor,offset:t.offset,type:t.type,enableGeolocation:t.enableGeolocation||!1},this.defaultAnchor=isMobile()?BMAP_ANCHOR_BOTTOM_RIGHT:BMAP_ANCHOR_TOP_LEFT,this.defaultOffset=new Size(10,10),this.setAnchor(t.anchor),this.setType(t.type),this._asyncLoadCode()}function GeolocationControl(t){Control.call(this),t=t||{},this._opts={anchor:t.anchor||BMAP_ANCHOR_BOTTOM_LEFT,offset:t.offset||new Size(10,30),showAddressBar:!(!1===t.showAddressBar),enableAutoLocation:t.enableAutoLocation||!1,locationIcon:t.locationIcon||null};var e=this;this._cZIndex=1200,e.userLocatingRecords=[],this._pendingCalls=[],ModuleMgr.load("geoctrl",function(){!function t(){if(0!==e._pendingCalls.length){var i=e._pendingCalls.shift();e[i.method].apply(e,i.arguments),t()}}(),e._asyncLoaded()}),_addStat(STAT.GEOLOCATION_CONTROL_NEW_INSTANCE)}function CopyrightControl(t){Control.call(this),t=t||{},this._opts={printable:!1,anchor:t.anchor,offset:t.offset},this._copyrightCollection=[],this.defaultAnchor=BMAP_ANCHOR_BOTTOM_LEFT,this.defaultOffset=new Size(5,2),this.setAnchor(t.anchor),this._canShow=!0,this.blockInfoWindow=!1,this._asyncLoadCode()}function OverviewMapControl(t){Control.call(this),t=t||{},this._opts={printable:!1,size:t.size||new Size(200,200),padding:7,isOpen:!0===t.isOpen,zoomInterval:4,offset:t.offset,anchor:t.anchor},this.defaultAnchor=BMAP_ANCHOR_BOTTOM_RIGHT,this.defaultOffset=new Size(0,0),this._btnWidth=32,this._btnHeight=32,this.setAnchor(t.anchor),this.setSize(this._opts.size),this._asyncLoadCode()}function ScaleControl(t){Control.call(this),t=t||{},this._opts={printable:!1,color:"black",unit:"metric",offset:t.offset},this.defaultAnchor=BMAP_ANCHOR_BOTTOM_LEFT,this.defaultOffset=new Size(81,18),this.setAnchor(t.anchor),this._units={metric:{name:"metric",conv:1,incon:1e3,u1:"米",u2:"公里"},us:{name:"us",conv:3.2808,incon:5280,u1:"英尺",u2:"英里"}},this._units[this._opts.unit]||(this._opts.unit="metric"),this._scaleText=null,this._numberArray={},this._asyncLoadCode()}function MapTypeControl(t){Control.call(this),t=t||{},this.defaultAnchor=BMAP_ANCHOR_TOP_RIGHT,this.defaultOffset=new Size(10,10),this._opts={printable:!1,mapTypes:[BMAP_NORMAL_MAP,BMAP_SATELLITE_MAP,BMAP_HYBRID_MAP,BMAP_PERSPECTIVE_MAP],defaultMapTypes:["B_DIMENSIONAL_MAP","B_SATELLITE_MAP","B_NORMAL_MAP"],type:t.type||BMAP_MAPTYPE_CONTROL_HORIZONTAL,offset:t.offset||this.defaultOffset,enableSwitch:!0},this.setAnchor(t.anchor),isArray(t.mapTypes)&&(this._opts.mapTypes=t.mapTypes.slice(0)),this._asyncLoadCode()}function PanoramaControl(t){Control.call(this),t=t||{},this._opts={printable:!1,offset:t.offset,anchor:t.anchor},this._isOn=!1,this._timerId=null,this._panoCoverageLayer=new PanoramaCoverageLayer({from:"api"}),this._panoService=new PanoramaService(null,{from:"api"}),this.defaultAnchor=BMAP_ANCHOR_TOP_RIGHT,this.defaultOffset=new Size(10,10),this.setAnchor(t.anchor),this._asyncLoadCode(),_addStat(STAT.PANORAMA_CONTROL_NEW_INSTANCE)}function CityListControl(t){Control.call(this),t=t||{},this.defaultAnchor=BMAP_ANCHOR_TOP_LEFT,this.canCheckSize=!1!==t.canCheckSize,this.curCityName="",this.curCityCode="",this.defaultOffset=new Size(10,10),this.onChangeBefore=[],this.onChangeAfter=[],this.onChangeSuccess=[],this._opts={printable:!1,offset:t.offset||this.defaultOffset,anchor:t.anchor||this.defaultAnchor,expand:!!t.expand},t.onChangeBefore&&isFunction(t.onChangeBefore)&&this.onChangeBefore.push(t.onChangeBefore),t.onChangeAfter&&isFunction(t.onChangeAfter)&&this.onChangeAfter.push(t.onChangeAfter),t.onChangeSuccess&&isFunction(t.onChangeSuccess)&&this.onChangeSuccess.push(t.onChangeSuccess),this.setAnchor(t.anchor),this._asyncLoadCode()}function ContextMenu(t){baidu.lang.Class.call(this),this._opts={container:null,cursor:"default"},this._opts=baidu.extend(this._opts,t),this._type="contextmenu",this._map=null,this._container,this._shadow,this._left=0,this._top=0,this._items=[],this._rItems=[],this._dividers=[],this.curPixel=null,this.curPoint=null,this._isOpen=!1;var e=this;ModuleMgr.load("menu",function(){e._draw()})}function MenuItem(t,e,i){if(t&&isFunction(e)){baidu.lang.Class.call(this),this._opts={width:100,id:"",iconUrl:""},i=i||{},this._opts.width=1*i.width?i.width:100,this._opts.id=i.id?i.id:"",this._opts.iconUrl=i.iconUrl?i.iconUrl:"",this._text=t+"",this._callback=e,this._map=null,this._type="menuitem",this._contextmenu=null,this._container=null,this._iconContainer=null,this._textContainer=null,this._enabled=!0;var n=this;ModuleMgr.load("menu",function(){n._draw()})}}function Bounds(t,e){t&&!e&&(e=t),this._sw=this._ne=null,this._swLng=this._swLat=null,this._neLng=this._neLat=null,t&&(this._sw=new Point(t.lng,t.lat),this._ne=new Point(e.lng,e.lat),this._swLng=t.lng,this._swLat=t.lat,this._neLng=e.lng,this._neLat=e.lat)}function Point(t,e){isNaN(t)&&(t=decode64(t),t=isNaN(t)?0:t),isString(t)&&(t=parseFloat(t)),isNaN(e)&&(e=decode64(e),e=isNaN(e)?0:e),isString(e)&&(e=parseFloat(e)),this.lng=t,this.lat=e}function PointN(t,e){isNaN(t)&&(t=decode64(t),t=isNaN(t)?0:t),isString(t)&&(t=parseFloat(t)),isNaN(e)&&(e=decode64(e),e=isNaN(e)?0:e),isString(e)&&(e=parseFloat(e)),this.lng=t,this.lat=e,this.from="inner"}function Projection(){}function CoordTrans(){}function MercatorProjection(){}function WGS84Projection(){}function PerspectiveProjection(){this.curCityName="bj"}function Convertor(){this._queryList=[];var t=this;ModuleMgr.load("convertor",function(){t._asyncConvertor()})}function Overlay(){this._type="overlay"}function OverlayInternal(){baidu.lang.Class.call(this),Overlay.call(this),this.map=null,this._visible=!0,this.infoWindow=null,this._dblclickTime=0}function OverlayMgr(){this.map=null,this._overlays={},this._customOverlays=[]}function Symbol(t,e){if(t){e=e||{},this.style={anchor:e.anchor||new Size(0,0),fillColor:e.fillColor||"#000",fillOpacity:e.fillOpacity||0,scale:e.scale||1,rotation:e.rotation||0,strokeColor:e.strokeColor||"#000",strokeOpacity:e.strokeOpacity||1,strokeWeight:e.strokeWeight},this._type="number"==typeof t?t:"UserDefined",this._anchor=this.style.anchor,this._originOffset=new Size(0,0),this.anchor=null,this._rawPath=t;var i=this;ModuleMgr.load("symbol",function(){i._buildPath()},!0)}}function IconSequence(t,e,i,n){t&&(this._positionsCache={},this.fixedRotation=!!n&&!!n,this._markers=[],this.symbol=t instanceof Symbol?t:null,this._relativeOffset=void 0===e||!!(e.indexOf("%")+1),this._offset=isNaN(parseFloat(e))?1:this._relativeOffset?parseFloat(e)/100:parseFloat(e),this._relativeRepeat=!!(i.indexOf("%")+1),this.repeat=void 0!=i?this._relativeRepeat?parseFloat(i)/100:parseFloat(i):0)}function Graph(t){OverlayInternal.call(this),t=t||{},this._config={strokeColor:t.strokeColor||"#3a6bdb",strokeWeight:t.strokeWeight||5,strokeOpacity:t.strokeOpacity||.65,strokeStyle:t.strokeStyle||"solid",enableMassClear:!1!==t.enableMassClear,getParseTolerance:null,getParseCacheIndex:null,enableEditing:!0===t.enableEditing,mouseOverTolerance:5,use3DCoords:!1,clickable:!1!==t.enableClicking,icons:t.icons&&t.icons.length>0?t.icons:null,geodesic:!0===t.geodesic,linkRight:!0===t.linkRight},this._config.strokeWeight<=0&&(this._config.strokeWeight=5),(this._config.strokeOpacity<0||this._config.strokeOpacity>1)&&(this._config.strokeOpacity=.65),(this._config.fillOpacity<0||this._config.fillOpacity>1)&&(this._config.fillOpacity=.65),"solid"!=this._config.strokeStyle&&"dashed"!=this._config.strokeStyle&&(this._config.strokeStyle="solid"),this.domElement=null,this._bounds=new Bounds(0,0,0,0),this._parseCache=[],this.vertexMarkers=[],this._temp={}}function Division(t){OverlayInternal.call(this),this.map=null,this.domElement=null,this._config={width:0,height:0,offset:new Size(0,0),opacity:1,background:"transparent",lineStroke:1,lineColor:"#000",lineStyle:"solid",point:null},this.setConfig(t),this.point=this._config.point}function Icon(t,e,i){if(t&&e){this.imageUrl=t,this.size=e;var n=new Size(Math.floor(e.width/2),Math.floor(e.height/2));i=i||{};var o={anchor:i.anchor||n,imageOffset:i.imageOffset||new Size(0,0)};this.imageSize=i.imageSize,this.anchor=o.anchor,this.imageOffset=o.imageOffset,this.infoWindowAnchor=i.infoWindowAnchor||this.anchor,this.printImageUrl=i.printImageUrl||""}}function InfoWindow(t,e){baidu.lang.Class.call(this),this.content=t,this.map=null,e=e||{},this._config={width:e.width||0,height:e.height||0,maxWidth:e.maxWidth||730,offset:e.offset||new Size(0,0),title:e.title||"",maxContent:e.maxContent||"",enableMaximize:e.enableMaximize||!1,enableAutoPan:!1!==e.enableAutoPan,enableCloseOnClick:!1!==e.enableCloseOnClick,margin:e.margin||[10,10,40,10],collisions:e.collisions||[[10,10],[10,10],[10,10],[10,10]],ifMaxScene:!1,onClosing:e.onClosing||function(){return!0},enableMessage:(e.enableMessage,!1),enableParano:!0===e.enableParano,message:e.message,enableSearchTool:!0===e.enableSearchTool,headerContent:e.headerContent||"",enableContentScroll:e.enableContentScroll||!1},0!=this._config.width&&(this._config.width<220&&(this._config.width=220),this._config.width>730&&(this._config.width=730)),0!=this._config.height&&(this._config.height<60&&(this._config.height=60),this._config.height>650&&(this._config.height=650)),0!=this._config.maxWidth&&(this._config.maxWidth<220&&(this._config.maxWidth=220),this._config.maxWidth>730&&(this._config.maxWidth=730)),this.isWinMax=!1,this.IMG_PATH=MapConfig.imgPath,this.overlay=null;var i=this;ModuleMgr.load("infowindow",function(){i._draw()})}function Label(t,e){OverlayInternal.call(this),this.content=t,this.map=null,this.domElement=null,e=e||{},this._config={width:0,offset:e.offset||new Size(0,0),styles:{backgroundColor:"#fff",border:"1px solid #f00",padding:"1px",whiteSpace:"nowrap",font:"12px "+MapConfig.fontFamily,zIndex:"80",MozUserSelect:"none"},position:e.position||null,enableMassClear:!1!==e.enableMassClear,clickable:!0,left:!0===e.left,right:!0===e.right},this._config.width<0&&(this._config.width=0),isDefined(e.enableClicking)&&(this._config.clickable=e.enableClicking),this.point=this._config.position;var i=this;ModuleMgr.load("marker",function(){i._draw()})}function Marker(t,e){OverlayInternal.call(this),e=e||{},this.point=t,this.map=null,this._animation=null,this.coordsType=this.map?this.map.config.coordsType:5,this._config={offset:e.offset||new Size(0,0),icon:e.icon||DEFAULT_ICON,shadow:DEFAULT_SHADOW,title:e.title||"",label:null,baseZIndex:e.baseZIndex||0,clickable:!0,zIndexFixed:!1,isTop:!1,enableMassClear:!1!==e.enableMassClear,enableDragging:!1,raiseOnDrag:!0===e.raiseOnDrag,restrictDraggingArea:!1,draggingCursor:e.draggingCursor||MapConfig.draggingCursor,rotation:e.rotation||0,left:!0===e.left,right:!0===e.right},e.icon&&!e.shadow&&(this._config.shadow=null),e.enableDragging&&(this._config.enableDragging=e.enableDragging),isDefined(e.enableClicking)&&(this._config.clickable=e.enableClicking);var i=this;ModuleMgr.load("marker",function(){i._draw()})}function Polygon(t,e){Graph.call(this,e),e=e||{},this._config.fillOpacity=e.fillOpacity?e.fillOpacity:.65,""==e.fillColor?this._config.fillColor="":this._config.fillColor=e.fillColor?e.fillColor:"#fff",this.setPath(t);var i=this;ModuleMgr.load("poly",function(){i._draw()})}function Polyline(t,e){Graph.call(this,e),this._setPath(t);var i=this;ModuleMgr.load("poly",function(){i._draw()})}function Circle(t,e,i){this.point=t,this.radius=Math.abs(e),Polygon.call(this,[],i)}function GroundOverlay(t,e){if(0!==arguments.length){OverlayInternal.apply(this,arguments),e=e||{},this._config={bounds:t,opacity:e.opacity||1,imageURL:e.imageURL||"",displayOnMinLevel:e.displayOnMinLevel||1,enableMassClear:!1!==e.enableMassClear,displayOnMaxLevel:e.displayOnMaxLevel||19,stretch:e.stretch||!1},0===e.opacity&&(this._config.opacity=0);var i=this;ModuleMgr.load("groundoverlay",function(){i._draw()})}}function isCanvasSupported(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}function PointCollection(t,e){var i=this;if(isCanvasSupported()){if(void 0===t)throw new Error("没有传入points数据");if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("points数据不是数组");e=e||{},OverlayInternal.apply(i,arguments),i._data={points:t},i._config={shape:e.shape||BMAP_POINT_SHAPE_CIRCLE,size:e.size||BMAP_POINT_SIZE_NORMAL,color:e.color||"#fa937e",enableMassClear:!0},this._primaryPendingCalls=[],this._pendingCalls=[],ModuleMgr.load("pointcollection",function(){for(var t,e=0;t=i._primaryPendingCalls[e];e++)i[t.method].apply(i,t.arguments);for(var t,e=0;t=i._pendingCalls[e];e++)i[t.method].apply(i,t.arguments)})}}function CanvasLayer(t){this.options=t||{},this.paneName=this.options.paneName||"labelPane",this.zIndex=this.options.zIndex||0,this.contextType=this.options.contextType||"2d",this._lastDrawTime=null}function TileMgr(t){this.map=t,this.mapTypeLayers=[],this.tileLayers=[],this.vectorLayers=[],this.bufferNumber=300,this.realBufferNumber=0,this.mapTiles={},this.bufferTiles={},this.numLoading=0,this.isFirstTile=!0,this.currentViewCvsIds={},this._mapTypeLayerContainer=this._createDiv(1),this._vectorLayerContainer=this._createDiv(2),this._normalLayerContainer=this._createDiv(3),t.platform.appendChild(this._mapTypeLayerContainer),t.platform.appendChild(this._vectorLayerContainer),t.platform.appendChild(this._normalLayerContainer);var e;"BD09"==BMap.tileType?e=256*Math.pow(2,15):"WGS84"==BMap.tileType&&(e=2*Math.PI*6378137/Math.pow(2,3));var i=3*e,n=MercatorProjection.convertLL2MC(new PointN(180,0)),o=n.lng,a=i-o,r=-3*e,s=MercatorProjection.convertLL2MC(new PointN(-180,0)),l=s.lng,h=l-r;this._mc180X=o,this._mcM180X=l,this._loopOffset=a+h,this._mcTSpan=o-l}function Tile(t,e,i,n,o){this.mgr=t,this.position=i,this._cbks=[],this.name=t.getTileName(n,o),this.info=n,this._transparentPng=o.isTransparentPng();var a=create("img");setUnSelectable(a),a.galleryImg=!1,a.authsrc="";var r=a.style,s=t.map.getMapType();r.position="absolute",r.border="none",r.width=s.getTileSize()+"px",r.height=s.getTileSize()+"px",r.left=i[0]+"px",r.top=i[1]+"px",r.maxWidth="none",this.img=a,this.src=e,
fadeInTile&&(this.img.style.opacity=0);var l=this;this.img.onload=function(t){if(BMap.logCount._countPic(),l.loaded=!0,l.mgr){var e=l.mgr,i=e.bufferTiles;i[l.name]||(e.realBufferNumber++,i[l.name]=l),l.img&&!isInDocument(l.img)&&o.tilesDiv&&(o.tilesDiv.appendChild(l.img),baidu.browser.ie<=6&&baidu.browser.ie>0&&l._transparentPng&&(l.img.style.cssText+=';filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+l.src+'",sizingMethod=scale);'));var n=e.realBufferNumber-e.bufferNumber;for(var a in i){if(n<=0)break;if(!e.mapTiles[a]){i[a].mgr=null;var r=i[a].img;r&&r.parentNode&&(r.parentNode.removeChild(r),purge(r)),r=null,i[a].img=null,delete i[a],e.realBufferNumber--,n--}}fadeInTile&&new Animation({fps:20,duration:200,render:function(t){l.img&&l.img.style&&(l.img.style.opacity=1*t)},finish:function(){l.img&&l.img.style&&delete l.img.style.opacity}}),l._callCbks()}},this.img.onerror=function(){if(l._callCbks(),l.mgr){var t=l.mgr,e=t.map.getMapType();e.getErrorImageUrl()&&(l.error=!0,l.img.src=e.getErrorImageUrl(),l.img&&!isInDocument(l.img)&&o.tilesDiv.appendChild(l.img))}},a=null}function purge(t){if(t){t.onload=t.onerror=null;var e,i,n,o=t.attributes;if(o)for(i=o.length,e=0;e<i;e+=1)n=o[e].name,isFunction(t[n])&&(t[n]=null);if(o=t.children)for(i=o.length,e=0;e<i;e+=1)purge(t.children[e])}}function TileLayer(t){this.opts=t||{},this.copyright=this.opts.copyright||null,this.transparentPng=this.opts.transparentPng||!1,this.baseLayer=this.opts.baseLayer||!1,this.zIndex=this.opts.zIndex||0,this.guid=TileLayer._guid++}function VectorCloudLayer(t,e){isObject(t)?e=t||{}:(e=e||{},e.databoxId=t),this._opts={databoxId:e.databoxId,geotableId:e.geotableId,q:e.q||"",tags:e.tags||"",filter:e.filter||"",sortby:e.sortby||"",styleId:e.styleId||"",ak:e.ak||AUTHENTIC_KEY,age:e.age||36e5,zIndex:11,layerName:"VectorCloudLayer",hotspotName:e.hotspotName||"vector_md_"+(1e5*Math.random()).toFixed(0),aliasName:"LBS云麻点层"},this.isVectorLayer=!0,TileLayer.call(this,this._opts),this.detailURL=BMap.apiUrl+"geosearch/detail/",this.detailURLV2=BMap.apiUrl+"geosearch/v2/detail/",this.hotSpotTile={}}function VectorTrafficLayer(t){t=t||{},this._opts=baidu.extend(t,{zIndex:1,layerName:"VectorTrafficLayer",aliasName:"矢量路况层"}),this.isVectorLayer=!0,TileLayer.call(this,this._opts),this.trafficURL=BMap.trafficURL,this.arrFeatureStyles={0:[2,"rgba(0,192,73,0.99609375)",2,2,0,[],0,0],1:[2,"rgba(0,192,73,0.99609375)",3,2,0,[],0,0],10:[2,"rgba(242,48,48,0.99609375)",2,2,0,[],0,0],11:[2,"rgba(242,48,48,0.99609375)",3,2,0,[],0,0],12:[2,"rgba(242,48,48,0.99609375)",4,2,0,[],0,0],13:[2,"rgba(242,48,48,0.99609375)",5,2,0,[],0,0],14:[2,"rgba(242,48,48,0.99609375)",6,2,0,[],0,0],15:[2,-1,4,0,0,[],0,0],16:[2,-1,3,0,0,[],0,0],17:[2,-1,4,0,0,[],0,0],18:[2,-1,5,0,0,[],0,0],19:[2,-1,6,0,0,[],0,0],2:[2,"rgba(0,192,73,0.99609375)",4,2,0,[],0,0],3:[2,"rgba(0,192,73,0.99609375)",5,2,0,[],0,0],4:[2,"rgba(0,192,73,0.99609375)",6,2,0,[],0,0],5:[2,"rgba(255,159,25,0.99609375)",2,2,0,[],0,0],6:[2,"rgba(255,159,25,0.99609375)",3,2,0,[],0,0],7:[2,"rgba(255,159,25,0.99609375)",4,2,0,[],0,0],8:[2,"rgba(255,159,25,0.99609375)",5,2,0,[],0,0],9:[2,"rgba(255,159,25,0.99609375)",6,2,0,[],0,0]}}function BuildingLayer(t){this.buildingDataURLs=[BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[0]+"/gvd/?",BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[1]+"/gvd/?",BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[2]+"/gvd/?",BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[3]+"/gvd/?"],this._opts={firstScreenAnimation:!1};for(var e in t)this._opts[e]=t[e];this._map=null,this._container=null,this._canvas=null,this._ctx=null,this._tilesData=null,this.lastDrawBuildingTime=0,this._isAdded=!1;var i=this;ModuleMgr.load("vector",function(){i._asyncLoadCode()})}function TrafficLayer(t){TileLayer.call(this,t),this._opts=t||{},this.isTileLayer=!0,this.vectorLayer=new VectorTrafficLayer,this.vectorLayer.tileLayer=this,this._opts.predictDate&&((this._opts.predictDate.weekday<1||this._opts.predictDate.weekday>7)&&(this._opts.predictDate=1),(this._opts.predictDate.hour<0||this._opts.predictDate.hour>23)&&(this._opts.predictDate.hour=0)),this._tileUrl=BMap.url.proto+BMap.url.domain.traffic+"/traffic/"}function CustomLayer(t,e){TileLayer.call(this);var i=this;this.isTileLayer=!0;try{document.createElement("canvas").getContext("2d"),!0}catch(t){!1}isObject(t)?e=t||{}:(i._databoxId=t,e=e||{}),e.geotableId&&(i._geotableId=e.geotableId),e.databoxId&&(i._databoxId=e.databoxId);var n=BMap.apiUrl+"geosearch";i._options={pointDensity:e.pointDensity||BMAP_POINT_DENSITY_MEDIUM,hostForDetail:n+"/detail/",hostForDetailV2:n+"/v2/detail/",age:e.age||36e5,q:e.q||"",tilesFormat:"png",hotspotBound:[5,5,5,5],labelStyle:{backgroundColor:"#FFFFD5",borderColor:"#808080"},ak:e.ak||AUTHENTIC_KEY,tags:e.tags||"",filter:e.filter||"",sortby:e.sortby||"",hotspotName:e.hotspotName||"tile_md_"+(1e5*Math.random()).toFixed(0),useCache:!0},ModuleMgr.load("clayer",function(){i._asyncSearch()})}function MapType(t,e,i){this._name=t,this._layers=e instanceof TileLayer?[e]:e.slice(0),i=i||{},this._opts={tips:i.tips||"",labelText:"",minZoom:i.minZoom||4,maxZoom:i.maxZoom||19,highMinZoom:i.minZoom||4,highMaxZoom:i.maxZoom||18,tileSize:256,textColor:i.textColor||"black",errorImageUrl:i.errorImageUrl||"",bounds:new Bounds(new Point(-21364736,-16023552),new Point(23855104,19431424)),projection:i.projection||new MercatorProjection},this._layers.length>=1&&(this._layers[0].baseLayer=!0),baidu.extend(this._opts,i)}function encode(t){for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i)<<1,o=n.toString(2),a=o.length,r=o;a<8&&(r="00000000"+o,r=r.substr(o.length,8)),e+=r}for(var s=5-e.length%5,l=[],i=0;i<s;i++)l[i]="0";e=l.join("")+e;for(var h=[],i=0;i<e.length/5;i++){var n=e.substr(5*i,5),c=parseInt(n,2)+50;h.push(String.fromCharCode(c))}return h.join("")+s.toString()}function TileType(){}function TileTypeClass(t,e){this._name=t,this._baseZoom=18,this._opts={tileSize:256,projection:new MercatorProjection(this)},baidu.extend(this._opts,e||{})}function VectorIndoorTileMgr(t){this._tileMgr=t,this._layerContainer=t._vectorLayerContainer,this._map=t.map,this._layers=[],this._tilesInfoCache={},this.ratio=this._map.config.devicePixelRatio,this.drawLib=new VectorDrawLib(this._map),this.initialize()}function VectorIndoorTileLayer(t,e,i){i=i||{},this._map=t,this._vectorTileMgr=e,this._ratio=e.ratio,this._options={tileTypeName:"na",zIndex:0,tilesUrls:i.tileUrls||{http:["http://online0.map.bdimg.com/pvd/?qt=vtile","http://online1.map.bdimg.com/pvd/?qt=vtile","http://online2.map.bdimg.com/pvd/?qt=vtile","http://online3.map.bdimg.com/pvd/?qt=vtile","http://online4.map.bdimg.com/pvd/?qt=vtile"],https:["https://ss0.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv/pvd/?qt=vtile","https://ss1.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv/pvd/?qt=vtile","https://ss2.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv/pvd/?qt=vtile","https://ss3.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv/pvd/?qt=vtile","https://ss0.bdstatic.com/8bo_dTSlQ1gBo1vgoIiO_jowehsv/pvd/?qt=vtile"]},iconUrls:i.iconUrls||["https://ss0.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv/sty/map_icons2x/","https://ss1.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv/sty/map_icons2x/"],showLabel:!0},this._urlOpts="",this._loadStatus={},i=i.urlOpts||{styles:"pl",extdata:1,textimg:0,mesh3d:0,limit:30};for(var n in i)i.hasOwnProperty(n)&&(this._urlOpts=this._urlOpts+"&"+n+"="+i[n]);this.curViewTiles=[],this.curViewTilesId={},this.curViewLabels=[],this.labelCount=0,this.isLabelTimeout=!1,this.iconCache={},this._tileType=TileType.getInstance(this._options.tileTypeName),this._map._tileType=this._tileType}function VectorDrawLib(t){this._map=t,this._ratio=t.config.devicePixelRatio,this.zoomBaseMap=zoomBaseMap}function getTextureStyle(t,e,i){if(/^tielu|^MapRes\/tielu/.test(t)){if("off"===window[i+"zoomFrontStyle"][e].bmapRailwayVisibility)return[];var n="#ffffff",o="#949494";if(window[i+"zoomFrontStyle"]&&window[i+"zoomFrontStyle"][e]&&window[i+"zoomFrontStyle"][e].bmapRailwayStrokeColor&&(n=window[i+"zoomFrontStyle"][e].bmapRailwayStrokeColor),window[i+"zoomFrontStyle"]&&window[i+"zoomFrontStyle"][e]&&window[i+"zoomFrontStyle"][e].bmapRailwayFillColor&&(o=window[i+"zoomFrontStyle"][e].bmapRailwayFillColor),e>=4&&e<=9)return[{stroke:n,strokeWidth:1.5,strokeLineCap:"butt",strokeLineJoin:"round",strokeDashArray:[10,11]},{stroke:o,strokeWidth:2,strokeLineCap:"round",strokeLineJoin:"round"}];if(e>=10&&e<=16)return[{stroke:n,strokeWidth:1.5,strokeLineCap:"butt",strokeLineJoin:"round",strokeDashArray:[10,11]},{stroke:o,strokeWidth:2,strokeLineCap:"round",strokeLineJoin:"round"}];if(e>=17&&e<=18)return[{stroke:n,strokeWidth:2.5,strokeLineCap:"butt",strokeLineJoin:"round",strokeDashArray:[15,16]},{stroke:o,strokeWidth:5,strokeLineCap:"round",strokeLineJoin:"round"}];if(e>=19&&e<=20)return[{stroke:n,strokeWidth:4.5,strokeLineCap:"butt",strokeLineJoin:"round",strokeDashArray:[25,26]},{stroke:o,strokeWidth:5,strokeLineCap:"round",strokeLineJoin:"round"}]}else if(0===t.indexOf("ditie_zj")||0===t.indexOf("MapRes/ditie_zj")){if(e>=12&&e<=16)return[{stroke:"#868686",strokeWidth:1,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:[7,4]}];if(e>=17&&e<=18)return[{stroke:"#6e6e6e",strokeWidth:1,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:[7,4]}];if(e>=19&&e<=20)return[{stroke:"#6e6e6e",strokeWidth:1,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:[7,4]}]}else if(/^tongdaomian|^MapRes\/tongdaomian/.test(t)){if(17===e)return[{stroke:"#e5e5e5",strokeWidth:4,strokeLineCap:"square",strokeLineJoin:"round"},{stroke:"#a8a8a8",strokeWidth:6,strokeLineCap:"square",strokeLineJoin:"round"}];if(18===e)return[{stroke:"#e5e5e5",strokeWidth:6,strokeLineCap:"square",strokeLineJoin:"round"},{stroke:"#a8a8a8",strokeWidth:8,strokeLineCap:"square",strokeLineJoin:"round"}];if(e>=19&&e<=21)return[{stroke:"#e5e5e5",strokeWidth:8,strokeLineCap:"square",strokeLineJoin:"round"},{stroke:"#a8a8a8",strokeWidth:10,strokeLineCap:"square",strokeLineJoin:"round"}]}else if(/^jietizhongduan|^dixiatongdaojieti|^MapRes\/jietizhongduan|^MapRes\/dixiatongdaojieti/.test(t)){if(17===e)return[{stroke:"#e5e5e5",strokeWidth:4,strokeLineCap:"butt",strokeLineJoin:"round",strokeDashArray:[2,1]},{stroke:"#bebebe",strokeWidth:6,strokeLineCap:"butt",strokeLineJoin:"round"}];if(18===e)return[{stroke:"#e5e5e5",strokeWidth:6,strokeLineCap:"butt",strokeLineJoin:"round",strokeDashArray:[3,1]},{stroke:"#bebebe",strokeWidth:8,strokeLineCap:"butt",strokeLineJoin:"round"}];if(e>=19&&e<=21)return[{stroke:"#e5e5e5",strokeWidth:8,strokeLineCap:"butt",strokeLineJoin:"round",strokeDashArray:[4,2]},{stroke:"#bebebe",strokeWidth:10,strokeLineCap:"butt",strokeLineJoin:"round"}]}else if(/^guojietianqiao|^MapRes\/guojietianqiao/.test(t))return 18===e?[{stroke:"#ffffff",strokeWidth:6,strokeLineCap:"butt",strokeLineJoin:"round",strokeDashArray:[4,2]},{stroke:"#bebebe",strokeWidth:8,strokeLineCap:"butt",strokeLineJoin:"round"}]:[{stroke:"#ffffff",strokeWidth:8,strokeLineCap:"butt",strokeLineJoin:"round",strokeDashArray:[4,2]},{stroke:"#bebebe",strokeWidth:10,strokeLineCap:"butt",strokeLineJoin:"round"}];return textureStyleMap[t]||textureStyleMap[t.replace("MapRes/","")]}function BaseSearch(t,e){baidu.lang.Class.call(this),this._loc={},this.setLocation(t),e=e||{},e.renderOptions=e.renderOptions||{},this._opts={renderOptions:{panel:e.renderOptions.panel||null,map:e.renderOptions.map||null,autoViewport:e.renderOptions.autoViewport||!0,selectFirstResult:e.renderOptions.selectFirstResult,highlightMode:e.renderOptions.highlightMode,enableDragging:e.renderOptions.enableDragging||!1},onSearchComplete:e.onSearchComplete||function(){},onMarkersSet:e.onMarkersSet||function(){},onInfoHtmlSet:e.onInfoHtmlSet||function(){},onResultsHtmlSet:e.onResultsHtmlSet||function(){},onGetBusListComplete:e.onGetBusListComplete||function(){},onGetBusLineComplete:e.onGetBusLineComplete||function(){},onBusListHtmlSet:e.onBusListHtmlSet||function(){},onBusLineHtmlSet:e.onBusLineHtmlSet||function(){},onPolylinesSet:e.onPolylinesSet||function(){},reqFrom:e.reqFrom||""},void 0!==e&&void 0!==e.renderOptions&&void 0!==e.renderOptions.autoViewport?this._opts.renderOptions.autoViewport=e.renderOptions.autoViewport:this._opts.renderOptions.autoViewport=!0,this._opts.renderOptions.panel=baidu.G(this._opts.renderOptions.panel)}function TransitRoute(t,e){BaseRoute.call(this,t,e),e=e||{},this.setPolicy(e.policy),this.setIntercityPolicy(e.intercityPolicy),this.setTransitTypePolicy(e.transitTypePolicy),this.setPageCapacity(e.pageCapacity),this.QUERY_TYPE=QUERY_TYPE_TRANSIT,this.RETURN_TYPE=RETURN_TYPE_TRANSIT,this.ROUTE_TYPE=ROUTE_TYPE_TRANSIT,this._overlays=[],this._curIndex=-1,this._opts._enableTraffic=e.enableTraffic||!1,this._queryList=[];var i=this;ModuleMgr.load("route",function(){i._asyncSearch()})}function DrivingRoute(t,e){DWRoute.call(this,t,e),e=e||{},this._opts._enableTraffic=e.enableTraffic||!1,this.setPolicy(e.policy),this.QUERY_TYPE=QUERY_TYPE_DRIVING,this.RETURN_TYPE=RETURN_TYPE_DRIVING,this.ROUTE_TYPE=BMAP_ROUTE_TYPE_DRIVING}function WalkingRoute(t,e){DWRoute.call(this,t,e),this.QUERY_TYPE=QUERY_TYPE_WALKING,this.RETURN_TYPE=RETURN_TYPE_WALKING,this.ROUTE_TYPE=BMAP_ROUTE_TYPE_WALKING,this._enableDragging=!1}function RidingRoute(t,e){DWRoute.call(this,t,e),this.QUERY_TYPE=QUERY_TYPE_RIDING,this.ROUTE_TYPE=BMAP_ROUTE_TYPE_RIDING,this._enableDragging=!1}function Geocoder(t){this._opts={},baidu.extend(this._opts,t),this._queryList=[];var e=this;ModuleMgr.load("othersearch",function(){e._asyncSearch()})}function Geolocation(t){t=t||{},this.config={timeout:t.timeout||1e4,maximumAge:t.maximumAge||6e5,enableHighAccuracy:t.enableHighAccuracy||!1,SDKLocation:t.SDKLocation||!1},this._pendingCalls=[];var e=this;ModuleMgr.load("othersearch",function(){for(var t,i=0;t=e._pendingCalls[i];i++)e[t.method].apply(e,t.arguments)})}function LocalCity(t){t=t||{},t.renderOptions=t.renderOptions||{},this._opts={renderOptions:{map:t.renderOptions.map||null}},this._queryList=[];var e=this;ModuleMgr.load("othersearch",function(){e._asyncSearch()})}function Boundary(){this._queryList=[];var t=this;ModuleMgr.load("othersearch",function(){t._asyncSearch()})}function RouteAddr(t,e){baidu.lang.Class.call(this),this.markersList=[],this.pointsList=[],this._opts=e,this.json=t,this.map=this._opts.renderOptions.map||null,this.sType=this._opts.sType,this.infoWindow=null,this.curPointIndex=0,this.startName="",this.endIndex=1,this.endName="",this.resCity=[0,0,0,0,0,0,0],this.locPois=[],this.curPageIndex=[1,1,1,1,1,1,1],this.totalPage=[1,1,1,1,1,1,1],this.resCount=[0,0,0,0,0,0,0],this.resType=[0,0,0,0,0,0,0],this.qInfo=[{n:"",c:0,u:0,x:0,y:0,t:-1},{n:"",c:0,u:0,x:0,y:0,t:-1},{n:"",c:0,u:0,x:0,y:0,t:-1},{n:"",c:0,u:0,x:0,y:0,t:-1},{n:"",c:0,u:0,x:0,y:0,t:-1},{n:"",c:0,u:0,x:0,y:0,t:-1},{n:"",c:0,u:0,x:0,y:0,t:-1}],this.curSelectedIndex=-1,this.tpList=[],this.tpListInMap=[];ModuleMgr.load("route",function(){})}function BusLineSearch(t,e){BaseSearch.call(this,t,e),this.QUERY_TYPE_BUSLIST=QUERY_TYPE_BUSLIST,this.RETURN_TYPE_BUSLIST=RETURN_TYPE_BUSLIST,this.QUERY_TYPE_BUSLINE=QUERY_TYPE_BUSLINE,this.RETURN_TYPE_BUSLINE=RETURN_TYPE_BUSLINE,this._queryList=[];var i=this;ModuleMgr.load("buslinesearch",function(){i._asyncSearch()})}function RouteSearch(t){this.opts=t||{}}function Autocomplete(t){BaseSearch.call(this,t),t=t||{},this._options={input:t.input||null,baseDom:t.baseDom||null,types:t.types||[],onSearchComplete:t.onSearchComplete||function(){}},this._loc.src=t.location||"全国",this._word="",this._show=!1,this._suggestion=null,this._inputValue="",this._initialize(),_addStat(STAT.AUTOCOMPLETE_NEW_INSTANCE);var e=this;ModuleMgr.load("autocomplete",function(){e._asyncSearch()})}function Panorama(t,e){this._container="string"==typeof t?baidu.g(t):t,this.guid=Panorama.getGUID(),this._opts={enableScrollWheelZoom:!0,panoramaRenderer:useWebGL()?"javascript":"flash",swfSrc:BMap.getServerUrl("main_domain_nocdn","res/swf/")+"APILoader.swf",visible:!0,indoorExitControl:!0,indoorFloorControl:!1,linksControl:!0,clickOnRoad:!0,navigationControl:!0,closeControl:!0,indoorSceneSwitchControl:!0,albumsControl:!1,albumsControlOptions:{},copyrightControlOptions:{},forceCloseControl:!1,haveBreakId:!1},e=e||{};for(var i in e)this._opts[i]=e[i];!0===e.closeControl&&(this._opts.forceCloseControl=!0),!1===e.useWebGL&&useWebGL(!1),this._pov={heading:0,pitch:0},this._links=[],this._id=null,this._position=null,this._renderType=this._getRenderType(),this._overlays=[],this._zoom=1,this._description="",this._mode="",this._panoType="",this._panoOverlays={},this._visiblePOIType=null,this._plugins=[],this._pluginMethodCallQueue=[],"cvsRender"==this._renderType||useWebGL()?(this._maxPitch=90,this._minPitch=-90):"cssRender"==this._renderType&&(this._maxPitch=45,this._minPitch=-45),this._povChangedByUser=!1;var n=this;this._load=function(){"flashRender"===this._renderType?ModuleMgr.load("panoramaflash",function(){n._initialize()},!0):ModuleMgr.load("panorama",function(){n._draw()},!0),_addStat("api"==e.from?STAT.PANORAMA_USE_FROM_INNER:STAT.PANORAMA_USE_FROM_DEVELOPER),this._load=function(){}},!0!==this._opts._lazyLoad&&(this._load(),BMap._alog("cus.fire","count","z_loadpanoramacount")),this._preventZIdexOverflow(this._container),this._addControls();var o=function(){n._opts.visible?("inter"===n._panoType&&isDesktop()&&n._opts.haveBreakId&&!0===n._opts.indoorExitControl?baidu.dom.show(n._indoorExitBtn):baidu.dom.hide(n._indoorExitBtn),this._opts.closeControl&&this._closeBtn&&this._map&&this._map.getContainer()===this._container?baidu.dom.show(n._closeBtn):baidu.dom.hide(n._closeBtn),this._opts.forceCloseControl&&baidu.dom.show(n._closeBtn)):(baidu.dom.hide(n._closeBtn),baidu.dom.hide(n._indoorExitBtn))};this.addEventListener("indoorexit_options_changed",o),this.addEventListener("scene_type_changed",o),this.addEventListener("onclose_options_changed",o),this.addEventListener("onvisible_changed",o)}function PanoramaOverlayBase(){baidu.lang.Class.call(this),this._overlayId="PanoramaOverlay_"+this.guid,this._pano=null,this._visible=!0}function PanoramaLabel(t,e){PanoramaOverlayBase.call(this);var i={position:null,altitude:2,displayDistance:!0};e=e||{};for(var n in e)i[n]=e[n];this._position=i.position,this._content=t,this._altitude=i.altitude,this._displayDistance=i.displayDistance,this.textColor=i.color,this.hoverColor=i.hoverColor,this.backgroundColor=i.backgroundColor,this.backgroundHoverColor=i.backgroundHoverColor,this.borderColor=i.borderColor,this.borderHoverColor=i.borderHoverColor,this.fontSize=i.fontSize,this.padding=i.padding,this.imageUrl=i.imageUrl,this.size=i.size,this.image=i.image,this.width=i.width,this.height=i.height,this.imageData=i.imageData,this.borderWidth=i.borderWidth}function PanoramaMarker(t,e){PanoramaOverlayBase.call(this);var i={icon:"",title:"",panoInfo:null,altitude:2};e=e||{};for(var n in e)i[n]=e[n];this._position=t,this._icon=i.icon,this._title=i.title,this._altitude=i.altitude,this._panoInfo=i.panoInfo,this._pov={heading:0,pitch:0}}function PanoramaService(){this._pano=arguments[0]||null;var t=this;t._pano&&t._bind(),ModuleMgr.load("pservice",function(){t._checkStatus()}),_addStat("api"==(arguments[1]||{}).from?STAT.PANORAMA_SERVICE_USE_FROM_INNER:STAT.PANORAMA_SERVICE_USE_FROM_DEVELOPER),this._asynMethodAndArgsMath={getPanoramaById:[],getPanoramaByLocation:[],getVisiblePOIs:[],getRecommendPanosById:[],getPanoramaVersions:[],checkPanoSupportByCityCode:[],getPanoramaByPOIId:[],getCopyrightProviders:[]}}function PanoramaTrafficLayer(t){t=t||{},this._opts=baidu.extend(t,{zIndex:1,layerName:"PanoramaTrafficLayer",aliasName:"全景淡蓝色矢量路网层"}),this.isVectorLayer=!0,TileLayer.call(this,this._opts),this.trafficURL=BMap.getServerUrl("pano","panorama/traffic")[0],this.arrFeatureStyles={0:[2,"rgba(0,192,73,0.99609375)",2,2,0,[],0,0],1:[2,"rgba(0,192,73,0.99609375)",3,2,0,[],0,0],10:[2,"rgba(242,48,48,0.99609375)",2,2,0,[],0,0],11:[2,"rgba(242,48,48,0.99609375)",3,2,0,[],0,0],12:[2,"rgba(242,48,48,0.99609375)",4,2,0,[],0,0],13:[2,"rgba(242,48,48,0.99609375)",5,2,0,[],0,0],14:[2,"rgba(242,48,48,0.99609375)",6,2,0,[],0,0],15:[2,-1,4,0,0,[],0,0],16:[2,-1,3,0,0,[],0,0],17:[2,-1,4,0,0,[],0,0],18:[2,-1,5,0,0,[],0,0],19:[2,-1,6,0,0,[],0,0],2:[2,"rgba(0,192,73,0.99609375)",4,2,0,[],0,0],3:[2,"rgba(0,192,73,0.99609375)",5,2,0,[],0,0],4:[2,"rgba(0,192,73,0.99609375)",6,2,0,[],0,0],5:[2,"rgba(255,159,25,0.99609375)",2,2,0,[],0,0],6:[2,"rgba(255,159,25,0.99609375)",3,2,0,[],0,0],7:[2,"rgba(255,159,25,0.99609375)",4,2,0,[],0,0],8:[2,"rgba(255,159,25,0.99609375)",5,2,0,[],0,0],9:[2,"rgba(255,159,25,0.99609375)",6,2,0,[],0,0]}}function PanoramaCoverageLayer(t){TileLayer.call(this),this.opt=t||{},this.opt.vector&&(this.vectorLayer=new PanoramaTrafficLayer,this.vectorLayer.tileLayer=this)}function PanoramaFlashInterface(){}function calcDisplayZoom(t,e){var i,n=t.width,o=t.height,a=180/Math.pow(2,e),r=1,s=n/o>1;i=s?o:n,isMobile()&&(r=2);for(var l=a/i,h=Math.floor(e)+r,c=360/(2*Math.pow(2,h-2)*l);c>512;)h++,c=360/(2*Math.pow(2,h-2)*l);if(h>Panorama.TILE_MAX_ZOOM){var d=h-Panorama.TILE_MAX_ZOOM;c*=Math.pow(2,d),h=Panorama.TILE_MAX_ZOOM}return h<Panorama.TILE_MIN_ZOOM&&(h=Panorama.TILE_MIN_ZOOM),c=Math.round(c),{imgZoom:h,displayTileSize:c}}function calcAngle(t,e){var i=0;if(0!==t&&0!==e){var n=t/e;i=toAngle(Math.atan(n)),i=(i+90)%90;var o=0;t>0&&e<0&&(o=90),t<0&&e<0&&(o=180),t<0&&e>0&&(o=270),i+=o}else 0===t?i=e<0?180:0:0===e&&(i=t>0?90:270);return Math.round(i)}function getAndroidVersion(){var t=null,e=navigator.userAgent.toLowerCase();if(e.indexOf("android")>0){var i=/android [\d._]+/gi;t=(e.match(i)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),t=parseInt(t.split(".")[0],10)}return t}function useWebGL(t){if("boolean"==typeof useWebGL._supportWebGL)return useWebGL._supportWebGL;if(!1===t)return useWebGL._supportWebGL=!1,useWebGL._supportWebGL;if(!window.WebGLRenderingContext)return useWebGL._supportWebGL=!1,!1;if(baidu.platform.isAndroid){var e=0;try{e=getAndroidVersion()}catch(t){console.error("获取安卓版本失败 => "+t)}if(e<5)return useWebGL._supportWebGL=!1,!1}var i=document.createElement("canvas"),n=null;try{n=i.getContext("webgl")}catch(t){useWebGL._supportWebGL=!1}return useWebGL._supportWebGL=null!==n,useWebGL._supportWebGL}function useThumb(){if("boolean"==typeof useThumb._useThumb)return useThumb._useThumb;if(useThumb._useThumb=!0,baidu.platform.isIphone)return!0;var t=navigator.userAgent;return t.indexOf("Chrome")>-1||(t.indexOf("SAMSUNG-GT-I9508")>-1||(useThumb._useThumb=!1,!1))}function makeGlobal(t,e){BMap[t]=e}function exportProperty(t,e,i){t[e]=i}function exportSymbol(t,e){for(var i in e)t[i]=e[i]}function addMapCopyright(t){if(!t.temp.copyadded){if(t.temp.copyadded=!0,!t.cpyCtrl){var e=new Size(2,2);t.config.cpyCtrlOffset=e,isMobile()&&(e.width=72,e.height=0);var i=new CopyrightControl({offset:e,printable:!0});t.cpyCtrl=i}isMobile()||(addCopyrightData(t),t.addEventListener("maptypechange",function(){addCopyrightData(t)})),t.addControl(i);var n=new LogoControl;n._opts={printable:!0},t.logoCtrl=n,t.addControl(n),t.addEventListener("resize",function(){this.getSize().width>=300&&t.getSize().height>=100?(n.show(),i.setOffset(t.config.cpyCtrlOffset)):(n.hide(),i.setOffset(new Size(4,2)))}),t.getSize().width>=300&&t.getSize().height>=100&&t.config.logoControl?n.show():(n.hide(),i.setOffset(new Size(4,2))),t.addEventListener("oncopyrightoffsetchange",function(e){t.logoCtrl.setOffset(e.target.logo),t.cpyCtrl.setOffset(e.target.cpy),t.bizAuthLogoControl&&t.bizAuthLogoControl.setOffset(new Size(e.target.logo.width+90,e.target.logo.height))}),t.dispatchEvent(new BaseEvent("hidecopyright"))}}function addCopyrightData(t){if(!t.cpyCtrl){var e=new Size(2,2);isMobile()&&(e.width=72,e.height=0);var i=new CopyrightControl({offset:e,printable:!0});t.cpyCtrl=i}var n=t.cityName||"中国",o=t.getMapType(),a=["常州市","南昌市","乌鲁木齐市","无锡市","福州市","泉州市","珠海市","贵阳市"],r=["北京市","上海市","广州市","深圳市","宁波市","石家庄市","沈阳市","长春市","青岛市","温州市","台州市","金华市","佛山市","中山市","昆明市","南宁市","苏州市","西安市","济南市","郑州市","合肥市","呼和浩特市","杭州市","成都市","武汉市","长沙市","天津市","南京市","重庆市","大连市","东莞市","厦门市"],s=["香港特别行政区"],l=["台湾省"],h=["日本"],c=["韩国"],d=["泰国"],u=["亚太"],p=["新加坡"],_=["欧洲"],g=["南美洲"],m=["北美洲"],f=["美国"],v=["墨西哥"],y=["加拿大"];for(var b in a)if(a[b]===n){break}for(var b in r)if(r[b]===n){break}for(var b in s)if(s[b]===n){break}if(l[0]===n);if(p[0]===n);if(h[0]===n);if(c[0]===n);if(d[0]===n);if(u[0]===n);if(_[0]===n);if(g[0]===n);if(m[0]===n);if(f[0]===n);if(y[0]===n);if(v[0]===n);var x=["&copy;&nbsp;2021 Baidu - GS(2019)5218号 - 甲测资字1100930 - 京ICP证030173号 - Data &copy; "],w="rgba(255, 255, 255, 0.701961)";t.getZoom()<=9?x.push("长地万方"):(x.push("长地万方"),o!==BMAP_SATELLITE_MAP&&o!==BMAP_HYBRID_MAP||(w="rgba(0,0,0,.7)")),x.unshift('<span style="background: '+w+';padding: 0px 1px;line-height: 16px;display: inline;height: 16px;">'),x.push("</span>"),x=x.join(""),t.cpyCtrl.addCopyright({id:1,content:x})}function LogoControl(t){this.defaultAnchor=BMAP_ANCHOR_BOTTOM_LEFT,this.defaultOffset=new Size(1,20),isMobile()&&(this.defaultOffset=new Size(1,1)),this._cZIndex=30,this.IMG_URL=MapConfig.imgPath+(isMobile()?"copyright_logo_s.png":"copyright_logo.png")}function addCssByStyle(t){var e=document,i=e.createElement("style");if(i.setAttribute("type","text/css"),i.styleSheet)i.styleSheet.cssText=t;else{var n=e.createTextNode(t);i.appendChild(n)}var o=e.getElementsByTagName("head");o.length?o[0].appendChild(i):e.documentElement.appendChild(i)}function MobileInfoWindow(){this._content=null,this.leftIcon=null,this.rightIcon=null,this.c=null,this.isOn=!1,this.cc=null}function parseData(t){for(var e=0,i=t.length;e<i;e++)for(var n=t[e][1],o=0,a=0,r=0,s=n.length/2;r<s;r++)o+=n[2*r]/10,a+=n[2*r+1]/10,n[2*r]=o,n[2*r+1]=a;return t}function VectorLayer(t){this._isVectorLayer=!0;var e=t||{};this._opts=baidu.object.extend(e,{vectorLayer:!0}),TileLayer.call(this,this._opts),this.preClickIcon={},this.loaded=!1,this.personalOpt=null,this.bindRedrawEvent=!1,this.baseElementHash={road:"rd",water:"wt",building:"bd",land:"ld",government:"gv",point:"pts"},this.poiElementHash={market:"mt",food:"fd",communications:"cm",hotel:"ht",attractions:"at",recreation:"rc"}}function VMLContext(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.lineWidth=1,this.miterLimit=1*Z,this.canvas=t;var e=create("div");if(e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.position="absolute",t.appendChild(e),this.element_=e,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1,!document.styleSheets.canvas_style){var i=document.createStyleSheet();i.owningElement.id="canvas_style",i.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:shape,g_vml_\\:fill,g_vml_\\:stroke{behavior:url(#default#VML)}"}}function matrixMultiply(t,e){for(var i=[[1,0,0],[0,1,0],[0,0,1]],n=0;n<3;n++)for(var o=0;o<3;o++){for(var a=0,r=0;r<3;r++)a+=t[n][r]*e[r][o];i[n][o]=a}return i}function bezierCurveTo(t,e,i,n){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:n.x,y:n.y}),t.currentX_=n.x,t.currentY_=n.y}function matrixIsFinite(t){for(var e=0;e<3;e++)for(var i=0;i<2;i++)if(!isFinite(t[e][i])||isNaN(t[e][i]))return!1;return!0}function setM(t,e,i){if(matrixIsFinite(e)&&(t.m_=e,i)){var n=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=Math.sqrt(Math.abs(n))}}function CanvablePath(t){t=t.replace(/,/gm," "),t=t.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),t=t.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),t=t.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),t=t.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2"),t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=CanvablePath.compressSpaces(t),t=CanvablePath.trim(t),this.PathParser=new function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new CanvablePath.Point(0,0),this.control=new CanvablePath.Point(0,0),this.current=new CanvablePath.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new CanvablePath.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new CanvablePath.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,i){null!=i&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(i)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(t),this.bounds=function(){return this.draw(null)},this.draw=function(t){var e=this.PathParser;e.reset();var i=new CanvablePath.BoundingBox;for(null!=t&&t.beginPath();!e.isEnd();)switch(e.nextCommand(),e.command){case"M":case"m":var n=e.getAsCurrentPoint();for(e.addMarker(n),i.addPoint(n.x,n.y),null!=t&&t.moveTo(n.x,n.y),e.start=e.current;!e.isCommandOrEnd();){var n=e.getAsCurrentPoint();e.addMarker(n,e.start),i.addPoint(n.x,n.y),null!=t&&t.lineTo(n.x,n.y)}break;case"L":case"l":for(;!e.isCommandOrEnd();){var o=e.current,n=e.getAsCurrentPoint();e.addMarker(n,o),i.addPoint(n.x,n.y),null!=t&&t.lineTo(n.x,n.y)}break;case"H":case"h":for(;!e.isCommandOrEnd();){var a=new CanvablePath.Point((e.isRelativeCommand()?e.current.x:0)+e.getScalar(),e.current.y);e.addMarker(a,e.current),e.current=a,i.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y)}break;case"V":case"v":for(;!e.isCommandOrEnd();){var a=new CanvablePath.Point(e.current.x,(e.isRelativeCommand()?e.current.y:0)+e.getScalar());e.addMarker(a,e.current),e.current=a,i.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y)}break;case"C":case"c":for(;!e.isCommandOrEnd();){var r=e.current,s=e.getPoint(),l=e.getAsControlPoint(),h=e.getAsCurrentPoint();e.addMarker(h,l,s),i.addBezierCurve(r.x,r.y,s.x,s.y,l.x,l.y,h.x,h.y),null!=t&&t.bezierCurveTo(s.x,s.y,l.x,l.y,h.x,h.y)}break;case"S":case"s":for(;!e.isCommandOrEnd();){var r=e.current,s=e.getReflectedControlPoint(),l=e.getAsControlPoint(),h=e.getAsCurrentPoint();e.addMarker(h,l,s),i.addBezierCurve(r.x,r.y,s.x,s.y,l.x,l.y,h.x,h.y),null!=t&&t.bezierCurveTo(s.x,s.y,l.x,l.y,h.x,h.y)}break;case"Q":case"q":for(;!e.isCommandOrEnd();){var r=e.current,l=e.getAsControlPoint(),h=e.getAsCurrentPoint();e.addMarker(h,l,l),i.addQuadraticCurve(r.x,r.y,l.x,l.y,h.x,h.y),null!=t&&t.quadraticCurveTo(l.x,l.y,h.x,h.y)}break;case"T":case"t":for(;!e.isCommandOrEnd();){var r=e.current,l=e.getReflectedControlPoint();e.control=l;var h=e.getAsCurrentPoint()
;e.addMarker(h,l,l),i.addQuadraticCurve(r.x,r.y,l.x,l.y,h.x,h.y),null!=t&&t.quadraticCurveTo(l.x,l.y,h.x,h.y)}break;case"A":case"a":for(;!e.isCommandOrEnd();){var r=e.current,c=e.getScalar(),d=e.getScalar(),u=e.getScalar()*(Math.PI/180),p=e.getScalar(),_=e.getScalar(),h=e.getAsCurrentPoint(),g=new CanvablePath.Point(Math.cos(u)*(r.x-h.x)/2+Math.sin(u)*(r.y-h.y)/2,-Math.sin(u)*(r.x-h.x)/2+Math.cos(u)*(r.y-h.y)/2),m=Math.pow(g.x,2)/Math.pow(c,2)+Math.pow(g.y,2)/Math.pow(d,2);m>1&&(c*=Math.sqrt(m),d*=Math.sqrt(m));var f=(p==_?-1:1)*Math.sqrt((Math.pow(c,2)*Math.pow(d,2)-Math.pow(c,2)*Math.pow(g.y,2)-Math.pow(d,2)*Math.pow(g.x,2))/(Math.pow(c,2)*Math.pow(g.y,2)+Math.pow(d,2)*Math.pow(g.x,2)));isNaN(f)&&(f=0);var v=new CanvablePath.Point(f*c*g.y/d,f*-d*g.x/c),y=new CanvablePath.Point((r.x+h.x)/2+Math.cos(u)*v.x-Math.sin(u)*v.y,(r.y+h.y)/2+Math.sin(u)*v.x+Math.cos(u)*v.y),b=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},x=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(b(t)*b(e))},w=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(x(t,e))},P=w([1,0],[(g.x-v.x)/c,(g.y-v.y)/d]),M=[(g.x-v.x)/c,(g.y-v.y)/d],T=[(-g.x-v.x)/c,(-g.y-v.y)/d],C=w(M,T);x(M,T)<=-1&&(C=Math.PI),x(M,T)>=1&&(C=0);var S=1-_?1:-1,E=P+S*(C/2),I=new CanvablePath.Point(y.x+c*Math.cos(E),y.y+d*Math.sin(E));if(e.addMarkerAngle(I,E-S*Math.PI/2),e.addMarkerAngle(h,E-S*Math.PI),i.addPoint(h.x,h.y),null!=t){var x=c>d?c:d,L=c>d?1:c/d,A=c>d?d/c:1;t.translate(y.x,y.y),t.rotate(u),t.scale(L,A),t.arc(0,0,x,P,P+C,1-_),t.scale(1/L,1/A),t.rotate(-u),t.translate(-y.x,-y.y)}}break;case"Z":case"z":null!=t&&t.closePath(),e.current=e.start}return i},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),i=[],n=0;n<t.length;n++)i.push([t[n],e[n]]);return i}}function ShapeLayer(){this.data={shapes:[]}}function ShapeWaterdrop(){var t=this;t.type="waterdrop",t.position={x:0,y:0}}function ShapeCircle(t){var e=this;e.type="circle",t=t||{},e.config={radius:t.radius||10,color:t.color||"#fa937e"},e.position={x:0,y:0}}function ShapeStar(t){var e=this;e.type="star",t=t||{},e.config={radius:t.radius||10,pointsNumber:t.pointsNumber||5,fraction:t.fraction||.4,color:t.color||"#fa937e"},e.position={x:0,y:0}}function ShapeRectangle(t){var e=this;e.type="rectangle",t=t||{},e.config={width:t.width||10,height:t.height||10,color:t.color||"#fa937e"},e.position={x:0,y:0}}function ShapeRhombus(t){var e=this;e.type="rhombus",t=t||{},e.config={width:t.width||10,height:t.height||10,color:t.color||"#fa937e"},e.position={x:0,y:0}}function Drawer(){}function SvgDrawer(t){this._map=t,this.SVG_NS="http://www.w3.org/2000/svg",this._svgAttrName={strokeweight:"stroke-width",strokecolor:"stroke",fillcolor:"fill",strokeopacity:"stroke-opacity",fillopacity:"fill-opacity",strokestyle:"stroke-dasharray"},this._svg=this._createSvg(),this._type="svg"}function VmlDrawer(t){this._map=t,this._vmlAttrName={strokeweight:"weight",strokecolor:"color",fillcolor:"color",strokeopacity:"opacity",fillopacity:"opacity",strokestyle:"dashstyle"},this._type="vml"}function CanvasDrawer(t){this._map=t,this._canvasAttrName={strokeweight:"lineWidth",strokecolor:"strokeStyle",fillcolor:"fillStyle",strokeopacity:"globalAlpha",fillopacity:"globalAlpha"},this._type="canvas"}function Vertex(t,e){OverlayInternal.call(this),this.point=t,this.type=e,this._config={}}function calPosition(t,e,i){var n,o,a,r,s=t.points;if(i){if(e<=0)return{point:s[0],index:1};if(e>=1)return{point:s[s.length-1],index:s.length-1};n=t._length*e,a=calWhichSegment(n,t._segTotalLength),r=(n-t._segTotalLength[a-1])/(t._segTotalLength[a]-t._segTotalLength[a-1])}else{if(n=e,o=t._segPixelTotalLength[t._segPixelTotalLength.length-1],n<=0)return{point:s[0],index:1};if(n>=o)return{point:s[s.length-1],index:s.length-1};var a=calWhichSegment(n,t._segPixelTotalLength),r=(n-t._segPixelTotalLength[a-1])/(t._segPixelTotalLength[a]-t._segPixelTotalLength[a-1])}var l=s[a-1],h=s[a];return{point:new Point(l.lng+(h.lng-l.lng)*r,l.lat+(h.lat-l.lat)*r),index:a}}function calWhichSegment(t,e){var i=e.concat(t),n=merge_sort(i);return baidu.array.indexOf(n,t)}function merge(t,e){for(var i=[];t.length>0&&e.length>0;)t[0]>e[0]?i.push(e.shift()):i.push(t.shift());return i.concat(t).concat(e)}function merge_sort(t){if(t.length<2)return t;var e=Math.floor(t.length/2),i=t.slice(0,e),n=t.slice(e);return merge(merge_sort(i),merge_sort(n))}function cohenSutherlandLineClip(t,e,i){var n,o,a,r=!1,s=!1,l=!1,h=new Pixel(t.x,t.y),c=new Pixel(e.x,e.y),d=calcOutcode(h,i),u=calcOutcode(c,i),p=i.minX,_=i.minY,g=i.maxX,m=i.maxY;do{0===d.all&&0===u.all?(r=!0,l=!0):0!=(d.all&u.all)?l=!0:(n=0!==d.all?d:u,n.top?(o=h.x+(c.x-h.x)*(_-h.y)/(c.y-h.y),a=_):n.bottom?(o=h.x+(c.x-h.x)*(m-h.y)/(c.y-h.y),a=m):n.right?(a=h.y+(c.y-h.y)*(g-h.x)/(c.x-h.x),o=g):n.left&&(a=h.y+(c.y-h.y)*(p-h.x)/(c.x-h.x),o=p),s=!0,n.all===d.all?(h.x=Math.round(o),h.y=Math.round(a),d=calcOutcode(h,i)):(c.x=Math.round(o),c.y=Math.round(a),u=calcOutcode(c,i)))}while(!l);if(r)return{pixel0:new Pixel(h.x,h.y),pixel1:new Pixel(c.x,c.y),clip:!!s}}function calcOutcode(t,e){var i={top:0,bottom:0,right:0,left:0,all:0},n=t.x,o=t.y;return o<e.minY?(i.top=8,i.all+=i.top):o>e.maxY&&(i.bottom=4,i.all+=i.bottom),n>e.maxX?(i.right=2,i.all+=i.right):n<e.minX&&(i.left=1,i.all+=i.left),i}function douglasPeucker(t,e){if(0===e)return t;for(var i=0,n=0,o=1,a=t.length-1;o<a;o++){var r=getDistance(t[o],t[0],t[t.length-1]);r>i&&(n=o,i=r)}var s=[];if(i>=e){for(var l=t.slice(0,n),h=t.slice(n,t.length),c=douglasPeucker(l,e),d=douglasPeucker(h,e),o=0,a=c.length;o<a;o++)s.push(c[o]);for(var o=0,a=d.length;o<a;o++)s.push(d[o])}else s.push(t[0]),s.push(t[t.length-1]);return s}function getSqDist(t,e){var i=t.lng-e.lng,n=t.lat-e.lat;return i*i+n*n}function getSqSegDist(t,e,i){var n=e.lng,o=e.lat,a=i.lng-n,r=i.lat-o;if(0!==a||0!==r){var s=((t.lng-n)*a+(t.lat-o)*r)/(a*a+r*r);s>1?(n=i.lng,o=i.lat):s>0&&(n+=a*s,o+=r*s)}return a=t.lng-n,r=t.lat-o,a*a+r*r}function simplifyDouglasPeucker(t,e){var i,n,o,a,r=t.length,s="undefined"!=typeof Uint8Array?Uint8Array:Array,l=new s(r),h=0,c=r-1,d=[],u=[];for(l[h]=l[c]=1;c;){for(n=0,i=h+1;i<c;i++)(o=getSqSegDist(t[i],t[h],t[c]))>n&&(a=i,n=o);n>e&&(l[a]=1,d.push(h,a,a,c)),c=d.pop(),h=d.pop()}for(i=0;i<r;i++)l[i]&&u.push(t[i]);return u}function simplify(t,e){return t.length<=1?t:t=simplifyDouglasPeucker(t,void 0!==e?e*e:1)}function getDistance(t,e,i){var n=e.lng-i.lng,o=e.lat-i.lat;if(0===n)return Math.abs(t.lng-e.lng);if(0===o)return Math.abs(t.lat-e.lat);var a=o/n,r=e.lat-a*e.lng;return Math.abs(a*t.lng-t.lat+r)/Math.sqrt(a*a+1)}function CanvasDrawer(t){this._map=t,this._canvasAttrName={strokeweight:"lineWidth",strokecolor:"strokeStyle",fillcolor:"fillStyle",strokeopacity:"globalAlpha",fillopacity:"globalAlpha"},this._type="canvas"}function SvgDrawer(t){this._map=t,this.SVG_NS="http://www.w3.org/2000/svg",this._svgAttrName={strokeweight:"stroke-width",strokecolor:"stroke",fillcolor:"fill",strokeopacity:"stroke-opacity",fillopacity:"fill-opacity",strokestyle:"stroke-dasharray"},this._svg=this._createSvg(),this._type="svg"}function VmlDrawer(t){this._map=t,this._vmlAttrName={strokeweight:"weight",strokecolor:"color",fillcolor:"color",strokeopacity:"opacity",fillopacity:"opacity",strokestyle:"dashstyle"},this._type="vml"}function MessagePopup(){}function SearchTool(t){this.initialize(t)}function Zoomer(){this._container=null}function DeepZoom(t){this.map=t,this.tileMgr=t.tileMgr,this.compatTransform=isSupportCSS3("transform",!0),this.zoomCount=0,this.preZoomTimes=1,this.deepZoomDiv=null,this.preDeepZoomDiv=null,this.maxZoomWheelDir=1,this.minZoomWheelDir=-1,this.isDispatchZoomStart=!1,this.maxZoom=19,this.minZoom=3,this.lastWheelTime=0,this.opMethod="",this.inDecayMode=!1,this.lastWheelDelta=0,this.lastDiff=0,this.bindEvent()}function isSupportCSS3(t,e){var i=document.createElement("div"),n="Webkit Moz O ms".split(" "),o=n.length,a="",r=i.style;t in r&&(a=t),t=t.replace(/^[a-z]/,function(t){return t.toUpperCase()});for(;o--;){var s=n[o]+t;if(s in r){a=s;break}}return e?a:a.length>0}function getScrollMode(t,e,i){var n="mouseWheel";return 120===t&&e<1?n="padPinch":!isNaN(t)&&(t<10||120!==t)&&e%1==0&&(n="padScroll"),baidu.browser.firefox&&0===i&&(n="padScroll"),baidu.browser.safari&&12===t&&(n="mouseWheel"),n}function setSize(t,e){var i=t.style;i.width=e[0]+"px",i.height=e[1]+"px"}function getPoiPoint(t){var e=[],i=null;if(t instanceof Point||t instanceof PointN)i=t;else{if("string"==typeof t){if(e=baidu.trim(t).split(","),e.length<2)return;e[0]=parseFloat(baidu.trim(e[0])),e[1]=parseFloat(baidu.trim(e[1]))}else if(e=t.slice(0),e.length<2)return;i=new Point(e[0],e[1])}return i}function decode_geo_diff(t){for(var e=_decode_type(t.charAt(0)),i=t.substr(1),n=0,o=i.length,a=[],r=[];n<o;)if(i.charAt(n)==_EXT_CHARS_[0]){if(o-n<13)return 0;if(_decode_6byte_(i.substr(n,13),a)<0)return 0;n+=13}else if(";"==i.charAt(n))r.push(a.slice(0)),a.length=0,++n;else{if(o-n<8)return 0;if(_decode_4byte_(i.substr(n,8),a)<0)return 0;n+=8}for(var s=0,l=r.length;s<l;s++)for(var h=0,c=r[s].length;h<c;h++)r[s][h]/=100;return{geoType:e,geo:r}}function _decode_type(t){var e=-1;return t==_EXT_CHARS_[1]?e=GEO_TYPE_POINT:t==_EXT_CHARS_[2]?e=GEO_TYPE_LINE:t==_EXT_CHARS_[3]&&(e=GEO_TYPE_AREA),e}function _decode_6byte_(t,e){for(var i=0,n=0,o=0,a=0;a<6;a++){if((o=_char2num_(t.substr(1+a,1)))<0)return-1-a;if(i+=o<<6*a,(o=_char2num_(t.substr(7+a,1)))<0)return-7-a;n+=o<<6*a}return e.push(i),e.push(n),0}function _decode_4byte_(t,e){var i=e.length;if(i<2)return-1;for(var n=0,o=0,a=0,r=0;r<4;r++){if((a=_char2num_(t.substr(r,1)))<0)return-1-r;if(n+=a<<6*r,(a=_char2num_(t.substr(4+r,1)))<0)return-5-r;o+=a<<6*r}return n>_MAX_DELTA_&&(n=_MAX_DELTA_-n),o>_MAX_DELTA_&&(o=_MAX_DELTA_-o),e.push(e[i-2]+n),e.push(e[i-1]+o),0}function _char2num_(t){var e=t.charCodeAt(0);return t>="A"&&t<="Z"?e-"A".charCodeAt(0):t>="a"&&t<="z"?26+e-"a".charCodeAt(0):t>="0"&&t<="9"?52+e-"0".charCodeAt(0):"+"==t?62:"/"==t?63:-1}function Page(t,e,i){if(baidu.lang.Class.call(this),t){this.container="object"==typeof t?t:baidu.G(t),this.page=1,this.pageCount=100,this.argName="pg",this.pagecap=4,this.callback=e,this.update=!0;var n={page:1,totalCount:100,pageCount:100,pagecap:4,argName:"pg",update:!0};i||(i=n);for(var o in i)void 0!==i[o]&&(this[o]=i[o]);this.render()}}function LocalResult(t){this.keyword=t.keyword||"",this._pageIndex=t.pageIdx||0,this._currentNumPois=t.count||0,this._numPois=t.total||0,this._numPages=Math.ceil(t.total/t.pc),this.center=t.center,this.radius=t.radius,this.bounds=t.bounds,this.city=t.city,this.province=t.province,this.viewport=t.viewport,this.moreResultsUrl=t.moreUrl,this._pois=t.pois&&t.pois.slice(0)||[],this._cityList=t.cityList&&t.cityList.slice(0),this.suggestions=t.suggestions||[]}function CustomSearch(t){baidu.lang.Class.call(this),this.localSearch=t,this.localSearch._curIndex=-1}function RenderMap(t){baidu.lang.Class.call(this),this.localSearch=t,this.map=t._opts.renderOptions.map,this._overlays=t._overlays,this.initialize()}function RenderList(t){baidu.lang.Class.call(this),this.localSearch=t,this.panel=t._opts.renderOptions.panel,this.initialize()}function Page(t,e,i){if(baidu.lang.Class.call(this),t){this.container="object"==typeof t?t:baidu.G(t),this.page=1,this.pageCount=100,this.argName="pg",this.pagecap=4,this.callback=e,this.update=!0;var n={page:1,totalCount:100,pageCount:100,pagecap:4,argName:"pg",update:!0};i||(i=n);for(var o in i)void 0!==i[o]&&(this[o]=i[o]);this.render()}}function RouteResult(t){this.city=t.city,this._start=t.start,this._end=t.end,this._plans=t.plans,this.moreResultsUrl=t.url,this.taxiFare=t.taxiFare||null,this._startStatus=t.startStatus||BMAP_ROUTE_STATUS_NORMAL,this._endStatus=t.endStatus||BMAP_ROUTE_STATUS_NORMAL}function DrivingRouteResult(t){RouteResult.call(this,t),this.policy=t.policy}function WalkingRouteResult(t){RouteResult.call(this,t)}function RidingRouteResult(t){RouteResult.call(this,t)}function TransitRouteResult(t){RouteResult.call(this,t),this.policy=t.policy,this.transitType=t.transitType,this.intercityPolicy=t.intercityPolicy,this.transitTypePolicy=t.transitTypePolicy}function RoutePlan(t){this._routes=t.routes.slice(0),this._distance=t.distance||0,this._duration=t.duration||0,this._dragPois=t.dragPois||[]}function TransitRoutePlan(t){RoutePlan.call(this,t),this._lines=t.lines,this._description=t.description,this._duration=t.duration||0,this._totalType=t.totalType||[],this._total=t.total||[]}function Route(t){this._steps=t.steps&&t.steps.slice(0)||[],this._distance=t.distance||0,this._index=t.index||0,this._points=t.points.slice(0),this._planIndex=t.planIndex||0,this._rt=t.rt,0===this._distance&&this._points.length>2&&(this._points.length=2)}function Line(t){this.title=t.title,this.uid=t.uid,this.type=t.type,this._stops=t.stops.slice(0),this._points=t.points.slice(0),this._distance=t.distance||0,this._numViaStops=t.numViaStops||0,this._status=t.status||{}}function Step(t){this._path=t.path,this._point=t.point,this._index=t.index,this._description=t.description,this._distance=t.distance||0,this._routeIndex=t.routeIndex||0,this._planIndex=t.planIndex||0}function formatDistance(t){"string"==typeof t&&(t=parseFloat(t));var e;return e=!t||t<0?"0米":t<=10?"10米":t<1e3?10*Math.round(t/10)+"米":(t/1e3).toFixed(1)+"公里","1000米"===e&&(e="1.0公里"),e}function formatTime(t,e){if(0===t&&(t=1),!t||isNaN(t))return"";var i="",n=Math.ceil(t/60);if("bustime"===e){var o=n%10,a=parseInt(n/10,10);n=0!==o?o>5?10*++a:a?10*a:5:n}var r=parseInt(n/1440,10);n%=1440;var s=parseInt(n/60,10);if(n%=60,r>=1&&(i+=r+"天"),s>=1&&(i+=s+"小时"),n>=1){if(e&&"nav"===e&&r>=1)return i;i+=n+"分钟"}return i}function getPointsByBounds(t){return[t.getSouthWest(),t.getNorthEast()]}function requestScript(t,e){var i=document.createElement("script");i.onload=function(t){i.parentNode.removeChild(i),e&&e(t)},i.src=t,document.getElementsByTagName("head")[0].appendChild(i)}function HTML5Geolocation(t){this.config={timeout:t.timeout||5e3,maximumAge:t.maximumAge||6e5,enableHighAccuracy:t.enableHighAccuracy||!1}}function highaccIPGeolocation(t){this.config={extensions:1,coord:"bd09ll",coding:"utf-8",callback_type:"jsonp"}}function SDKLocation(t){this.config={SDKLocation:t.SDKLocation||!1}}function GeolocationInfo(){this.accuracy=null,this.altitude=null,this.altitudeAccuracy=null,this.heading=null,this.latitude=null,this.longitude=null,this.speed=null,this.timestamp=null,this.point=null,this.address={country:"",city:"",city_code:0,district:"",province:"",street:"",street_number:""}}function GeolocationError(t){this.errorType="geolocation",this.errorMessage=t,this.errorCode=1,this.ERR_PERMISSION_DENIED=1,this.ERR_POSITION_UNAVAILABLE=2,this.ERR_TIMEOUT=3}function BusListResult(t){this.keyword=t.keyword||"",this.city=t.city,this.moreResultsUrl=t.moreUrl,this._listItems=t.listItems&&t.listItems.slice(0)||[],this._cityCode=t._cityCode}function BusLine(t){this.name=t.name||"",this.startTime=t.startTime||"",this.endTime=t.endTime||"",this.company=t.company||"",this._polyline=t.polyline||{},this._stations=t.stations&&t.stations.slice(0)||[],this._poiType=t._poiType||2}function AutocompleteResult(t){this.keyword=t.keyword||"",this._numPois=t.total||0,this._pois=t.pois&&t.pois.slice(0)||[]}function PanoramaTileData(t){this.tileSize=new Size(512,512),this.worldSize=new Size(512*this.getTotalCols(Panorama.TILE_MAX_ZOOM),512*this.getTotalRows(Panorama.TILE_MAX_ZOOM)),this.centerHeading=180,t=t||{};for(var e in t)this[e]=t[e]}function WebGLStateSingleton(t){this._gl=t,this._attributes=new Uint8Array(16),this._enabledAttributes=new Uint8Array(16)}function CachePool(t,e){this._size=t,this._cache=[],this._options={clearCallback:null},e=e||{};for(var i in e)this._options[i]=e[i]}function ImagePool(){this._counter=0,this._imageCollection={}}function PanoramaNavigationControl(t){this._initialize(t)}function PanoramaRenderer(t){t._renderer=this;var e=baidu.platform.isAndroid?"android":"ios";useWebGL()?(this._panoTileRenderer=new PanoramaTileGLRenderer(t),this._panoLinksRenderer=new PanoramaLinksGLRenderer(t,this._panoTileRenderer._canvas),this._panoTileRenderer.addFrameRenderer(this._panoLinksRenderer),_addStat("android"===e?STAT.PANORAMA_WEBGL_ANDROID:STAT.PANORAMA_WEBGL_IOS)):(this._panoTileRenderer=new PanoramaTileRenderer(t),this._panoLinksRenderer=new PanoramaLinksRenderer(t),_addStat("android"===e?STAT.PANORAMA_NON_WEBGL_ANDROID:STAT.PANORAMA_NON_WEBGL_IOS)),t._opts.linksControl?this._panoLinksRenderer.show():this._panoLinksRenderer.hide(),t._opts.clickOnRoad?this._panoLinksRenderer.enableClickOnRoad():this._panoLinksRenderer.disableClickOnRoad(),this._pano=t,this._bind(),this._overlayRenderer=new PanoramaOverlayMgr(t,this),this._indoorMarkerArray=[]}function PanoramaTileRenderer(t){this._pano=t;var e=t.getRenderType();return function(){if("cvsRender"==e)var i=new CvsRenderer(t);else var i=new CssRenderer(t);return i}()}function PanoramaOperation(t){this._pano=t}function PanoramaOverlayMgr(t,e){baidu.lang.Class.call(this),this._pano=t,this._render=e,this._overlayArray=[],this._poiStack={},this._panoDataLoaded=!1,this._bindPanoOverlayEvents()}function prefixStyle(t){return""===vendor?t:(t=t.charAt(0).toUpperCase()+t.substr(1),vendor+t)}function CvsRenderer(t){this._pano=t,this._tileContainer=t._tileContainer,this._createContainer(),this._pano.scene=this,this._bind()}function DataImage(t){this.image=new Image,this.src="",this.canvas=null,this.datastate=0,this.localx=0,this.localy=0,this._pano=t;var e=this;this.imageonload=function(){-1!=e.src.indexOf("pos=0_0&z=1")&&e._pano.dispatchEvent(new BaseEvent("onthumbnail_complete")),e.datastate=2,e.canvas.drawComeingImage(e.localx,e.localy)},this.image.onload=this.imageonload,this.setsrc=function(t){if(this.src==t){if(0!=this.datastate)return;e.imageonload()}else this.image.src=t,this.src=t,this.datastate=1},this.resetsrc=function(){this.image.src="",this.src="",this.datastate=0}}function CanvasRender(t,e,i,n,o,a){this.pitch=0,this.heading=0,this.zoom=2,this.picArray=e,this.aniPic=i,this.presentPic=[],this.cxt=t,this.aniflag=!1,this.scene={w:n,h:o,dirNorth:0,camPitch:0,dist:0,R:512,heading:0,pitch:0,unit:32,zoom:0,scenezoom:0,basicxyoffset:0,xyoffset:0,basiceover:0,over:0,basictemoffset:0,temoffset:0,poleroffset:0},this._pano=a,this.ifDataArrive=!1,this._adaptScene()}function CssRenderer(t){this._pano=t,this._data=null,this._id=null,this._numImgToLoad=0,this._tileContainer=t._tileContainer,this._imgPool=new ImagePool,this._tileInDom={},this._tileInDomOld={},this.cssScene={anglePerPixel:.001,width:0,height:0,heading:0,pitch:0},this._pano.scene=this,this._curWorldSize=0,this._cachedData={},this._bind()}function PanoramaLinksRenderer(t){this._pano=t,t._linksRenderer=this,this._arrowDoms=[],this._arrowSkewDoms=[],this._arrowShadowDoms=[],this._arrowShadowSkewDoms=[],this._hitDoms=[],this._hitSkewDoms=[],this._textDoms=[],this._textSkewDoms=[],this._textPathDoms=[],this._containerX=0,this._containerY=0,this._offsetLeft=0,this._offsetTop=0,this.mouseDownTime=0,this.coord={},this.longJumpflag=!1,this.mouseonme=!1,isSvg()?this._svg=this._createSvg():isCanvas()?(this._canvas=this._createCanvas(),this._ctx=this._canvas.getContext("2d"),this._bindCanvasClickEvent(),this._hitPoints=[]):isVml()&&(this._vmlGroup=this._createVml()),this._id=null,this.ARROW_HIGHLIGHT_COLOR="#549eef",this._cachedData={},this._linkVisible=!0,this._enableClickOnRoad=!0,this._bind()}function GLCircle(t,e){this._radius=t,this._borderWidth=e||2,this._innerRadius=t-this._borderWidth,this._facesVertex=[],this._colors=[],this._facesVertexIndice=[],this.initVertex()}function GLRing(t,e){this._radius=t,this._borderWidth=e||2,this._innerRadius=t-this._borderWidth,this._facesVertex=[],this._facesVertexIndice=[],this.initVertex()}function GLSphere(t){this._radius=t,this._cols=Math.pow(2,4),this._rows=this._cols/2,this._sphereVerticesOriginal=null,this._facesVertex=[],this._facesVertexIndiceMiddle=[],this._textureCoords=[];var e=360/this._cols;this._x1=Math.cos(toRadian(3*e))*this._radius,this._x2=Math.cos(toRadian(2*e))*this._radius,this._x3=Math.cos(toRadian(1*e))*this._radius,this.initSphereVertex()}function PanoramaTileGLRenderer(t){this._pano=t,this._viewZoom=null,this._canvas=null,this._gl=null,this._glProgram=null;var e=this;this._texturesInfo=new CachePool(6,{clearCallback:function(t){for(var i=0;i<t.length;i++)if(t[i])for(var n=0;n<t[i].length;n++)t[i][n]&&(e._gl.deleteTexture(t[i][n].texture),t[i][n].done=!1)}}),this._tileImagesCache=new CachePool(32,{clearCallback:function(t){e._imgPool.freeImage(t)}}),this._imgPool=new ImagePool,this._cols=16,this._rows=8,this._radius=500,this._width=0,this._height=0,this._mvMatrixInfo=[mat4.create(),mat4.create()],this._pMatrix=mat4.create(),this._mvMatrixInvertInfo=[mat4.create(),mat4.create()],this._pMatrixInvert=mat4.create(),this._moveStartMatrix=[],this._vertexPositionAttribute=null,this._vertexTexCoordAttribute=null,this._trianglesVerticeBuffer=null,this._triangleVerticesIndexBuffer=null,this._vertexTexCoordBuffer=null,this._sphere={},this._genImgColsRowsInfo(),this._totalImageToLoad=0,this._isLoaded=!1,this._curBindTextureId="",this._faceRangeInfo=[null,null],this._imgRangeInfo=[null,null],this._renderer=[],this._ratio=(window.devicePixelRatio||1)>1.5?2:1,this._init()}function PanoramaLinksGLRenderer(t,e){this._pano=t,this._canvas=e,this._width=e.width,this._height=e.height,this._gl=e.getContext("webgl",{alpha:!1}),this._webglState=WebGLState.get(this._gl,this._pano.guid),this._glProgram=null,this._data=null,this._visible=!1,this._init(),this.isPC=isDesktop(),this._linkVisible=!0,this._enableClickOnRoad=!0,this._coverPos=[0,-20,0],this._ratio=(window.devicePixelRatio||1)>1.5?2:1,this._arrowShadowTexture=null,this._arrowTexture=null,this._arrowTextTexture=null,this._cachedData={},t._linksRenderer=this,this._tileRenderer=t._renderer._panoTileRenderer,this._mercatorProjection=new MercatorProjection,this._wellLidDistanceLabel=null}function PanoramaVisiblePOI(t){this._pano=t,this._visiblePOIMarkers=[],this._visiblePOIType=null,this._service=new PanoramaService(null,{from:"api"}),this._bindPanoEvents()}function prefixStyle(t){return""===vendor?t:(t=t.charAt(0).toUpperCase()+t.substr(1),vendor+t)}function PanoramaPhotoListControl(t){this._opts={anchor:BMAP_ANCHOR_BOTTOM_LEFT,offset:new Size(0,0),maxWidth:"100%",imageHeight:80},t=t||{};for(var e in t)this._opts[e]=t[e];this._service=new PanoramaService(null,{from:"api"}),this._recoPanos=[],this._pano=null,this._imageSize={height:this._opts.imageHeight,width:this._opts.imageHeight*PanoramaPhotoListControl.PHOTO_ASPECT_RATIO},this.imgList=[],this.currentIndex=null,this.breakId=null,this.selectIndex=-1,this._scrollerItems=null,this.slideScroll=null}function PCScroller(t){this._container=t,this._slideBody=t.children[0],this._slideItemWidth=null,this.SLIDE_BTN_WIDTH=20,this.offsetLeft=0,this.initialize()}function PanoramaIndoorSwitchControl(t,e){this._pano=t,this._container=e,this._currentRecoPanoIndex=null,this._service=new PanoramaService(null,{from:"api"}),this._panoDatas=[],this.createDoms(),this.bindEvents()}var T,baidu=T=baidu||{version:"1.3.4"};baidu.guid="$BAIDU$",window[baidu.guid]=window[baidu.guid]||{},baidu.object=baidu.object||{},baidu.extend=baidu.object.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},baidu.dom=baidu.dom||{},baidu.dom.g=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):t&&t.nodeName&&(1==t.nodeType||9==t.nodeType)?t:null},baidu.g=baidu.G=baidu.dom.g,baidu.dom.hide=function(t){return null===(t=baidu.dom.g(t))?t:(t.style.display="none",t)},baidu.hide=baidu.dom.hide,baidu.lang=baidu.lang||{},baidu.lang.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},baidu.isString=baidu.lang.isString,baidu.lang.isEmptyObject=function(t){if("[object Object]"===Object.prototype.toString.call(t)){for(var e in t)return!1;return!0}return!1},baidu.isEmptyObject=baidu.lang.isEmptyObject,baidu.dom._g=function(t){return baidu.lang.isString(t)?document.getElementById(t):t},baidu._g=baidu.dom._g,baidu.dom.getElementsByClassName=function(t,e){return t.getElementsByClassName?t.getElementsByClassName(e):function(t,e){null==e&&(e=document);var i,n,o=[],a=e.getElementsByTagName("*"),r=a.length,s=new RegExp("(^|\\s)"+t+"(\\s|$)");for(i=0,n=0;i<r;i++)s.test(a[i].className)&&(o[n]=a[i],n++);return o}(e,t)},baidu.getElementsByClassName=baidu.dom.getElementsByClassName,baidu.dom.contains=function(t,e){var i=baidu.dom._g;return t=i(t),e=i(e),t.contains?t!=e&&t.contains(e):!!(16&t.compareDocumentPosition(e))},baidu.browser=baidu.browser||{},/msie (\d+\.\d)/i.test(navigator.userAgent)&&(baidu.browser.ie=baidu.ie=document.documentMode||+RegExp.$1),baidu.dom._NAME_ATTRS=function(){var t={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};return baidu.browser.ie<8?(t.for="htmlFor",t.class="className"):(t.htmlFor="for",t.className="class"),t}(),baidu.dom.setAttr=function(t,e,i){return null===(t=baidu.dom.g(t))?t:("style"==e?t.style.cssText=i:(e=baidu.dom._NAME_ATTRS[e]||e,t.setAttribute(e,i)),t)},baidu.setAttr=baidu.dom.setAttr,baidu.dom.setAttrs=function(t,e){if(null===(t=baidu.dom.g(t)))return t;for(var i in e)baidu.dom.setAttr(t,i,e[i]);return t},baidu.setAttrs=baidu.dom.setAttrs,baidu.string=baidu.string||{},function(){var t=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");baidu.string.trim=function(e){return String(e).replace(t,"")}}(),baidu.trim=baidu.string.trim,baidu.string.format=function(t,e){t=String(t);var i=Array.prototype.slice.call(arguments,1),n=Object.prototype.toString;return i.length?(i=1==i.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(n.call(e))?e:i,t.replace(/#\{(.+?)\}/g,function(t,e){var o=i[e];return"[object Function]"==n.call(o)&&(o=o(e)),void 0===o?"":o})):t},baidu.format=baidu.string.format,baidu.dom.removeClass=function(t,e){if(null===(t=baidu.dom.g(t)))return t;for(var i,n,o=t.className.split(/\s+/),a=e.split(/\s+/),r=a.length,s=0;s<r;++s)for(n=0,i=o.length;n<i;++n)if(o[n]==a[s]){o.splice(n,1);break}return t.className=o.join(" "),t},baidu.removeClass=baidu.dom.removeClass,baidu.dom.insertHTML=function(t,e,i){if(null===(t=baidu.dom.g(t)))return t;var n,o;return t.insertAdjacentHTML?t.insertAdjacentHTML(e,i):(n=t.ownerDocument.createRange(),e=e.toUpperCase(),"AFTERBEGIN"==e||"BEFOREEND"==e?(n.selectNodeContents(t),n.collapse("AFTERBEGIN"==e)):(o="BEFOREBEGIN"==e,n[o?"setStartBefore":"setEndAfter"](t),n.collapse(o)),n.insertNode(n.createContextualFragment(i))),t},baidu.insertHTML=baidu.dom.insertHTML,baidu.dom.show=function(t){return null===(t=baidu.dom.g(t))?t:(t.style.display="",t)},baidu.show=baidu.dom.show,baidu.dom.getDocument=function(t){return t=baidu.dom.g(t),null===t?t:9==t.nodeType?t:t.ownerDocument||t.document},baidu.dom.addClass=function(t,e){if(null===(t=baidu.dom.g(t)))return t;for(var i=e.split(/\s+/),n=t.className,o=" "+n+" ",a=0,r=i.length;a<r;a++)o.indexOf(" "+i[a]+" ")<0&&(n+=" "+i[a]);return t.className=n,t},baidu.addClass=baidu.dom.addClass,baidu.dom._styleFixer=baidu.dom._styleFixer||{},baidu.dom._styleFilter=baidu.dom._styleFilter||[],baidu.dom._styleFilter.filter=function(t,e,i){for(var n,o=0,a=baidu.dom._styleFilter;n=a[o];o++)(n=n[i])&&(e=n(t,e));return e},baidu.string.toCamelCase=function(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})},baidu.dom.toggleClass=function(t,e){baidu.dom.hasClass(t,e)?baidu.dom.removeClass(t,e):baidu.dom.addClass(t,e)},baidu.dom.hasClass=function(t){if(arguments.length<=0||"function"==typeof t)return this;if(this.size()<=0)return!1;t=t.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var e,i=t.split(" ");return baidu.forEach(this,function(t){for(var n=t.className,o=0;o<i.length;o++)if(!~(" "+n+" ").indexOf(" "+i[o]+" "))return void(e=!1);if(!1!==e)return void(e=!0)}),e},baidu.dom.getStyle=function(t,e){var i=baidu.dom;if(null===(t=i.g(t)))return t;e=baidu.string.toCamelCase(e);var n=t.style[e];if(!n){var o=i._styleFixer[e],a=t.currentStyle||(baidu.browser.ie?t.style:getComputedStyle(t,null));n=o&&o.get?o.get(t,a):a[o||e]}return(o=i._styleFilter)&&(n=o.filter(e,n,"get")),n},baidu.getStyle=baidu.dom.getStyle,/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(baidu.browser.opera=+RegExp.$1),baidu.browser.isWebkit=/webkit/i.test(navigator.userAgent),baidu.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),baidu.browser.isStrict="CSS1Compat"==document.compatMode,baidu.dom.getPosition=function(t){if(null===(t=baidu.dom.g(t)))return t;var e,i,n=baidu.dom.getDocument(t),o=baidu.browser,a=baidu.dom.getStyle,r=(o.isGecko>0&&n.getBoxObjectFor&&"absolute"==a(t,"position")&&(""===t.style.top||t.style.left),{left:0,top:0}),s=o.ie&&!o.isStrict?n.body:n.documentElement;if(t==s)return r;if(t.getBoundingClientRect){i=t.getBoundingClientRect(),r.left=Math.floor(i.left)+Math.max(n.documentElement.scrollLeft,n.body.scrollLeft),r.top=Math.floor(i.top)+Math.max(n.documentElement.scrollTop,n.body.scrollTop),r.left-=n.documentElement.clientLeft,r.top-=n.documentElement.clientTop;var l=n.body,h=parseInt(a(l,"borderLeftWidth")),c=parseInt(a(l,"borderTopWidth"));o.ie&&!o.isStrict&&(r.left-=isNaN(h)?2:h,r.top-=isNaN(c)?2:c)}else{e=t;do{if(r.left+=e.offsetLeft,r.top+=e.offsetTop,o.isWebkit>0&&"fixed"==a(e,"position")){r.left+=n.body.scrollLeft,r.top+=n.body.scrollTop;break}e=e.offsetParent}while(e&&e!=t);for((o.opera>0||o.isWebkit>0&&"absolute"==a(t,"position"))&&(r.top-=n.body.offsetTop),e=t.offsetParent;e&&e!=n.body;)r.left-=e.scrollLeft,o.opera&&"TR"==e.tagName||(r.top-=e.scrollTop),e=e.offsetParent}return r},/firefox\/(\d+\.\d)/i.test(navigator.userAgent)&&(baidu.browser.firefox=+RegExp.$1),/BIDUBrowser/i.test(navigator.userAgent)&&(baidu.browser.baidu=!0),function(){var t=navigator.userAgent;/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(t)&&!/chrome/i.test(t)&&(baidu.browser.safari=+(RegExp.$1||RegExp.$2))}(),/chrome\/(\d+\.\d)/i.test(navigator.userAgent)&&(baidu.browser.chrome=+RegExp.$1),baidu.array=baidu.array||{},baidu.array.each=function(t,e){var i,n,o=t.length;if("function"==typeof e)for(n=0;n<o&&(i=t[n],!1!==e.call(t,i,n));n++);return t},baidu.each=baidu.array.each,baidu.lang.guid=function(){return"TANGRAM__"+(window[baidu.guid]._counter++).toString(36)},window[baidu.guid]._counter=window[baidu.guid]._counter||1,window[baidu.guid]._instances=window[baidu.guid]._instances||{},baidu.lang.isFunction=function(t){return"[object Function]"==Object.prototype.toString.call(t)},baidu.lang.Class=function(t){this.guid=t||baidu.lang.guid(),window[baidu.guid]._instances[this.guid]=this},window[baidu.guid]._instances=window[baidu.guid]._instances||{},baidu.lang.Class.prototype.dispose=function(){delete window[baidu.guid]._instances[this.guid];for(var t in this)baidu.lang.isFunction(this[t])||delete this[t];this.disposed=!0},baidu.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"},baidu.lang.Event=function(t,e){this.type=t,this.returnValue=!0,this.target=e||null,this.currentTarget=null},baidu.lang.Class.prototype.addEventListener=function(t,e,i){if(baidu.lang.isFunction(e)){!e.__code&&(e.__code={}),!this.__listeners&&(this.__listeners={});var n,o=this.__listeners;if("string"==typeof i&&i){if(/[^\w\-]/.test(i))throw"nonstandard key:"+i;e.hashCode=i,n=i}0!=t.indexOf("on")&&(t="on"+t),"object"!=typeof o[t]&&(o[t]={}),"object"!=typeof e.__code[t]&&(e.__code[t]={}),n=n||baidu.lang.guid(),e.__code[t].hashCode=n,o[t][n]=e}},baidu.lang.Class.prototype.removeEventListener=function(t,e){if(0!=t.indexOf("on")&&(t="on"+t),baidu.lang.isFunction(e)){if(!e.__code||!e.__code[t])return;e=e.__code[t].hashCode}else if(!baidu.lang.isString(e))return;!this.__listeners&&(this.__listeners={});var i=this.__listeners
;i[t]&&i[t][e]&&delete i[t][e]},baidu.lang.Class.prototype.dispatchEvent=function(t,e){baidu.lang.isString(t)&&(t=new baidu.lang.Event(t)),!this.__listeners&&(this.__listeners={}),e=e||{};for(var i in e)t[i]=e[i];var i,n=this.__listeners,o=t.type;if(t.target=t.target||this,t.currentTarget=this,0!=o.indexOf("on")&&(o="on"+o),baidu.lang.isFunction(this[o])&&this[o].apply(this,arguments),"object"==typeof n[o])for(i in n[o])n[o][i].apply(this,arguments);return t.returnValue},baidu.lang.inherits=function(t,e,i){var n,o,a=t.prototype,r=new Function;r.prototype=e.prototype,o=t.prototype=new r;for(n in a)o[n]=a[n];t.prototype.constructor=t,t.superClass=e.prototype,"string"==typeof i&&(o._className=i)},baidu.inherits=baidu.lang.inherits,baidu.lang.instance=function(t){return window[baidu.guid]._instances[t]||null},baidu.platform=baidu.platform||{},baidu.platform.isMacintosh=/macintosh/i.test(navigator.userAgent),baidu.platform.isWeixin=/MicroMessenger/i.test(navigator.userAgent),baidu.platform.isWindows=/windows/i.test(navigator.userAgent),baidu.platform.isX11=/x11/i.test(navigator.userAgent),baidu.platform.isAndroid=/android/i.test(navigator.userAgent),/android (\d+(\.\d)?)/i.test(navigator.userAgent)&&(baidu.platform.android=baidu.android=RegExp.$1),baidu.platform.isIpad=/ipad/i.test(navigator.userAgent),baidu.platform.isIphone=/iphone/i.test(navigator.userAgent),baidu.lang.Event.prototype.inherit=function(t){var e=this;if(e.domEvent=t=window.event||t,e.clientX=t.clientX||t.pageX,e.clientY=t.clientY||t.pageY,e.offsetX=t.offsetX||t.layerX,e.offsetY=t.offsetY||t.layerY,e.screenX=t.screenX,e.screenY=t.screenY,e.ctrlKey=t.ctrlKey||t.metaKey,e.shiftKey=t.shiftKey,e.altKey=t.altKey,t.touches){e.touches=[];for(var i=0;i<t.touches.length;i++)e.touches.push({clientX:t.touches[i].clientX,clientY:t.touches[i].clientY,screenX:t.touches[i].screenX,screenY:t.touches[i].screenY,pageX:t.touches[i].pageX,pageY:t.touches[i].pageY,target:t.touches[i].target,identifier:t.touches[i].identifier})}if(t.changedTouches){e.changedTouches=[];for(var i=0;i<t.changedTouches.length;i++)e.changedTouches.push({clientX:t.changedTouches[i].clientX,clientY:t.changedTouches[i].clientY,screenX:t.changedTouches[i].screenX,screenY:t.changedTouches[i].screenY,pageX:t.changedTouches[i].pageX,pageY:t.changedTouches[i].pageY,target:t.changedTouches[i].target,identifier:t.changedTouches[i].identifier})}if(t.targetTouches){e.targetTouches=[];for(var i=0;i<t.targetTouches.length;i++)e.targetTouches.push({clientX:t.targetTouches[i].clientX,clientY:t.targetTouches[i].clientY,screenX:t.targetTouches[i].screenX,screenY:t.targetTouches[i].screenY,pageX:t.targetTouches[i].pageX,pageY:t.targetTouches[i].pageY,target:t.targetTouches[i].target,identifier:t.targetTouches[i].identifier})}return e.rotation=t.rotation,e.scale=t.scale,e},baidu.lang.decontrol=function(t){var e=window[baidu.guid];e._instances&&delete e._instances[t]},baidu.event={},baidu.on=baidu.event.on=function(t,e,i){return(t=baidu.g(t))?(e=e.replace(/^on/,""),t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i),t):t},baidu.un=baidu.event.un=function(t,e,i){return(t=baidu.g(t))?(e=e.replace(/^on/,""),t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i),t):t},baidu.dom.hasClass=function(t,e){if(!t||!t.className||"string"!=typeof t.className)return!1;var i=-1;try{i=t.className==e||t.className.search(new RegExp("(\\s|^)"+e+"(\\s|$)"))}catch(t){return!1}return i>-1},baidu.enableTapEvent=function(){function t(t){document.addEventListener&&(this.element=t,this.eventStart=this.hasTouch?"touchstart":"mousedown",this.eventMove=this.hasTouch?"touchmove":"mousemove",this.eventEnd=this.hasTouch?"touchend":"mouseup",this.moved=!1,this.startX=0,this.startY=0,this.element.addEventListener(this.eventStart,this,!1),T.on(this.element,"mousedown",function(){}),this.handleEvent(null))}return t.prototype={hasTouch:"ontouchstart"in window||"createTouch"in document,start:function(t){stopBubble(t),this.moved=!1,this.startX=this.hasTouch?t.touches[0].clientX:t.clientX,this.startY=this.hasTouch?t.touches[0].clientY:t.clientY,this.element.addEventListener(this.eventMove,this,!1),this.element.addEventListener(this.eventEnd,this,!1)},move:function(t){stopAndPrevent(t);var e=this.hasTouch?t.touches[0].clientX:t.clientX,i=this.hasTouch?t.touches[0].clientY:t.clientY;(Math.abs(e-this.startX)>10||Math.abs(i-this.startY)>10)&&(this.moved=!0)},end:function(t){if(stopAndPrevent(t),!this.moved){var e=document.createEvent("Event");e.initEvent("tap",!1,!0),this.element.dispatchEvent(e)}this.element.removeEventListener(this.eventMove,this,!1),this.element.removeEventListener(this.eventEnd,this,!1)},handleEvent:function(t){if(t)switch(t.type){case this.eventStart:this.start(t);break;case this.eventMove:this.move(t);break;case this.eventEnd:this.end(t)}}},function(e){return new t(e)}}();var BMap=window.BMap||{};BMap.version="#BMAP_VERSION#";var IS_HTTPS="0"==window.HOST_TYPE;BMap._xiaoliuliang=Math.random()<.34,BMap.version.indexOf("#")>=0&&(BMap.version="3.0"),BMap._register=[],BMap.register=function(t){this._register.push(t)},BMap._panoRegister=[],BMap.panoRegister=function(t){this._panoRegister.push(t)},BMap.apiLoad=BMap.apiLoad||function(){};var AUTHENTIC_AK=window.AUTHENTIC_AK||"baidu-ac8b4c6454604f328b28fa7c58e181c3",AUTHENTIC_TOKEN_DuGIS=getCookie("AUTH_TOKEN")||localStorage.getItem("AUTHENTIC_TOKEN_DuGIS"),AUTHENTIC_KEY=window.BMAP_AUTHENTIC_KEY;window.BMAP_AUTHENTIC_KEY=null;var TIME_LINE={};TIME_LINE.startLoadScript=window.BMap_loadScriptTime,TIME_LINE.loadScriptEnd=(new Date).getTime(),TIME_LINE.loadedMap=null;var isFirstTilesLoaded=!0,PDC=null,STAT={MAP_PIC:5054,MAP_MOVE:5055,MAP_ZOOM:5056,MAP_ZOOM_ALL:5057,PANORAMA_CONTROL_NEW_INSTANCE:5042,PANORAMA_CONTROL_CLICK_CONTROL_TO_PANORAMA:5043,TILEMGR_FULL_LOAD_TILES_FIRST_TIME:5030,MAP_USE_PERSPECTIVE_MAP:5002,MAP_USE_SATELLITE_OR_HYBRID_MAP:5003,MAP_LOAD_MAPCLICK:"load_mapclick",MAP_SET_MAP_STYLE:5050,MAP_JS_EXECUTED:5e3,INFO_WINDOW_PHONE_CLICK:6e3,INFO_WINDOW_PANORAMA_BUTTON_CLICK:5053,INFO_WINDOW_DETAIL_LINK_CLICK:6001,INFO_WINDOW_NEARYBY_BOTTON_CLICK:6002,INFO_WINDOW_TRANSIT_BOTTON_CLICK:6003,INFO_WINDOW_BUS_BOTTON_CLICK:6004,INFO_WINDOW_NAV_BOTTON_CLICK:6005,PANO_CLICK_IN_INFOWINDOW:6006,MOBILE_INFO_WINDOW_NAV_LINK_MOBILE:"navlinkmobile",PANORAMA_SET_ID_TO_PANORAMA:5045,PANORAMA_COVERAGE_LAYER_USE_FROM_INNER:5038,PANORAMA_COVERAGE_LAYER_USE_FROM_DEVELOPER:5041,PANORAMA_PHOTO_LIST_ITEM_CLICK:5046,PANORAMA_PV:5047,PANORAMA_USE_FROM_INNER:5036,PANORAMA_USE_FROM_DEVELOPER:5039,PANORAMA_SERVICE_USE_FROM_INNER:5037,PANORAMA_SERVICE_USE_FROM_DEVELOPER:5040,PANORAMA_WEBGL_ANDROID:5060,PANORAMA_WEBGL_IOS:5061,PANORAMA_NON_WEBGL_ANDROID:5062,PANORAMA_NON_WEBGL_IOS:5063,AUTOCOMPLETE_NEW_INSTANCE:5011,AUTOCOMPLETE_MAIN_ON_CONFIRM:5012,AUTOCOMPLETE_MAIN_SEND_AUTOCOMPLETE_REQUEST:5010,VECTOR_LAYER_CLICK_VECTOR_LAYER_AFTER_INFO_WINDOW_OPEN:5052,VECTOR_LAYER_FIRST_SCREEN_TIMEOUT:8080,GEOLOCATION_CONTROL_NEW_INSTANCE:7e3,GEOLOCATION_CONTROL_CURRENT_LOCATION:7001,GEOLOCATION_CURRENT_LOCATION:8e3,POI_CLICK_PER_ZOOM:9e3},BMAP_SYS_DRAWER=0,BMAP_SVG_DRAWER=1,BMAP_VML_DRAWER=2,BMAP_CANVAS_DRAWER=3,BMAP_SVG_DRAWER_FIRST=4,BMAP_COORD_BD09=5,BMAP_COORD_GCJ02=3;baidu.lang.inherits(Map,baidu.lang.Class,"Map"),baidu.extend(Map.prototype,{render:function(){var t=create("div"),e=t.style;e.overflow="visible",e.position="absolute",e.zIndex="0",e.top=e.left="0px";var i=create("div",{class:"BMap_mask"}),n=i.style;return n.position="absolute",n.top=n.left="0px",n.zIndex="9",n.overflow="hidden",n.WebkitUserSelect="none",t.appendChild(i),t},_setStyle:function(t){var e=t.style;e.overflow="hidden","absolute"!==getCurrentStyle(t).position&&(e.position="relative",e.zIndex=0),e.backgroundColor="#F3F1EC",e.color="#000",e.textAlign="left"},_bind:function(){var t=this;t._watchSize=function(){var e=t.getSize();if(t.width!==e.width||t.height!==e.height){var i=new Size(t.width,t.height),n=new BaseEvent("onbeforeresize");n.size=i,t.dispatchEvent(n),t._updateCenterPoint((e.width-t.width)/2,(e.height-t.height)/2),t.maskLayer.style.width=(t.width=e.width)+"px",t.maskLayer.style.height=(t.height=e.height)+"px";var o=new BaseEvent("onresize");o.size=e,t.dispatchEvent(o)}},t.config.enableAutoResize&&(t.temp.autoResizeTimer=setInterval(t._watchSize,80))},_updateCenterPoint:function(t,e,i,n){var o=this.getMapType().getZoomUnits(this.getZoom()),a=this.projection,r=!0;if(i&&(i instanceof Point||i instanceof PointN))var i=gcjToBd09(i,this.config.coordsType);i&&Point.isInRange(i)&&(this.centerPoint=new PointN(i.lng,i.lat),r=!1);var s=i&&n?a.lngLatToMercator(i,this.currentCity):this.mercatorCenter;if(s){this.mercatorCenter=new PointN(s.lng+t*o,s.lat-e*o);var l=a.mercatorToLngLat(this.mercatorCenter,this.currentCity);l&&r&&(this.centerPoint=l)}},zoomTo:function(t,e){if(isNumber(t)&&(this._checkZoom(),this.dispatchEvent(new BaseEvent("onzoomstart")),(t=this._getProperZoom(t).zoom)!==this.zoomLevel)){this.lastLevel=this.zoomLevel,this.zoomLevel=t;var i;if(e?i=e:this.getInfoWindow()&&(i=this.getInfoWindow().getPosition()),i){var n=gcjToBd09(i,this.config.coordsType),o=this._pointToPixel(n,this.lastLevel);this._updateCenterPoint(this.width/2-o.x,this.height/2-o.y,this._pixelToPoint(o,this.lastLevel),!0)}this.dispatchEvent(new BaseEvent("onzoomstartcode"))}},setZoom:function(t){this.zoomTo(t)},zoomIn:function(t){this.zoomTo(this.zoomLevel+1,t)},zoomOut:function(t){this.zoomTo(this.zoomLevel-1,t)},panTo:function(t,e){if(t instanceof Point||t instanceof PointN){var t=gcjToBd09(t,this.config.coordsType);this.mercatorCenter=this.projection.lngLatToMercator(t,this.currentCity),Point.isInRange(t)?this.centerPoint=new PointN(t.lng,t.lat):this.centerPoint=this.projection.mercatorToLngLat(this.mercatorCenter,this.currentCity)}},panBy:function(t,e){t=Math.round(t)||0,e=Math.round(e)||0,this._updateCenterPoint(-t,-e)},addControl:function(t){t&&isFunction(t._i)&&(t._i(this),this.dispatchEvent(new BaseEvent("onaddcontrol",t)))},removeControl:function(t){t&&isFunction(t.remove)&&(t.remove(),this.dispatchEvent(new BaseEvent("onremovecontrol",t)))},addContextMenu:function(t){t&&isFunction(t.initialize)&&(t.initialize(this),this.dispatchEvent(new BaseEvent("onaddcontextmenu",t)))},removeContextMenu:function(t){t&&isFunction(t.remove)&&(this.dispatchEvent(new BaseEvent("onremovecontextmenu",t)),t.remove())},addOverlay:function(t){t&&isFunction(t._i)&&(t._i(this),this.dispatchEvent(new BaseEvent("onaddoverlay",t)))},removeOverlay:function(t){t&&isFunction(t.remove)&&(t.remove(),this.dispatchEvent(new BaseEvent("onremoveoverlay",t)))},clearOverlays:function(){this.dispatchEvent(new BaseEvent("onclearoverlays"))},addTileLayer:function(t){t&&this.dispatchEvent(new BaseEvent("onaddtilelayer",t))},removeTileLayer:function(t){t&&this.dispatchEvent(new BaseEvent("onremovetilelayer",t))},setMapType:function(t){if(this.mapType!==t){this.config.mapStyleV2&&this.setLayerDisplayByMaptype(t);var e=new BaseEvent("onsetmaptype"),i=this.mapType;e.preMapType=i,this.mapType=this.config.mapType=t,this.projection=this.mapType.getProjection(),this._updateCenterPoint(0,0,this._getCenter(),!0),this._checkZoom();var n=this._getProperZoom(this.getZoom()).zoom;this.zoomTo(n),this.dispatchEvent(e);var e=new BaseEvent("onmaptypechange");e.zoomLevel=n,e.mapType=t,this.dispatchEvent(e),t.setProjectMap(this.config.coordsType),t!==BMAP_SATELLITE_MAP&&t!==BMAP_HYBRID_MAP||_addStat(STAT.MAP_USE_SATELLITE_OR_HYBRID_MAP)}},setLayerDisplayByMaptype:function(t){t===BMAP_SATELLITE_MAP||t===BMAP_HYBRID_MAP?(this.setNormalMapDisplay(!0),this.setIndoorMapDisplay(!1),this.config.enableIndoorLayer=!1,this.config.enableCustomLayer=!1):(this.setNormalMapDisplay(!1),this.setIndoorMapDisplay(!0),this.config.enableIndoorLayer=!0,this.config.enableCustomLayer=!0)},setCenter:function(t){var e=this;if(t instanceof Point||t instanceof PointN)e.panTo(t,{noAnimation:!0});else if(isString(t)){if(e.mapType===BMAP_PERSPECTIVE_MAP){var i=MapConfig.cityNames[t];return void(i&&(pt=i.pt,e.setCenter(pt)))}if(BMap.offline){var n=BMap.searchUrl+"/search/v1/region?isDetail=false&q="+t+"&outputCrs="+BMap.coordReturn[BMap.tileDir];return void DataMgr.ajax({url:n,success:function(t){if(0===t.status){var i=t.result[0];i&&(e.CityCode=i.adcode,e.setCenter(new Point(i.location.x,i.location.y)),e.setCurrentCity(i.name))}}})}var o=this._getLocal();o.setSearchCompleteCallback(function(i){if(0===o.getStatus()&&2===o._json.result.type){var n=i.getPoi(0).point,a=new PointN(n.lng,n.lat),r=bd09ToGcj02(a,e.config.coordsType);e.setCenter(r),BMAP_PERSPECTIVE_MAP.getCityName(t)&&e.setCurrentCity(t)}}),o.search(t,{log:"center"})}},centerAndZoom:function(t,e){"[object Undefined]"!==Object.prototype.toString.call(e)&&(e=parseInt(e)),BMap._alog("cus.fire","time",{z_loadscripttime:TIME_LINE.loadScriptEnd-TIME_LINE.startLoadScript});var i=this;if(isString(t)){if(i.mapType===BMAP_PERSPECTIVE_MAP){var n=MapConfig.cityNames[t];return void(n&&(pt=n.pt,i.centerAndZoom(pt,e)))}var o=(i._getLocal(),BMap.searchUrl+"/search/v1/region?isDetail=false&q="+t+"&outputCrs="+BMap.coordReturn[BMap.tileDir]);return void DataMgr.ajax({url:o,success:function(t){if(0===t.status){var n=t.result[0];n&&(i.centerAndZoom(new Point(n.location.x,n.location.y),e||9),i.setCurrentCity(n.name),i.CityCode=n.adcode,i.cityName=n.name,i.dispatchEvent("citychange",{name:i.cityName,adcode:i.CityCode}))}}})}if((t instanceof Point||t instanceof PointN)&&e){e=i._getProperZoom(e).zoom,i.lastLevel=i.zoomLevel||e,i.zoomLevel=e;var a=i.centerPoint,t=gcjToBd09(t,this.config.coordsType);i.centerPoint=new PointN(t.lng,t.lat),i.mercatorCenter=i.projection.lngLatToMercator(i.centerPoint,i.currentCity),i.defaultZoomLevel=i.defaultZoomLevel||i.zoomLevel,i.defaultCenter=i.defaultCenter||i.centerPoint;var r=new BaseEvent("onload"),s=new BaseEvent("onloadcode");r.point=new PointN(t.lng,t.lat),r.pixel=i._pointToPixel(i.centerPoint,i.zoomLevel),r.zoom=e,i.loaded||(i.loaded=!0,i.dispatchEvent(r),TIME_LINE.loadedMap||(TIME_LINE.loadedMap=getCurrentTime())),i.dispatchEvent(s);var l=new BaseEvent("onmoveend");if(l._eventSrc="centerAndZoom",a.equals(i.centerPoint)||i.dispatchEvent(l),i.dispatchEvent(new BaseEvent("onmoveend")),i.lastLevel!==i.zoomLevel){var h=new BaseEvent("onzoomend");h._eventSrc="centerAndZoom",i.dispatchEvent(h)}i.config.enable3DBuilding&&i.enable3DBuilding()}},_getLocal:function(){return this.temp.local||(this.temp.local=new LocalSearch(1)),this.temp.local},reset:function(){this.centerAndZoom(this.defaultCenter,this.defaultZoomLevel,!0)},enableDragging:function(){this.config.enableDragging=!0},disableDragging:function(){this.config.enableDragging=!1},enableInertialDragging:function(){this.config.enableInertialDragging=!0},disableInertialDragging:function(){this.config.enableInertialDragging=!1},enableScrollWheelZoom:function(){this.config.enableWheelZoom=!0},disableScrollWheelZoom:function(){this.config.enableWheelZoom=!1},enableContinuousZoom:function(){this.config.enableContinuousZoom=!0},disableContinuousZoom:function(){this.config.enableContinuousZoom=!1},enableDoubleClickZoom:function(){this.config.enableDblclickZoom=!0},disableDoubleClickZoom:function(){this.config.enableDblclickZoom=!1},enableKeyboard:function(){this.config.enableKeyboard=!0},disableKeyboard:function(){this.config.enableKeyboard=!1},enablePinchToZoom:function(){this.config.enablePinchToZoom=!0},disablePinchToZoom:function(){this.config.enablePinchToZoom=!1},enableAutoResize:function(){this.config.enableAutoResize=!0,this._watchSize(),this.temp.autoResizeTimer||(this.temp.autoResizeTimer=setInterval(this._watchSize,80))},disableAutoResize:function(){this.config.enableAutoResize=!1,this.temp.autoResizeTimer&&(clearInterval(this.temp.autoResizeTimer),this.temp.autoResizeTimer=null)},enableBizAuthLogo:function(){this.config.enableBizAuthLogo=!0,this.bizAuthLogoControl&&this.bizAuthLogoControl.show()},disableBizAuthLogo:function(){this.config.enableBizAuthLogo=!1,this.bizAuthLogoControl&&this.bizAuthLogoControl.hide()},enable3DBuilding:function(){this.config.enable3DBuilding=!0,this._buildingLayer||(this._buildingLayer=new BuildingLayer({firstScreenAnimation:!0}),this.addTileLayer(this._buildingLayer))},disable3DBuilding:function(){this.config.enable3DBuilding=!1,this._buildingLayer&&(this.removeTileLayer(this._buildingLayer),this._buildingLayer=null,delete this._buildingLayer)},getSize:function(){return this.customSize&&this.customSize instanceof Size?new Size(this.customSize.width,this.customSize.height):new Size(this.container.clientWidth,this.container.clientHeight)},setSize:function(t){t&&t instanceof Size?(this.customSize=t,this.container.style.width=t.width+"px",this.container.style.height=t.height+"px"):this.customSize=null},getCenter:function(){return bd09ToGcj02(this.centerPoint,this.config.coordsType)},_getCenter:function(){return this.centerPoint},getZoom:function(){return this.zoomLevel},checkResize:function(){this._watchSize()},_getProperZoom:function(t){var e=this.config.minZoom,i=this.config.maxZoom,n=!1;return t=Math.round(t),t<e&&(n=!0,t=e),t>i&&(n=!0,t=i),{zoom:t,exceeded:n}},getContainer:function(){return this.container},pointToPixel:function(t,e){var t=gcjToBd09(t,this.config.coordsType);return e=e||this.getZoom(),this.projection.pointToPixel(t,e,this.mercatorCenter,this.getSize(),this.currentCity)},_pointToPixel:function(t,e){return e=e||this.getZoom(),this.projection.pointToPixel(t,e,this.mercatorCenter,this.getSize(),this.currentCity)},_pixelToPoint:function(t,e){return e=e||this.getZoom(),this.projection.pixelToPoint(t,e,this.mercatorCenter,this.getSize(),this.currentCity)},pixelToPoint:function(t,e){return bd09ToGcj02(this._pixelToPoint(t,e),this.config.coordsType)},pointToOverlayPixel:function(t,e){if(t){var t=gcjToBd09(t,this.config.coordsType),i=new PointN(t.lng,t.lat),n=this._pointToPixel(i,e);return n.x-=this.offsetX,n.y-=this.offsetY,n}},mctToPixel:function(t,e){return e=e||this.getZoom(),this.projection.mercatorToPixel(t,e,this.mercatorCenter,this.getSize(),this.currentCity)},mctToOverlayPixel:function(t,e){if(t){var i=new PointN(t.lng,t.lat),n=this.mctToPixel(i,e);return n.x-=this.offsetX,n.y-=this.offsetY,n}},overlayPixelToPoint:function(t,e){if(t){var i=new Pixel(t.x,t.y);return i.x+=this.offsetX,i.y+=this.offsetY,this.pixelToPoint(i,e)}},_overlayPixelToPoint:function(t,e){if(t){var i=new Pixel(t.x,t.y);return i.x+=this.offsetX,i.y+=this.offsetY,this._pixelToPoint(i,e)}},pointToPixelFor3D:function(t,e){var i=this,n=i.mapType,o=map.currentCity;n===BMAP_PERSPECTIVE_MAP&&o&&CoordTransUtils.convertPtToPix3D(t,i,e)},pixelToPointFor3D:function(t,e){var i=this,n=i.mapType,o=map.currentCity;n===BMAP_PERSPECTIVE_MAP&&o&&CoordTransUtils.convertPixToPt3D(t,i,e)},pointToOverlayPixelFor3D:function(t,e){var i=this,n=i.mapType,o=map.currentCity;if(n===BMAP_PERSPECTIVE_MAP&&o){var a=function(t){t.x-=i.offsetX,t.y-=i.offsetY,e&&e(t)};CoordTransUtils.convertPtToPix3D(t,i,a)}},overlayPixelToPointFor3D:function(t,e){var i=this,n=i.mapType,o=map.currentCity;n===BMAP_PERSPECTIVE_MAP&&o&&(t.x+=i.offsetX,t.y+=i.offsetY,CoordTransUtils.convertPixToPt3D(t,i,e))},getBounds:function(){if(!this.isLoaded())return new Bounds;var t=arguments[0]||{},e=t.margins||[0,0,0,0],i=t.zoom||null;return new Bounds(this.pixelToPoint({x:e[3],y:this.height-e[2]},i),this.pixelToPoint({x:this.width-e[1],y:e[0]},i))},isLoaded:function(){return!!this.loaded},_getBestLevel:function(t,e){for(var i=this.getMapType(),n=e.margins||[10,10,10,10],o=e.zoomFactor||0,a=n[1]+n[3],r=n[0]+n[2],s=i.getMinZoom(),l=i.getMaxZoom(),h=l;h>=s;h--){var c=this.getMapType().getZoomUnits(h);if(t.toSpan().lng/c<this.width-a&&t.toSpan().lat/c<this.height-r)break}return h+=o,h<s&&(h=s),h>l&&(h=l),h},getViewport:function(t,e){var i={center:this.getCenter(),zoom:this.getZoom()};if(!t||!t instanceof Bounds&&0===t.length||t instanceof Bounds&&t.isEmpty())return i;var n=[];t instanceof Bounds?(n.push(t.getNorthEast()),n.push(t.getSouthWest())):n=t.slice(0),e=e||{};for(var o=[],a=0,r=n.length;a<r;a++){var s=gcjToBd09(n[a],this.config.coordsType);o.push(this.projection.lngLatToMercator(s,this.currentCity))}for(var l=new Bounds,a=o.length-1;a>=0;a--)l.extend(o[a]);if(l.isEmpty())return i;var h=l.getCenter(),c=this._getBestLevel(l,e);if(e.margins){var d=e.margins,u=(d[1]-d[3])/2,p=(d[0]-d[2])/2,_=this.getMapType().getZoomUnits(c);e.offset&&(u=e.offset.width,p=e.offset.height),h.lng=h.lng+_*u,h.lat=h.lat+_*p}return h=this.projection.mercatorToLngLat(h,this.currentCity),{center:bd09ToGcj02(new PointN(h.lng,h.lat),this.config.coordsType),zoom:c}},setViewport:function(t,e){var i;i=t&&t.center?t:this.getViewport(t,e),e=e||{};var n=e.delay||200;if(i.zoom===this.zoomLevel&&!1!==e.enableAnimation){var o=this;setTimeout(function(){o.panTo(i.center,{duration:210})},n)}else this.centerAndZoom(i.center,i.zoom)},getPanes:function(){return this._panes},getInfoWindow:function(){return this.temp.infoWin&&this.temp.infoWin.isOpen()?this.temp.infoWin:null},getDistance:function(t,e){if(t&&e){if(t.equals(e))return 0;var i=this.config?this.config.coordsType:5,t=gcjToBd09(t,i),e=gcjToBd09(e,i),n=0;return n=MercatorProjection.getDistanceByLL(t,e),null!==n&&void 0!==n||(n=0),n}},getOverlays:function(){var t=[],e=this._overlays,i=this._customOverlays;if(e)for(var n in e)e[n]instanceof OverlayInternal&&t.push(e[n]);if(i)for(var n=0,o=i.length;n<o;n++)t.push(i[n]);return t},getMapType:function(){return this.mapType.setProjectMap(this.config.coordsType),this.mapType},getTileType:function(){return this._tileType},_asyncRegister:function(){for(var t=this.temp.registerIndex;t<BMap._register.length;t++)BMap._register[t](this);this.temp.registerIndex=t},setCurrentCity:function(t){var e=this;e.currentCity=BMAP_PERSPECTIVE_MAP.getCityName(t),e.cityCode=BMAP_PERSPECTIVE_MAP.getCityCode(e.currentCity),e.mapType===BMAP_PERSPECTIVE_MAP&&e.projection instanceof PerspectiveProjection&&(e.projection.curCityName=e.currentCity)},setDefaultCursor:function(t){this.config.defaultCursor=t,this.platform&&(this.platform.style.cursor=this.config.defaultCursor)},getDefaultCursor:function(){return this.config.defaultCursor},setDraggingCursor:function(t){this.config.draggingCursor=t},getDraggingCursor:function(){return this.config.draggingCursor},highResolutionEnabled:function(){return this.config.enableHighResolution&&this.config.devicePixelRatio>=1.5},addHotspot:function(t,e){e?this._hotspots[e]||(this._hotspots[e]={}):e="custom",t.tag=e,t instanceof Hotspot&&(this._hotspots[e][t.guid]=t,t.initialize(this));var i=this;ModuleMgr.load("hotspot",function(){i._asyncRegister()},!0)},removeHotspot:function(t,e){e||(e="custom"),this._hotspots[e][t.guid]&&delete this._hotspots[e][t.guid]},clearHotspots:function(t){t||(t="custom"),this._hotspots[t]={}},_checkZoom:function(){var t=this.mapType.getMinZoom(),e=this.mapType.getMaxZoom(),i=this.config;i.minZoom=i.userMinZoom||t,i.maxZoom=i.userMaxZoom||e,i.minZoom<t&&(i.minZoom=t),i.maxZoom>e&&(i.maxZoom=e)},setMinZoom:function(t){t=Math.round(t),t>this.config.maxZoom&&(t=this.config.maxZoom),this.config.userMinZoom=t,this._updateZoom()},setMaxZoom:function(t){t=Math.round(t),t<this.config.minZoom&&(t=this.config.minZoom),this.config.userMaxZoom=t,this._updateZoom()},_updateZoom:function(){this._checkZoom();var t=this.config;this.zoomLevel<t.minZoom?this.setZoom(t.minZoom):this.zoomLevel>t.maxZoom&&this.setZoom(t.maxZoom);var e=new BaseEvent("onzoomspanchange");e.minZoom=t.minZoom,e.maxZoom=t.maxZoom,this.dispatchEvent(e)},getViewTiles:function(){return this._viewTiles},getKey:function(){return AUTHENTIC_KEY},setMapStyleV2:function(t){var e=this,i=this.guid;BMap._alog("cus.fire","count","z_setmapstylev2count"),this.setNormalMapDisplay(!1),this.config.mapStyleV2=!0,this.addEventListener("hidecopyright",function(){e.cpyCtrl.hide(),e.config.customEditor=!!t.customEditor,!1===e.config.customEditor&&e.setBMapCopyrightOffset(new Size(1,1))}),e.cpyCtrl&&e.cpyCtrl.hide(),this.config.customEditor=!!t.customEditor,this.config.sharing=!!t.sharing,this.config.preview=!!t.preview,!1===this.config.customEditor&&this.setBMapCopyrightOffset(new Size(1,1)),ModuleMgr.load("hotspot",function(){e._asyncRegister()},!0),window[i+"zoomRegion"]={},window.zoomFeatureStyle=[],window[i+"zoomStyleBody"]=[],window[i+"zoomFrontStyle"]={};var n=this.getZoom(),o={};baidu.extend(o,t),window[i+"cb"]=function(t){t=JSON.parse(t),0===t.status&&(3===t.data.style.length?(window[i+"_bmap_baseFs"]=t.data.style,window[i+"StyleBody"]=t.data.style[2]):window[i+"StyleBody"]=t.data.style,e.updateFrontFeatureStyle(),e.initVectorLayer())};var a=function(t){e.styleJson=t;var o=BMap.apiUrl+"custom/v2/mapstyle",a="version=4&ak="+AUTHENTIC_KEY+"&";e.config.customEditor||e.config.sharing||e.config.preview,a+="is_all=true&is_new=1&",a+="styles="+encodeURIComponent(e.styleJson2styleStringV2(t,n)),AJAX.post(o,a,window[i+"cb"])};if(t.styleId){var r="jsapi";t.sharing?r="sharing":t.preview&&(r="preview"),this.getJsonByStyleId(t.styleId,r,a)}else a(t.styleJson);window.iconSetInfo_high||DataMgr.request(BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[0]+"/sty/icons_na2x.js?udt=20190108&v=001&from=jsapi")},getJsonByStyleId:function(t,e,i){var n=this,o=this.guid,a=(1e5*Math.random()).toFixed(0);window[o+"_cbk_si_phpui"+a]=function(t){var e=[];t.result&&0===t.result.error&&t.content&&0===t.content.status&&(e=n.parseJson(t.content.data.json)),i&&i(e)},window[o+"_cbk_si_api"+a]=function(t){var e=[];0===t.status&&(e=t.info?n.parseJson(t.info.json):n.parseJson(t.data.json)),i&&i(e)};var r="/apiconsole/custommap/";switch(e){case"jsapi":r=BMap.apiUrl+"?qt=custom_map&v=3.0",r+="&style_id="+t+"&type=publish&ak="+AUTHENTIC_KEY,r+="&callback="+o+"_cbk_si_phpui"+a;break;case"sharing":r+="getSharingJson",r+="?styleid="+t+"&type=edit",r+="&ck="+o+"_cbk_si_api"+a;break;case"preview":r+="getJson",r+="?styleid="+t+"&type=edit",r+="&ck="+o+"_cbk_si_api"+a}DataMgr.request(r)},defineMap:function(){Array.prototype.map||(Array.prototype.map=function(t,e){var i,n,o;if(null==this)throw new TypeError(" this is null or not defined");var a=Object(this),r=a.length>>>0;if("[object Function]"!=Object.prototype.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(i=e),n=new Array(r),o=0;o<r;){var s,l;o in a&&(s=a[o],l=t.call(i,s,o,a),n[o]=l),o++}return n})},parseJson:function(t){if(null===t||""===t)return[];this.defineMap();var e={t:"featureType",e:"elementType",v:"visibility",c:"color",l:"lightness",s:"saturation",w:"weight",z:"level",h:"hue",f:"fontsize",zri:"curZoomRegionId",zr:"curZoomRegion"},i={all:"all",g:"geometry","g.f":"geometry.fill","g.s":"geometry.stroke",l:"labels","l.t.f":"labels.text.fill","l.t.s":"labels.text.stroke","l.t":"labels.text","l.i":"labels.icon","g.tf":"geometry.fill"};return t.split(",").map(function(t){var n=t.split("|").map(function(t){var n=e[t.split(":")[0]],o=i[t.split(":")[1]]?i[t.split(":")[1]]:t.split(":")[1];switch(o){case"poi":o="poilabel";break;case"districtlabel":o="districtlabel"}var a={};return a[n]=o,a}),o=n[0],a=1;n[1].elementType&&(a=2,baidu.extend(o,n[1]));for(var r={},s=a;s<n.length;s++)baidu.extend(r,n[s]);return baidu.extend(o,{stylers:r})})},getVectorContainer:function(){return this.tileMgr._indoorLayerContainer},getOtherZoomStyles:function(t,e){var i=this,n=this.guid,o=t,a=(1e5*Math.random()).toFixed(0);window[n+"_cbk"+a]=function(t){t=JSON.parse(t),t=3===t.data.style.length?t.data.style[2]:t.data.style,i.updateZoomFeatureStyle(t,o),i.updateFrontFeatureStyle(o);var e=new BaseEvent("onzoomfeatureload"+o);i.dispatchEvent(e),delete window[n+"_cbk"+a]};var r=BMap.apiUrl+"custom/v2/mapstyle",s="ak="+AUTHENTIC_KEY+"&";i.config.customEditor||i.config.sharing||i.config.preview,s+="is_all=true&is_new=1&",e.styleJson?s+="styles="+encodeURIComponent(this.styleJson2styleStringV2(e.styleJson,parseInt(o,10))):e.styleId&&(s+="styles="+encodeURIComponent(i.styleJson2styleStringV2(i.styleJson,parseInt(o,10)))),AJAX.post(r,s,window[n+"_cbk"+a])},setBMapCopyrightOffset:function(t,e){var i=new BaseEvent("oncopyrightoffsetchange",{logo:t,cpy:e});this.config.cpyCtrlOffset=e,this.dispatchEvent(i)},setMapStyle:function(t){var e=this;if(window.MPC_Mgr&&window.MPC_Mgr[e.guid]&&window.MPC_Mgr[e.guid].close(),e.config.enableMapClick=!1,BMap._alog("cus.fire","count","z_setmapstylecount"),t){var e=this;t.styleJson&&(t.styleStr=e.styleJson2styleStringV1(t.styleJson)),isMobile()&&baidu.browser.safari?setTimeout(function(){e.config.mapStyle=t,e.dispatchEvent(new BaseEvent("onsetcustomstyles",t))},50):(this.config.mapStyle=t,this.dispatchEvent(new BaseEvent("onsetcustomstyles",t)),this.initCustomLayer(e.config.mapStyle.geotableId));var i={style:t.style};if(t.features&&t.features.length>0&&(i.features=!0),t.styleJson&&t.styleJson.length>0&&(i.styleJson=!0),_addStat(STAT.MAP_SET_MAP_STYLE,i),t.style){var n=e.config.colorTypeHash[t.style]?e.config.colorTypeHash[t.style].backColor:e.config.colorTypeHash.normal.backColor;n&&(this.getContainer().style.backgroundColor=n)}t.cusBackgroundColor&&(this.getContainer().style.backgroundColor=t.cusBackgroundColor)}},initControl:function(t){this.controls||(this.controls={navigationControl:new NavigationControl,scaleControl:new ScaleControl,overviewMapControl:new OverviewMapControl,mapTypeControl:new MapTypeControl});var e=this;for(var i in this.controls)e.removeControl(e.controls[i]);t=t||[],baidu.array.each(t,function(t){e.addControl(e.controls[t])})},initCustomLayer:function(t){t?this.customLayer&&this.customLayer._geotableId===t||(this.removeTileLayer(this.customLayer),this.customLayer=new CustomLayer({geotableId:t}),this.addTileLayer(this.customLayer)):this.removeTileLayer(this.customLayer)},vectorMapEnabled:function(){return!0},getCurrentCity:function(){return{name:this.cityName,code:this.cCode}},getPanorama:function(){return this._pano._load(),this._pano},initIndoorLayer:function(t){BMAP_NORMAL_MAP.setMaxZoom(t.maxZoom||19);var e=new BaseEvent("oninitindoorlayer");e.opts=t,this.dispatchEvent(e),this.config.enableIndoorLayer=!1},initVectorLayer:function(t){if(this.config.enableIndoorLayer){var e=new BaseEvent("onupdatestyles");return void this.dispatchEvent(e)}var e=new BaseEvent("oninitindoorlayer");e.opts=t,this.dispatchEvent(e),this.config.enableIndoorLayer=!0,this.config.enableCustomLayer=!0},setNormalMapDisplay:function(t){this.config.normalMapDisplay=t,this.tileMgr.tilesDiv||(this.tileMgr.tilesDiv=this.tileMgr.mapTypeLayers[0].tilesDiv),this.tileMgr.tilesDiv.parentElement.style.display=t?"block":"none"},setIndoorMapDisplay:function(t){this.tileMgr._indoorLayerContainer.style.display=t?"block":"none"},setPanorama:function(t){this._pano=t,this._pano.setMap(this)},styleJson2styleStringV2:function(t,e){for(var i=this.guid,n={featureType:"t",elementType:"e",visibility:"v",color:"c",lightness:"l",saturation:"s",weight:"w",level:"z",hue:"h",fontsize:"f"},o={all:"all",geometry:"g","geometry.fill":"g.f","geometry.stroke":"g.s",labels:"l","labels.text.fill":"l.t.f","labels.text.stroke":"l.t.s","labels.text":"l.t","labels.icon":"l.i","geometry.topfill":"g.f"},a=[],r=this.mapType.getMinZoom();r<=this.mapType.getMaxZoom();r++)window[i+"zoomFrontStyle"][r]={};window[i+"zoomFrontStyle"].main={};for(var s,r=0;s=t[r];r++)if(!this.isOnlyZoomStyler(s)){e=this.getFrontZoom(s,e),"land"!==s.featureType&&"all"!==s.featureType&&"background"!==s.featureType||"string"!=typeof s.elementType||"geometry"!==s.elementType&&"geometry.fill"!==s.elementType&&"all"!==s.elementType||!s.stylers||(s.stylers.color&&(window[i+"zoomFrontStyle"][e].bmapLandColor=s.stylers.color),s.stylers.visibility&&"off"===s.stylers.visibility&&(window[i+"zoomFrontStyle"][e].bmapLandColor="#00000000")),"railway"===s.featureType&&"string"==typeof s.elementType&&s.stylers&&(s.stylers.color&&("geometry"===s.elementType&&(window[i+"zoomFrontStyle"][e].bmapRailwayFillColor=s.stylers.color,window[i+"zoomFrontStyle"][e].bmapRailwayStrokeColor=s.stylers.color),
"geometry.fill"===s.elementType&&(window[i+"zoomFrontStyle"][e].bmapRailwayFillColor=s.stylers.color),"geometry.stroke"===s.elementType&&(window[i+"zoomFrontStyle"][e].bmapRailwayStrokeColor=s.stylers.color)),s.stylers.visibility&&(window[i+"zoomFrontStyle"][e].bmapRailwayVisibility=s.stylers.visibility)),"roadarrow"===s.featureType&&"labels.icon"===s.elementType&&s.stylers&&(window[i+"zoomFrontStyle"][e].bmapRoadarrowVisibility=s.stylers.visibility);var l={};baidu.extend(l,s);var h=l.stylers;delete l.stylers,baidu.extend(l,h);var c=[];for(var d in n)if(l[d]){if(this.isEditorZoomKeys(d))continue;if("elementType"===d)c.push(n[d]+":"+o[l[d]]);else{switch(l[d]){case"poilabel":l[d]="poi";break;case"districtlabel":l[d]="label"}c.push(n[d]+":"+l[d])}}c.length>2&&a.push(c.join("|"))}return a.join(",")},styleJson2styleStringV1:function(t){for(var e,i={featureType:"t",elementType:"e",visibility:"v",color:"c",lightness:"l",saturation:"s",weight:"w",zoom:"z",hue:"h"},n={all:"all",geometry:"g","geometry.fill":"g.f","geometry.stroke":"g.s",labels:"l","labels.text.fill":"l.t.f","labels.text.stroke":"l.t.s","lables.text":"l.t","labels.icon":"l.i"},o=[],a=0;e=t[a];a++){var r=e.stylers;delete e.stylers,baidu.extend(e,r);var s=[];for(var l in i)if(e[l])if("elementType"===l)s.push(i[l]+":"+n[e[l]]);else{switch(e[l]){case"poilabel":e[l]="poi";break;case"districtlabel":e[l]="label"}s.push(i[l]+":"+e[l])}s.length>2&&o.push(s.join("|"))}return o.join(",")},setBrowserContextmenu:function(t){this.config.enableContextmenu=t},getFrontZoom:function(t,e){var i=t.stylers.level;return void 0===i?"main":parseInt(i,10)},isOnlyZoomStyler:function(t){var e={};return baidu.extend(e,t.stylers),delete e.curZoomRegionId,delete e.curZoomRegion,delete e.level,!!baidu.isEmptyObject(e)},isSelectZoom:function(t,e){var i=t.stylers.level;return void 0===i||i===e+""},isEditorZoomKeys:function(t){return!!{curZoomRegionId:!0,curZoomRegion:!0}[t]},getZoomRegion:function(t,e){var i=t.stylers.level,n={};return baidu.extend(n,e),void 0===i?n:(n[parseInt(i,10)]=!0,n)},updateZoomFeatureStyle:function(t,e){var i=this.guid;if(window[i+"zoomStyleBody"][e]=t,!window[i+"zoomRegion"][e])for(var n=this.mapType.getMinZoom(),o=this.mapType.getMaxZoom(),a=n;a<=o;a++)window[i+"zoomRegion"][a]||(window[i+"zoomStyleBody"][a]=t)},updateFrontFeatureStyle:function(){var t=this.guid;if(window[t+"zoomFrontStyle"].main.bmapRoadarrowVisibility)for(var e=this.mapType.getMinZoom();e<=this.mapType.getMaxZoom();e++)window[t+"zoomFrontStyle"][e].bmapRoadarrowVisibility||(window[t+"zoomFrontStyle"][e].bmapRoadarrowVisibility=window[t+"zoomFrontStyle"].main.bmapRoadarrowVisibility);if(window[t+"zoomFrontStyle"].main.bmapLandColor)for(var e=this.mapType.getMinZoom();e<=this.mapType.getMaxZoom();e++)window[t+"zoomFrontStyle"][e].bmapLandColor||(window[t+"zoomFrontStyle"][e].bmapLandColor=window[t+"zoomFrontStyle"].main.bmapLandColor);if(window[t+"zoomFrontStyle"].main.bmapRailwayFillColor)for(var e=this.mapType.getMinZoom();e<=this.mapType.getMaxZoom();e++)window[t+"zoomFrontStyle"][e].bmapRailwayFillColor||(window[t+"zoomFrontStyle"][e].bmapRailwayFillColor=window[t+"zoomFrontStyle"].main.bmapRailwayFillColor);if(window[t+"zoomFrontStyle"].main.bmapRailwayStrokeColor)for(var e=this.mapType.getMinZoom();e<=this.mapType.getMaxZoom();e++)window[t+"zoomFrontStyle"][e].bmapRailwayStrokeColor||(window[t+"zoomFrontStyle"][e].bmapRailwayStrokeColor=window[t+"zoomFrontStyle"].main.bmapRailwayStrokeColor);if(window[t+"zoomFrontStyle"].main.bmapRailwayVisibility)for(var e=this.mapType.getMinZoom();e<=this.mapType.getMaxZoom();e++)window[t+"zoomFrontStyle"][e].bmapRailwayVisibility||(window[t+"zoomFrontStyle"][e].bmapRailwayVisibility=window[t+"zoomFrontStyle"].main.bmapRailwayVisibility)},calcuOtherZoomRegion:function(t,e){var i={};if(baidu.extend(i,t),i[e]){for(var n=this.mapType.getMinZoom(),o=this.mapType.getMaxZoom(),a=n;a<=o;a++)if(!i[a]){i[a]=!0;break}delete i[e]}return i},isClickableLabel:function(t){return!t.isDel&&"0"!==t.uid},clearPoiAreaSpots:function(){delete this._areaspots.poi},clearAreaSpots:function(){this._areaspots={}},setMapTileType:function(t){this.dispatchEvent(new BaseEvent("onsettiletype",t))},addAreaSpot:function(t,e,i){if(!this.config.customEditor)return!1;var t=t||"sp"+this.temp.spotsGuid++;if(e&&0!==e.length)return i=i||{},this._areaspots[t]=this._areaspots[t]||{polygon:[],polyline:[]},this._areaspots=this._areaspots||{},this._areaspots[t][i.type].push({spot:e,sid:i.sid,type:i.type,style:i.style}),t},worldSize:function(t){var e=t;return Map.WORLD_SIZE_MC/Math.pow(2,18-e)}}),Map.WORLD_SIZE_MC_HALF=20037726.372307256,Map.WORLD_SIZE_MC=2*Map.WORLD_SIZE_MC_HALF;var BMAP_API_VERSION="4.0",BMAP_COORD_LNGLAT=0,BMAP_COORD_MERCATOR=1;_addStat._reqQueue=[],_addStat._img=new Image,_addStat(STAT.MAP_JS_EXECUTED,{device_pixel_ratio:window.devicePixelRatio,platform:navigator.platform}),BMap.httpsUrl={TILE_BASE_URLS:["gss0.bdstatic.com/5bwHcj7lABFU8t_jkk_Z1zRvfdw6buu","gss0.bdstatic.com/5bwHcj7lABFV8t_jkk_Z1zRvfdw6buu","gss0.bdstatic.com/5bwHcj7lABFS8t_jkk_Z1zRvfdw6buu","gss0.bdstatic.com/5bwHcj7lABFT8t_jkk_Z1zRvfdw6buu","gss0.bdstatic.com/5bwHcj7lABFY8t_jkk_Z1zRvfdw6buu"],TILE_ONLINE_URLS:["maponline0.bdimg.com","maponline1.bdimg.com","maponline2.bdimg.com","maponline3.bdimg.com"],TIlE_PERSPECT_URLS:["gss0.bdstatic.com/-OR1cTe9KgQFm2e88IuM_a","gss0.bdstatic.com/-ON1cTe9KgQFm2e88IuM_a","gss0.bdstatic.com/-OZ1cTe9KgQFm2e88IuM_a","gss0.bdstatic.com/-OV1cTe9KgQFm2e88IuM_a"],geolocControl:"gsp0.baidu.com/8LkJsjOpB1gCo2Kml5_Y_D3",TILES_YUN_HOST:["gsp0.baidu.com/-eR1bSahKgkFkRGko9WTAnF6hhy","gsp0.baidu.com/-eN1bSahKgkFkRGko9WTAnF6hhy","gsp0.baidu.com/-eZ1bSahKgkFkRGko9WTAnF6hhy","gsp0.baidu.com/-eV1bSahKgkFkRGko9WTAnF6hhy"],traffic:"gsp0.baidu.com/7_AZsjOpB1gCo2Kml5_Y_DAcsMJiwa",iw_pano:"gss0.bdstatic.com/5LUZemba_QUU8t7mm9GUKT-xh_",message:"gsp0.baidu.com/7vo0bSba2gU2pMbgoY3K",baidumap:"gsp0.baidu.com/80MWsjip0QIZ8tyhnq",wuxian:"gsp0.baidu.com/6a1OdTeaKgQFm2e88IuM_a",pano:["gss0.bdstatic.com/5LUZemba_QUU8t7mm9GUKT-xh_","gss0.bdstatic.com/5LUZemfa_QUU8t7mm9GUKT-xh_","gss0.bdstatic.com/5LUZemja_QUU8t7mm9GUKT-xh_"],main_domain_nocdn:{baidu:"gsp0.baidu.com/9_Q4sjOpB1gCo2Kml5_Y_D3",other:"api.map.baidu.com"},main_domain_cdn:{baidu:["gss0.bdstatic.com/9_Q4vHSd2RZ3otebn9fN2DJv","gss0.baidu.com/9_Q4vXSd2RZ3otebn9fN2DJv","gss0.bdstatic.com/9_Q4vnSd2RZ3otebn9fN2DJv"],other:["api.map.baidu.com"],webmap:["gss0.baidu.com/6b1IcTe9R1gBo1vgoIiO_jowehsv"]},map_click:"gsp0.baidu.com/80MWbzKh2wt3n2qy8IqW0jdnxx1xbK",vector_traffic:"gss0.bdstatic.com/8aZ1cTe9KgQIm2_p8IuM_a"},BMap.httpUrl={TILE_BASE_URLS:["shangetu0.map.bdimg.com","shangetu1.map.bdimg.com","shangetu2.map.bdimg.com","shangetu3.map.bdimg.com","shangetu4.map.bdimg.com"],TILE_ONLINE_URLS:["maponline0.bdimg.com","maponline1.bdimg.com","maponline2.bdimg.com","maponline3.bdimg.com"],TIlE_PERSPECT_URLS:["d0.map.baidu.com","d1.map.baidu.com","d2.map.baidu.com","d3.map.baidu.com"],geolocControl:"loc.map.baidu.com",TILES_YUN_HOST:["g0.api.map.baidu.com","g1.api.map.baidu.com","g2.api.map.baidu.com","g3.api.map.baidu.com"],traffic:"its.map.baidu.com:8002",iw_pano:"mapsv0.bdimg.com",message:"j.map.baidu.com",baidumap:"map.baidu.com",wuxian:"wuxian.baidu.com",pano:["mapsv0.bdimg.com","mapsv1.bdimg.com"],main_domain_nocdn:{baidu:"api.map.baidu.com"},main_domain_cdn:{baidu:["api0.map.bdimg.com","api1.map.bdimg.com","api2.map.bdimg.com"],webmap:["webmap0.map.bdimg.com"]},map_click:"mapclick.map.baidu.com",vector_traffic:"or.map.bdimg.com"},BMap.urlType={0:{proto:"http://",domain:BMap.httpUrl},1:{proto:"https://",domain:BMap.httpsUrl},2:{proto:"https://",domain:BMap.httpsUrl}},window.BMAP_PROTOCOL&&"https"===window.BMAP_PROTOCOL&&(window.HOST_TYPE=2),BMap.urlStr=window.HOST_TYPE||"0",BMap.url=BMap.urlType[BMap.urlStr],BMap.mapUrl=BMap.url.proto+BMap.url.domain.baidumap+"/",BMap.apiUrl=BMap.url.proto+("2"==BMap.urlStr?BMap.url.domain.main_domain_nocdn.other:BMap.url.domain.main_domain_nocdn.baidu)+"/",BMap.offlineTile=!0,BMap.offline=!0,BMap.apiUrl="http://10.236.24.70:8837/",BMap.apiUrlCdn=BMap.apiUrl+"baidumap/jsapi/",BMap.searchUrl="http://10.236.24.70:8837",BMap.tileUrl="http://10.236.24.70:8837/maptile/v1/tile",BMap.trafficURL="http://10.236.24.70:8837/traffic/v1/traffic?",BMap.httpUrl.pano=["777.777.777.777"],BMap.tileTypeArr=["WGS84","BD09","GCJ02"],BMap.tileType=BMap.tileTypeArr[1],BMap.tileDir=BMap.tileType,BMap.coordReturn={WGS84:"wgs84ll",BD09:"bd09ll",GCJ02:"gcj02ll"},"GCJ02"==BMap.tileType&&(BMap.tileType="WGS84"),BMap.isTileEncode=!1,BMap.apiIconUrl=BMap.url.proto+(BMap.urlStr,BMap.url.domain.main_domain_cdn.webmap[0])+"/",BMap.getServerUrl=function(t,e){var i,n;switch(e=e||"",t){case"main_domain_nocdn":i=BMap.apiUrl+e;break;case"main_domain_cdn":i=BMap.apiUrlCdn+e;break;default:n=BMap.url.domain[t],"[object Array]"==Object.prototype.toString.call(n)?(i=[],baidu.array.each(n,function(t,n){i[n]=BMap.url.proto+t+"/"+e})):i=BMap.url.proto+BMap.url.domain[t]+"/"+e}return i},Animation.INFINITE="INFINITE",Animation.prototype.start=function(){this._beginTime=getCurrentTime(),this._endTime=this._beginTime+this._opts.duration,this._launch()},Animation.prototype.add=function(t){this._anis.push(t)},Animation.prototype._launch=function(){var t=this,e=getCurrentTime();if(e>=t._endTime){if(isFunction(t._opts.render)&&t._opts.render(t._opts.transition(1)),isFunction(t._opts.finish)&&t._opts.finish(),t._anis.length>0){var i=t._anis[0];i._anis=[].concat(t._anis.slice(1)),i.start()}}else t.schedule=t._opts.transition((e-t._beginTime)/t._opts.duration),isFunction(t._opts.render)&&t._opts.render(t.schedule),t.terminative||(t._timer=setTimeout(function(){t._launch()},1e3/t._opts.fps))},Animation.prototype.stop=function(t){this.terminative=!0;for(var e=0;e<this._anis.length;e++)this._anis[e].stop(),this._anis[e]=null;this._anis.length=0,this._timer&&(clearTimeout(this._timer),this._timer=null),this._opts.onStop(this.schedule),t&&(this._endTime=this._beginTime,this._launch())},Animation.prototype.cancel=function(){this._timer&&clearTimeout(this._timer),this._endTime=this._beginTime,this.schedule=0},Animation.prototype.setFinishCallback=function(t){this._anis.length>0?this._anis[this._anis.length-1]._opts.finish=t:this._opts.finish=t};var Transitions={linear:function(t){return t},reverse:function(t){return 1-t},easeInQuad:function(t){return t*t},easeInCubic:function(t){return Math.pow(t,3)},easeOutQuad:function(t){return-t*(t-2)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutQuad:function(t){return t<.5?t*t*2:-2*(t-2)*t-1},easeInOutCubic:function(t){return t<.5?4*Math.pow(t,3):4*Math.pow(t-1,3)+1},easeInOutSine:function(t){return(1-Math.cos(Math.PI*t))/2}};Transitions["ease-in"]=Transitions.easeInQuad,Transitions["ease-out"]=Transitions.easeOutQuad;var MapConfig={A_J_MARKER_ORANGE_ICON_Y:34,A_J_MARKER_RED_ICON_WID:21,A_J_MARKER_RED_SIZE:new Size(21,32),A_J_MARKER_RED_OFFSET:new Size(10,32),A_J_MARKER_BLUE_SIZE:new Size(24,36),A_J_MARKER_BLUE_OFFSET:new Size(12,36),A_J_MARKER_INFOWND_OFFSET:new Size(13,1),imgPath:BMap.apiUrlCdn+"images/",imgPathI:"../../src/images/",A_J_MARKER_NEWYEAR_IMG:BMap.apiUrlCdn+"images/markers_new.png",A_J_MARKER_BLUE_ICON_WID:24,A_J_MARKER_BLUE_ICON_Y:73,cityNames:{"北京":{pinyin:"bj",pt:new PointN(116.403874,39.914889)},"上海":{pinyin:"sh",pt:new PointN(121.487899,31.249162)},"深圳":{pinyin:"sz",pt:new PointN(114.025974,22.546054)},"广州":{pinyin:"gz",pt:new PointN(113.30765,23.120049)}},fontFamily:"arial,sans-serif"};baidu.browser.firefox?(baidu.extend(MapConfig,{distCursor:"url("+MapConfig.imgPath+"ruler.cur),crosshair",defaultCursor:"-moz-grab",draggingCursor:"-moz-grabbing"}),baidu.platform.isWindows&&(MapConfig.fontFamily="arial,simsun,sans-serif")):baidu.browser.chrome||baidu.browser.safari?baidu.extend(MapConfig,{distCursor:"url("+MapConfig.imgPath+"ruler.cur) 2 6,crosshair",defaultCursor:"url("+MapConfig.imgPath+"openhand.cur) 8 8,default",draggingCursor:"url("+MapConfig.imgPath+"closedhand.cur) 8 8,move"}):baidu.extend(MapConfig,{distCursor:"url("+MapConfig.imgPath+"ruler.cur),crosshair",defaultCursor:"url("+MapConfig.imgPath+"openhand.cur),default",draggingCursor:"url("+MapConfig.imgPath+"closedhand.cur),move"});var Operation={undo:1,redo:2,zoom:4,drag:8,move:16,mousewheel:32,toolbarOperation:64,stdMapCtrlDrag:128,dblclick:256},b64array="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",BaseEvent=baidu.lang.Event;BMap.logCount=function(){function t(){l+=1,o&&(o=!1,setTimeout(function(){_addStat(STAT.MAP_PIC,{pic:l}),o=!0,l=0},1e4))}function e(){h+=1,a&&(a=!1,setTimeout(function(){_addStat(STAT.MAP_MOVE,{move:h}),a=!0,h=0},1e4))}function i(){c+=1,r&&(r=!1,setTimeout(function(){_addStat(STAT.MAP_ZOOM,{zoom:c}),r=!0,c=0},1e4))}function n(t){d+=t,s&&(s=!1,setTimeout(function(){_addStat(STAT.MAP_ZOOM_ALL,{tile:d}),s=!0,d=0},5e3))}var o=!0,a=!0,r=!0,s=!0,l=0,h=0,c=0,d=0;return{_countPic:t,_countMove:e,_countZoom:i,_countTile:n}}(),BMap.MAPTYPE_BUTTON_COLORS={HIGHLIGHT:"#83a1ff",NORMAL:"#808080"},function(t,e,i){!function(t,e,i){function n(t){var i=E.get("alias")||{},n=i[t]||t+".js";if(!w[n]){w[n]=!0;var o=e.createElement("script"),a=e.getElementsByTagName("script")[0];o.async=!0,o.src=n,a.parentNode.insertBefore(o,a)}}function o(t){if(!t.defined){for(var e=!0,i=[],o=t.requires,r=0;o&&r<o.length;r++){var s=o[r],l=C[s]=C[s]||{};l.defined||l==t?i.push(l.instance):(e=!1,l.defining||n(s),l.waiting=l.waiting||{},l.waiting[t.name]=t)}e&&(t.defined=!0,t.creator&&(t.instance=t.creator.apply(t,i)),a(t))}}function a(t){for(var e in t.waiting)o(t.waiting[e])}function r(t){return(t||new Date)-y}function s(t,e,i){if(t){"string"==typeof t&&(i=e,e=t,t=P);try{if(t==P)return M[e]=M[e]||[],void M[e].unshift(i);t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)}catch(t){}}}function l(t,e,i){if(t){"string"==typeof t&&(i=e,e=t,t=P);try{if(t==P){var n=M[e];if(!n)return;for(var o=n.length;o--;)n[o]===i&&n.splice(o,1);return}t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)}catch(t){}}}function h(t){var e=M[t],i=0;if(e){for(var n=[],o=arguments,a=1;a<o.length;a++)n.push(o[a]);for(var a=e.length;a--;)e[a].apply(this,n)&&i++;return i}}function c(t,e){if(t&&e){var i=new Image(1,1),n=[],o="img_"+ +new Date;for(var a in e)e[a]&&n.push(a+"="+encodeURIComponent(e[a]));P[o]=i,i.onload=i.onerror=function(){P[o]=i=i.onload=i.onerror=null,delete P[o]},i.src=t+"?"+n.join("&")}}function d(t,e){if(!t)return e;var i={};for(var n in e)null!==t[n]&&(i[t[n]||n]=e[n]);return i}function u(){var t=arguments,e=t[0];if(this.created||/^(on|un|set|get|create)$/.test(e)){for(var i=_.prototype[e],n=[],o=1,a=t.length;o<a;o++)n.push(t[o]);"function"==typeof i&&i.apply(this,n)}else this.argsList.push(t)}function p(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}function _(t){this.name=t,this.fields={protocolParameter:{postUrl:null,protocolParameter:null}},this.argsList=[],this.alog=P}function g(t){var e;if("*"==(t=t||"default")){e=[];for(var i in T)e.push(T[i]);return e}var n=T[t];return n||(n=T[t]=new _(t)),n}var m=i.alog;if(!m||!m.defined){var f,v=e.all&&t.attachEvent,y=m&&m.l||+new Date,b=t.logId||(+new Date).toString(36)+Math.random().toString(36).substr(2,3),x=0,w={},P=function(t){var e,i,n,a,r=arguments;if("define"==t||"require"==t){for(var s=1;s<r.length;s++)switch(typeof r[s]){case"string":e=r[s];break;case"object":n=r[s];break;case"function":a=r[s]}return"require"==t&&(e&&!n&&(n=[e]),e=null),e=e||"#"+x++,i=C[e]=C[e]||{},void(i.defined||(i.name=e,i.requires=n,i.creator=a,"define"==t&&(i.defining=!0),o(i)))}if("function"==typeof t)return void t(P);String(t).replace(/^(?:([\w$_]+)\.)?(\w+)$/,function(t,e,i){r[0]=i,u.apply(P.tracker(e),r)})},M={},T={},C={alog:{name:"alog",defined:!0,instance:P}};_.prototype.start=_.prototype.create=function(t){if(!this.created){"object"==typeof t&&this.set(t),this.created=new Date,this.fire("create",this);for(var e;e=this.argsList.shift();)u.apply(this,e)}},_.prototype.send=function(t,e){var i=p({ts:r().toString(36),t:t,sid:b},this.fields);if("object"==typeof e)i=p(i,e);else{var n=arguments;switch(t){case"pageview":n[1]&&(i.page=n[1]),n[2]&&(i.title=n[2]);break;case"event":n[1]&&(i.eventCategory=n[1]),n[2]&&(i.eventAction=n[2]),n[3]&&(i.eventLabel=n[3]),n[4]&&(i.eventValue=n[4]);break;case"timing":n[1]&&(i.timingCategory=n[1]),n[2]&&(i.timingVar=n[2]),n[3]&&(i.timingValue=n[3]),n[4]&&(i.timingLabel=n[4]);break;case"exception":n[1]&&(i.exDescription=n[1]),n[2]&&(i.exFatal=n[2]);break;default:return}}this.fire("send",i),c(this.fields.postUrl,d(this.fields.protocolParameter,i))},_.prototype.set=function(t,e){if("string"==typeof t)"protocolParameter"==t&&(e=p({postUrl:null,protocolParameter:null},e)),this.fields[t]=e;else if("object"==typeof t)for(var i in t)this.set(i,t[i])},_.prototype.get=function(t,e){var i=this.fields[t];return"function"==typeof e&&e(i),i},_.prototype.fire=function(t,e){return P.fire(this.name+"."+t,e)},_.prototype.on=function(t,e){P.on(this.name+"."+t,e)},_.prototype.un=function(t,e){P.un(this.name+"."+t,e)},P.name="alog",P.sid=b,P.defined=!0,P.timestamp=r,P.un=l,P.on=s,P.fire=h,P.tracker=g,P("init");var S=_.prototype;exportSymbol(S,{start:S.start,create:S.create,send:S.send,set:S.set,get:S.get,on:S.on,un:S.un,fire:S.fire});var E=g();if(E.set("protocolParameter",{alias:null}),m){var I=[].concat(m.p||[],m.q||[]);m.p=m.q=null;for(var L in P)P.hasOwnProperty(L)&&(m[L]=P[L]);P.p=P.q={push:function(t){P.apply(P,t)}};for(var A=0;A<I.length;A++)P.apply(P,I[A])}i.alog=P,v&&s(e,"mouseup",function(t){var e=t.target||t.srcElement;1==e.nodeType&&/^ajavascript:/i.test(e.tagName+e.href)&&(f=new Date)});var B=!1;t.onerror=function(t,e,n,o){var a=!0;return!e&&/^script error/i.test(t)&&(B?a=!1:B=!0),a&&i.alog("exception.send","exception",{msg:t,js:e,ln:n,col:o}),!1},i.alog("exception.on","catch",function(t){i.alog("exception.send","exception",{msg:t.msg,js:t.path,ln:t.ln,method:t.method,flag:"catch"})})}}(t,e,i),function(t,e,i){function n(t,e){return typeof t===e}function o(t,e,i){var o;for(var a in t)if(t[a]in e)return!1===i?t[a]:(o=e[t[a]],n(o,"function")?fnBind(o,i||e):o);return!1}function a(t,e,i){return r(t,void 0,void 0,e,i)}function r(t,e,i,a,r){var l=t.charAt(0).toUpperCase()+t.slice(1),h=(t+" "+bt.join(l+" ")+l).split(" ");return n(e,"string")||n(e,"undefined")?s(h,e,a,r):(h=(t+" "+bt.join(l+" ")+l).split(" "),o(h,e,i))}function s(t,e,i,o){o=!n(o,"undefined")&&o;var a,r,s;for(r=t.length,a=0;a<r;a++)if(s=t[a],Mt.style[s],~(""+s).indexOf("-")&&(s=l(s)),void 0!==Mt.style[s])return"pfx"!=e||s;return!1}function l(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,i){return e+i.toUpperCase()}).replace(/^-/,"")}function h(){var t=wt("canvas");return!(!t.getContext||!t.getContext("2d"))}function c(){var t=wt("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t}function d(){var t="localStorage";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}function u(){return"content"in e.createElement("template")}function p(){return"createShadowRoot"in e.createElement("a")}function _(){return"registerElement"in e}function g(){return"import"in e.createElement("link")}function m(){return"getItems"in e}function f(){return"EventSource"in window}function v(t,e){var i={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},n=new Image;n.onload=function(){var i=n.width>0&&n.height>0;e(t,i)},n.onerror=function(){e(t,!1)},n.src="data:image/webp;base64,"+i[t]}function y(t,e){return Ct.f["WebP-"+t]=e,e}function b(){return"openDatabase"in t}function x(){return"performance"in t&&"timing"in t.performance}function w(){return"performance"in t&&"mark"in t.performance}function P(){return!!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)}function M(){return"Promise"in t&&"cast"in t.Promise&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),"function"==typeof e}()}function T(){var e=!!t.ProgressEvent,i=!!t.FormData,n=t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;return e&&i&&n}function C(){return"geolocation"in navigator}function S(){var e=wt("canvas"),i="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return i in e?e[i]("webgl")||e[i]("experimental-webgl"):"WebGLRenderingContext"in t}function E(){return!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}function I(){return!!t.Worker}function L(){return"WebSocket"in t&&2===t.WebSocket.CLOSING}function A(){return!!e.createElement("video").canPlayType}function B(){return!!e.createElement("audio").canPlayType}function R(){return!!(t.history&&"pushState"in t.history)}function D(){return!(!t.File||!t.FileReader)}function k(){return"postMessage"in window}function O(){return!!t.webkitNotifications||"Notification"in t&&"permission"in t.Notification&&"requestPermission"in t.Notification}function N(){for(var e=["webkit","moz","o","ms"],i=t.requestAnimationFrame,n=0;n<e.length&&!i;++n)i=t[e[n]+"RequestAnimationFrame"];return!!i}function j(){return"JSON"in t&&"parse"in JSON&&"stringify"in JSON}function z(){return!(!Tt("exitFullscreen",e,!1)&&!Tt("cancelFullScreen",e,!1))}function U(){return!!Tt("Intl",t)}function Y(){return a("flexBasis","1px",!0)}function W(){return!!a("perspective","1px",!0)}function H(){return a("shapeOutside","content-box",!0)}function V(){var t=wt("div");return t.style.cssText=xt.join("filter:blur(2px); "),!!t.style.length&&(void 0===e.documentMode||e.documentMode>9)}function G(){return"XMLHttpRequest"in t&&"withCredentials"in new XMLHttpRequest}function F(){return void 0!==wt("progress").max}function q(){return void 0!==wt("meter").max}function Z(){return"sendBeacon"in navigator}function X(){return a("borderRadius","0px",!0)}function K(){return a("boxShadow","1px 1px",!0)}function Q(){var t=wt("div"),e=t.style;return e.cssText=xt.join("opacity:.55;"),/^0.55$/.test(e.opacity)}function J(){return s(["textShadow"],void 0,"1px 1px")}function $(){return a("animationName","a",!0)}function tt(){return a("transition","all",!0)}function et(){return-1===navigator.userAgent.indexOf("Android 2.")&&a("transform","scale(1)",!0)}var it="18_3";isMobile()&&(it="18_4");var nt={product:"18",page:it,monkey_page:"",speed_page:"",monkey:{sample:"0.1"},exception:{sample:"0.1"},cus:{sample:"0.1"},feature:{sample:"0"}},ot="http://static.tieba.baidu.com";"https:"===t.location.protocol&&("https://fex.bdstatic.com",ot="https://gsp0.baidu.com/5aAHeD3nKhI2p27j8IqW0jdnxx1xbK");var at=nt.product,rt=nt.page,st=nt.monkey_page,lt=Math.random,ht=ot+"/tb/pms/img/st.gif",ct=ht,dt=nt.monkey,ut=nt.exception,pt=nt.cus,_t=nt.feature;if(dt&&dt.sample&&lt()<dt.sample){var gt,mt=i.alog.tracker("monkey"),ft=t.screen,vt=e.referrer;mt.set("ver",5),mt.set("pid",241),ft&&mt.set("px",ft.width+"*"+ft.height),mt.set("ref",vt),i.alog("monkey.on","create",function(){gt=i.alog.timestamp,mt.set("protocolParameter",{reports:null})}),i.alog("monkey.on","send",function(t){"pageview"==t.t&&(t.cmd="open"),t.now&&(t.ts=gt(t.now).toString(36),t.now="")}),i.alog("monkey.create",{page:rt,pid:"241",p:at,dv:6,postUrl:ct,reports:{refer:1}}),i.alog("monkey.send","pageview",{now:+new Date})}if(ut&&ut.sample&&lt()<ut.sample){var yt=!1;t.onerror=function(t,e,n,o){var a=!0;return!e&&/^script error/i.test(t)&&(yt?a=!1:yt=!0),a&&i.alog("exception.send","exception",{msg:t,js:e,ln:n,col:o}),!1},i.alog("exception.on","catch",function(t){i.alog("exception.send","exception",{msg:t.msg,js:t.path,ln:t.ln,method:t.method,flag:"catch"})}),i.alog("exception.create",{postUrl:ct,dv:7,page:st||rt,pid:"170",p:at})}if(pt&&pt.sample&&lt()<pt.sample&&(i.alog("cus.on","time",function(t){var e,n={},o=!1;if("[object Object]"===t.toString()){for(var a in t)"page"!=a?(e=parseInt(t[a]))>0&&/^z_/.test(a)&&(o=!0,n[a]=e):n.page=t[a];o&&i.alog("cus.send","time",n)}}),i.alog("cus.on","count",function(t){var e={},n=!1;if("string"==typeof t&&(t=[t]),t instanceof Array)for(var o=0;o<t.length;o++)/^z_/.test(t[o])?(n=!0,e[t[o]]=1):/^page:/.test(t[o])&&(e.page=t[o].substring(5));n&&i.alog("cus.send","count",e)}),i.alog("cus.create",{dv:3,postUrl:ht,page:rt,p:at})),_t&&_t.sample&&lt()<_t.sample){var bt=["Moz","O","ms","Webkit"],xt=["-webkit-","-moz-","-o-","-ms-"],wt=function(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):e.createElement.apply(e,arguments)},Pt={elem:wt("dpFeatureTest")},Mt={style:Pt.elem.style},Tt=function(t,e,i){return 0===t.indexOf("@")?atRule(t):(-1!=t.indexOf("-")&&(t=l(t)),e?r(t,e,i):r(t,"pfx"))},Ct={f:{},t:function(t,e,i){this.f[t]=e.apply(this,[].slice.call(arguments,2))},c:function(t,e){t.apply(this,[].slice.call(arguments,1))},runAllTest:function(){var t=this;t.t("bdrs",X),t.t("bxsd",K),t.t("opat",Q),t.t("txsd",J),t.t("anim",$),t.t("trsi",tt),t.t("trfm",et),t.t("flex",Y),t.t("3dtr",W),t.t("shpe",H),t.t("fltr",V),t.t("cavs",h),t.t("dgdp",c),t.t("locs",d),t.t("wctem",u),t.t("wcsdd",p),t.t("wccse",_),t.t("wchti",g),t.c(v,"lossy",y),t.c(v,"lossless",y),t.c(v,"alpha",y),t.c(v,"animation",y),t.t("wsql",b),t.t("natm",x),t.t("ustm",w),t.t("arra",P),t.t("prms",M),t.t("xhr2",T),t.t("wbgl",S),t.t("geol",C),t.t("svg",E),t.t("work",I),t.t("wbsk",L),t.t("vido",A),t.t("audo",B),t.t("hsty",R),t.t("file",D),t.t("psmg",k),t.t("wknf",O),t.t("rqaf",N),t.t("json",j),t.t("flsc",z),t.t("i18n",U),t.t("cors",G),t.t("prog",F),t.t("metr",q),t.t("becn",Z),t.t("mcrd",m),t.t("esrc",f)}},mt=i.alog.tracker("feature");mt.on("commit",function(){Ct.runAllTest();var t=setInterval(function(){if("WebP-lossy"in Ct.f&&"WebP-lossless"in Ct.f&&"WebP-alpha"in Ct.f&&"WebP-animation"in Ct.f){for(var e in Ct.f)Ct.f[e]=Ct.f[e]?"y":"n";mt.send("feature",Ct.f),clearInterval(t)}},500)}),i.alog("feature.create",{dv:4,postUrl:ht,page:st||rt,p:at}),i.alog("feature.fire","commit")}}(t,e,i)}(window,document,BMap),BMap._alog=BMap.alog||function(){},BMap.alog("cus.fire","count","z_loadscriptcount"),"https:"===location.protocol&&BMap.alog("cus.fire","count","z_httpscount")
;var BB_WGS_BOX=[72.685732,.193351,136.10888,54.392257],BB_GCJ_BOX=[72.6892532,.1939743381,136.1168614,54.392257],BB_BD_BOX=[72.69566833,.1999420909,136.1232863,54.39791217],NSIZE_BOX=158,BB_CHN_X=[98.789081,122.948721,107.857301,118.082148,119.126627,128.021934,79.939914,99.021873,119.912937,122.084572,127.906381,130.933385,106.496057,108.066113,119.818772,126.367919,111.789929,119.311401,100.742164,102.220151,99.853589,100.781289,97.522631,98.834615,99.092638,99.892947,122.905967,123.761867,123.716213,125.494726,123.723977,124.755034,125.475833,126.398284,125.471687,126.065118,130.817003,133.605851,127.900156,128.656536,128.646633,129.625389,132.88057,134.104549,117.365548,119.230813,116.073074,117.416898,114.406274,116.123791,116.479038,119.591534,110.566812,111.851324,74.465162,79.993155,82.858046,91.345214,85.71485,98.969834,127.651377,129.532029,129.462275,130.209769,133.716214,134.731053,134.366834,135.103133,130.854579,131.32966,115.499125,117.530421,115.765224,116.734157,108.524336,110.601747,121.351282,124.612037,126.151954,127.332751,91.273562,95.604179,79.87318,82.935667,76.413314,78.336484,78.275229,79.993668,83.956612,85.725267,85.500637,89.346601,97.990127,98.94176,106.641956,108.599215,111.386259,111.810312,111.578597,111.803167,115.99273,117.010413,116.24461,116.675246,119.422198,119.909078,120.646056,121.38098,120.335038,120.662183,124.579855,125.773243,126.207803,126.774849,95.565331,102.037736,95.576121,96.158028,95.556699,97.799055,91.296205,93.348146,93.321994,94.690522,89.339313,90.540241,82.263039,82.882528,78.335615,80.023512,76.623947,78.352608,73.495149,74.48155,74.846872,76.479412,91.560058,94.871116,88.759515,89.235995,83.237883,83.965264,82.292123,83.246813,81.876477,83.253307,80.75212,81.463265,86.463409,88.267232,102.199623,104.225963,112.153727,116.823265,108.965663,113.021145,111.166575,117.972799],BB_CHN_Y=[22.548416,42.276971,17.227969,22.7346,41.292761,50.741667,30.365133,42.324913,21.701924,22.69335,42.4176,48.936335,21.429059,22.648399,50.650499,52.914825,42.20449,45.199078,21.13391,22.568612,21.441033,22.583349,23.73862,25.298628,22.00409,22.563095,38.97849,41.338631,40.287973,41.330108,39.732801,40.343252,40.966852,41.323446,40.719312,41.05937,44.869472,48.009884,41.336325,42.443362,42.008104,42.434713,45.873151,48.205746,45.132322,46.784582,45.133383,46.392803,45.148771,45.740273,47.478161,50.064393,42.216229,43.461282,37.014302,40.662281,42.219985,47.31417,27.726965,30.466651,48.911271,49.642488,48.831706,49.434487,46.941762,48.37425,47.651781,48.463782,42.851964,44.905396,47.598273,48.438467,48.409141,48.901651,42.22756,42.906402,52.821047,53.578094,50.701837,51.654278,42.292419,44.392214,42.295918,45.385017,34.680866,37.027803,30.743515,37.066586,28.245649,30.406053,47.270872,48.497371,25.238932,27.778469,42.215754,42.540416,43.427677,44.689208,44.685587,44.994131,48.878657,49.318659,49.281099,49.624515,50.710468,51.306809,52.90717,53.331981,52.903016,53.107959,52.900867,53.250033,51.638073,52.400678,42.229657,42.691928,43.061242,43.891083,42.663095,43.074222,44.37174,45.180155,44.375135,44.974219,47.3035,48.053221,45.352401,46.807875,40.563053,42.040289,40.581871,41.405172,38.516328,40.178756,35.790476,37.02337,26.825605,27.761303,27.197399,27.74932,29.147561,30.37813,29.570893,30.062042,30.045026,30.380952,29.998038,30.385203,48.487385,49.16832,22.395733,22.598229,7.441114,11.501436,3.767491,9.000793,12.642067,17.406563],BB_CHN_BD_X=[98.795985,122.960792,107.867379,118.093451,119.139658,128.035888,79.948212,99.029524,119.923388,122.094977,127.918527,130.94789,106.50606,108.076783,119.8329,126.382207,111.803567,119.324928,100.749858,102.227985,99.860885,100.788921,97.529435,98.841564,99.100017,99.90035,122.917416,123.774367,123.728314,125.507211,123.736065,124.767299,125.488463,126.410675,125.484326,126.07764,130.830784,133.620042,127.912178,128.668957,128.658937,129.638599,132.894179,134.119086,117.379378,119.244569,116.086736,117.431212,114.420233,116.137458,116.492775,119.605527,110.579401,111.86488,74.468228,80.001908,82.867432,91.353788,85.721075,98.976964,127.664757,129.546833,129.476893,130.22449,133.730358,134.745235,134.381034,135.1178,130.868117,131.34409,115.513245,117.544751,115.779271,116.748045,108.536254,110.614326,121.365534,124.626434,126.165992,127.347013,91.281869,95.611754,79.879648,82.945041,76.413314,78.345207,78.275229,80.002329,83.956612,85.734098,85.510186,89.356499,97.997001,98.948845,106.653208,108.610811,111.400183,111.824179,111.592224,111.817136,116.00682,117.024631,116.258574,116.689291,119.436876,119.922961,120.659806,121.395479,120.349116,120.676014,124.59389,125.787788,126.221756,126.788962,95.572955,102.046581,95.583772,96.165551,95.564318,97.806095,91.30446,93.356438,93.330319,94.698145,89.349129,90.548677,82.268802,82.892025,78.335615,80.032266,76.625755,78.361413,73.498248,74.490992,74.846872,76.488771,91.563521,94.878444,88.768214,89.244787,83.247076,83.974127,82.29595,83.256003,81.885315,83.26249,80.760619,81.472404,86.470983,88.276988,102.207537,104.234614,112.164795,116.833667,108.965663,113.032246,111.166575,117.983363],BB_CHN_BD_Y=[22.551183,42.284787,17.227969,22.738314,41.300981,50.749638,30.368087,42.332701,21.705055,22.696452,42.426047,48.944674,21.432184,22.651387,50.657409,52.92296,42.212192,45.206905,21.137031,22.57186,21.444502,22.586566,23.741571,25.301472,22.006806,22.56637,38.985114,41.346531,40.295617,41.338581,39.740021,40.351012,40.974644,41.331562,40.726852,41.067192,44.877158,48.018285,41.344597,42.451798,42.016305,42.443235,45.880906,48.214001,45.140027,46.792775,45.141083,46.400433,45.156418,45.748281,47.485889,50.071879,42.223667,43.469487,37.019867,40.668675,42.226823,47.321605,27.72944,30.469853,48.919002,49.650614,48.840188,49.443166,46.949801,48.382798,47.660603,48.472692,42.859946,44.913298,47.605896,48.445914,48.41698,48.909667,42.23507,42.914193,52.8281,53.585952,50.709311,51.662219,42.29968,44.399225,42.302746,45.391958,34.680866,37.03377,30.743515,37.07228,28.245649,30.408935,47.277693,48.504255,25.241528,27.780726,42.223363,42.548418,43.435888,44.696952,44.693193,45.00187,48.886267,49.326755,49.288642,49.632304,50.717486,51.314369,52.914204,53.33964,52.910094,53.115926,52.908382,53.258095,51.64533,52.408305,42.236825,42.699126,43.068466,43.898632,42.670403,43.082219,44.379045,45.187742,44.382336,44.981379,47.310362,48.06019,45.359099,46.814439,40.569751,42.047741,40.587956,41.41263,38.519192,40.185033,35.790476,37.029005,26.825605,27.763896,27.199658,27.751649,29.150192,30.381073,29.573886,30.065162,30.047775,30.384089,30.001277,30.388525,48.494118,49.173841,22.398528,22.601198,7.441114,11.505968,3.767491,9.005209,12.642067,17.410886],NSIZE_POINTS=95,BB_GCJ_X=[110.3961374,105.0743788,96.8991824,95.61810411,93.82412598,91.3892353,91.38931858,89.08325955,87.22469808,86.26278402,85.17353,85.23741211,82.86627441,81.90481038,79.59687147,80.39829237,79.93319363,77.80279948,75.2557704,73.49357829,73.1892532,73.87758816,74.4064738,74.10215224,75.46409695,76.77739692,78.28299615,78.15499485,78.37920654,78.89145345,79.69282199,81.19938178,81.80830295,83.89093424,85.94149523,87.86447266,89.03414958,90.05918132,91.10026937,92.15733832,93.74361735,95.82597331,97.95655545,97.12363037,98.2129739,99.2068571,101.6587874,102.5239084,102.2356106,105.0249238,106.0992342,107.8617093,111.6439372,109.591869,112.284586,117.7961157,118.9495128,114.2076584,118.693565,123.1475225,122.730705,120.9361393,123.4207441,122.3787782,122.1385425,121.5904281,121.1773763,120.6805404,120.2483355,122.795807,122.8759077,121.3060262,122.1392177,123.7418799,126.4177599,128.5647409,129.7194884,131.2259136,131.9950494,133.6289931,135.6168614,131.3875545,130.8743365,128.6303223,126.0997773,124.4015375,122.22161,119.6586483,119.7866827,118.5685878,116.5177976,114.819101,119.0812964,116.453265,111.7431171],BB_GCJ_Y=[43.2190351,42.38053385,43.17417589,44.42226915,45.09863634,45.56708116,47.33599718,48.68832709,49.62448486,48.9482175,48.4800472,47.33564399,47.43948676,46.03452067,45.20221788,43.34563043,42.32965739,41.39690972,40.82972331,39.95567654,39.25892877,38.36098768,38.05441569,37.16878445,36.38899414,35.36126817,34.30953451,32.58503879,31.56975694,30.77800266,30.43559814,29.7744892,30.0931977,28.71103299,27.70739665,27.5775472,27.01096137,27.77857883,27.50707954,26.50328315,26.70387804,27.95548557,27.29428901,23.64685493,23.62310601,21.67493381,20.77751465,21.32070991,22.1824113,22.31232964,22.51316054,16.80037679,13.19749864,.6939743381,1.541660428,10.50208252,15.58926975,17.89090007,19.94928467,22.18490153,25.37285292,25.61456434,30.62532552,31.08099284,31.89238173,32.50092692,32.80325765,34.25546956,35.15486138,36.90170139,37.8348272,37.941604,38.6480797,38.96797201,40.98146918,41.25573296,42.07218153,42.49132813,44.65259766,44.69330702,48.62286865,48.09383952,49.19628499,50.03402317,53.27678901,53.62976345,53.89420546,52.98933322,52.01872884,50.23210259,50.18807048,47.49769857,47.34362712,46.50502143,45.24770128],BB_CHN_GCJ_X=[98.7895,122.954182,107.860913,118.087007,119.133165,128.029533,79.941749,99.023087,119.916883,122.08841,127.912143,130.941471,106.499502,108.070244,119.826245,126.375818,111.797006,119.318387,100.743285,102.221517,99.854448,100.782445,97.522928,98.835028,99.093518,99.893783,122.910927,123.767769,123.721954,125.50077,123.729657,124.760724,125.481902,126.404079,125.477737,126.071019,130.824331,133.613395,127.905767,128.662524,128.652527,129.6321,132.887552,134.11249,117.37297,119.237999,116.080154,117.424589,114.413586,116.130948,116.486264,119.598927,110.5728,111.858437,74.465162,79.995337,82.860821,91.347291,85.716024,98.970481,127.658331,129.540202,129.470528,130.21808,133.723748,134.738785,134.374555,135.111443,130.861475,131.337438,115.506627,117.538123,115.772783,116.741632,108.529656,110.60782,121.358945,124.619773,126.159424,127.340582,91.275275,95.605228,79.874427,82.938601,76.413314,78.338763,78.275229,79.995765,83.956612,85.727511,85.503554,89.349858,97.990418,98.942257,106.646704,108.604437,111.393667,111.817723,111.585811,111.810645,116.000232,117.018216,116.252108,116.682705,119.430384,119.916417,120.653168,121.38883,120.342727,120.669383,124.587426,125.781376,126.215282,126.782323,95.566367,102.040026,95.577158,96.159009,95.557772,97.799728,91.298032,93.350057,93.323794,94.691771,89.342471,90.542019,82.264229,82.885485,78.335615,80.025844,76.623947,78.355027,73.495149,74.484473,74.846872,76.482208,91.560117,94.871859,88.761692,89.23822,83.240549,83.967602,82.292367,83.2495,81.878825,83.256003,80.75421,81.465955,86.465421,88.270356,102.201019,104.228033,112.158282,116.827153,108.965663,113.025767,111.166575,117.97687],BB_CHN_GCJ_Y=[22.545421,42.279053,17.226272,22.731982,41.294917,50.743316,30.361986,42.326603,21.699185,22.690751,42.419757,48.938435,21.426505,22.64567,50.651745,52.916705,42.20641,45.201064,21.131326,22.565685,21.438288,22.580379,23.735785,25.295582,22.001087,22.560315,38.979333,41.340757,40.28938,41.332289,39.734164,40.344718,40.968803,41.325813,40.721073,41.061503,44.871533,48.012179,41.338366,42.445601,42.010343,42.436934,45.875217,48.208327,45.134237,46.786509,45.135376,46.394665,45.150734,45.742257,47.480099,50.065931,42.217982,43.46329,37.014057,40.662848,42.221079,47.315558,27.723432,30.46385,48.913298,49.644555,48.83396,49.436824,46.944059,48.376613,47.654503,48.466331,42.854333,44.907682,47.600253,48.440245,48.410926,48.903468,42.229292,42.908294,52.822466,53.58012,50.703491,51.656037,42.29378,44.393379,42.296912,45.385809,34.679282,37.027699,30.740622,37.066377,28.241967,30.403134,47.271949,48.49848,25.235818,27.774976,42.217425,42.542102,43.429763,44.691016,44.687044,44.995758,48.880431,49.320551,49.282865,49.626267,50.711607,51.308382,52.908547,53.333963,52.904419,53.109706,52.902338,53.251938,51.639701,52.402205,42.231045,42.693581,43.062756,43.892771,42.664519,43.075927,44.372942,45.1815,44.376327,44.975476,47.304623,48.054453,45.353174,46.808493,40.563653,42.041556,40.582164,41.4064,38.51618,40.179105,35.789745,37.023144,26.825402,27.757641,27.193806,27.745766,29.144229,30.375186,29.567889,30.059102,30.041938,30.378006,29.995047,30.382338,48.48834,49.169021,22.392816,22.595333,7.439914,11.500161,3.766676,9.000793,12.640512,17.406563],GRID_RADIX=3e3,MAX_dR=2e-5,MAX_dT=3e-6,LL2RAD=.0174532925194,OFFSET_X=.0065,OFFSET_Y=.006,MAX_DIST_GCJ=4e4,DEPARTURE=0,ONE_POINT=1,CONTAIN=3,UNDEFINED=4,DEPSILON=1e-10,EARTH_RADIUS=6370996.81,BASE_FACTOR=1e8;Mbr.prototype.contains=function(t){return t.lng>this.ll.lng&&t.lng<this.ru.lng&&t.lat>this.ll.lat&&t.lat<this.ru.lat?CONTAIN:Math.abs(t.lng-this.ll.lng)<DEPSILON||Math.abs(t.lng-this.ru.lng)<DEPSILON||Math.abs(t.lat-this.ll.lat)<DEPSILON||Math.abs(t.y-this.ru.lat)>DEPSILON?2:DEPARTURE},Mbr.prototype.normalize=function(t,e,i,n){t>i?(this.ll.lng=i,this.ru.lng=t):(this.ll.lng=t,this.ru.lng=i),e>n?(this.ll.lat=n,this.ru.lat=e):(this.ll.lat=e,this.ru.lat=n)};var DataMgr={request:function(t,e){if(e){var i=(1e5*Math.random()).toFixed(0);BMap._rd["_cbk"+i]=function(t){e&&e(t),delete BMap._rd["_cbk"+i]},t+="&callback=BMap._rd._cbk"+i}var n=create("script",{type:"text/javascript"});n.charset="utf-8",n.src=t,n.addEventListener?n.addEventListener("load",function(t){var e=t.target;e.parentNode.removeChild(e)},!1):n.attachEvent&&n.attachEvent("onreadystatechange",function(t){var e=window.event.srcElement;!e||"loaded"!=e.readyState&&"complete"!=e.readyState||e.parentNode.removeChild(e)}),setTimeout(function(){document.getElementsByTagName("head")[0].appendChild(n),n=null},1)},ajax:function(t){var e=new XMLHttpRequest,i=t.method||"GET",n=!1,o=t.url;if(AUTHENTIC_AK&&(o=o+"&ApiAuthorization="+AUTHENTIC_AK),e.open(i,o),AUTHENTIC_TOKEN_DuGIS&&!AUTHENTIC_AK&&e.setRequestHeader("Authorization",AUTHENTIC_TOKEN_DuGIS),"GET"===i)e.send();else{e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var a=Object.keys(t.data).map(function(e){t.data[e]});e.send(a.join("&"))}var r=t.timeout||1e4,s=setTimeout(function(){e.abort(),t.fail&&t.fail("timeout")},r);return e.onload=function(){this.status>=200&&this.status<300&&t.success?t.success(JSON.parse(this.response)):t.fail&&t.fail(this.statusText),t.complete&&t.complete(JSON.parse(this.response)),clearTimeout(s)},e.onerror=function(){t.fail&&t.fail(this.statusText),clearTimeout(s)},{abort:function(){n||(n=!0,e.abort())},params:t}}},ModuleVersion={map:"#version_map#",common:"#version_common#",style:"#version_style#",tile:"#version_tile#",groundoverlay:"#version_groundoverlay#",pointcollection:"#version_pointcollection#",marker:"#version_marker#",symbol:"#version_symbol#",canvablepath:"#version_canvablepath#",vmlcontext:"#version_vmlcontext#",markeranimation:"#version_markeranimation#",poly:"#version_poly#",draw:"#version_draw#",drawbysvg:"#version_drawbysvg#",drawbyvml:"#version_drawbyvml#",drawbycanvas:"#version_drawbycanvas#",infowindow:"#version_infowindow#",oppc:"#version_oppc#",opmb:"#version_opmb#",menu:"#version_menu#",control:"#version_control#",navictrl:"#version_navictrl#",geoctrl:"#version_geoctrl#",copyrightctrl:"#version_copyrightctrl#",citylistcontrol:"#version_citylistcontrol#",scommon:"#version_scommon#",local:"#version_local#",route:"#version_route#",othersearch:"#version_othersearch#",mapclick:"#version_mapclick#",buslinesearch:"#version_buslinesearch#",hotspot:"#version_hotspot#",autocomplete:"#version_autocomplete#",coordtrans:"#version_coordtrans#",coordtransutils:"#version_coordtransutils#",convertor:"#version_convertor#",clayer:"#version_clayer#",pservice:"#version_pservice#",pcommon:"#version_pcommon#",panorama:"#version_panorama#",panoramaflash:"#version_panoramaflash#"};baidu.storage=function(){function t(t){return a+t+"_"+ModuleVersion[t]}function e(e){return s&&!!r[t(e)]}function i(e,i){if(s){n(e);try{r.setItem(t(e),i)}catch(t){r.clear()}}}function n(t){for(var e,i=a+t+"_",n=r.length;n--;)e=r.key(n),e.indexOf(i)>-1&&r.removeItem(e)}function o(i){return!(!s||!e(i))&&r.getItem(t(i))}var a="BMap_",r=window.localStorage,s="localStorage"in window&&null!==r&&void 0!==r;return{isSupportLocalStorage:s,set:i,get:o,check:e}}(),baidu.object.extend(ModuleMgr,{Request:{INITIAL:-1,WAITING:0,COMPLETED:1},getDependency:function(){var t="canvablepath";BMap._xiaoliuliang;return isMobile()&&isCanvas()?"drawbycanvas":isSvg()?"drawbysvg":isVml()?("drawbyvml",t="vmlcontext"):isCanvas()&&"drawbycanvas",{tile:["style"],control:[],marker:["symbol"],symbol:["canvablepath","common"],canvablepath:"canvablepath"===t?[]:[t],vmlcontext:[],style:[],poly:["marker","drawbycanvas","drawbysvg","drawbyvml"],drawbysvg:["draw"],drawbyvml:["draw"],drawbycanvas:["draw"],infowindow:["common","marker"],menu:[],oppc:[],opmb:[],scommon:[],local:["scommon"],route:["scommon"],othersearch:["scommon"],autocomplete:["scommon"],citylistcontrol:["autocomplete"],mapclick:["scommon"],buslinesearch:["route"],hotspot:[],coordtransutils:["coordtrans"],convertor:[],clayer:["tile"],pservice:[],pcommon:["style","pservice"],panorama:["pcommon"],panoramaflash:["pcommon"]}},preLoaded:{},Config:{_baseUrl:BMap.apiUrlCdn+"getmodules?v=3.0",_timeout:5e3},delayFlag:!1,Module:{_modules:{},_arrMdls:[],_tempModules:[]},load:function(t,e,i){return void e()},combine:function(t){if(t&&this.getDependency()[t])for(var e=this.getDependency()[t],i=0;i<e.length;i++)this.combine(e[i]),this.Module._modules[e[i]]||this.pushUniqueMdl(e[i])},pushUniqueMdl:function(t){for(var e=0;e<this.Module._arrMdls.length;e++)if(this.Module._arrMdls[e]==t)return;this.Module._arrMdls.push(t)},run:function(moduleName,moduleCode){var currentModule=this.current(moduleName);try{eval(moduleCode)}catch(t){return}currentModule._status=this.Request.COMPLETED;for(var i=0,l=currentModule._callbacks.length;i<l;i++)currentModule._callbacks[i]();currentModule._callbacks.length=0},check:function(t,e){var i=this;i.timeout=setTimeout(function(){i.Module._modules[t]._status!=i.Request.COMPLETED?(i.remove(t),i.load(t,e)):clearTimeout(i.timeout)},i.Config._timeout)},current:function(t){return this.Module._modules[t]||(this.Module._modules[t]={},this.Module._modules[t]._status=this.Request.INITIAL,this.Module._modules[t]._callbacks=[]),this.Module._modules[t]},remove:function(t){var e=this.current(t);delete e},checkCodesStatus:function(t,e){for(var i=this.Module._tempModules,n=!0,o=0,a=i.length;o<a;o++)""==i[o].moduleCode&&(i[o].moduleName==t?i[o].moduleCode=e:n=!1);n&&this.evalAllCode()},evalAllCode:function(){for(var t=this.Module._tempModules,e=0,i=t.length;e<i;e++)this.run(t[e].moduleName,t[e].moduleCode);this.Module._tempModules.length=0}}),Pixel.prototype.equals=function(t){return t&&t.x==this.x&&t.y==this.y},Size.prototype.equals=function(t){return t&&this.width==t.width&&this.height==t.height};var AJAX={get:function(t,e,i,n){var o=new XMLHttpRequest;o.open("GET",t,!0),o.timeout=1e4,o.ontimeout=function(){n&&n()},o.onreadystatechange=function(t){4===this.readyState&&(200===this.status?e&&e(o.responseText):i&&i())},o.send()},post:function(t,e,i,n,o){var a=new XMLHttpRequest;a.open("POST",t,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.timeout=1e4,a.ontimeout=function(){o&&o()},a.onreadystatechange=function(t){4===this.readyState&&(200===this.status?i&&i(a.responseText):n&&n())},a.send(e)}};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).gcoord=e()}(this,function(){"use strict";function t(t,e){return t>=72.004&&t<=137.8347&&e>=.8293&&e<=55.8271}function e(t,e){var i,n,o,a=(o=300+(i=t-105)+2*(n=e-35)+.1*i*i+.1*i*n+.1*T(C(i)),o+=2*(20*P(6*i*S)+20*P(2*i*S))/3,(o+=2*(20*P(i*S)+40*P(i/3*S))/3)+2*(150*P(i/12*S)+300*P(i/30*S))/3),r=function(t,e){var i=2*t-100+3*e+.2*e*e+.1*t*e+.2*T(C(t));return i+=2*(20*P(6*t*S)+20*P(2*t*S))/3,(i+=2*(20*P(e*S)+40*P(e/3*S))/3)+2*(160*P(e/12*S)+320*P(e*S/30))/3}(t-105,e-35),s=e/180*S,l=P(s),h=T(l=1-I*l*l);return[a=180*a/(E/h*M(s)*S),r=180*r/(E*(1-I)/(l*h)*S)]}function i(i){var n=i[0],o=i[1];if(!t(n,o))return[n,o];var a=e(n,o);return[n+a[0],o+a[1]]}function n(e){var n=e[0],o=e[1];if(!t(n,o))return[n,o];for(var a=[n,o],r=a[0],s=a[1],l=i([r,s]),h=l[0]-n,c=l[1]-o;C(h)>1e-6||C(c)>1e-6;)h=(l=i([r-=h,s-=c]))[0]-n,c=l[1]-o;return[r,s]}function o(t){var e=t[0]-.0065,i=t[1]-.006,n=R(e*e+i*i)-2e-5*L(i*D),o=B(i,e)-3e-6*A(e*D);return[n*A(o),n*L(o)]}function a(t){var e=t[0],i=t[1],n=R(e*e+i*i)+2e-5*L(i*D),o=B(i,e)+3e-6*A(e*D);return[n*A(o)+.0065,n*L(o)+.006]}function r(t){return[t[0]*k/N,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/N)))*k]}function s(t){var e=Math.abs(t[0])<=180?t[0]:t[0]-360*(t[0]<0?-1:1),i=[N*e*O,N*Math.log(Math.tan(.25*Math.PI+.5*t[1]*O))];return i[0]>j&&(i[0]=j),i[0]<-j&&(i[0]=-j),i[1]>j&&(i[1]=j),i[1]<-j&&(i[1]=-j),i}function l(t,e,i){var n=z(e)/i[9],o=i[0]+i[1]*z(t),a=i[2]+i[3]*n+i[4]*Math.pow(n,2)+i[5]*Math.pow(n,3)+i[6]*Math.pow(n,4)+i[7]*Math.pow(n,5)+i[8]*Math.pow(n,6);return[o*=t<0?-1:1,a*=e<0?-1:1]}function h(t){for(var e=t[0],i=t[1],n=[],o=0;o<Y.length;o++)if(z(i)>Y[o]){n=H[o];break}return l(e,i,n)}function c(t){for(var e=t[0],i=t[1],n=[],o=0;o<U.length;o++)if(i>=U[o]){n=W[o];break}return l(e,i,n)}function d(t,e){if(!t)throw new Error(e)}function u(t){return!!t&&"[object Array]"===Object.prototype.toString.call(t)}function p(t){return!isNaN(Number(t))&&null!==t&&!u(t)}function _(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.length-1;return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var o=i,a=t[i].apply(null,e);o--;)a=t[o].call(null,a);return a}}function g(t,e,i){if(void 0===i&&(i=!1),null!==t)for(var n,o,a,r,s,l,h,c,d=0,u=0,p=t.type,_="FeatureCollection"===p,m="Feature"===p,f=_?t.features.length:1,v=0;v<f;v++){s=(c=!!(h=_?t.features[v].geometry:m?t.geometry:t)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var y=0;y<s;y++){var b=0,x=0;if(null!==(r=c?h.geometries[y]:h)){var w=r.type;switch(d=!i||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(l=r.coordinates,u,v,b,x))return!1;u++,b++;break;case"LineString":case"MultiPoint":for(l=r.coordinates,n=0;n<l.length;n++){if(!1===e(l[n],u,v,b,x))return!1;u++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(l=r.coordinates,n=0;n<l.length;n++){for(o=0;o<l[n].length-d;o++){if(!1===e(l[n][o],u,v,b,x))return!1;u++}"MultiLineString"===w&&b++,"Polygon"===w&&x++}"Polygon"===w&&b++;break;case"MultiPolygon":for(l=r.coordinates,n=0;n<l.length;n++){for(x=0,o=0;o<l[n].length;o++){for(a=0;a<l[n][o].length-d;a++){if(!1===e(l[n][o][a],u,v,b,x))return!1;u++}x++}b++}break;case"GeometryCollection":for(n=0;n<r.geometries.length;n++)if(!1===g(r.geometries[n],e,i))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}var m,f,v,y,b,x,w=function(){return(w=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},P=Math.sin,M=Math.cos,T=Math.sqrt,C=Math.abs,S=Math.PI,E=6378245,I=.006693421622965823,L=Math.sin,A=Math.cos,B=Math.atan2,R=Math.sqrt,D=3e3*Math.PI/180,k=180/Math.PI,O=Math.PI/180,N=6378137,j=20037508.342789244,z=Math.abs,U=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],Y=[75,60,45,30,15,0],W=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],H=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];!function(t){t.WGS84="WGS84",t.WGS1984="WGS84",t.EPSG4326="WGS84",t.GCJ02="GCJ02",t.AMap="GCJ02",t.BD09="BD09",t.BD09LL="BD09",t.Baidu="BD09",t.BMap="BD09",t.BD09MC="BD09MC",t.BD09Meter="BD09MC",t.EPSG3857="EPSG3857",t.EPSG900913="EPSG3857",t.EPSG102100="EPSG3857",t.WebMercator="EPSG3857",t.WM="EPSG3857"}(x||(x={}));var V={WGS84:{to:(m={},m[x.GCJ02]=i,m[x.BD09]=_(a,i),m[x.BD09MC]=_(h,a,i),m[x.EPSG3857]=s,m)},GCJ02:{to:(f={},f[x.WGS84]=n,f[x.BD09]=a,f[x.BD09MC]=_(h,a),f[x.EPSG3857]=_(s,n),f)},BD09:{to:(v={},v[x.WGS84]=_(n,o),v[x.GCJ02]=o,v[x.EPSG3857]=_(s,n,o),v[x.BD09MC]=h,v)},EPSG3857:{to:(y={},y[x.WGS84]=r,y[x.GCJ02]=_(i,r),y[x.BD09]=_(a,i,r),y[x.BD09MC]=_(h,a,i,r),y)},BD09MC:{to:(b={},b[x.WGS84]=_(n,o,c),b[x.GCJ02]=_(o,c),b[x.EPSG3857]=_(s,n,o,c),b[x.BD09]=c,b)}};return w(w({},x),{CRSTypes:x,transform:function(t,e,i){if(d(!!t,"The args[0] input coordinate is required"),d(!!e,"The args[1] original coordinate system is required"),d(!!i,"The args[2] target coordinate system is required"),e===i)return t;var n=V[e];d(!!n,"Invalid original coordinate system: "+e);var o=n.to[i];d(!!o,"Invalid target coordinate system: "+i);var a=typeof t;if(d("string"===a||"object"===a,"Invalid input coordinate type: "+a),"string"===a)try{t=JSON.parse(t)}catch(e){throw new Error("Invalid input coordinate: "+t)}var r=!1;u(t)&&(d(t.length>=2,"Invalid input coordinate: "+t),d(p(t[0])&&p(t[1]),"Invalid input coordinate: "+t),t=t.map(Number),r=!0);var s=o;return r?s(t):(g(t,function(t){var e;e=s(t),t[0]=e[0],t[1]=e[1]}),t)}})}),Hotspot.guid=0,baidu.extend(Hotspot.prototype,{initialize:function(t){null==this._minZoom&&(this._minZoom=t.config.minZoom),null==this._maxZoom&&(this._maxZoom=t.config.maxZoom)},setPosition:function(t){(t instanceof Point||t instanceof PointN)&&(this._position=t)},getPosition:function(){return this._position},setText:function(t){this._text=t},getText:function(){return this._text},setUserData:function(t){this._userData=t},getUserData:function(){return this._userData}}),baidu.lang.inherits(Control,baidu.lang.Class,"Control"),baidu.extend(Control.prototype,{initialize:function(t){if(this._map=t,this._container)return t.container.appendChild(this._container),this._container},_i:function(t){!this._container&&this.initialize&&isFunction(this.initialize)&&(this._container=this.initialize(t)),this._opts=this._opts||{printable:!1},this._setStyle(),this._setPosition(),this._container&&(this._container._jsobj=this)},_setStyle:function(){var t=this._container;if(t){var e=t.style;e.position="absolute",e.zIndex=this._cZIndex||"10",e.MozUserSelect="none",e.WebkitTextSizeAdjust="none",this._opts.printable||baidu.dom.addClass(t,"BMap_noprint"),isMobile()||baidu.on(t,"contextmenu",stopAndPrevent)}},remove:function(){this._map=null,this._container&&(this._container.parentNode&&this._container.parentNode.removeChild(this._container),this._container._jsobj=null,this._container=null)},_render:function(){return this._container=beforeEndHTML(this._map.container,"<div unselectable='on'></div>"),0==this._visible&&baidu.dom.hide(this._container),this._container},_setPosition:function(){this.setAnchor(this._opts.anchor)},setAnchor:function(t){(this.anchorFixed||!isNumber(t)||isNaN(t)||t<BMAP_ANCHOR_TOP_LEFT||t>BMAP_ANCHOR_BOTTOM_RIGHT)&&(t=this.defaultAnchor),this._opts=this._opts||{printable:!1},this._opts.offset=this._opts.offset||this.defaultOffset;var e=this._opts.anchor;if(this._opts.anchor=t,this._container){var i=this._container,n=this._opts.offset.width,o=this._opts.offset.height;switch(i.style.left=i.style.top=i.style.right=i.style.bottom="auto",t){case BMAP_ANCHOR_TOP_LEFT:i.style.top=o+"px",i.style.left=n+"px";break;case BMAP_ANCHOR_TOP_RIGHT:i.style.top=o+"px",i.style.right=n+"px";break;case BMAP_ANCHOR_BOTTOM_LEFT:i.style.bottom=o+"px",i.style.left=n+"px";break;case BMAP_ANCHOR_BOTTOM_RIGHT:i.style.bottom=o+"px",i.style.right=n+"px"}var a=["TL","TR","BL","BR"];baidu.dom.removeClass(this._container,"anchor"+a[e]),baidu.dom.addClass(this._container,"anchor"+a[t])}},getAnchor:function(){return this._opts.anchor},getContainer:function(){return this._container},setOffset:function(t){t instanceof Size&&(this._opts=this._opts||{printable:!1},this._opts.offset=new Size(t.width,t.height),this._container&&this.setAnchor(this._opts.anchor))},getOffset:function(){return this._opts.offset},getDom:function(){return this._container},show:function(){1!=this._visible&&(this._visible=!0,this._container&&baidu.dom.show(this._container))},hide:function(){0!=this._visible&&(this._visible=!1,this._container&&baidu.dom.hide(this._container))},isPrintable:function(){return!!this._opts.printable},isVisible:function(){return!(!this._container&&!this._map)&&!!this._visible}});var BMAP_ANCHOR_TOP_LEFT=0,BMAP_ANCHOR_TOP_RIGHT=1,BMAP_ANCHOR_BOTTOM_LEFT=2,BMAP_ANCHOR_BOTTOM_RIGHT=3,BMAP_NAVIGATION_CONTROL_LARGE=0,BMAP_NAVIGATION_CONTROL_SMALL=1,BMAP_NAVIGATION_CONTROL_PAN=2,BMAP_NAVIGATION_CONTROL_ZOOM=3;baidu.lang.inherits(NavigationControl,Control,"NavigationControl"),baidu.extend(NavigationControl.prototype,{initialize:function(t){return this._map=t,this._container},setType:function(t){isNumber(t)&&t>=BMAP_NAVIGATION_CONTROL_LARGE&&t<=BMAP_NAVIGATION_CONTROL_ZOOM?this._opts.type=t:this._opts.type=BMAP_NAVIGATION_CONTROL_LARGE},getType:function(){return this._opts.type},_asyncLoadCode:function(){var t=this;ModuleMgr.load("navictrl",function(){t._asyncLoad()})}}),baidu.lang.inherits(GeolocationControl,Control,"GeolocationControl"),baidu.extend(GeolocationControl.prototype,{location:function(){this._pendingCalls.push({method:"location",arguments:arguments})},getAddressComponent:function(){return null}}),baidu.lang.inherits(CopyrightControl,Control,"CopyrightControl"),baidu.object.extend(CopyrightControl.prototype,{initialize:function(t){return this._map=t,this._container},addCopyright:function(t){if(t&&isNumber(t.id)&&!isNaN(t.id)){var e={bounds:null,content:""};for(var i in t)e[i]=t[i];var n=this.getCopyright(t.id);if(n)for(var o in e)n[o]=e[o];else this._copyrightCollection.push(e)}},getCopyright:function(t){for(var e=0,i=this._copyrightCollection.length;e<i;e++)if(this._copyrightCollection[e].id==t)return this._copyrightCollection[e]},getCopyrightCollection:function(){return this._copyrightCollection},removeCopyright:function(t){for(var e=0,i=this._copyrightCollection.length;e<i;e++)this._copyrightCollection[e].id==t&&(r=this._copyrightCollection.splice(e,1),e--,i=this._copyrightCollection.length)},_asyncLoadCode:function(){var t=this;ModuleMgr.load("copyrightctrl",function(){t._asyncLoad()})}}),baidu.lang.inherits(OverviewMapControl,Control,"OverviewMapControl"),
baidu.extend(OverviewMapControl.prototype,{initialize:function(t){return this._map=t,this._container},setAnchor:function(t){Control.prototype.setAnchor.call(this,t)},changeView:function(){this.changeView._running=!0,this._opts.isOpen=!this._opts.isOpen,this._container||(this.changeView._running=!1)},setSize:function(t){t instanceof Size||(t=new Size(200,200)),t.width=t.width>0?t.width:200,t.height=t.height>0?t.height:200,this._opts.size=t},getSize:function(){return this._opts.size},isOpen:function(){return this._opts.isOpen},_asyncLoadCode:function(){var t=this;ModuleMgr.load("control",function(){t._asyncLoad()})}});var BMAP_UNIT_METRIC="metric",BMAP_UNIT_IMPERIAL="us";baidu.lang.inherits(ScaleControl,Control,"ScaleControl"),baidu.object.extend(ScaleControl.prototype,{initialize:function(t){return this._map=t,this._container},setColor:function(t){this._opts.color=t+""},getColor:function(){return this._opts.color},setUnit:function(t){this._opts.unit=this._units[t]&&this._units[t].name||this._opts.unit},getUnit:function(){return this._opts.unit},_asyncLoadCode:function(){var t=this;ModuleMgr.load("control",function(){t._asyncLoad()})}});var BMAP_MAPTYPE_CONTROL_HORIZONTAL=0,BMAP_MAPTYPE_CONTROL_DROPDOWN=1,BMAP_MAPTYPE_CONTROL_MAP=2;baidu.lang.inherits(MapTypeControl,Control,"MapTypeControl"),baidu.object.extend(MapTypeControl.prototype,{initialize:function(t){return this._map=t,this._container},streetMapMgr:function(t){this._map._isHybirdShow=t},_asyncLoadCode:function(){var t=this;ModuleMgr.load("control",function(){t._asyncLoad()},!0)}}),baidu.lang.inherits(PanoramaControl,Control,"PanoramaControl"),baidu.extend(PanoramaControl.prototype,{initialize:function(t){return this._map=t,this._container},_asyncLoadCode:function(){var t=this;ModuleMgr.load("control",function(){t._asyncLoad()})}}),baidu.lang.inherits(CityListControl,Control,"CityListControl"),baidu.object.extend(CityListControl.prototype,{initialize:function(t){return this._map=t,this._container},_asyncLoadCode:function(){var t=this;ModuleMgr.load("citylistcontrol",function(){t._asyncLoad()},!0)}}),baidu.lang.inherits(ContextMenu,baidu.lang.Class,"ContextMenu"),baidu.object.extend(ContextMenu.prototype,{initialize:function(t,e){this._map=t,this._overlay=e||null},remove:function(){this._map=this._overlay=null},addItem:function(t){if(t&&"menuitem"==t._type&&""!=t._text&&!(t._width<=0)){for(var e=0,i=this._items.length;e<i;e++)if(this._items[e]===t)return;this._items.push(t),this._rItems.push(t)}},removeItem:function(t){if(t&&"menuitem"==t._type){for(var e=0,i=this._items.length;e<i;e++)this._items[e]===t&&(this._items[e].remove(),this._items.splice(e,1),i--);for(var e=0,i=this._rItems.length;e<i;e++)this._rItems[e]===t&&(this._rItems[e].remove(),this._rItems.splice(e,1),i--)}},addSeparator:function(){this._items.push({_type:"divider",_dIndex:this._dividers.length}),this._dividers.push({dom:null})},removeSeparator:function(t){if(this._dividers[t]){for(var e=0,i=this._items.length;e<i;e++)this._items[e]&&"divider"==this._items[e]._type&&this._items[e]._dIndex==t&&(this._items.splice(e,1),i--),this._items[e]&&"divider"==this._items[e]._type&&this._items[e]._dIndex>t&&this._items[e]._dIndex--;this._dividers.splice(t,1)}},getDom:function(){return this._container},show:function(){1!=this._isOpen&&(this._isOpen=!0)},hide:function(){0!=this._isOpen&&(this._isOpen=!1)},setCursor:function(t){t&&(this._opts.cursor=t)},getItem:function(t){return this._rItems[t]}});var BMAP_CONTEXT_MENU_ICON_ZOOMIN=MapConfig.imgPath+"menu_zoom_in.png",BMAP_CONTEXT_MENU_ICON_ZOOMOUT=MapConfig.imgPath+"menu_zoom_out.png";baidu.lang.inherits(MenuItem,baidu.lang.Class,"MenuItem"),baidu.object.extend(MenuItem.prototype,{initialize:function(t,e){this._map=t,this._contextmenu=e},remove:function(){this._contextmenu=null,this._map=null},setText:function(t){t&&(this._text=t+"")},setIcon:function(t){t&&(this._opts.iconUrl=t)},getDom:function(){return this._container},enable:function(){this._enabled=!0},disable:function(){this._enabled=!1}}),baidu.object.extend(Bounds.prototype,{isEmpty:function(){return!this._sw||!this._ne},equals:function(t){return t instanceof Bounds&&!this.isEmpty()&&(this.getSouthWest().equals(t.getSouthWest())&&this.getNorthEast().equals(t.getNorthEast()))},getSouthWest:function(){return this._sw},getNorthEast:function(){return this._ne},containsBounds:function(t){return t instanceof Bounds&&!this.isEmpty()&&!t.isEmpty()&&(t._swLng>this._swLng&&t._neLng<this._neLng&&t._swLat>this._swLat&&t._neLat<this._neLat)},getCenter:function(){return this.isEmpty()?null:new Point((this._swLng+this._neLng)/2,(this._swLat+this._neLat)/2)},intersects:function(t){if(!(t instanceof Bounds))return null;if(Math.max(t._swLng,t._neLng)<Math.min(this._swLng,this._neLng)||Math.min(t._swLng,t._neLng)>Math.max(this._swLng,this._neLng)||Math.max(t._swLat,t._neLat)<Math.min(this._swLat,this._neLat)||Math.min(t._swLat,t._neLat)>Math.max(this._swLat,this._neLat))return null;var e=Math.max(this._swLng,t._swLng),i=Math.min(this._neLng,t._neLng),n=Math.max(this._swLat,t._swLat),o=Math.min(this._neLat,t._neLat);return new Bounds(new Point(e,n),new Point(i,o))},containsPoint:function(t){return(t instanceof Point||t instanceof PointN)&&!this.isEmpty()&&(t.lng>=this._swLng&&t.lng<=this._neLng&&t.lat>=this._swLat&&t.lat<=this._neLat)},extend:function(t){if(t instanceof Point||t instanceof PointN){var e=t.lng,i=t.lat;this._sw||(this._sw=new Point(0,0)),this._ne||(this._ne=new Point(0,0)),(!this._swLng||this._swLng>e)&&(this._sw.lng=this._swLng=e),(!this._neLng||this._neLng<e)&&(this._ne.lng=this._neLng=e),(!this._swLat||this._swLat>i)&&(this._sw.lat=this._swLat=i),(!this._neLat||this._neLat<i)&&(this._ne.lat=this._neLat=i)}},toSpan:function(){return this.isEmpty()?new Point(0,0):new Point(Math.abs(this._neLng-this._swLng),Math.abs(this._neLat-this._swLat))}}),Point.isInRange=function(t){return t&&t.lng<=180&&t.lng>=-180&&t.lat<=74&&t.lat>=-74},Point.prototype.equals=function(t){return t&&this.lat==t.lat&&this.lng==t.lng},PointN.isInRange=function(t){return t&&t.lng<=180&&t.lng>=-180&&t.lat<=74&&t.lat>=-74},PointN.prototype.equals=function(t){return t&&this.lat==t.lat&&this.lng==t.lng},Projection.prototype.lngLatToPoint=function(){throw"lngLatToPoint方法未实现"},Projection.prototype.pointToLngLat=function(){throw"pointToLngLat方法未实现"};var CoordTransUtils={convertPtToPix3D:function(t,e,i){ModuleMgr.load("coordtransutils",function(){CoordTransUtils.asyncConvertPtToPix3D(t,e,i)},!0)},convertPixToPt3D:function(t,e,i){ModuleMgr.load("coordtransutils",function(){CoordTransUtils.asyncConvertPixToPt3D(t,e,i)},!0)}};MercatorProjection.prototype=new Projection,baidu.extend(MercatorProjection,{EARTHRADIUS:6370996.81,MCBAND:[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],LLBAND:[86,60,45,30,15,0],MC2LL:[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],LL2MC:[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],getDistanceByMC:function(t,e){if(!t||!e)return 0;var i,n,o,a;return(t=this.convertMC2LL(t))?(i=this.toRadians(t.lng),n=this.toRadians(t.lat),(e=this.convertMC2LL(e))?(o=this.toRadians(e.lng),a=this.toRadians(e.lat),this.getDistance(i,o,n,a)):0):0},getDistanceByLL:function(t,e){if(!t||!e)return 0;t.lng=this.getLoop(t.lng,-180,180),t.lat=this.getRange(t.lat,-74,74),e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74);var i,n,o,a;return i=this.toRadians(t.lng),o=this.toRadians(t.lat),n=this.toRadians(e.lng),a=this.toRadians(e.lat),this.getDistance(i,n,o,a)},convertMC2LL:function(t){if(null===t||void 0===t)return new PointN(0,0);if("BD09"===BMap.tileType){var e,i;e=new PointN(Math.abs(t.lng),Math.abs(t.lat));for(var n=0;n<this.MCBAND.length;n++)if(e.lat>=this.MCBAND[n]){i=this.MC2LL[n];break}var o=this.convertor(t,i)}else if("WGS84"===BMap.tileType){var o={};o.lng=t.lng/20037508.34*180;var a=t.lat/20037508.34*180;o.lat=180/Math.PI*(2*Math.atan(Math.exp(a*Math.PI/180))-Math.PI/2)}var t=new PointN(o.lng,o.lat);return t},convertLL2MC:function(t){if(null===t||void 0===t)return new PointN(0,0);if(t.lng>180||t.lng<-180||t.lat>90||t.lat<-90)return new PointN(0,0);if("BD09"===BMap.tileType){var e,i;t.lng=this.getLoop(t.lng,-180,180),t.lat=this.getRange(t.lat,-85,85),e=new PointN(t.lng,t.lat);for(var n=0;n<this.LLBAND.length;n++)if(e.lat>=this.LLBAND[n]){i=this.LL2MC[n];break}if(!i)for(var n=0;n<this.LLBAND.length;n++)if(e.lat<=-this.LLBAND[n]){i=this.LL2MC[n];break}var o=this.convertor(t,i),t=new PointN(o.lng,o.lat);return t}if("WGS84"===BMap.tileType){var a={};a.lng=t.lng*Math.PI/180*6378137;var r=t.lat*Math.PI/180;return a.lat=3189068.5*Math.log((1+Math.sin(r))/(1-Math.sin(r))),new PointN(a.lng.toFixed(2),a.lat.toFixed(2))}},convertor:function(t,e){if(t&&e){var i=e[0]+e[1]*Math.abs(t.lng),n=Math.abs(t.lat)/e[9],o=e[2]+e[3]*n+e[4]*n*n+e[5]*n*n*n+e[6]*n*n*n*n+e[7]*n*n*n*n*n+e[8]*n*n*n*n*n*n;return i*=t.lng<0?-1:1,o*=t.lat<0?-1:1,new PointN(i,o)}},getDistance:function(t,e,i,n){return this.EARTHRADIUS*Math.acos(Math.sin(i)*Math.sin(n)+Math.cos(i)*Math.cos(n)*Math.cos(e-t))},toRadians:function(t){return Math.PI*t/180},toDegrees:function(t){return 180*t/Math.PI},getRange:function(t,e,i){return null!=e&&(t=Math.max(t,e)),null!=i&&(t=Math.min(t,i)),t},getLoop:function(t,e,i){for(;t>i;)t-=i-e;for(;t<e;)t+=i-e;return t}}),baidu.extend(MercatorProjection.prototype,{lngLatToMercator:function(t){return MercatorProjection.convertLL2MC(t)},lngLatToPoint:function(t){var e=MercatorProjection.convertLL2MC(t);return new Pixel(e.lng,e.lat)},mercatorToLngLat:function(t){return MercatorProjection.convertMC2LL(t)},pointToLngLat:function(t){var e=new PointN(t.x,t.y),i=MercatorProjection.convertMC2LL(e);return new PointN(i.lng,i.lat)},pointToPixel:function(t,e,i,n,o){if(t){t=this.lngLatToMercator(t,o);var a=this.getZoomUnits(e);return new Pixel(Math.round((t.lng-i.lng)/a+n.width/2),Math.round((i.lat-t.lat)/a+n.height/2))}},mercatorToPixel:function(t,e,i,n){if(t){var o=this.getZoomUnits(e);return new Pixel(Math.round((t.lng-i.lng)/o+n.width/2),Math.round((i.lat-t.lat)/o+n.height/2))}},pixelToPoint:function(t,e,i,n,o){if(t){var a=this.getZoomUnits(e),r=i.lng+a*(t.x-n.width/2),s=i.lat-a*(t.y-n.height/2),l=new PointN(r,s);return this.mercatorToLngLat(l,o)}},tileToBound:function(t,e){var i=t.col,n=t.row,o=t.baseTileSize,a=this.getZoomUnits(t.zoom),r={x:Math.round(e.lng/a),y:Math.round(e.lat/a)},s={lbx:i*o,lby:n*o,rtx:(i+1)*o,rty:(n+1)*o},l={lbx:e.lng+(s.lbx-r.x)*a,lby:e.lat+(s.lby-r.y)*a,rtx:e.lng+(s.rtx-r.x)*a,rty:e.lat+(s.rty-r.y)*a},h=MercatorProjection.convertMC2LL(new Point(l.lbx,l.lby)),c=MercatorProjection.convertMC2LL(new Point(l.rtx,l.rty));return{MC:new Bounds(new Point(l.lbx,l.lby),new Point(l.rtx,l.rty)),LL:new Bounds(h,c)}},getZoomUnits:function(t){return"BD09"==BMap.tileType?Math.pow(2,18-t):"WGS84"==BMap.tileType?2*Math.PI*6378137/256/Math.pow(2,t):void 0},setCoordType:function(t){this.coordsType=t}}),baidu.extend(WGS84Projection,{RADIUS:6378137,EXTENT4326:[-180,-90,180,90],WORLD_EXTENT:[-180,-85,180,85],HALF_SIZE:20037508.342789244,METERS_PER_UNIT:111319.49079327358,EXTENT3857:[-20037508.342789244,-20037508.342789244,20037508.342789244,20037508.342789244],MAX_SAFE_Y:238107693.26496765,origin:[-20037508.342789244,20037508.342789244],size:156543.03392804097,gridSize:[256,256],resolutions:[156543.03392804097,78271.51696402048,39135.75848201024,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.8740565703525,76.43702828517625,38.21851414258813,19.109257071294063,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.29858214173896974,.14929107086948487,.07464553543474244,.03732276771737122],calcResolutions:function(t){this.resolutions=[];for(var e=0;e<t;++e)this.resolutions.push(this.size/Math.pow(2,e));return this.resolutions},forEachTileCoord:function(t,e,i,n){for(var o=this.getTileRangeForExtentFactory(t,e,i),a=o.minX,r=o.maxX;a<=r;++a)for(var s=o.minY,l=o.maxY;s<=l;++s)n([e,a,s])},getTileRangeForExtentFactory:function(t,e,i,n){var o;switch(i.source){case"BD09MC":o=this.getBDTileRangeForExtentAndZ(t,e,n);break;case"EPSG3857":default:o=this.getTileRangeForExtentAndZ(t,e,n)}return o},getBDTileRangeForExtentAndZ:function(t,e,i){var n=[0,0,0];this.getBDTileCoordForXYAndZ_(t[0],t[1],e,!1,n);var o=n[1],a=n[2];return this.getBDTileCoordForXYAndZ_(t[2],t[3],e,!0,n),this.createOrUpdateTileRange(o,n[1],a,n[2],i)},getTileRangeForExtentAndZ:function(t,e,i){var n=[0,0,0];this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,n);var o=n[1],a=n[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,n),this.createOrUpdateTileRange(o,n[1],a,n[2],i)},getBDTileCoordForXYAndZ_:function(t,e,i,n,o){var a=256*Math.pow(2,18-i),r=t/a,s=e/a;return n?(r=Math.ceil(r)-1,s=Math.ceil(s)-1):(r=Math.floor(r),s=Math.floor(s)),this.createOrUpdateTileCoord(i,r,s,o)},getTileCoordForXYAndZ_:function(t,e,i,n,o){var a=this.origin,r=0===this.resolutions.length?this.calcResolutions(21)[i]:this.resolutions[i],s=this.gridSize,l=n?.5:0,h=n?.5:0,c=Math.floor((t-a[0])/r+l),d=Math.floor((a[1]-e)/r+h),u=c/s[0],p=d/s[1];return n?(u=Math.ceil(u)-1,p=Math.ceil(p)-1):(u=Math.floor(u),p=Math.floor(p)),this.createOrUpdateTileCoord(i,u,p,o)},getTileCoordForCoordAndZ:function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},getTileRangeExtent:function(t,e){var i=this.origin;0===this.resolutions.length&&this.calcResolutions(23);var n=this.resolutions[t[0]],o=this.gridSize,a=i[0]+t[1]*o[0]*n,r=i[1]-(t[2]+1)*o[1]*n,s=a+o[0]*n,l=r+o[1]*n;return this.createOrUpdateTileRange(a,s,r,l,e)},getRangeExtent:function(t,e,i,n,o){var a=this.calPiexlResolution(n,o),r=e/2*a,s=i/2*a,l=t[0]-r,h=t[0]+r,c=t[1]-s,d=t[1]+s,u=gcoord.transform([l,c],gcoord[o.target],gcoord[o.source]),p=gcoord.transform([h,d],gcoord[o.target],gcoord[o.source]);return this.createOrUpdateTileRange(u[0],p[0],u[1],p[1])},getMousePoint:function(t,e,i,n,o){var a=getMouseEventArgs(t,e);return this.calLngLatByMapViewPixelInverse(a.clientPos,i,e.width,e.height,n,o)},calLngLatByMapViewPixelInverse:function(t,e,i,n,o,a){var r=this.calPiexlResolution(o,a),s=t.x-i/2,l=t.y-n/2,h=e[0]+s*r,c=e[1]-l*r;return gcoord.transform([h,c],gcoord[a.target],gcoord[a.source])},calPiexlResolution:function(t,e){var i;switch(e.target){case"BD09MC":i=Math.pow(2,18-t);break;case"EPSG3857":i=this.resolutions[Math.floor(t)];break;default:i=Math.pow(2,18-t)}return i},getXYZCellPixelCoor:function(t,e,i,n){var o,a,r=this.gridSize;switch(n.source){case"EPSG3857":var s=Math.pow(2,i-1)-(e+1);o=(t-Math.pow(2,i-1))*r[0],a=s*r[1];break;case"BD09MC":o=t*r[0],a=e*r[1]}return{x:o,y:a}},getBaiduCellPixelCoor:function(t,e,i){return{x:256*t,y:256*e}},getPointPixelCoor:function(t,e,i){var n,o,a=Math.pow(2,18-e),r=this.resolutions[Math.floor(e)],s=MercatorProjection.convertMC2LL(t);switch(i.source){case"EPSG3857":var l=gcoord.transform([s.lng,s.lat],gcoord.BD09LL,gcoord.EPSG3857);n=l[0]/r,o=l[1]/r;break;case"BD09MC":n=t.lng/a,o=t.lat/a}return[n,o]},getResolutionScale:function(t,e){var i,n=this.resolutions[Math.floor(t)],o=Math.pow(2,18-t);switch(e.target){case"BD09MC":i=n/o;break;case"EPSG3857":i=o/n;break;default:i=n/o}return i},getBaiduResolutionScale:function(t){var e=this.resolutions[Math.floor(t)];return Math.pow(2,18-t)/e},getTileCoordCenter:function(t){var e=this.origin;0===this.resolutions.length&&this.calcResolutions(23);var i=this.resolutions[t[0]],n=this.gridSize;return[e[0]+(t[1]+.5)*n[0]*i,e[1]-(t[2]+.5)*n[1]*i]},transformBDmcPoint:function(t,e){e=e||"EPSG3857";var i=MercatorProjection.convertMC2LL(new Point(t.lng,t.lat));return gcoord.transform([i.lng,i.lat],gcoord.BD09LL,gcoord[e])},getTilesLoop:function(t,e){for(var i=Math.pow(2,t);e>i-1;)e-=i;for(;e<0;)e+=i;return e},getLoopBox:function(t,e){var i=2*this.HALF_SIZE;return t[0]>0&&e[2]<0?e[2]=e[2]+i:t[0]<0&&e[0]>0&&(e[0]=e[0]-i),e},createOrUpdateTileCoord:function(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]},createOrUpdateTileRange:function(t,e,i,n,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=i,o.maxY=n,o):{minX:t,maxX:e,minY:i,maxY:n}},fromEPSG4326:function(t,e,i){var n=t.length,o=i>1?i:2,a=e;void 0===a&&(a=o>2?t.slice():new Array(n));for(var r=0;r<n;r+=o){a[r]=this.HALF_SIZE*t[r]/180;var s=this.RADIUS*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));s>this.MAX_SAFE_Y?s=this.MAX_SAFE_Y:s<-this.MAX_SAFE_Y&&(s=-this.MAX_SAFE_Y),a[r+1]=s}return a},toEPSG4326:function(t,e,i){var n=t.length,o=i>1?i:2,a=e;void 0===a&&(a=o>2?t.slice():new Array(n));for(var r=0;r<n;r+=o)a[r]=180*t[r]/this.HALF_SIZE,a[r+1]=360*Math.atan(Math.exp(t[r+1]/this.RADIUS))/Math.PI-90;return a},findParentGridAndPosition:function(t,e,i,n,o,a,r){if(i-1<0)return!1;for(var s=t,l=e,h=i,c=1;c<=r;c++){var d=this.findParent(s,l,h,c);if(!d)return!1;var u=this.getTileKey(d),p=n.getData(u);if(p&&"ready"===p.status){if(o[u])continue;return a.setData(p,this.drawIndex,0),o[u]=!0,!0}s=d.col,l=d.row,h=d.zoom}},findParent:function(t,e,i,n){if(i-1<0)return null;var o=t%2,a=e%2;return{col:Math.floor(t/2),row:Math.floor(e/2),sonX:o,sonY:a,thumbLB:[.5*o,1-.5*a-.5],thumbRT:[.5*o+.5,1-.5*a],radio:Math.pow(2,n),zoom:i-1,useZoom:i-1}},getTileKey:function(t,e){e=e||{};var i="number"==typeof e.useZoom?e.useZoom:t.useZoom,n=t.style||this.mapStyleId||"default";return this.mapType+"_"+n+"_"+t.col+"_"+t.row+"_"+t.zoom+"_"+i},lon2tile:function(t,e){return Math.floor((t+180)/360*Math.pow(2,e))},lat2tile:function(t,e){var i=Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180);return Math.floor((1-Math.log(i)/Math.PI)/2*Math.pow(2,e))},tile2long:function(t,e){return t/Math.pow(2,e)*360-180},tile2lat:function(t,e){var i=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(i)-Math.exp(-i)))}}),PerspectiveProjection.prototype=new MercatorProjection,baidu.extend(PerspectiveProjection.prototype,{lngLatToMercator:function(t,e){return this._convert2DTo3D(e,MercatorProjection.convertLL2MC(t))},mercatorToLngLat:function(t,e){return MercatorProjection.convertMC2LL(this._convert3DTo2D(e,t))},lngLatToPointFor3D:function(t,e){var i=this,n=MercatorProjection.convertLL2MC(t);ModuleMgr.load("coordtrans",function(){var t=CoordTrans.getOMap_pts(i.curCityName||"bj",n),o=new Pixel(t.x,t.y);e&&e(o)},!0)},pointToLngLatFor3D:function(t,e){var i=this,n=new Point(t.x,t.y);ModuleMgr.load("coordtrans",function(){var t=CoordTrans.getMapJw_pts(i.curCityName||"bj",n),o=new Point(t.lng,t.lat),a=MercatorProjection.convertMC2LL(o);e&&e(a)},!0)},_convert2DTo3D:function(t,e){if(ModuleMgr.current("coordtrans")._status==ModuleMgr.Request.COMPLETED){var i=CoordTrans.getOMap_pts(t||"bj",e);return new Point(i.x,i.y)}return ModuleMgr.load("coordtrans",function(){}),new Point(0,0)},_convert3DTo2D:function(t,e){if(ModuleMgr.current("coordtrans")._status==ModuleMgr.Request.COMPLETED){var i=CoordTrans.getMapJw_pts(t||"bj",e);return new Point(i.lng,i.lat)}return ModuleMgr.load("coordtrans",function(){}),new Point(0,0)},getZoomUnits:function(t){return Math.pow(2,20-t)},setCoordType:function(t){this.coordsType=t}}),baidu.inherits(Convertor,baidu.lang.Class,"Convertor"),baidu.extend(Convertor.prototype,{translate:function(t,e,i,n){this._queryList.push({method:"translate",arguments:[t,e,i,n]})}}),exportSymbol(Convertor.prototype,{translate:Convertor.prototype.translate}),baidu.lang.inherits(Overlay,baidu.lang.Class,"Overlay"),Overlay.getZIndex=function(t){return t*=1,t?-1e5*t<<1:0},baidu.extend(Overlay.prototype,{_i:function(t){!this.domElement&&isFunction(this.initialize)&&(this.domElement=this.initialize(t),this.domElement&&(this.domElement.style.WebkitUserSelect="none")),isFunction(this.draw),this.draw()},initialize:function(t){throw"initialize方法未实现"},draw:function(){throw"draw方法未实现"},remove:function(){this.domElement&&this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement),this.domElement=null,this.dispatchEvent(new BaseEvent("onremove"))},hide:function(){this.domElement&&baidu.dom.hide(this.domElement)},show:function(){this.domElement&&baidu.dom.show(this.domElement)},isVisible:function(){return!!this.domElement&&("none"!=this.domElement.style.display&&"hidden"!=this.domElement.style.visibility)}}),BMap.register(function(t){function e(t,e){var i=create("div"),n=i.style;return n.position="absolute",n.top=n.left=n.width=n.height="0",n.zIndex=e,t.appendChild(i),i}var i=t.temp;i.overlayDiv=t.overlayDiv=e(t.platform,200),t._panes.floatPane=e(i.overlayDiv,800),t._panes.markerMouseTarget=e(i.overlayDiv,700),t._panes.floatShadow=e(i.overlayDiv,600),t._panes.labelPane=e(i.overlayDiv,500),t._panes.markerPane=e(i.overlayDiv,400),t._panes.markerShadow=e(i.overlayDiv,300),t._panes.vertexPane=e(i.overlayDiv,201),t._panes.mapPane=e(i.overlayDiv,200)}),baidu.lang.inherits(OverlayInternal,Overlay,"OverlayInternal"),baidu.extend(OverlayInternal.prototype,{initialize:function(t){return this.map=t,baidu.lang.Class.call(this,this.guid),null},getMap:function(){return this.map},draw:function(){},_addDom:function(){},remove:function(){this.map=null,baidu.lang.decontrol(this.guid),Overlay.prototype.remove.call(this)},hide:function(){!1!==this._visible&&(this._visible=!1)},show:function(){!0!==this._visible&&(this._visible=!0)},isVisible:function(){return!!this.domElement&&!!this._visible},getContainer:function(){return this.domElement},setConfig:function(t){t=t||{};for(var e in t)this._config[e]=t[e]},setZIndex:function(t){this.zIndex=t},enableMassClear:function(){this._config.enableMassClear=!0},disableMassClear:function(){this._config.enableMassClear=!1},addContextMenu:function(t){this._menu=t},removeContextMenu:function(t){this._menu=null}}),BMap.register(function(t){var e=new OverlayMgr;e.map=t,t._overlays=e._overlays,t._customOverlays=e._customOverlays,t.addEventListener("load",function(t){e.draw(t)}),t.addEventListener("moveend",function(t){e.draw(t)}),baidu.browser.ie&&baidu.browser.ie<8||"BackCompat"===document.compatMode?t.addEventListener("zoomend",function(t){setTimeout(function(){e.draw(t)},20)}):t.addEventListener("zoomend",function(t){e.draw(t)}),t.addEventListener("maptypechange",function(t){e.draw(t)}),t.addEventListener("addoverlay",function(t){var i=t.target;if(i instanceof OverlayInternal)e._overlays[i.guid]||(e._overlays[i.guid]=i);else{for(var n=!1,o=0,a=e._customOverlays.length;o<a;o++)if(e._customOverlays[o]===i){n=!0;break}n||e._customOverlays.push(i)}}),t.addEventListener("removeoverlay",function(t){var i=t.target;if(i instanceof OverlayInternal)delete e._overlays[i.guid];else for(var n=0,o=e._customOverlays.length;n<o;n++)if(e._customOverlays[n]===i){e._customOverlays.splice(n,1);break}}),t.addEventListener("clearoverlays",function(t){this.closeInfoWindow();for(var i in e._overlays)e._overlays[i]._config.enableMassClear&&(e._overlays[i].remove(),delete e._overlays[i]);for(var n=0,o=e._customOverlays.length;n<o;n++)!1!==e._customOverlays[n].enableMassClear&&(e._customOverlays[n].remove(),e._customOverlays[n]=null,e._customOverlays.splice(n,1),n--,o--)}),t.addEventListener("infowindowopen",function(t){var e=this.infoWindow;e&&(baidu.dom.hide(e.popDom),baidu.dom.hide(e.shadowDom))}),t.addEventListener("movestart",function(){this.getInfoWindow()&&this.getInfoWindow()._setOverflow()}),t.addEventListener("moveend",function(){this.getInfoWindow()&&this.getInfoWindow()._resetOverflow()})}),OverlayMgr.prototype.draw=function(t){if(BMap.DrawerSelector){var e=BMap.DrawerSelector.getDrawer(this.map);"canvas"===e._type&&e.canvas&&e._clearCanvas(e.canvas.getContext("2d"))}for(var i in this._overlays)this._overlays[i].draw(t);baidu.array.each(this._customOverlays,function(t){t.draw()}),this.map.temp.infoWin&&this.map.temp.infoWin.setPosition(),BMap.DrawerSelector&&e.setPalette()};var BMap_Symbol_SHAPE_CIRCLE=1,BMap_Symbol_SHAPE_RECTANGLE=2,BMap_Symbol_SHAPE_RHOMBUS=3,BMap_Symbol_SHAPE_STAR=4,BMap_Symbol_SHAPE_BACKWARD_CLOSED_ARROW=5,BMap_Symbol_SHAPE_FORWARD_CLOSED_ARROW=6,BMap_Symbol_SHAPE_BACKWARD_OPEN_ARROW=7,BMap_Symbol_SHAPE_FORWARD_OPEN_ARROW=8,BMap_Symbol_SHAPE_POINT=9,BMap_Symbol_SHAPE_PLANE=10,BMap_Symbol_SHAPE_CAMERA=11,BMap_Symbol_SHAPE_WARNING=12,BMap_Symbol_SHAPE_SMILE=13,BMap_Symbol_SHAPE_CLOCK=14;baidu.extend(Symbol.prototype,{setPath:function(t){this._rawPath=t},setAnchor:function(t){this._anchor=this.style.anchor=t},setRotation:function(t){this.style.rotation=t},setScale:function(t){this.style.scale=t},setStrokeWeight:function(t){this.style.strokeWeight=t},setStrokeColor:function(t){t=baidu.colorConverter.convert2rgba(t,this.style.strokeOpacity),this.style.strokeColor=t},setStrokeOpacity:function(t){this.style.strokeOpacity=t},setFillOpacity:function(t){this.style.fillOpacity=t},setFillColor:function(t){this.style.fillColor=t}}),baidu.lang.inherits(Graph,OverlayInternal,"Graph"),Graph.getGraphPoints=function(t){var e=[];if(!t)return e;if(isString(t)){var i=t.split(";");baidu.array.each(i,function(t){var i=t.split(",");e.push(new Point(i[0],i[1]))})}return"[object Array]"==Object.prototype.toString.apply(t)&&t.length>0&&(e=t),e},Graph.parseTolerance=[.09,.005,1e-4,1e-5],baidu.extend(Graph.prototype,{initialize:function(t){return this.map=t,null},draw:function(){},_setPath:function(t){this._parseCache.length=0,this.points=Graph.getGraphPoints(t).slice(0),this._calcBounds()},setPath:function(t){this._setPath(t)},_calcBounds:function(){if(this.points){var t=this;t._bounds=new Bounds,baidu.array.each(this.points,function(e){t._bounds.extend(e)})}},getPath:function(){return this.points},setPositionAt:function(t,e){e&&this.points[t]&&(this._parseCache.length=0,this.points[t]=new Point(e.lng,e.lat),this._calcBounds())},setStrokeColor:function(t){this._config.strokeColor=t},getStrokeColor:function(){return this._config.strokeColor},setStrokeWeight:function(t){t>0&&(this._config.strokeWeight=t)},getStrokeWeight:function(){return this._config.strokeWeight},setStrokeOpacity:function(t){void 0==t||t>1||t<0||(this._config.strokeOpacity=t)},getStrokeOpacity:function(){return this._config.strokeOpacity},setFillOpacity:function(t){t>1||t<0||(this._config.fillOpacity=t)},getFillOpacity:function(){return this._config.fillOpacity},setStrokeStyle:function(t){"solid"!=t&&"dashed"!=t||(this._config.strokeStyle=t)},getStrokeStyle:function(){return this._config.strokeStyle},setFillColor:function(t){this._config.fillColor=t||""},getFillColor:function(){return this._config.fillColor},getBounds:function(){return this._bounds},remove:function(){this.map&&this.map.removeEventListener("onmousemove",this._graphMouseEvent),OverlayInternal.prototype.remove.call(this),this._parseCache.length=0},enableEditing:function(){if(!(this.points.length<2)){this._config.enableEditing=!0;var t=this;ModuleMgr.load("poly",function(){t.addVertexs()},!0)}},disableEditing:function(){this._config.enableEditing=!1;var t=this;ModuleMgr.load("poly",function(){t.clearVertexs()},!0)},getEditing:function(){return this._config.enableEditing},getGeodesicPath:function(){for(var t=[],e=0;e<this.points.length-1;e++){var i=this.calcGreatCirclePath(this.points[e],this.points[e+1]);t=t.concat(i)}return t=t.concat(this.points[this.points.length-1])},calcGreatCirclePath:function(t,e){if(t.equals(e))return[t];var i=MercatorProjection.getDistance(toRadian(t.lng),toRadian(t.lat),toRadian(e.lng),toRadian(e.lat)),i=MercatorProjection.getDistanceByLL(t,e);if(i<25e4)return[t];var n=[],o=Math.round(i/15e4),a=this.calcAngularDistance(t,e);n.push(t);for(var r=0;r<o;r++){var s=this.calcMiddlePoint(t,e,r/o,a);n.push(s)}return n.push(e),n},calcMiddlePoint:function(t,e,i,n){var o=t.lat,a=e.lat,r=t.lng,s=e.lng,l=toRadian(o),h=toRadian(a),c=toRadian(r),d=toRadian(s),u=Math.sin((1-i)*n)/Math.sin(n),p=Math.sin(i*n)/Math.sin(n),_=u*Math.cos(l)*Math.cos(c)+p*Math.cos(h)*Math.cos(d),g=u*Math.cos(l)*Math.sin(c)+p*Math.cos(h)*Math.sin(d),m=u*Math.sin(l)+p*Math.sin(h),f=Math.atan2(m,Math.sqrt(Math.pow(_,2)+Math.pow(g,2)));return new Point(toAngle(Math.atan2(g,_)),toAngle(f))},calcAngularDistance:function(t,e){var i=toRadian(t.lat),n=toRadian(e.lat),o=toRadian(t.lng),a=toRadian(e.lng);return Math.acos(Math.sin(i)*Math.sin(n)+Math.cos(i)*Math.cos(n)*Math.cos(Math.abs(a-o)))}}),baidu.lang.inherits(Division,OverlayInternal,"Division"),baidu.extend(Division.prototype,{_addDom:function(){var t=this._config,e=this.content,i=['<div class="BMap_Division" style="position:absolute;'];i.push("width:"+t.width+"px;display:block;"),i.push("overflow:hidden;"),"none"!=t.borderColor&&i.push("border:"+t.lineStroke+"px "+t.lineStyle+" "+t.lineColor+";"),i.push("opacity:"+t.opacity+"; filter:(opacity="+100*t.opacity+")"),i.push("background:"+t.background+";"),i.push('z-index:60;">'),i.push(e),i.push("</div>"),this.domElement=beforeEndHTML(this.map.getPanes().markerMouseTarget,i.join(""))},initialize:function(t){if(this.map=t,this._addDom(),this.domElement){var e=isMobile()?"touchstart":"mousedown";baidu.on(this.domElement,e,function(t){stopBubble(t)})}return this.domElement},draw:function(){var t=this.map.pointToOverlayPixel(this._config.point);this._config.offset=new Size(-Math.round(this._config.width/2)-Math.round(this._config.lineStroke),-Math.round(this._config.height/2)-Math.round(this._config.lineStroke)),this.domElement.style.left=t.x+this._config.offset.width+"px",this.domElement.style.top=t.y+this._config.offset.height+"px"},getPosition:function(){return this._config.point},_getPixel:function(t){return this.map._pointToPixel(this.getPosition())},setPosition:function(t){this._config.point=t,this.draw()},setDimension:function(t,e){this._config.width=Math.round(t),this._config.height=Math.round(e),this.domElement&&(this.domElement.style.width=this._config.width+"px",this.domElement.style.height=this._config.height+"px",this.draw())}});var IconPrototype=Icon.prototype;baidu.extend(Icon.prototype,{setImageUrl:function(t){t&&(this.imageUrl=t)},setPrintImageUrl:function(t){t&&(this.printImageUrl=t)},setSize:function(t){t&&(this.size=new Size(t.width,t.height))},setAnchor:function(t){t&&(this.anchor=new Size(t.width,t.height))},setImageOffset:function(t){t&&(this.imageOffset=new Size(t.width,t.height))},
setInfoWindowAnchor:function(t){t&&(this.infoWindowAnchor=new Size(t.width,t.height))},setImageSize:function(t){t&&(this.imageSize=new Size(t.width,t.height))},toString:function(){return"Icon"}}),baidu.lang.inherits(InfoWindow,baidu.lang.Class,"InfoWindow"),baidu.extend(InfoWindow.prototype,{setWidth:function(t){!t&&0!=t||isNaN(t)||t<0||(0!=t&&(t<220&&(t=220),t>730&&(t=730)),this._config.width=t)},setHeight:function(t){!t&&0!=t||isNaN(t)||t<0||(0!=t&&(t<60&&(t=60),t>650&&(t=650)),this._config.height=t)},setMaxWidth:function(t){!t&&0!=t||isNaN(t)||t<0||(0!=t&&(t<220&&(t=220),t>730&&(t=730)),this._config.maxWidth=t)},setTitle:function(t){this._config.title=t},getTitle:function(){return this._config.title},setContent:function(t){this.content=t},getContent:function(){return this.content},setMaxContent:function(t){this._config.maxContent=t+""},redraw:function(){},enableAutoPan:function(){this._config.enableAutoPan=!0},disableAutoPan:function(){this._config.enableAutoPan=!1},enableCloseOnClick:function(){this._config.enableCloseOnClick=!0},disableCloseOnClick:function(){this._config.enableCloseOnClick=!1},enableMaximize:function(){this._config.enableMaximize=!0},disableMaximize:function(){this._config.enableMaximize=!1},show:function(){this._visible=!0},hide:function(){this._visible=!1},close:function(){this.hide()},maximize:function(){this.isWinMax=!0},restore:function(){this.isWinMax=!1},isVisible:function(){return this.isOpen()},isOpen:function(){return!1},getPosition:function(){if(this.overlay&&this.overlay.getPosition)return this.overlay.getPosition()},getOffset:function(){return this._config.offset}}),Map.prototype.openInfoWindow=function(t,e){if(t instanceof InfoWindow&&(e instanceof Point||e instanceof PointN)){var i=this.temp;if(i.marker)i.marker.setPosition(e);else{var n=new Icon(MapConfig.imgPath+"blank.gif",{width:1,height:1});i.marker=new Marker(e,{icon:n,offset:new Size(0,0),clickable:!1}),i.marker._fromMap=1}this.addOverlay(i.marker),i.marker.openInfoWindow(t)}},Map.prototype.closeInfoWindow=function(){var t=this.temp.infoWin||this.temp._infoWin;t&&t.overlay&&t.overlay.closeInfoWindow()},OverlayInternal.prototype.openInfoWindow=function(t){this.map&&(this.map.closeInfoWindow(),t._visible=!0,this.map.temp._infoWin=t,t.overlay=this,baidu.lang.Class.call(t,t.guid))},OverlayInternal.prototype.closeInfoWindow=function(){this.map&&this.map.temp._infoWin&&(this.map.temp._infoWin._visible=!1,baidu.lang.decontrol(this.map.temp._infoWin.guid),this.map.temp._infoWin=null)},baidu.lang.inherits(Label,OverlayInternal,"Label"),baidu.extend(Label.prototype,{getPosition:function(){return this._marker?this._marker.getPosition():this.map?bd09ToGcj02(this.point,this.map.config.coordsType):this.point},_getPosition:function(){return this._marker?this._marker._getPosition():this.point},setPosition:function(t){(t instanceof Point||t instanceof PointN)&&!this.getMarker()&&(this.point=this._config.position=new Point(t.lng,t.lat))},setContent:function(t){this.content=t},setOpacity:function(t){t>=0&&t<=1&&(this._config.opacity=t)},setOffset:function(t){t instanceof Size&&(this._config.offset=new Size(t.width,t.height))},getOffset:function(){return this._config.offset},setStyle:function(t){t=t||{},this._config.styles=baidu.extend(this._config.styles,t)},setStyles:function(t){return this.setStyle(t)},setTitle:function(t){this._config.title=t||""},getTitle:function(){return this._config.title},setMarker:function(t){this._marker=t,this.point=this._config.position=t?t._getPosition():null},getMarker:function(){return this._marker||null},getContent:function(){return this.content}});var BMAP_ANIMATION_DROP=1,BMAP_ANIMATION_BOUNCE=2,DEFAULT_ICON=new Icon(MapConfig.imgPath+"marker_red_sprite.png",new Size(19,25),{anchor:new Size(10,25),infoWindowAnchor:new Size(10,0)}),DEFAULT_SHADOW=new Icon(MapConfig.imgPath+"marker_red_sprite.png",new Size(20,11),{anchor:new Size(6,11),imageOffset:new Size(-19,-13)});Marker.TOP_ZINDEX=Overlay.getZIndex(-90)+1e6,Marker.DRAG_ZINDEX=Marker.TOP_ZINDEX+1e6,baidu.lang.inherits(Marker,OverlayInternal,"Marker"),baidu.extend(Marker.prototype,{setIcon:function(t){(t instanceof Icon||t instanceof Symbol)&&(this._config.icon=t)},getIcon:function(){return this._config.icon},setShadow:function(t){t instanceof Icon&&(this._config.shadow=t)},getShadow:function(){return this._config.shadow},setLabel:function(t){this._config.label=t||null},getLabel:function(){return this._config.label},enableDragging:function(){this._config.enableDragging=!0},disableDragging:function(){this._config.enableDragging=!1},_getPosition:function(){return this.point},getPosition:function(){return this.point instanceof Point||this.point instanceof PointN?this.map?bd09ToGcj02(this.point,this.map.config.coordsType):new Point(this.point.lng,this.point.lat):this.point},setPosition:function(t){(t instanceof Point||t instanceof PointN)&&(this.point=this.map?gcjToBd09(t,this.map.config.coordsType):new PointN(t.lng,t.lat))},setTop:function(t,e){this._config.isTop=!!t,t&&(this._addi=e||0)},setTitle:function(t){this._config.title=t+""},getTitle:function(){return this._config.title},setOffset:function(t){t instanceof Size&&(this._config.offset=t)},getOffset:function(){return this._config.offset},setAnimation:function(t){this._animation=t},setRotation:function(t){this._config.rotation=t},getRotation:function(t){return this._config.rotation}}),baidu.lang.inherits(Polygon,Graph,"Polygon"),baidu.extend(Polygon.prototype,{setPath:function(t,e){this._userPoints=Graph.getGraphPoints(t).slice(0);var i=Graph.getGraphPoints(t).slice(0);i.length>1&&i.push(new Point(i[0].lng,i[0].lat)),Graph.prototype.setPath.call(this,i,e)},setPositionAt:function(t,e){this._userPoints[t]&&(this._userPoints[t]=new Point(e.lng,e.lat),this.points[t]=new Point(e.lng,e.lat),0!=t||this.points[0].equals(this.points[this.points.length-1])||(this.points[this.points.length-1]=new Point(e.lng,e.lat)),this._calcBounds())},getPath:function(){var t=this._userPoints;return 0==t.length&&(t=this.points),t}}),baidu.lang.inherits(Polyline,Graph,"Polyline"),Circle.parseTolerance=[.01,1e-4,1e-5,4e-6],baidu.lang.inherits(Circle,Polygon,"Circle"),baidu.extend(Circle.prototype,{initialize:function(t){return this.map=t,this.points=this._getPerimeterPoints(this.point,this.radius),this._calcBounds(),null},getCenter:function(){return this.map?bd09ToGcj02(this.point,this.map.config.coordsType):this.point},_getCenter:function(){return this.point},setCenter:function(t,e){t&&(this.point=t)},getRadius:function(){return this.radius},setRadius:function(t){this.radius=Math.abs(t)},_getPerimeterPoints:function(t,e){if(!t||!e||!this.map)return[];for(var i=(this.map,t.lng),n=t.lat,o=[],a=e/6378800,r=Math.PI/180*n,s=Math.PI/180*i,l=0;l<360;l+=9){var h=Math.PI/180*l,c=Math.asin(Math.sin(r)*Math.cos(a)+Math.cos(r)*Math.sin(a)*Math.cos(h)),d=Math.atan2(Math.sin(h)*Math.sin(a)*Math.cos(r),Math.cos(a)-Math.sin(r)*Math.sin(c)),u=(s-d+Math.PI)%(2*Math.PI)-Math.PI,p=new Point(u*(180/Math.PI),c*(180/Math.PI));o.push(p)}var _=o[0];return o.push(new Point(_.lng,_.lat)),o}});var MarkerAnimations={};baidu.lang.inherits(GroundOverlay,OverlayInternal,"GroundOverlay"),baidu.extend(GroundOverlay.prototype,{setBounds:function(t){this._config.bounds=t},getBounds:function(){return this._config.bounds},setOpacity:function(t){this._config.opacity=t},getOpacity:function(){return this._config.opacity},setImageURL:function(t){this._config.imageURL=t},getImageURL:function(){return this._config.imageURL},setDisplayOnMinLevel:function(t){this._config.displayOnMinLevel=t},getDisplayOnMinLevel:function(){return this._config.displayOnMinLevel},setDisplayOnMaxLevel:function(t){this._config.displayOnMaxLevel=t},getDisplayOnMaxLevel:function(){return this._config.displayOnMaxLevel}});var BMAP_POINT_SHAPE_STAR=1,BMAP_POINT_SHAPE_WATERDROP=2,BMAP_POINT_SHAPE_CIRCLE=3,BMAP_POINT_SHAPE_SQUARE=4,BMAP_POINT_SHAPE_RHOMBUS=5,BMAP_POINT_SIZE_TINY=1,BMAP_POINT_SIZE_SMALLER=2,BMAP_POINT_SIZE_SMALL=3,BMAP_POINT_SIZE_NORMAL=4,BMAP_POINT_SIZE_BIG=5,BMAP_POINT_SIZE_BIGGER=6,BMAP_POINT_SIZE_HUGE=7;baidu.lang.inherits(PointCollection,OverlayInternal,"PointCollection"),baidu.extend(PointCollection.prototype,{initialize:function(t){this._primaryPendingCalls&&this._primaryPendingCalls.push({method:"initialize",arguments:arguments})},setPoints:function(t){this._pendingCalls&&this._pendingCalls.push({method:"setPoints",arguments:arguments})},setStyles:function(t){this._pendingCalls&&this._pendingCalls.push({method:"setStyles",arguments:arguments})},clear:function(){this._pendingCalls&&this._pendingCalls.push({method:"clear",arguments:arguments})},remove:function(){this._pendingCalls&&this._pendingCalls.push({method:"remove",arguments:arguments})}}),CanvasLayer.prototype=new Overlay,CanvasLayer.prototype.initialize=function(t){this._map=t;var e=this.canvas=document.createElement("canvas"),i=this.ctx=this.canvas.getContext(this.contextType);e.style.cssText="position:absolute;left:0;top:0;z-index:"+this.zIndex+";",this.adjustSize(),this.adjustRatio(i),t.getPanes()[this.paneName].appendChild(e);var n=this;return t.addEventListener("resize",function(){n.adjustSize(),n.adjustRatio(i),n._draw()}),this.canvas},CanvasLayer.prototype.adjustSize=function(){var t=this._map.getSize(),e=this.canvas;e.width=t.width,e.height=t.height,e.style.width=e.width+"px",e.style.height=e.height+"px"},CanvasLayer.prototype.adjustRatio=function(t){var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,i=(window.devicePixelRatio||1)/e,n=t.canvas.width,o=t.canvas.height;t.canvas.width=n*i,t.canvas.height=o*i,t.canvas.style.width=n+"px",t.canvas.style.height=o+"px",t.scale(i,i)},CanvasLayer.prototype.draw=function(){var t=this,e=arguments;clearTimeout(t.timeoutID),t.timeoutID=setTimeout(function(){t._draw.apply(t,e)},15)},CanvasLayer.prototype._draw=function(){var t=this._map;this.canvas.style.left=-t.offsetX+"px",this.canvas.style.top=-t.offsetY+"px",this.dispatchEvent("draw"),this.options.update&&this.options.update.apply(this,arguments)},CanvasLayer.prototype.getContainer=function(){return this.canvas},CanvasLayer.prototype.show=function(){this.canvas||this._map.addOverlay(this),this.canvas.style.display="block"},CanvasLayer.prototype.hide=function(){this.canvas.style.display="none"},CanvasLayer.prototype.setZIndex=function(t){this.canvas.style.zIndex=t},CanvasLayer.prototype.getZIndex=function(){return this.zIndex},BMap.register(function(t){var e=new TileMgr(t);e.initialize(),t.tileMgr=e}),baidu.extend(TileMgr.prototype,{initialize:function(){var t=this,e=t.map;e.addEventListener("loadcode",function(){t.loadTiles()}),e.addEventListener("addtilelayer",function(e){console.log("e",e),t.addTileLayer(e)}),e.addEventListener("removetilelayer",function(e){t.removeTileLayer(e)}),e.addEventListener("setmaptype",function(e){t.setMapType(e)}),e.addEventListener("zoomstartcode",function(e){t._zoom(e)}),e.addEventListener("setcustomstyles",function(e){console.log("e.target",e.target),t.setMapStyle(e.target),t.moveGridTiles(!0)}),e.addEventListener("settiletype",function(e){BMap.tileDir!==e.target&&(BMap.tileType=BMap.tileDir=e.target,"GCJ02"===e.target&&(BMap.tileType="WGS84"),t.moveGridTiles(!0))})},loadTiles:function(){var t=this;if(baidu.browser.ie)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}this.loaded||t.initMapTypeTiles(),t.moveGridTiles(),this.loaded||(this.loaded=!0,ModuleMgr.load("tile",function(){t._asyncLoadTiles()}))},initMapTypeTiles:function(){for(var t=this.map.getMapType(),e=t.getTileLayers(),i=0;i<e.length;i++){var n=new TileLayer;baidu.extend(n,e[i]),this.mapTypeLayers.push(n),n.initialize(this.map,this._mapTypeLayerContainer)}this.setMapStyle()},_createDiv:function(t){var e=create("div");return e.style.position="absolute",e.style.overflow="visible",e.style.left=e.style.top="0",e.style.zIndex=t,e},_checkTilesLoaded:function(){this.numLoading--;var t=this;this.isFirstTile&&(this.map.dispatchEvent(new BaseEvent("onfirsttileloaded")),this.isFirstTile=!1),0==this.numLoading&&(this._checkLoadedTimer&&(clearTimeout(this._checkLoadedTimer),this._checkLoadedTimer=null),this._checkLoadedTimer=setTimeout(function(){0==t.numLoading&&(t.map.dispatchEvent(new BaseEvent("ontilesloaded")),t.isFirstTile=!0),t._checkLoadedTimer=null},80))},getTileName:function(t,e){return"TILE-"+e.guid+"-"+t[0]+"-"+t[1]+"-"+t[2]},hideTile:function(t){var e=t.img;e&&isInDocument(e)&&e.parentNode.removeChild(e),delete this.mapTiles[t.name],t.loaded||(e=null,t._callCbks(),t.img=null,t.mgr=null)},getTilesInfo:function(t,e,i){var n=this.map,o=n.getMapType(),a=n.zoomLevel,r=n.mercatorCenter,s=o.getZoomUnits(a),l=this.getCurViewColRow(),h=l[0],c=l[1],d=l[2],u=l[3],p=l[4],i=void 0!==i?i:0,_=o.getTileSize(),g=n.guid.replace(/^TANGRAM_/,"");this.tilesOrder?this.tilesOrder.length=0:this.tilesOrder=[];for(var m=h;m<d;m++)for(var f=c;f<u;f++){var v=m,y=f;this.tilesOrder.push([v,y]);var b=g+"_"+e+"_"+v+"_"+y+"_"+a;this.currentViewCvsIds[b]=b}"BD09"==BMap.tileType&&this.tilesOrder.sort(function(t){return function(e,i){return.4*Math.abs(e[0]-t[0])+.6*Math.abs(e[1]-t[1])-(.4*Math.abs(i[0]-t[0])+.6*Math.abs(i[1]-t[1]))}}([p[0]-1,p[1]-1]));var x=-r.lng/s,w=r.lat/s,P=[Math.round(x),Math.round(w)],M=-n.offsetX+n.width/2,T=-n.offsetY+n.height/2;t.style.left=M+"px",t.style.top=T+"px",this.arrOldCanvas?this.arrOldCanvas.length=0:this.arrOldCanvas=[];for(var m=0,C=t.childNodes.length;m<C;m++){var S=t.childNodes[m];S._isInCurrentView=!1,this.arrOldCanvas.push(S)}var E=this.objInCanvas;if(E)for(var I in E)delete E[I];else this.objInCanvas={};this.arrOutCanvas?this.arrOutCanvas.length=0:this.arrOutCanvas=[];for(var m=0,C=this.tilesOrder.length;m<C;m++)for(var L=this.tilesOrder[m][0],A=this.tilesOrder[m][1],f=0,B=this.arrOldCanvas.length;f<B;f++){var R=this.arrOldCanvas[f];if(R.id==g+"_"+e+"_"+L+"_"+A+"_"+a){R._isInCurrentView=!0,this.objInCanvas[R.id]=R;break}}for(var m=0,C=this.arrOldCanvas.length;m<C;m++){var R=this.arrOldCanvas[m];R._isInCurrentView||this.arrOutCanvas.push(R)}this.tilesInfo=[];for(var D=this.map.config.devicePixelRatio,k=(_+i)*D,m=0,C=this.tilesOrder.length;m<C;m++){var L=this.tilesOrder[m][0],A=this.tilesOrder[m][1];if("BD09"==BMap.tileType)posX=L*_+P[0]-i/2,posY=(-1-A)*_+P[1]-i/2;else if("WGS84"==BMap.tileType){var O=6378137*Math.PI;posX=(L*_*s-O)/s+P[0],posY=P[1]-(O-A*_*s)/s}var N=g+"_"+e+"_"+L+"_"+A+"_"+a,j=this.objInCanvas[N],z=null;if(j)if(z=j.style,z.left=posX+"px",z.top=posY+"px",j._drawFinished){var U=j.getContext("2d");U.clearRect(-i/2,-i/2,k,k),j._drawFinished=!1,this.tilesInfo.push([L,A,j])}else this.tilesInfo.push([L,A,j]);else{if(this.arrOutCanvas.length>0){j=this.arrOutCanvas.shift();j.getContext("2d").clearRect(-i/2,-i/2,k,k),z=j.style}else j=document.createElement("canvas"),z=j.style,z.position="absolute",z.width=_+i+"px",z.height=_+i+"px",this.isUseHack()&&(z.WebkitTransform="scale(1.001)"),j.setAttribute("width",k),j.setAttribute("height",k),t.appendChild(j);if(j.id=N,z.left=posX+"px",z.top=posY+"px",N.indexOf("bg")>-1){var Y="#F3F1EC";this.map.config.backColor&&(Y=this.map.config.backColor),z.background=Y||""}this.tilesInfo.push([L,A,j])}j.style.visibility=""}for(var m=0,C=this.arrOutCanvas.length;m<C;m++)this.arrOutCanvas[m].style.visibility="hidden";return this.tilesInfo},isUseHack:function(){return/M040/i.test(navigator.userAgent)},getCurViewColRow:function(){var t=this.map,e=t.getMapType(),i=t.zoomLevel,n=t.mercatorCenter,o=(e.getZoomUnits(i),e.getZoomFactor(i)),a=e.getTileSize();if("BD09"==BMap.tileType)var r=Math.ceil(n.lng/o),s=Math.ceil(n.lat/o),l=[r,s,(n.lng-r*o)/o*a,(n.lat-s*o)/o*a],h=l[0]-Math.ceil((t.width/2-l[2])/a),c=l[1]-Math.ceil((t.height/2-l[3])/a),d=l[0]+Math.ceil((t.width/2+l[2])/a),u=l[1]+Math.ceil((t.height/2+l[3])/a);else if("WGS84"==BMap.tileType)var r=Math.ceil(Math.round((n.lng+20037508.34)/o)),s=Math.ceil(Math.round((20037508.34-n.lat)/o)),h=r-Math.ceil(t.width/2/a)-1,d=r+Math.ceil(t.width/2/a)+1,c=s-Math.ceil(t.height/2/a)-1,u=s+Math.ceil(t.height/2/a)+1;return[h,c,d,u,l]},showTile:function(t,e,i,n){var o=this;o.centerPos=e;var a=this.map.getMapType(),r=o.getTileName(t,i),s=a.getTileSize(),l=t[0]*s+e[0],h=(-1-t[1])*s+e[1],c=[l,h],d=this.mapTiles[r],u=this.map,p=u.zoomLevel,_=a.getZoomUnits(p);a.getZoomFactor(p);if("WGS84"==BMap.tileType){var g=6378137*Math.PI;c=[(t[0]*s*_-g)/_+e[0],e[1]-(g-t[1]*s*_)/_]}if(this.map.getMapType()!==BMAP_SATELLITE_MAP&&this.map.getMapType()!==BMAP_HYBRID_MAP){var m=this.calcLoopParam(t[0],t[2]).offsetX;c[0]+=m,c._offsetX=m}if(d&&d.img){if(setPosition(d.img,c),n){var f=new Pixel(t[0],t[1]),v=this.map.config.mapStyle?this.map.config.mapStyle.style:"normal",y=i.getTilesUrl(f,t[2],v);d.loaded=!1,d.changeUrl(y)}return void(d.loaded?this._checkTilesLoaded():d._addLoadCbk(function(){o._checkTilesLoaded()}))}if((d=this.bufferTiles[r])&&d.img){if(i.tilesDiv.insertBefore(d.img,i.tilesDiv.lastChild),this.mapTiles[r]=d,setPosition(d.img,c),n){var f=new Pixel(t[0],t[1]),v=this.map.config.mapStyle?this.map.config.mapStyle.style:"normal",y=i.getTilesUrl(f,t[2],v);d.loaded=!1,d.changeUrl(y)}return void(d.loaded?this._checkTilesLoaded():d._addLoadCbk(function(){o._checkTilesLoaded()}))}var _=s*Math.pow(2,a.getMaxZoom()-t[2]),f=(new PointN(t[0]*_,t[1]*_),new Pixel(t[0],t[1])),v=this.map.config.mapStyle?this.map.config.mapStyle.style:"normal",y=i.getTilesUrl(f,t[2],v);d=new Tile(this,y,c,t,i),d._addLoadCbk(function(){o._checkTilesLoaded()}),d._load(),this.mapTiles[r]=d},_checkTilesLoaded:function(){this.numLoading--;var t=this;0==this.numLoading&&(this._checkLoadedTimer&&(clearTimeout(this._checkLoadedTimer),this._checkLoadedTimer=null),this._checkLoadedTimer=setTimeout(function(){if(0==t.numLoading&&(t.map.dispatchEvent(new BaseEvent("ontilesloaded")),isFirstTilesLoaded)){if(TIME_LINE.startLoadScript&&TIME_LINE.loadScriptEnd&&TIME_LINE.loadedMap){var e=TIME_LINE.firstTilesLoaded=getCurrentTime(),i=t.map.getSize();setTimeout(function(){_addStat(STAT.TILEMGR_FULL_LOAD_TILES_FIRST_TIME,{load_script_time:TIME_LINE.loadScriptEnd-TIME_LINE.startLoadScript,load_tiles_time:e-TIME_LINE.loadedMap,map_width:i.width,map_height:i.height,map_size:i.width*i.height})},1e4),BMap._alog("cus.fire","time",{z_imgfirstloaded:e-TIME_LINE.loadedMap})}isFirstTilesLoaded=!1}t._checkLoadedTimer=null},80))},getTileName:function(t,e){return this.map.getMapType()===BMAP_PERSPECTIVE_MAP?"TILE-"+e.guid+"-"+this.map.cityCode+"-"+t[0]+"-"+t[1]+"-"+t[2]:"TILE-"+e.guid+"-"+t[0]+"-"+t[1]+"-"+t[2]},hideTile:function(t){var e=t.img;e&&(purge(e),isInDocument(e)&&e.parentNode.removeChild(e)),delete this.mapTiles[t.name],t.loaded||(purge(e),e=null,t._callCbks(),t.img=null,t.mgr=null)},calcLoopParam:function(t,e){var i=0,n=6*Math.pow(2,e-3);"BD09"==BMap.tileType?n=6*Math.pow(2,e-3):"WGS84"==BMap.tileType&&(n=2*Math.PI*6378137/Math.pow(2,18-e+3)*6);for(var o=n/2-1,a=-n/2;t>o;)t-=n,i-=this._loopOffset;for(;t<a;)t+=n,i+=this._loopOffset;return"BD09"==BMap.tileType?i=Math.round(i/Math.pow(2,18-e)):"WGS84"==BMap.tileType&&(i=Math.round(i/(2*Math.PI*6378137/Math.pow(2,e)))),{offsetX:i,col:t}},calcLoopCenterPoint:function(t){for(var e=t.lng;e>this._mc180X;)e-=this._mcTSpan;for(;e<this._mcM180X;)e+=this._mcTSpan;return t.lng=e,t},calcLoopTiles:function(t,e){var i,n,o,a;"BD09"==BMap.tileType?(i=256*Math.pow(2,18-e),n=Math.floor(this._mc180X/i),o=Math.floor(this._mcM180X/i),a=Math.floor(this._loopOffset/i)):"WGS84"==BMap.tileType&&(i=2*Math.PI*6378137/Math.pow(2,e),n=parseInt(Math.round((this._mc180X+20037508.34)/i)),o=parseInt(Math.round((this._mcM180X+20037508.34)/i)),a=Math.floor(Math.round((this._loopOffset+20037508.34)/i)));for(var r=[],s=0;s<t.length;s++){var l=t[s],h=l[0],c=l[1];if(h>=n){var d=h+a,u="id_"+d+"_"+c+"_"+e;t[u]||(t[u]=!0,r.push([d,c]))}else if(h<=o){var d=h-a,u="id_"+d+"_"+c+"_"+e;t[u]||(t[u]=!0,r.push([d,c]))}}for(var s=0;s<r.length;s++)t.push(r[s]);return t},moveGridTiles:function(t){var e=this;if(e.map.getMapType()==BMAP_PERSPECTIVE_MAP)ModuleMgr.load("coordtrans",function(){e.map.currentCity||(e.map.currentCity=BMAP_PERSPECTIVE_MAP.getCityName(e.map.cityName),e.map.cityCode=BMAP_PERSPECTIVE_MAP.getCityCode(e.map.currentCity)),e._moveGridTiles()},!0);else{if(t)for(var i in this.bufferTiles)delete this.bufferTiles[i];e._moveGridTiles(t)}},_moveGridTiles:function(t){var e=this.mapTypeLayers,i=e.concat(this.tileLayers),n=i.length,o=this,a=o.map,r=a.getMapType(),s=a.mercatorCenter;this.map.getMapType()!==BMAP_SATELLITE_MAP&&this.map.getMapType()!==BMAP_HYBRID_MAP&&(s=this.calcLoopCenterPoint(s));for(var l=0;l<n;l++){var h=i[l];if(h.minZoom&&a.zoomLevel<h.minZoom)break;if(h.baseLayer){this.tilesDiv=h.tilesDiv;var c=this.tilesDiv;if(t){var d=c;if(d&&d.childNodes)for(var u=d.childNodes.length,p=u-1;p>=0;p--){var _=d.childNodes[p];d.removeChild(_),_=null}}this.map.vectorMapEnabled()?(this._vectorLayerContainer.style.display="block",c.style.display="block",this.map.dispatchEvent(new BaseEvent("vectorchanged"),{isvector:!0})):(c.style.display="block",this._vectorLayerContainer.style.display="none",this.map.dispatchEvent(new BaseEvent("vectorchanged"),{isvector:!1}))}if(!h._isVectorLayer&&!(h.isVectorLayer&&!this.map.vectorMapEnabled()||h.isTileLayer&&this.map.vectorMapEnabled())){var a=this.map,r=a.getMapType(),g=r.getProjection(),m=a.zoomLevel,s=a.mercatorCenter;r==BMAP_PERSPECTIVE_MAP&&s.equals(new Point(0,0))&&(s=a.mercatorCenter=g.lngLatToMercator(a.centerPoint,a.currentCity));var f=r.getZoomUnits(m),v=r.getZoomFactor(m),y=r.getTileSize();if("BD09"==BMap.tileType){var b=Math.ceil(s.lng/v),x=Math.ceil(s.lat/v),w=[b,x,(s.lng-b*v)/v*y,(s.lat-x*v)/v*y],P=(a.width,w[0]-Math.ceil((a.width/2-w[2])/y)),M=w[1]-Math.ceil((a.height/2-w[3])/y),T=w[0]+Math.ceil((a.width/2+w[2])/y),C=0;r===BMAP_PERSPECTIVE_MAP&&15==a.getZoom()&&(C=1);var S=w[1]+Math.ceil((a.height/2+w[3])/y)+C}else if("WGS84"==BMap.tileType)var b=parseInt(Math.round((s.lng+20037508.34)/v)),x=parseInt(Math.round((20037508.34-s.lat)/v)),P=b-Math.ceil(a.width/2/y)-1,T=b+Math.ceil(a.width/2/y)+1,M=x-Math.ceil(a.height/2/y)-1,S=x+Math.ceil(a.height/2/y)+1;this.areaCenter=new Point(s.lng,s.lat);var E=this.mapTiles,I=-this.areaCenter.lng/f,L=this.areaCenter.lat/f,A=[Math.ceil(I),Math.ceil(L)],B=a.getZoom();for(var R in E){var D=E[R],k=D.info;(k[2]!=B||k[2]==B&&(P>k[0]||T<=k[0]||M>k[1]||S<=k[1]))&&this.hideTile(D)}var O=-a.offsetX+a.width/2,N=-a.offsetY+a.height/2;h.tilesDiv&&(h.tilesDiv.style.left=Math.ceil(I+O)-A[0]+"px",h.tilesDiv.style.top=Math.ceil(L+N)-A[1]+"px",h.tilesDiv.style.WebkitTransform="translate3d(0,0,0)");var j=[];a._viewTiles=[];for(var p=P;p<T;p++)for(var z=M;z<S;z++)j.push([p,z]),a._viewTiles.push({x:p,y:z});this.map.getMapType()!==BMAP_SATELLITE_MAP&&this.map.getMapType()!==BMAP_HYBRID_MAP&&(j=this.calcLoopTiles(j,m)),"BD09"==BMap.tileType&&j.sort(function(t){return function(e,i){return.4*Math.abs(e[0]-t[0])+.6*Math.abs(e[1]-t[1])-(.4*Math.abs(i[0]-t[0])+.6*Math.abs(i[1]-t[1]))}}([w[0]-1,w[1]-1]));var u=j.length;this.numLoading+=u;for(var p=0;p<u;p++)this.showTile([j[p][0],j[p][1],B],A,h,t,[b,x])}}},addTileLayer:function(t){var e=this,i=t.target;e.map.vectorMapEnabled();if(i.vectorLayer&&this.map.addTileLayer(i.vectorLayer),i.isVectorLayer){for(var n=0;n<e.vectorLayers.length;n++)if(e.vectorLayers[n]==i)return;ModuleMgr.load("vector",function(){i.initialize(e.map,e._vectorLayerContainer),e.vectorLayers.push(i)},!0)}else{for(var n=0;n<e.tileLayers.length;n++)if(e.tileLayers[n]==i)return;i.initialize(this.map,this._normalLayerContainer),e.tileLayers.push(i)}},removeTileLayer:function(t){var e=this,i=t.target;e.map.vectorMapEnabled();if(i.vectorLayer&&this.map.removeTileLayer(i.vectorLayer),i.isVectorLayer){for(var n=0,o=e.vectorLayers.length;n<o;n++)i==e.vectorLayers[n]&&e.vectorLayers.splice(n,1);i.remove()}else{for(var n=0,o=e.tileLayers.length;n<o;n++)i==e.tileLayers[n]&&e.tileLayers.splice(n,1);i.remove()}},setMapType:function(){for(var t=this.mapTypeLayers,e=0,i=t.length;e<i;e++)t[e].remove();delete this.tilesDiv,this.mapTypeLayers=[],this.bufferTiles=this.mapTiles={},this.initMapTypeTiles(),this.moveGridTiles()},_zoom:function(){var t=this;t.zoomsDiv&&baidu.dom.hide(t.zoomsDiv),setTimeout(function(){t.moveGridTiles(),t.map.dispatchEvent(new BaseEvent("onzoomend"))},10)},upDateBufferTile:function(){},setMapStyle:function(t){var e=this.map.getMapType();if(this.map.vectorMapEnabled(),t?this.map.config.styleOptions=t:t=this.map.config.styleOptions,t){"2"==BMap.urlStr?[BMap.url.proto+BMap.url.domain.main_domain_cdn.other[0]+"/"]:[BMap.url.proto+BMap.url.domain.main_domain_cdn.baidu[0]+"/",BMap.url.proto+BMap.url.domain.main_domain_cdn.baidu[1]+"/",BMap.url.proto+BMap.url.domain.main_domain_cdn.baidu[2]+"/"];for(var i,n=0;i=this.mapTypeLayers[n];n++)if(1==i.shangetu)return e._opts.maxZoom=19,void(i.getTilesUrl=function(e,i,n){var o=e.x;o=this.map.tileMgr.calcLoopParam(o,i).col;var a=e.y;this.map.highResolutionEnabled();var r=BMap.tileUrl;return r=BMap.isTileEncode?r+"?param="+encode("x="+o+"&y="+a+"&z="+i+"&style="+t.style):r+"?x="+o+"&y="+a+"&z="+i+"&style="+t.style,r=r+"&coordinateType="+BMap.tileDir,AUTHENTIC_AK?r=r+"&ApiAuthorization="+AUTHENTIC_AK:AUTHENTIC_TOKEN_DuGIS&&(r=r+"&Authorization="+AUTHENTIC_TOKEN_DuGIS),r;var r})}}}),Tile.prototype._addLoadCbk=function(t){this._cbks.push(t)},Tile.prototype._load=function(){baidu.browser.ie>0&&baidu.browser.ie<=6&&this._transparentPng?this.img.src=MapConfig.imgPath+"blank.gif":""!==this.src&&this.img.src==this.src?this.img.src=this.src+"&t = "+Date.now():this.img.src=this.src},Tile.prototype._callCbks=function(){for(var t=this,e=0;e<t._cbks.length;e++)t._cbks[e]();t._cbks.length=0},Tile.prototype.changeUrl=function(t){this.src=t,this.srcChange=!0,this._load()};var fadeInTile=!baidu.browser.ie||baidu.browser.ie>8;TileLayer._guid=0,baidu.lang.inherits(TileLayer,baidu.lang.Class,"TileLayer"),baidu.extend(TileLayer.prototype,{initialize:function(t,e){if(this.baseLayer&&(this.zIndex=-100),this.map=t,!this.tilesDiv){var i=create("div"),n=i.style;n.position="absolute",n.overflow="visible",n.zIndex=this.zIndex,n.left=Math.ceil(-t.offsetX+t.width/2)+"px",n.top=Math.ceil(-t.offsetY+t.height/2)+"px",e.appendChild(i),this.tilesDiv=i}},remove:function(){this.tilesDiv&&this.tilesDiv.parentNode&&(this.tilesDiv.innerHTML="",this.tilesDiv.parentNode.removeChild(this.tilesDiv)),delete this.tilesDiv},isTransparentPng:function(){return this.transparentPng},getTilesUrl:function(t,e){if(this.map.getMapType()!==BMAP_SATELLITE_MAP&&this.map.getMapType()!==BMAP_HYBRID_MAP)var i=this.map.tileMgr.calcLoopParam(t.x,e).col;var n="";return this.opts.tileUrlTemplate&&(n=this.opts.tileUrlTemplate.replace(/\{X\}/,i),n=n.replace(/\{Y\}/,t.y),n=n.replace(/\{Z\}/,e)),n},getCopyright:function(){return this.copyright},getMapType:function(){return this.mapType||BMAP_NORMAL_MAP}}),baidu.inherits(VectorCloudLayer,TileLayer,"VectorCloudLayer"),baidu.inherits(VectorTrafficLayer,TileLayer,"VectorTrafficLayer"),baidu.extend(BuildingLayer.prototype,{initialize:function(t,e){this._map=t,this._container=e},remove:function(){this._map=null,this._container=null}}),TrafficLayer.prototype=new TileLayer,TrafficLayer.prototype.initialize=function(t,e){TileLayer.prototype.initialize.call(this,t,e),this._map=t},TrafficLayer.prototype.isTransparentPng=function(){return!0},TrafficLayer.prototype.getTilesUrl=function(t,e){var i="";this._opts.predictDate?i="HistoryService?day="+(this._opts.predictDate.weekday-1)+"&hour="+this._opts.predictDate.hour+"&t="+(new Date).getTime()+"&":(i="TrafficTileService?time="+(new Date).getTime()+"&",i+="label=web2D&v=016&");var n=this._map,o=t.x,a=t.y,r=(Math.floor(o/200),Math.floor(a/200),this._tileUrl+i+"level="+e+"&x="+o+"&y="+a),s=1;return n.highResolutionEnabled()&&(s=2),r=r+"&scaler="+s,r.replace(/-(\d+)/gi,"M$1")};var TILES_YUN_HOST=[BMap.url.proto+BMap.url.domain.TILES_YUN_HOST[0]+"/georender/gss",BMap.url.proto+BMap.url.domain.TILES_YUN_HOST[1]+"/georender/gss",BMap.url.proto+BMap.url.domain.TILES_YUN_HOST[2]+"/georender/gss",BMap.url.proto+BMap.url.domain.TILES_YUN_HOST[3]+"/georender/gss"],CUSTOM_POI_ICONURL=BMap.url.proto+BMap.url.domain.main_domain_nocdn.baidu+"/style/poi/rangestyle",BMAP_POINT_DENSITY_HIGH=200,BMAP_POINT_DENSITY_MEDIUM=100,BMAP_POINT_DENSITY_LOW=50;CustomLayer.prototype=new TileLayer,CustomLayer.prototype.initialize=function(t,e){TileLayer.prototype.initialize.call(this,t,e),this._map=t},CustomLayer.prototype.getTilesUrl=function(t,e){var i=this,n=t.x,o=t.y,a=i._options,r=TILES_YUN_HOST[Math.abs(n+o)%TILES_YUN_HOST.length],s=r+"/image?grids="+n+"_"+o+"_"+e+"&q="+a.q+"&tags="+a.tags+"&filter="+a.filter+"&sortby="+a.sortby+"&ak="+this._options.ak+"&age="+a.age+"&page_size="+a.pointDensity+"&format="+a.tilesFormat;if(!a.useCache){s+="&timeStamp="+(1e5*Math.random()).toFixed(0)}return i._geotableId?s+="&geotable_id="+i._geotableId:i._databoxId&&(s+="&databox_id="+i._databoxId),s},CustomLayer.prototype.enableUseCache=function(){this._options.useCache=!0},CustomLayer.prototype.disableUseCache=function(){this._options.useCache=!1},CustomLayer._rpoint=/^point\(|\)$/gi,CustomLayer._rspace=/\s+/,CustomLayer._rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;var XYZLayer=function(t){function e(t){return!(l&&l instanceof Array&&4===l.length)||l[0]<=t[2]&&l[1]<=t[3]&&l[2]>=t[0]&&l[3]>=t[1]}var t=t||{},i=t.transform||{source:"EPSG3857",target:"BD09MC"},n=t.tileUrlTemplate||"",o=t.xTemplate||function(t,e,i){return t},a=t.yTemplate||(t.tms?function(t,e,i){return Math.pow(2,i)-e-1}:function(t,e,i){return e}),r=t.zTemplate||function(t,e,i){return i},s=t.bTemplate||function(t,e,i){var n=WGS84Projection.getTileRangeExtent([i,t,e]);return n.minX+","+n.minY+","+n.maxX+","+n.maxY},l=t.extent||[],h=t.extentCRSIsWGS84||!1,c=t.minZoom||0,d=t.maxZoom||23,u=new TileLayer({transform:i,transparentPng:!0,dataType:1,tileTypeName:"xyz",cacheSize:256,customLayer:!0,clipTile:!1,boundary:t.boundary||!1,useThumbData:t.useThumbData||!1});return u.zIndex=2,4===l.length&&h&&(l=WGS84Projection.fromEPSG4326(l)),u.getTilesUrl=function(t,l,h){if(!t||l<0||l<c||l>d)return u.tileCache.clear(),null;"BD09MC"!==i.source&&(t.x=WGS84Projection.getTilesLoop(l,t.x));var p=WGS84Projection.getTileRangeExtent([l,t.x,t.y]);if(!e([p.minX,p.minY,p.maxX,p.maxY]))return null;var _="";if(!n)return null;_=n;var g=/[^\{}]*\{(.*)\}[^\}]*/;_.match(g);var m=[];return RegExp.$1&&(m=RegExp.$1.split(",")),_=_.replace(/\{(.*)\}/,m[(t.x+t.y)%m.length]),_=_.replace(/\[x\]/gi,o(t.x,t.y,l)),_=_.replace(/\[y\]/gi,a(t.x,t.y,l)),_=_.replace(/\[z\]/gi,r(t.x,t.y,l)),_=_.replace(/\[b\]/gi,s(t.x,t.y,l)),_},u};baidu.extend(MapType.prototype,{getName:function(){return this._name},getTips:function(){return this._opts.tips},getLabelText:function(){return this._opts.labelText},getTileLayer:function(){return this._layers[0]},getTileLayers:function(){return this._layers},getTileSize:function(){return this._opts.tileSize},getMinZoom:function(){return this._opts.minZoom},getMaxZoom:function(){return this._opts.maxZoom},setMaxZoom:function(t){this._opts.maxZoom=t},getTextColor:function(){return this._opts.textColor},getProjection:function(){return this._opts.projection},getErrorImageUrl:function(){return this._opts.errorImageUrl},getTileSize:function(){return this._opts.tileSize},getZoomUnits:function(t){return"BD09"==BMap.tileType?Math.pow(2,18-t):"WGS84"==BMap.tileType?2*Math.PI*6378137/256/Math.pow(2,t):void 0},getZoomFactor:function(t){return this.getZoomUnits(t)*this.getTileSize()},setProjectMap:function(t){this.getProjection().setCoordType(t)}})
;var TILE_BASE_URLS=[BMap.url.proto+BMap.url.domain.TILE_BASE_URLS[0]+"/it/",BMap.url.proto+BMap.url.domain.TILE_BASE_URLS[1]+"/it/",BMap.url.proto+BMap.url.domain.TILE_BASE_URLS[2]+"/it/",BMap.url.proto+BMap.url.domain.TILE_BASE_URLS[3]+"/it/",BMap.url.proto+BMap.url.domain.TILE_BASE_URLS[4]+"/it/"],TILE_ONLINE_URLS=[BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[0]+"/tile/",BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[1]+"/tile/",BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[2]+"/tile/",BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[3]+"/tile/"],STYLE_HASH={dark:"dl",light:"ll",normal:"pl"},normalMapTileLayer=new TileLayer;normalMapTileLayer.shangetu=!0,normalMapTileLayer.getTilesUrl=function(t,e,i){var n=t.x,o=t.y,a=e,r=BMap.tileUrl;if(BMap.offlineTile)return"BD09"==BMap.tileType?(n=(t.x+"").replace(/-/gi,"M"),o=(t.y+"").replace(/-/gi,"M"),r=BMap.isTileEncode?r+"?param="+encode("x="+n+"&y="+o+"&z="+a):r+"?x="+n+"&y="+o+"&z="+a):r=BMap.isTileEncode?r+"?qt=vtile&"+encode("x="+n+"&y="+o+"&z="+a):r+"?x="+n+"&y="+o+"&z="+a,r=r+"&coordinateType="+BMap.tileDir,AUTHENTIC_AK?r=r+"&ApiAuthorization="+AUTHENTIC_AK:AUTHENTIC_TOKEN_DuGIS&&(r=r+"&Authorization="+AUTHENTIC_TOKEN_DuGIS),r;if("BD09"==BMap.tileType){var s=t.x,l=t.y,h=getTileVersion("normal"),c=1,d=STYLE_HASH[i];this.map.highResolutionEnabled()&&(c=2),s=this.map.tileMgr.calcLoopParam(s,e).col;var r=TILE_ONLINE_URLS[Math.abs(s+l)%TILE_ONLINE_URLS.length]+"?qt=vtile&x="+(s+"").replace(/-/gi,"M")+"&y="+(l+"").replace(/-/gi,"M")+"&z="+e+"&styles="+d+"&scaler="+c+(6==baidu.browser.ie?"&color_dep=32&colors=50":"")+"&udt="+h+"&from=jsapi3_0";return r.replace(/-(\d+)/gi,"M$1")}return"https://tile.openstreetmap.org/"+a+"/"+n+"/"+o+".png"};var BMAP_NORMAL_MAP=new MapType("地图",normalMapTileLayer,{tips:"显示普通地图",maxZoom:19}),PerspectiveTileLayer=new TileLayer;PerspectiveTileLayer.tileUrls=[BMap.url.proto+BMap.url.domain.TIlE_PERSPECT_URLS[0]+"/resource/mappic/",BMap.url.proto+BMap.url.domain.TIlE_PERSPECT_URLS[1]+"/resource/mappic/",BMap.url.proto+BMap.url.domain.TIlE_PERSPECT_URLS[2]+"/resource/mappic/",BMap.url.proto+BMap.url.domain.TIlE_PERSPECT_URLS[3]+"/resource/mappic/"],PerspectiveTileLayer.getTilesUrl=function(t,e){var i=t.x,n=t.y,o=256*Math.pow(2,20-e);return n=Math.round((9998336-o*n)/o)-1,url=this.tileUrls[Math.abs(i+n)%this.tileUrls.length]+this.map.currentCity+"/"+this.map.cityCode+"/3/lv"+(21-e)+"/"+i+","+n+".jpg",url};var BMAP_PERSPECTIVE_MAP=new MapType("三维",PerspectiveTileLayer,{tips:"显示三维地图",minZoom:15,maxZoom:20,textColor:"white",projection:new PerspectiveProjection});BMAP_PERSPECTIVE_MAP.getZoomUnits=function(t){return Math.pow(2,20-t)},BMAP_PERSPECTIVE_MAP.getCityName=function(t){if(!t)return"";var e=MapConfig.cityNames;for(var i in e)if(t.search(i)>-1)return e[i].pinyin;return""},BMAP_PERSPECTIVE_MAP.getCityCode=function(t){return{bj:2,gz:1,sz:14,sh:4}[t]};var satelliteTileLayer=new TileLayer({baseLayer:!0});satelliteTileLayer.getTilesUrl=function(t,e){var i=t.x,n=t.y;return(TILE_BASE_URLS[Math.abs(i+n)%TILE_BASE_URLS.length]+"u=x="+i+";y="+n+";z="+e+";v=009;type=sate&fm=46&udt="+getTileVersion("satellite")).replace(/-(\d+)/gi,"M$1")};var BMAP_SATELLITE_MAP=new MapType("卫星",satelliteTileLayer,{tips:"显示卫星影像",minZoom:4,maxZoom:19,textColor:"white"}),streetLayer=new TileLayer({transparentPng:!0});streetLayer.getTilesUrl=function(t,e){var i=t.x,n=t.y,o=getTileVersion("satelliteStreet");return(TILE_ONLINE_URLS[Math.abs(i+n)%TILE_ONLINE_URLS.length]+"?qt=vtile&x="+(i+"").replace(/-/gi,"M")+"&y="+(n+"").replace(/-/gi,"M")+"&z="+e+"&styles=sl"+(6==baidu.browser.ie?"&color_dep=32&colors=50":"")+"&udt="+o).replace(/-(\d+)/gi,"M$1")};var BMAP_HYBRID_MAP=new MapType("混合",[satelliteTileLayer,streetLayer],{tips:"显示带有街道的卫星影像",labelText:"路网",minZoom:4,maxZoom:19,textColor:"white"});TileType.instances={},TileType.getInstance=function(t,e){if(TileType.instances[t])return TileType.instances[t];var i=new TileTypeClass(t,e);return TileType.instances[t]=i,i},TileTypeClass.mapZoomBaseIndex=[0,0,0,8,7,7,6,6,5,5,4,3,3,3,2,2,1,1,0,0,0,0],TileTypeClass.baseScaleZoom=[19,17,15,12,10,9,7,5,3],TileTypeClass.baseScaleZoomMercatorSize=[512,2048,4096,32768,65536,262144,1048576,4194304,8388608],TileTypeClass.mapZoomBaseZoomMapping=[0,0,0,3,5,5,7,7,9,9,10,12,12,12,15,15,17,17,19,19,19,19],TileTypeClass.baseScaleTileSize=[1024,1024,512,512,256,512,512,512,256],TileTypeClass.mapZoomTileSize=[0,0,0,256,256,512,256,512,256,512,256,256,512,1024,256,512,512,1024,512,1024,2048,4096],TileTypeClass.prototype={getName:function(){return this._name},getTileSize:function(t){return"na"===this._name?TileTypeClass.mapZoomTileSize[t]:this._opts.tileSize},getDataZoom:function(t){return"na"===this._name?TileTypeClass.mapZoomBaseZoomMapping[t]:t},getProjection:function(){return this._opts.projection},getZoomUnits:function(t){return Math.pow(2,this._baseZoom-t)},getMercatorSize:function(t){if("na"===this._name){var e=TileTypeClass.mapZoomBaseIndex[t];return TileTypeClass.baseScaleZoomMercatorSize[e]}return this.getZoomUnits(t)*this.getTileSize(t)},getBaseZoom:function(){return this._baseZoom}},window.VectorIndoorTileMgr="VectorIndoorTileMgr",VectorIndoorTileMgr.prototype.initialize=function(){var t=this,e=this._map;e.addEventListener("addtilelayer",function(e){t.addTileLayer(e.target)}),e.addEventListener("removetilelayer",function(e){t.removeTileLayer(e.target)}),setTimeout(function(){e.addEventListener("onmoveend",function(e){"centerAndZoom"!==e._eventSrc&&t.update({evt:"moveend"})}),e.addEventListener("onmoving",function(e){t.update({evt:"moving"})}),e.addEventListener("onzoomend",function(e){"centerAndZoom"!==e._eventSrc&&t.update({clearLabel:!0,evt:"zoomend"})}),e.addEventListener("centerandzoom",function(){t.update({clearLabel:!0,evt:"centerandzoom"})}),e.addEventListener("onupdatestyles",function(){t.update({clearLabel:!0,updatestyles:!0,evt:"updatestyles"}),t._map.setCenter(t._map.getCenter()),setTimeout(function(){t._map.dispatchEvent(new BaseEvent("onvectordrawend"))},10)}),e.addEventListener("onmaptypechange",function(e){e.mapType===BMAP_NORMAL_MAP&&t.update({clearLabel:!0,evt:"maptypechange"})})},1),e.addEventListener("indoor_data_refresh",function(t){}),e.addEventListener("onresize",function(e){t.update({sizeChanged:!0})}),t.update()},VectorIndoorTileMgr.prototype.addTileLayer=function(t){if(t instanceof VectorIndoorTileLayer){for(var e=0;e<this._layers.length;e++)if(this._layers[e]===t)return;this._layers.push(t),t.initialize(),this._map.loaded&&this.update()}},VectorIndoorTileMgr.prototype.removeTileLayer=function(t){if(t instanceof VectorIndoorTileLayer){for(var e=0;e<this._layers.length;e++)if(this._layers[e]===t){this._layers.splice(e,1);break}t.remove()}},VectorIndoorTileMgr.prototype.getTilesInfo=function(t){var e=t.getName();if(this._tilesInfoCache[e])return this._tilesInfoCache[e];var i=this._map,n=i.getZoom(),o=i.mercatorCenter,a=(t.getZoomUnits(n),t.getMercatorSize(n)),r=(i.guid.replace(/^TANGRAM_/,""),Math.ceil(o.lng/a)),s=Math.ceil(o.lat/a),l=t.getTileSize(n),h=[r,s,(o.lng/a-r)*l,(o.lat/a-s)*l],c=h[0]-Math.ceil((i.width/2-h[2])/l),d=h[1]-Math.ceil((i.height/2-h[3])/l),u=h[0]+Math.ceil((i.width/2+h[2])/l),p=h[1]+Math.ceil((i.height/2+h[3])/l);this.tilesOrder?this.tilesOrder.length=0:this.tilesOrder=[];for(var _=c;_<u;_++)for(var g=d;g<p;g++)this.tilesOrder.push([_,g]);return this.tilesOrder.sort(function(t){return function(e,i){return.4*Math.abs(e[0]-t[0])+.6*Math.abs(e[1]-t[1])-(.4*Math.abs(i[0]-t[0])+.6*Math.abs(i[1]-t[1]))}}([r,s])),this._tilesInfoCache[e]=this.tilesOrder.slice(0),this._tilesInfoCache[e]},VectorIndoorTileMgr.prototype.getVectorVersionInfo=function(){if(this.versionInfo)return this.versionInfo;var t=getTileVersion("normal");return this.versionInfo={ver:"001",udt:t},this.versionInfo},VectorIndoorTileMgr.prototype.update=function(t){this._tilesInfoCache={};for(var e=0;e<this._layers.length;e++){var i=this._layers[e],n=i.getTileType(),o=this.getTilesInfo(n);i.update(o,t)}},VectorIndoorTileMgr.prototype.setTrafficStatus=function(){this.vectorTrafficLayer||(this.vectorTrafficLayer=new VectorIndoorTileLayer(this._map,this,{tilesUrls:TrafficVTileConfig.tilesUrls,drawLib:TrafficDrawLib,showLabel:!1,zIndex:1,tileTypeName:"web"})),this._map.config.trafficStatus?this.addTileLayer(this.vectorTrafficLayer):this.removeTileLayer(this.vectorTrafficLayer)};var BaseEvent=baidu.lang.Event,LINK_TYPE=4,LINE_NAME_TYPE=5,SUB_LINE_TYPE=6,POLY_TYPE=7,HREGION_TYPE=8,IMAGE_TYPE=9,ZLINE_TYPE=12,ZLINE_NAME_TYPE=13,GAOQING_ROAD_TYPE=15,GAOQING_LINE_TYPE=16;window.VectorIndoorTileLayer="VectorIndoorTileLayer",VectorIndoorTileLayer.prototype.initialize=function(){var t=this._map,e=t.tileMgr;if(!this._vectorDiv){var i=e._createDiv(this._options.zIndex);i.style.WebkitTransform="translate3d(0px, 0px, 0)",this._vectorDiv=i}if(e._indoorLayerContainer.appendChild(this._vectorDiv),e.indoorTilesDiv=i,this._options.showLabel){this.createLabelCanvas();var n=this;t.addEventListener("checkvectorclick",function(t){var e=n.findLabelByPos(t.offsetX,t.offsetY);if(e){var i=new BaseEvent("onvectorclick");i.iconInfo=e,i.from="base",this.dispatchEvent(i)}})}},VectorIndoorTileLayer.prototype.findLabelByPos=function(t,e){var i=this.curViewLabels.parsedLabelData;if(!i)return null;for(var n=0;n<i.length;n++)for(var o=i[n],a=0;a<o.length;a++){var r=o[a];if(!r.isDel&&r.iconPos&&t>r.minX&&t<r.maxX&&e>r.minY&&e<r.maxY){var s=r.iconPos;return{type:9,name:r.name,uid:r.uid,point:{x:s.destX+s.width/2,y:s.destY+6}}}}return null},VectorIndoorTileLayer.prototype.createLabelCanvas=function(){var t=this._map,e=t.tileMgr,i=this._ratio,n=t.getSize(),o=n.width,a=n.height,r=create("canvas");r.style.cssText="position: absolute;left:0;top:0;width:"+o+"px;height:"+a+"px;z-index:2;",r.width=o*i,r.height=a*i,this.labelCanvas=r,this.labelCtx=r.getContext("2d"),this.labelCtx.scale(i,i),this.labelCtx.textBaseline="top",e._indoorLayerContainer.appendChild(r),t._indoorLabelCanvas=r},VectorIndoorTileLayer.prototype.getTileType=function(){return this._tileType},VectorIndoorTileLayer.prototype.update=function(t,e){if(e=e||{},this.updatestyles=e.updatestyles,e.evt&&(this.updateFrom=e.evt),this._options.showLabel&&(e.clearLabel&&this.clearLabel(),e.sizeChanged&&this.resizeLabelCanvas()),e.updateIndoor)for(var i=this._vectorDiv,n=0,o=i.childNodes.length;n<o;n++)i.childNodes[n]._drawFinished=!1;this.currentViewTiles=t,this.loadTiles(t)},VectorIndoorTileLayer.prototype.resizeLabelCanvas=function(){var t=this._map,e=this._ratio,i=t.getSize(),n=i.width,o=i.height,a=this.labelCanvas,r=a.style;r.width=n+"px",r.height=o+"px",a.width=n*e,a.height=o*e,this.labelCtx.scale(e,e),this.labelCtx.textBaseline="top"},VectorIndoorTileLayer.prototype.loadTiles=function(t){this.curViewLabels=[];var e=this._prepareTileCanvas(t);if(0===e.length)return this.updateLabel(),void this.updateTiles();this.labelCount=e.length,this.isLabelTimeout=!1;for(var i=this._map,n=i.getZoom(),o=this._tileType.getDataZoom(n),a=0;a<t.length;a++)t[a][3]=o;for(var a=0;a<e.length;a++){var r=e[a][2],s=e[a][0],l=e[a][1];e[a][3]=o,r._drawFinished=!1,r._drawStopped=!1,this.loadData(s,l,o,r)}},VectorIndoorTileLayer.prototype._isTileInCurrentView=function(t,e,i){for(var n=0;n<this.currentViewTiles.length;n++){var o=this.currentViewTiles[n];if(o[0]===t&&o[1]===e&&o[3]===i)return!0}return!1},VectorIndoorTileLayer.prototype._prepareTileCanvas=function(t){var e=this._map,i=e.getZoom(),n=e.projection.lngLatToMercator(e.centerPoint),o=this._tileType.getZoomUnits(i),a=-n.lng/o,r=n.lat/o,s=[Math.round(a),Math.round(r)],l=this._tileType.getTileSize(i),h=e.guid.replace(/^TANGRAM_/,""),c=this._tileType.getDataZoom(i),e=this._map,d=-e.offsetX+e.width/2,u=-e.offsetY+e.height/2,p=this._vectorDiv;p.style.left=d+"px",p.style.top=u+"px",this.arrOldCanvas?this.arrOldCanvas.length=0:this.arrOldCanvas=[];for(var _=0,g=p.childNodes.length;_<g;_++){var m=p.childNodes[_];m._isInCurrentView=!1,this.arrOldCanvas.push(m)}var f=this.objInCanvas;if(f)for(var v in f)delete f[v];else this.objInCanvas={};this.arrOutCanvas?this.arrOutCanvas.length=0:this.arrOutCanvas=[];for(var _=0,g=t.length;_<g;_++)for(var y=t[_][0],b=t[_][1],x=0,w=this.arrOldCanvas.length;x<w;x++){var P=this.arrOldCanvas[x];if(P.id===h+"_"+y+"_"+b+"_"+c+"_"+i){P._isInCurrentView=!0,this.objInCanvas[P.id]=P;break}}for(var _=0,g=this.arrOldCanvas.length;_<g;_++){var P=this.arrOldCanvas[_];P._isInCurrentView||(P._vtd=null,delete P._vtd,P._drawFinished=!1,this.arrOutCanvas.push(P))}for(var M=[],T=l*this._ratio,_=0,g=t.length;_<g;_++){var y=t[_][0],b=t[_][1],C=y*l+s[0],S=(-1-b)*l+s[1],E=h+"_"+y+"_"+b+"_"+c+"_"+i,I=this.objInCanvas[E],L=null;if(I)L=I.style,L.left=C+"px",L.top=S+"px",L.width=l+"px",L.height=l+"px",I._drawFinished?I.tileLabels&&I.tileLabels&&this.curViewLabels.push(I.tileLabels):(I._drawStopped=!0,I._vtd=null,delete I._vtd,M.push([y,b,I]));else{if(this.arrOutCanvas.length>0){I=this.arrOutCanvas.shift();var A=I.getContext("2d");I.getAttribute("width")!==T&&(I._scale=!1),I.setAttribute("width",T),I.setAttribute("height",T),L=I.style,L.width=l+"px",L.height=l+"px",A.clearRect(0,0,T,T)}else I=document.createElement("canvas"),L=I.style,L.position="absolute",this._options.backgroundColor&&(L.background=this._options.backgroundColor),L.width=l+"px",L.height=l+"px",I.setAttribute("width",T),I.setAttribute("height",T),p.appendChild(I);I.id=E,L.left=C+"px",L.top=S+"px",M.push([y,b,I])}I.style.visibility=""}for(var _=0,g=this.arrOutCanvas.length;_<g;_++)this.arrOutCanvas[_].style.visibility="hidden";return M},VectorIndoorTileLayer.prototype.loadData=function(t,e,i,n){var o=t+"_"+e+"_"+i,a=this._loadStatus;if(a[o]){if("loading"===a[o].status)return}else a[o]={status:"init",retry:0};var r=this,s=r._map,l=[];l="0"===BMap.urlStr?r._options.tilesUrls.http:r._options.tilesUrls.https;var h=Math.abs(t+e)%l.length,c="x="+t+"&y="+e+"&z="+i,d=this._vectorTileMgr.getVectorVersionInfo(),u=d.ver,p=d.udt,_="_"+(t<0?"_":"")+(e<0?"$":""),g=_+parseInt(Math.abs(t)+""+Math.abs(e)+i,10).toString(36),m=l;c=c+this._urlOpts+"v="+u+"&udt="+p+"&fn=window."+g;var f=m[h]+"&"+c;f=m[h]+"&param="+window.encodeURIComponent(encodeTileUrl(c)),window[g]=function(l){if(clearTimeout(a[o].timer),a[o]=null,l){var h=s.getZoom();if(!1!==r._isTileInCurrentView(t,e,i)){var c=l,d=new BaseEvent("updateindoor");if(d.IndoorCanvas=[],d.IndoorCanvas.push({canvasDom:n,data:c,canvasID:n.id,ratio:r._ratio}),s.dispatchEvent(d),s.config.enableCustomLayer){if(r.curViewTilesId[n.id]={vtd:c,tileCanvas:n,col:t,row:e,mapZoom:h},r._vectorTileMgr.drawLib.drawLayers(c,n,t,e,h,r._tileType.getTileSize(h),r._tileType.getMercatorSize(h),r._options.iconUrls),r._options.showLabel){var u=[];if(u.tileInfo=[t,e,i],l[0])for(var p=0;p<l[0].length;p++)3===l[0][p][0]&&u.push({labelData:l[0][p]});if(l[2])for(var p=0;p<l[2].length;p++)u.push({lineNameData:l[2][p]});n.tileLabels=u,r.curViewLabels.push(u),!1===r.isLabelTimeout&&r.labelCount--,0!==r.labelCount&&!0!==r.isLabelTimeout||r.updateLabel()}}else 0!=--r.labelCount&&!0!==r.isLabelTimeout||r.updateLabel();delete window[g]}}},DataMgr.request(f),a[o].status="loading";var r=this;a[o].timer=setTimeout(function(){a[o].retry<3?(a[o].retry++,a[o].status="init",r.loadData(t,e,i,n)):a[o]=null},4e3)},VectorIndoorTileLayer.prototype.updateLabel=function(){if(this.labelCanvas){var t=((new Date).getTime(),this._map);this.labelCanvas.style.left=-t.offsetX+"px",this.labelCanvas.style.top=-t.offsetY+"px";var e=new BaseEvent("updateindoorlabel");if(e.labelCanvasDom=t._indoorLabelCanvas,t.dispatchEvent(e),t.config.enableCustomLayer){this.clearLabel();var i=this._tileType,n=t.getZoom(),o=i.getDataZoom(t.getZoom()),a=Math.pow(2,n-o);this._vectorTileMgr.drawLib.drawLabels(this.curViewLabels,this._options.iconUrls,this.labelCtx,i.getTileSize(n),a,n),"moving"!==this.updateFrom&&t.dispatchEvent(new BaseEvent("ontilesloaded"))}}},VectorIndoorTileLayer.prototype.updateTiles=function(){var t=this,e=t._map.guid.replace(/^TANGRAM_/,""),i=t._map.getZoom(),n=this._tileType.getDataZoom(i);if(t.updatestyles,!0){for(var o={},a=0;a<t.currentViewTiles.length;a++){var r=t.currentViewTiles[a],s=e+"_"+r[0]+"_"+r[1]+"_"+n+"_"+i;t.curViewTilesId[s]&&(o[s]=t.curViewTilesId[s],t.updatestyles&&t._vectorTileMgr.drawLib.drawLayers(t.curViewTilesId[s].vtd,t.curViewTilesId[s].tileCanvas,t.curViewTilesId[s].col,t.curViewTilesId[s].row,t.curViewTilesId[s].mapZoom,t._tileType.getTileSize(t.curViewTilesId[s].mapZoom),t._tileType.getMercatorSize(t.curViewTilesId[s].mapZoom),t._options.iconUrls))}this.curViewTilesId=o}},VectorIndoorTileLayer.prototype.clearLabel=function(){var t=this._map,e=t.getSize(),i=e.width,n=e.height,o=this._ratio;this.labelCtx.clearRect(0,0,i*o,n*o)},VectorIndoorTileLayer.prototype.remove=function(){var t=this._map,e=t.tileMgr;this._vectorDiv&&e._indoorLayerContainer.removeChild(this._vectorDiv)};var POI_TYPE=3,LINK_TYPE=4,LINE_NAME_TYPE=5,SUB_LINE_TYPE=6,POLY_TYPE=7,HREGION_TYPE=8,IMAGE_TYPE=9,ZLINE_TYPE=12,ZLINE_NAME_TYPE=13,GAOQING_ROAD_TYPE=15,GAOQING_LINE_TYPE=16,GAOQING_GUIDE_TYPE=17,GAOQING_ARROW_TYPE=18,TEXTURE_TYPE=19,GAOQING_GRADIENT_TYPE=20,INDOOR_REG_TYPE=7,INDOOR_HREG_TYPE=8,INDOOR_POI_TYPE=3,INDOOR_FLOOR_TYPE=23,PILLAR_TYPE=24,BUILDING_MESH_TYPE=25,indoorStyleCache={},binaryCache={},rgbaCache={},iconUrlsConfig,zoomBaseMap={3:{start:3,base:3},4:{start:4,base:5},5:{start:4,base:5},6:{start:6,base:7},7:{start:6,base:7},8:{start:8,base:9},9:{start:8,base:9},10:{start:10,base:10},11:{start:11,base:12},12:{start:11,base:12},13:{start:11,base:12},14:{start:14,base:15},15:{start:14,base:15},16:{start:16,base:17},17:{start:16,base:17},18:{start:18,base:19},19:{start:18,base:19},20:{start:18,base:19},21:{start:18,base:19}};VectorDrawLib.prototype={drawLayers:function(t,e,i,n,o,a,r,s,l){this._map.styleCache={};var h=this,c=h._map.guid;l||(l=0);if(!window[c+"StyleBody"]&&l<100)return void setTimeout(function(){h.drawLayers(t,e,i,n,o,a,r,s,l+1)},100);iconUrlsConfig||(iconUrlsConfig=s);var d=e.getContext("2d"),u=e.parentNode;u.removeChild(e),d.clearRect(0,0,a,a),u.appendChild(e);var p=this._ratio;p>1&&!e._scale&&(d.scale(p,p),e._scale=!0),d.fillStyle=this.parseHexToRgb("#F5F3F0"),window[c+"zoomFrontStyle"][o].bmapLandColor&&(d.fillStyle=this.parseHexToRgb(window[c+"zoomFrontStyle"][o].bmapLandColor));var _=e.style.width;e.style.width="0px",e.style.width=_,d.fillRect(0,0,a,a);if(t[0])for(var g=0;g<t[0].length;g++){var m=t[0][g],f=m[0];f===POLY_TYPE&&polyDataParser.drawPoly(m,d,o,a,this)}if(this._map.getZoom()>=17)return h.drawRoadAndOthers(t,d,o,a,r,i,n),void(e._drawFinished=!0);setTimeout(function(s){e._drawStopped||(h.drawRoadAndOthers(t,d,o,a,r,i,n),e._drawFinished=!0)},1)},drawRoadAndOthers:function(t,e,i,n,o,a,r){var s=this,l=s._map.guid;if(t[0])for(var h=0;h<t[0].length;h++){var c=t[0][h],d=c[0];if(d===LINK_TYPE)linkDataParser.drawLink(c,e,i,n,s);else if(d===GAOQING_LINE_TYPE)linkDataParser.drawLink(c,e,i,n,s);else if(d===GAOQING_ROAD_TYPE)polyDataParser.drawGaoqingRoadBorder(c,e,i,n,s),polyDataParser.drawGaoqingRoadFill(c,e,i,n,s);else if(d===GAOQING_ARROW_TYPE){if(window[l+"zoomFrontStyle"]&&window[l+"zoomFrontStyle"][i]&&"off"!==window[l+"zoomFrontStyle"][i].bmapRoadarrowVisibility){var u=zoomBaseMap[i].base,p=Math.pow(2,i-u);arrowDataParser.drawArrow(c,e,i,n,p,s)}}else d===HREGION_TYPE?hregionDataParser.drawHregion(c,e,i,n,s):d===TEXTURE_TYPE&&linkDataParser.drawSingleTexture(c,e,i,n,s)}},drawLabels:function(t,e,i,n,o,a,r){var s=this,l=s._map.guid;r||(r=0);if(!window[l+"StyleBody"]&&r<100)return void setTimeout(function(){s.drawLabels(t,e,i,n,o,a,r+1)},100);iconUrlsConfig||(iconUrlsConfig=e),t.parsedLabelData=labelDataParser.parse(t,i,n,this,o)},getStyleFromCache:function(t,e,i,n){var o=t+"-"+e+"-"+i;return n?(indoorStyleCache[o]||(indoorStyleCache[o]=this.getStyle(t,e,i,n)),indoorStyleCache[o]):(this._map.styleCache[o]=this.getStyle(t,e,i),this._map.styleCache[o])},getStyle:function(t,e,i,n){var o,a,r=this._map.guid;o=n||window[r+"_bmap_baseFs"],a=window[r+"StyleBody"];var s=o[2];if("arrow"===e)return this.parseArrowStyle(s[2]);switch(e){case"point":s=s[0],a=a[0]||{};break;case"pointText":s=s[1],a=a[1]||{};break;case"line":s=s[3],a=a[3]||{};break;case"polygon":s=s[4],a=a[4]||{};break;case"polygon3d":s=s[5],a=a[5]||{}}var l;l=o[1][i-1][0];var h=[],c=l[t];if(!c)return h;for(var d=0;d<c.length;d++){var u=a[c[d]]||s[c[d]];if(u){switch(e){case"polygon":u=this.parsePolygonStyle(u,t);break;case"line":u=this.parseLineStyle(u,t);break;case"pointText":u=this.parsePointTextStyle(u,t);break;case"point":u=this.parsePointStyle(u,t);break;case"polygon3d":u=this.parsePolygon3dStyle(u,t)}u.styleId=c[d],h[h.length]=u}}return h},parsePointTextStyle:function(t,e){return{sid:e,fontRgba:this.parseRgba(t[0]),haloRgba:this.parseRgba(t[1]),backRgba:this.parseRgba(t[2]),fontSize:t[3],haloSize:t[4],fontWeight:t[5],fontStyle:t[6],density:t[7]}},parsePointStyle:function(t,e){return{sid:e,rank:t[0],ucflag:t[1],icon:t[2],iconType:t[3],nineGG:t[4],density:t[5],zoom:t[6]}},parseLineStyle:function(t,e){return{sid:e,borderRgba:this.parseRgba(t[0]),fillRgba:this.parseRgba(t[1]),borderWidth:t[2],fillWidth:t[3],borderCap:t[4],fillCap:t[5],haveBorderLine:t[6],haveBorderTexture:t[7],haveFillTexture:t[8],isUseBorderRgba:t[9],isUseFillRgba:t[10],borderTexture:t[11],fillTexture:t[12],borderTextureType:t[13],fillTextureType:t[14],isRealWidth:t[15],haveArrow:t[16],needRound:t[17],realBorderWidth:t[18]}},parsePolygonStyle:function(t,e){return{sid:e,fillRgba:this.parseRgba(t[0]),borderRgba:this.parseRgba(t[1]),borderWidth:t[2],borderTexture:t[3],borderTextureType:t[4],waterStyle:t[5],haloStyle:t[6],textureStyle:t[7],thickRgba:this.parseRgba(t[8])}},parsePolygon3dStyle:function(t,e){return{sid:e,filter:t[0],ratio:t[1],haveBorder:t[2],borderWidth:t[3],borderRgba:this.parseRgba(t[4]),fillTop:this.parseRgba(t[5]),fillSide:this.parseRgba(t[6]),polyTexture:t[7]}},parseArrowStyle:function(t){for(var e in t){var i=t[e];return{color:this.parseRgba(i[0]),iconType:i[1],icon:i[2]}}},parseRgba:function(t){var e=t;if(rgbaCache[e])return rgbaCache[e];t>>>=0;var i=255&t,n=t>>8&255,o=t>>16&255,a=(t>>24&255)/255;return rgbaCache[e]="rgba("+i+","+n+","+o+","+a+")",rgbaCache[e]},parseHexToRgb:function(t){var e=t.replace("#","");6===e.length&&(e+="ff");for(var i="rgba(",n=0;n<8;n+=2)i+=n<6?parseInt(e.slice(n,n+2),16)+",":parseInt(e.slice(n,n+2),16)/255+")";return i},toHashTable:function(t){for(var e={},i=0;i<t.length;i++)e[t[i][0]]=t[i];return e},isVisible:function(t,e){var i;return binaryCache[t]||(i=t.toString(2),i.length<8&&(i=new Array(8-i.length+1).join("0")+i),binaryCache[t]=i),i=binaryCache[t],"1"===i[e-zoomBaseMap[e].start]},parseMidPoint:function(t,e,i){var n=[],o=zoomBaseMap[e].base,a=Math.pow(2,e-o)/100,r=t[0]*a,s=t[1]*a;n[n.length]=r,n[n.length]=i-s;for(var l=2;l<t.length;l+=2)r+=t[l]*a,s+=t[l+1]*a,n[n.length]=r,n[n.length]=i-s;return n},getIconUrl:function(t){if(t){var e=t.length%iconUrlsConfig.length,i=this.getIconVersionInfo(),n=i.ver,o=i.udt;return iconUrlsConfig[e]+t+".png?v="+n+"&udt="+o}},getIconVersionInfo:function(){if(this.iconVersionInfo)return this.iconVersionInfo;var t="undefined"!=typeof MSV?MSV.mapstyle:{},e=t.version?t.version:"001",i=t.updateDate?t.updateDate:"20150621";return this.iconVersionInfo={ver:e,udt:i},this.iconVersionInfo}};var polyDataParser={drawPoly:function(t,e,i,n,o,a){var r=t[1];if(r)for(var s=t[6],l=0;l<r.length;l++){var h=r[l][0],c=o.getStyleFromCache(h,"polygon",i,a);if(c&&c.length)for(var d=r[l][1],u=0;u<d.length;u++){var p=d[u][1],_=p[0];if(o.isVisible(_,i)){var g;p["cache"+i]||(p["cache"+i]=o.parseMidPoint(p[1],i,n,s)),g=p["cache"+i],o._map.addAreaSpot(e.canvas.id,g,{type:"polygon",sid:h,style:c}),this.drawSurface(e,g,c,i)}}}},drawSurface:function(t,e,i,n){var o=i[0];if(o.sid){if(n>6&&(71013===o.sid||71012===o.sid||71011===o.sid))return;if(6===n&&(71011===o.sid||71012===o.sid))return;if(5===n&&(71011===o.sid||71013===o.sid))return;if(n<5&&(71012===o.sid||71013===o.sid))return}t.fillStyle=o.fillRgba,t.beginPath(),t.moveTo(e[0],e[1]);for(var a=2,r=e.length;a<r;a+=2)t.lineTo(e[a],e[a+1]);t.closePath(),o.borderWidth&&(t.strokeStyle=o.borderRgba,t.lineWidth=o.borderWidth/2,t.stroke()),t.fill()},drawGaoqingRoadBorder:function(t,e,i,n,o){var a=t[1];if(a)for(var r=t[6],s=0;s<a.length;s++){var l=a[s][0],h=o.getStyleFromCache(l,"polygon",i);if(h&&h.length){var c=h[0];if(c.borderWidth)for(var d=a[s][1],u=0;u<d.length;u++){var p=d[u][1],_=p[0];if(o.isVisible(_,i)){var g;p["cache"+i]||(p["cache"+i]=o.parseMidPoint(p[1],i,n,r)),g=p["cache"+i],o._map.addAreaSpot(e.canvas.id,g,{type:"polygon",sid:l,style:h}),this.drawSurfaceBorder(e,g,h)}}}}},drawGaoqingRoadFill:function(t,e,i,n,o){var a=t[1];if(a)for(var r=t[6],s=0;s<a.length;s++){var l=a[s][0],h=o.getStyleFromCache(l,"polygon",i);if(h&&h.length)for(var c=a[s][1],d=0;d<c.length;d++){var u=c[d][1],p=u[0];if(o.isVisible(p,i)){var _;u["cache"+i]||(u["cache"+i]=o.parseMidPoint(u[1],i,n,r)),_=u["cache"+i],o._map.addAreaSpot(e.canvas.id,_,{type:"polygon",sid:l,style:h}),this.drawSurfaceFill(e,_,h)}}}},drawSurfaceBorder:function(t,e,i){var n=i[0];t.beginPath(),t.moveTo(e[0],e[1]);for(var o=2,a=e.length;o<a;o+=2)t.lineTo(e[o],e[o+1]);t.closePath(),t.strokeStyle=n.borderRgba,t.lineWidth=n.borderWidth/2,t.stroke()},drawSurfaceFill:function(t,e,i){var n=i[0];t.fillStyle=n.fillRgba,t.beginPath(),t.moveTo(e[0],e[1]);for(var o=2,a=e.length;o<a;o+=2)t.lineTo(e[o],e[o+1]);t.closePath(),t.fill()}},arrowDataParser={drawArrow:function(t,e,i,n,o,a){e.lineWidth=1.5,e.lineCap="butt",e.lineJoin="miter",e.strokeStyle="rgba(153,153,153,1)";var r=t[7];if(r)for(var s=r[0],l=r[1],h=a.parseMidPoint(s,i,n),c=0;c<l.length;c++){var d=l[c];if(a.isVisible(d,i)){var u=h[4*c],p=h[4*c+1],_=h[4*c+2],g=h[4*c+3],m=(u+_)/2,f=(p+g)/2,v=(u-_)/o,y=(p-g)/o;u=m+v/2,_=m-v/2,p=f+y/2,g=f-y/2,this.drawArrowElement(e,u,p,_,g)}}},drawArrowElement:function(t,e,i,n,o){t.beginPath(),t.moveTo(e,i),t.lineTo(n,o),t.stroke();var a=this.calcArrowPts([e,i],[n,o]),r=a[0],s=a[1];t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(s[0],s[1]),t.lineTo(n,o),t.closePath(),t.stroke()},calcArrowPts:function(t,e){var i=4.8410665352790705,n=e[0]-t[0],o=e[1]-t[1],a=1.8*Math.sqrt(n*n+o*o),r=e[0]+n/a*i,s=e[1]+o/a*i,l=Math.atan2(o,n)+Math.PI;return[[r+i*Math.cos(l-.3),s+i*Math.sin(l-.3)],[r+i*Math.cos(l+.3),s+i*Math.sin(l+.3)]]}},hregionDataParser={drawHregion:function(t,e,i,n,o){var a=t[1];if(a)for(var r=t[6],s=0;s<a.length;s++){var l=a[s][0],h=o.getStyleFromCache(l,"polygon3d",i);if(h&&h.length)for(var c=a[s][1],d=0;d<c.length;d++){var u=c[d][2],p=u[0];if(o.isVisible(p,i)){var _,g=u[2];u["cache"+i]||(u["cache"+i]=o.parseMidPoint(u[1],i,n,r)),_=u["cache"+i],o._map.addAreaSpot(e.canvas.id,_,{type:"polygon",sid:l,style:h}),this.drawSurface3d(e,_,g,h)}}}},drawSurface3d:function(t,e,i,n){var o=n[0];if(!(i<o.filter)){t.fillStyle=o.fillTop,t.beginPath(),t.moveTo(e[0],e[1]);for(var a=2,r=e.length;a<r;a+=2)t.lineTo(e[a],e[a+1]);t.closePath(),o.borderWidth&&(t.strokeStyle=o.borderRgba,t.lineWidth=o.borderWidth/2,t.stroke()),t.fill()}}},DIR_UNDEFINED=5,DIR_CENTER=4,DIR_LEFT=3,DIR_TOP=2,DIR_RIGHT=1,DIR_BOTTOM=0,labelDataParser={parse:function(t,e,i,n,o){for(var a=n._map,r=a.getZoom(),s=Math.pow(2,18-r),l=a.projection.lngLatToMercator(a.getCenter()),h=l.lng,c=l.lat,d=a.getSize(),u=d.width,p=d.height,_=[],g=0;g<t.length;g++){var m=[],f=t[g].tileInfo;m.x=f[0],m.y=f[1],m.z=f[2];for(var v=f[0]*i*s,y=(f[1]+1)*i*s,b=(v-h)/s+u/2,x=(c-y)/s+p/2,w=0;w<t[g].length;w++)t[g][w].labelData?this.parseLabel(t[g][w].labelData,f,n,e,i,b,x,r,s,u,p,m):t[g][w].indoorLabelData?this.parseLabel(t[g][w].indoorLabelData,f,n,e,i,b,x,r,s,u,p,m,!0,window.indoorStyle):this.parseLineName(t[g][w].lineNameData,f,n,e,i,b,x,r,s,u,p,m,o);_.push(m)}if(/collision=0/.test(location.search))for(var P=[],g=0;g<_.length;g++)for(var w=0;w<_[g].length;w++)P.push(_[g][w]);else var P=this.preComputeLabel(_,n._map.getZoom());a.clearPoiAreaSpots();for(var g=0;g<P.length;g++){var M=P[g];if(!M.isDel){var T=[M.minX,M.minY,M.minX,M.maxY,M.maxX,M.maxY,M.maxX,M.minY,M.minX,M.minY];if(M.style&&a.addAreaSpot("poi",T,{type:"polygon",sid:M.style.sid,style:M.style}),"fixed"===M.type){var C=!1;if(M.icon&&M.style&&M.direction===DIR_CENTER&&(C=!0),M.icon)if(C){var S=this;this.drawIcon(e,M,n,C,function(t){for(var i=0;i<t.textPos.length;i++)S.drawText(e,t.textPos[i].destX,t.textPos[i].destY,t.textPos[i].text,t.style,n)})}else this.drawIcon(e,M,n);if(M.style&&!C)for(var w=0;w<M.textPos.length;w++)this.drawText(e,M.textPos[w].destX,M.textPos[w].destY,M.textPos[w].text,M.style,n)}else if("line"===M.type)for(var w=0;w<M.wordsInfo.length;w++){var E=M.wordsInfo[w];labelDataParser.drawLineText(e,E.destX,E.destY,E.angle,E.wd,E.width,E.height,M.style,n)}}}return _},parseLabel:function(t,e,i,n,o,a,r,s,l,h,c,d,u,p){var _=t[1],g=n,m=s;if(_)for(var f=0;f<_.length;f++){var v=_[f],y=v[0],b=i.getStyleFromCache(y,"point",m,p),x=i.getStyleFromCache(y,"pointText",m,p),w=v[1],P=null,M=100,T=0,C=0;b&&b[0]?(b=b[0],P=b.icon,M=b.zoom||100):b=null,x=x&&x[0]?x[0]:null;for(var S=0;S<w.length;S++){var E=w[S][4];if(E){var I=E[2];if(i.isVisible(I,s)){var L=Math.round(E[0]/100),A=Math.round(E[1]/100),B=L/l,R=o-A/l,D=B+a,k=R+r;if(u||!(D<-50||k<-50||D>h+50||k>c+50)){var O=E[7]||"",N={type:"fixed",uid:E[3]||"",name:O,rank:E[4],iconPos:null,textPos:[],originPos:[D,k],style:x};if(P){var j=window.iconSetInfo_high[P]||window.iconSetInfo_high["MapRes/"+P];if(!j){var z=P.charCodeAt(0);z>=48&&z<=57&&(j=window.iconSetInfo_high["_"+P])}j&&(T=j[2],C=j[3],T=T/2*M/100,C=C/2*M/100,N.iconPos={destX:D-T/2,destY:k-C/2,width:T,height:C},N.icon=P)}if(x){var U=E[5];"number"!=typeof U&&(U=0);var Y=0,W=0,H=x.fontSize||12,V=H/2,G=.2*V;g.font=labelDataParser.getFontStyle(x,i);var F=O.split("\\"),q=F.length;N.direction=U;for(var Z=0;Z<q;Z++){var X=F[Z],K=g.measureText(X),Q=K.width;switch(U){case DIR_LEFT:var J=k-V/2*q-G*(q-1)/2;Y=D-Q-T/2,W=J+V*Z+G*Z;break;case DIR_RIGHT:var J=k-V/2*q-G*(q-1)/2;Y=D+T/2,W=J+V*Z+G*Z;break;case DIR_TOP:var J=k-C/2-V*q-G*(q-1)-G;Y=D-Q/2,W=J+V*Z+G*Z;break;case DIR_BOTTOM:var J=k+C/2+G/2;Y=D-Q/2,W=J+V*Z+G*Z;break;case DIR_CENTER:var J=k-V/2*q-G*(q-1)/2;Y=D-Q/2,W=J+V*Z+G*Z}N.textPos.push({destX:Y,destY:W,width:Q,height:V,text:X})}}d.push(N)}}}}}},parseLineName:function(t,e,i,n,o,a,r,s,l,h,c,d,u){var p=t,_=n,g=p[7].length,m=p[0],f=i.getStyleFromCache(m,"pointText",s);if(f&&f.length){f=f[0],_.font=labelDataParser.getFontStyle(f,i);for(var v=f.fontSize/2,y=p[1],b=p[2],x=b.split("").length,w=p[4],P=(e[2],w.slice(0,2)),M=2;M<w.length;M+=2)P[M]=P[M-2]+w[M],P[M+1]=P[M-1]+w[M+1];for(var M=2;M<w.length;M+=2)M%(2*x)!=0&&M%(2*x)!=1&&(P[M]=P[M-2]+w[M]/u,P[M+1]=P[M-1]+w[M+1]/u);for(var T=0;T<g;T++){var C=p[7][T];if(i.isVisible(C,s)){var S=p[6][T],E=[],I=void 0,L=void 0,A=void 0,B=void 0,R=b.split("");S&&R.reverse();var D=T*x*2;w=P.slice(D,D+2*x);for(var k=0;k<x;k++){var O=p[5][x*T+k],N=w[2*k]/100,j=w[2*k+1]/100,z=N/l,U=o-j/l,Y=z+a,W=U+r,H=R[k],V=_.measureText(H),G=V.width;if(void 0===I)I=Y-G/2,L=W-v/2,A=I+G,B=L+v;else{var F=Y-G/2,q=W-v/2;F<I&&(I=F),q<L&&(L=q),F+G>A&&(A=F+G),q+v>B&&(B=q+v)}E.push({wd:H,destX:Y,destY:W,angle:O,width:G,height:v})}d.push({type:"line",rank:y,style:f,wordsInfo:E,minX:I,minY:L,maxX:A,maxY:B})}}}},drawIcon:function(t,e,i,n,o){var a=e.icon;if("lanche"!==a)if(labelDataParser.iconCache[a]){var r=labelDataParser.iconCache[a];this.drawIconImage(t,e,r,n,o)}else{var s=i.getIconUrl(a);if(!s)return;var l=new Image;l.setAttribute("crossOrigin","anonymous");var h=this;l.onload=function(){labelDataParser.iconCache[a]=this,h.drawIconImage(t,e,this,n,o),l.onload=null},l.src=s}},drawIconImage:function(t,e,i,n,o){var a=e.iconPos,r=a.destX,s=a.destY,l=null,h=null,c=!0,d=e.style?e.style.sid:null;if(e.style&&62203===d){l=0,h=0;for(var u=0;u<e.textPos.length;u++)l<e.textPos[u].width&&(l=e.textPos[u].width),h+=20;l=Math.ceil(l)+10}n&&519===d&&(c=!1),null!==l&&null!==h?this.drawStretchedIcon(t,e,i,8,l,h):n&&c?(l=Math.ceil(e.textPos[0].width)+6,r-=(l-i.width/2)/2,this.draw3StretchedIcon(t,e,i,12,l,i.height/2)):t.drawImage(i,r,s,a.width,a.height),
o&&o(e)},drawStretchedIcon:function(t,e,i,n,o,a){var r=e.originPos[0]-o/2,s=e.originPos[1]-a/2;navigator.userAgent.indexOf("iPhone")>0&&(s+=1);var l=n/2;t.drawImage(i,0,0,n,n,r,s,l,l),t.drawImage(i,n,0,1,n,r+l,s,o-2*l,l),t.drawImage(i,i.width-n,0,n,n,r+o-l,s,l,l),t.drawImage(i,0,n,n,1,r,s+l,l,a-2*l),t.drawImage(i,n,n,1,1,r+l,s+l,o-2*l,a-2*l),t.drawImage(i,i.width-n,n,n,1,r+o-l,s+l,l,a-2*l),t.drawImage(i,0,i.height-n,n,n,r,s+a-l,l,l),t.drawImage(i,n,i.height-n,1,n,r+l,s+a-l,o-2*l,l),t.drawImage(i,i.width-n,i.height-n,n,n,r+o-l,s+a-l,l,l)},draw3StretchedIcon:function(t,e,i,n,o,a){var r=e.originPos[0]-o/2,s=e.originPos[1]-a/2,l=n/2;t.drawImage(i,0,0,n,i.height,r,s,l,i.height/2),t.drawImage(i,n,0,1,i.height,r+l,s,o-2*l,i.height/2),t.drawImage(i,i.width-n,0,n,i.height,r+o-l,s,l,i.height/2)},drawLineText:function(t,e,i,n,o,a,r,s,l){t.font=labelDataParser.getFontStyle(s,l),t.fillStyle=s.fontRgba;var h=a/2,c=r/2;t.save(),t.translate(e,i),t.rotate(-n/180*Math.PI),s.haloSize>0&&(t.lineWidth=s.haloSize,t.strokeStyle=s.haloRgba,t.strokeText(o,-h,-c)),t.fillText(o,-h,-c),t.restore()},drawText:function(t,e,i,n,o,a){t.font=labelDataParser.getFontStyle(o,a),t.fillStyle=o.fontRgba,o.haloSize>0&&(t.lineWidth=o.haloSize,t.strokeStyle=o.haloRgba,t.strokeText(n,e,i)),t.fillText(n,e,i)},getFontStyle:function(t,e){var i=10*t.fontWeight,n=t.fontSize/2,o=i;return e.isIphone?(o+=" bold",o+=" "+n+"px",o+=' arial, "PingFang SC", sans-serif'):(o+=" "+n+"px",o+=" arial, sans-serif"),o},preComputeLabel:function(t,e){var i=[],n=0;5===e&&(n=1),t.sort(function(t,e){return t.x*t.y<e.x*e.y?-1:1});for(var o=0,a=t.length;o<a;o++)for(var r=t[o],s=(r.x,r.y,r.z,0),l=r.length;s<l;s++){var h=r[s],c=void 0,d=void 0,u=void 0,p=void 0;if("fixed"===h.type){var _=h.iconPos,g=h.textPos;_&&(c=_.destX,d=_.destY,u=_.destX+_.width,p=_.destY+_.height);for(var m=0;m<g.length;m++){var f=g[m];void 0!==c?(f.destX<c&&(c=f.destX),f.destY<d&&(d=f.destY),f.destX+f.width>u&&(u=f.destX+f.width),f.destY+f.height>p&&(p=f.destY+f.height)):(c=f.destX,d=f.destY,u=f.destX+f.width,p=f.destY+f.height)}}else if("line"===h.type)c=h.minX,d=h.minY,u=h.maxX,p=h.maxY;else if("biaopai"===h.type){var v=h.pos;c=v.destX,d=v.destY,u=v.destX+v.width,p=v.destY+v.height}void 0!==c&&(h.minX=c,h.minY=d,h.maxX=u,h.maxY=p,i.push(h))}i.sort(function(t,e){return e.rank-t.rank||e.minX-t.minX||e.minY-t.minY});for(var o=0,a=i.length;o<a;o++){var y=i[o];for(y.isDel=!1,y.arrIntersectIndex=[],s=o+1;s<a;s++){var b=i[s];y.maxX-n<b.minX||y.minX>b.maxX-n||y.maxY-n<b.minY||y.minY>b.maxY-n||y.arrIntersectIndex.push(s)}}for(var o=0,a=i.length;o<a;o++){var x=i[o];if(!1===x.isDel)for(var w=x.arrIntersectIndex,s=0,l=w.length;s<l;s++){var P=i[w[s]];P.isDel=!0}}return i},iconCache:{}},arrLineCap=["round","butt","square"],arrLineJoin=["miter","round","bevel"],textureStyleMap={daojiao:[{stroke:"#FF6600",strokeWidth:1,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:[4,3]}],daojiao_bai:[{stroke:"#f5f3f0",strokeWidth:1,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:[4,3]}],junhuoxian:[{stroke:"#DB7093",strokeWidth:1,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:[4,3]}],lundu:[{stroke:"#5c91c5",strokeWidth:1,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:[10,11]}],shengjie:[{stroke:"#737373",strokeWidth:1,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:[6,3]}],weidingguojie:[{stroke:"#aea08a",strokeWidth:1,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:[4,3]}],weidingguojie_guowai:[{stroke:"#a29e96",strokeWidth:2,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:[4,3]}],weidingguojie_guonei:[{stroke:"#b5a37c",strokeWidth:2,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:[4,3]}]},iconCache={},linkDataParser={drawLink:function(t,e,i,n,o){this.guid=o._map.guid;var a=t[1];if(a){var r=t[6];this.traverseLineGeoObject(a,i,n,e,r,o,!0),this.traverseLineGeoObject(a,i,n,e,r,o,!1)}},traverseLineGeoObject:function(t,e,i,n,o,a,r){for(var s=0;s<t.length;s++){var l=t[s][0],h=a.getStyleFromCache(l,"line",e);if(h&&h.length&&((!r||h[0].borderWidth)&&(!h[0].fillTexture||getTextureStyle(h[0].fillTexture,e,this.guid))))for(var c=t[s][1],d=0;d<c.length;d++){var u=c[d][3],p=u[0];if(a.isVisible(p,e)){var _;u["cache"+e]||(u["cache"+e]=a.parseMidPoint(u[1],e,i,o)),_=u["cache"+e],a._map.addAreaSpot(n.canvas.id,_,{type:"polyline",sid:l,style:h}),this.drawRoadLine(n,_,h,r,e)}}}},drawSingleTexture:function(t,e,i,n,o){var a=t[1];if(a)for(var r=t[6],s=0;s<a.length;s++){var l=a[s][0],h=o.getStyleFromCache(l,"line",i);if(h&&h.length)for(var c=a[s][1],d=0;d<c.length;d++){var u=c[d][11],p=u[0];if(o.isVisible(p,i)){var _;u["cache"+i]||(u["cache"+i]=o.parseMidPoint(u[1],i,n,r)),_=u["cache"+i];var g=u[3],m=o.zoomBaseMap[i].base,f=Math.pow(2,i-m);g*=f,this.drawSingleTextureElement(e,_,h,g,o)}}}},drawSingleTextureElement:function(t,e,i,n,o){var a=i[0],r=a.fillTexture,s=this;if(iconCache[r])s.drawIcon(e,n,t,iconCache[r]);else{var l=o.getIconUrl(r);if(!l)return;var h=new Image;h.onload=function(){iconCache[r]=h,s.drawIcon(e,n,t,h),h.onload=null},h.src=l}},drawIcon:function(t,e,i,n){var o=[t[0],t[1]],a=[t[2],t[3]],r=a[0]-o[0],s=a[1]-o[1],l=[o[0]+r/2,o[1]+s/2],h=Math.sqrt(r*r+s*s);e/=10;var c=Math.atan2(s,r);i.save(),i.translate(l[0],l[1]),i.rotate(Math.PI/2+c),i.drawImage(n,-e/2,-h/2,e,h),i.restore()},drawRoadLine:function(t,e,i,n,o){var a=i[0];if(!n&&a.fillTexture){if(getTextureStyle(a.fillTexture,o,this.guid))return void this.drawTextureLine(t,e,a,getTextureStyle(a.fillTexture,o,this.guid))}t.beginPath(),t.moveTo(e[0],e[1]);for(var r=2,s=e.length;r<s;r+=2)t.lineTo(e[r],e[r+1]);a.borderWidth&&n?(t.strokeStyle=a.borderRgba,t.lineCap=arrLineCap[a.borderCap],t.lineJoin=arrLineJoin[1],t.lineWidth=a.borderWidth/2,t.stroke()):n||(t.strokeStyle=a.fillRgba,t.lineCap=arrLineCap[a.fillCap],t.lineJoin=arrLineJoin[1],t.lineWidth=a.fillWidth/2,t.stroke())},drawTextureLine:function(t,e,i,n){var o=n[1];if(o){t.strokeStyle=o.stroke,t.lineCap=o.strokeLineCap,t.lineJoin=o.strokeLineJoin,t.lineWidth=o.strokeWidth,t.beginPath(),t.moveTo(e[0],e[1]);for(var a=2,r=e.length;a<r;a+=2)t.lineTo(e[a],e[a+1]);t.stroke()}var s=n[0];if(s)if(s.strokeDashArray)this.drawDashLine(t,e,s);else{t.strokeStyle=s.stroke,t.lineCap=s.strokeLineCap,t.lineJoin=s.strokeLineJoin,t.lineWidth=s.strokeWidth,t.beginPath(),t.moveTo(e[0],e[1]);for(var a=2,r=e.length;a<r;a+=2)t.lineTo(e[a],e[a+1]);t.stroke()}},drawDashLine:function(t,e,i){t.strokeStyle=i.stroke,t.lineCap=i.strokeLineCap,t.lineJoin=i.strokeLineJoin,t.lineWidth=i.strokeWidth;var n=!0,o=i.strokeDashArray[0];t.beginPath();for(var a=0;a<e.length-2;a+=2){var r=e[a],s=e[a+1],l=e[a+2],h=e[a+3],c=l-r,d=h-s,u=0!==c?d/c:d>0?1e15:-1e15,p=Math.sqrt(c*c+d*d),_=o;for(t.moveTo(r,s);p>=.1;){_>p&&(_=p);var g=Math.sqrt(_*_/(1+u*u));c<0&&(g=-g),r+=g,s+=u*g,t[n?"lineTo":"moveTo"](r,s),p-=_,n=!n}}t.stroke()}},polyDataParser={drawPoly:function(t,e,i,n,o,a){var r=t[1];if(r)for(var s=t[6],l=0;l<r.length;l++){var h=r[l][0],c=o.getStyleFromCache(h,"polygon",i,a);if(c&&c.length)for(var d=r[l][1],u=0;u<d.length;u++){var p=d[u][1],_=p[0];if(o.isVisible(_,i)){var g;p["cache"+i]||(p["cache"+i]=o.parseMidPoint(p[1],i,n,s)),g=p["cache"+i],o._map.addAreaSpot(e.canvas.id,g,{type:"polygon",sid:h,style:c}),this.drawSurface(e,g,c,i)}}}},drawSurface:function(t,e,i,n){var o=i[0];if(o.sid){if(n>6&&(71013===o.sid||71012===o.sid||71011===o.sid))return;if(6===n&&(71011===o.sid||71012===o.sid))return;if(5===n&&(71011===o.sid||71013===o.sid))return;if(n<5&&(71012===o.sid||71013===o.sid))return}t.fillStyle=o.fillRgba,t.beginPath(),t.moveTo(e[0],e[1]);for(var a=2,r=e.length;a<r;a+=2)t.lineTo(e[a],e[a+1]);t.closePath(),o.borderWidth&&(t.strokeStyle=o.borderRgba,t.lineWidth=o.borderWidth/2,t.stroke()),t.fill()},drawGaoqingRoadBorder:function(t,e,i,n,o){var a=t[1];if(a)for(var r=t[6],s=0;s<a.length;s++){var l=a[s][0],h=o.getStyleFromCache(l,"polygon",i);if(h&&h.length){var c=h[0];if(c.borderWidth)for(var d=a[s][1],u=0;u<d.length;u++){var p=d[u][1],_=p[0];if(o.isVisible(_,i)){var g;p["cache"+i]||(p["cache"+i]=o.parseMidPoint(p[1],i,n,r)),g=p["cache"+i],o._map.addAreaSpot(e.canvas.id,g,{type:"polygon",sid:l,style:h}),this.drawSurfaceBorder(e,g,h)}}}}},drawGaoqingRoadFill:function(t,e,i,n,o){var a=t[1];if(a)for(var r=t[6],s=0;s<a.length;s++){var l=a[s][0],h=o.getStyleFromCache(l,"polygon",i);if(h&&h.length)for(var c=a[s][1],d=0;d<c.length;d++){var u=c[d][1],p=u[0];if(o.isVisible(p,i)){var _;u["cache"+i]||(u["cache"+i]=o.parseMidPoint(u[1],i,n,r)),_=u["cache"+i],o._map.addAreaSpot(e.canvas.id,_,{type:"polygon",sid:l,style:h}),this.drawSurfaceFill(e,_,h)}}}},drawSurfaceBorder:function(t,e,i){var n=i[0];t.beginPath(),t.moveTo(e[0],e[1]);for(var o=2,a=e.length;o<a;o+=2)t.lineTo(e[o],e[o+1]);t.closePath(),t.strokeStyle=n.borderRgba,t.lineWidth=n.borderWidth/2,t.stroke()},drawSurfaceFill:function(t,e,i){var n=i[0];t.fillStyle=n.fillRgba,t.beginPath(),t.moveTo(e[0],e[1]);for(var o=2,a=e.length;o<a;o+=2)t.lineTo(e[o],e[o+1]);t.closePath(),t.fill()}},BMAP_POI_TYPE_NORMAL=0,BMAP_POI_TYPE_BUSSTOP=1,BMAP_POI_TYPE_BUSLINE=2,BMAP_POI_TYPE_SUBSTOP=3,BMAP_POI_TYPE_SUBLINE=4,ROUTE_TYPE_DEFAULT=0,ROUTE_TYPE_TRANSIT=1,APIPack={};window.APIPack=APIPack,baidu.inherits(BaseSearch,baidu.lang.Class),baidu.extend(BaseSearch.prototype,{getResults:function(){return this._isMultiKey?this._arrResults:this._results},enableAutoViewport:function(){this._opts.renderOptions.autoViewport=!0},disableAutoViewport:function(){this._opts.renderOptions.autoViewport=!1},setLocation:function(t){t&&(this._loc.src=t)},setSearchCompleteCallback:function(t){this._opts.onSearchComplete=t||function(){}},setMarkersSetCallback:function(t){this._opts.onMarkersSet=t||function(){}},setPolylinesSetCallback:function(t){this._opts.onPolylinesSet=t||function(){}},setInfoHtmlSetCallback:function(t){this._opts.onInfoHtmlSet=t||function(){}},setResultsHtmlSetCallback:function(t){this._opts.onResultsHtmlSet=t||function(){}},getStatus:function(){return this._status}});var SearchRequestMgr={REQ_BASE_URL:BMap.apiUrl,request:function(t,e,i,n){n=n||"";var o;o=i&&i.useEncodeURI?jsonToQuery(e,encodeURI):jsonToQuery(e,encodeURIComponent),i&&i.enableTraffic&&i.reqURL?this.REQ_BASE_URL=i.reqURL:(this.REQ_BASE_URL=BMap.searchUrl,n="/search/v1/search");var a=this,r=a.REQ_BASE_URL+n+"?"+o;DataMgr.ajax({url:r,success:function(e){if(0!==e.status)return void console.log(e.message);t&&t(e.result,i)}})},_request:function(t,e,i,n,o){var a=(1e5*Math.random()).toFixed(0);BMap._rd["_cbk"+a]=function(e){if(e.result&&e.result.error&&202===e.result.error)return void alert("该AK因为恶意行为已经被管理员封禁！");i=i||{},t&&t(e,i),delete BMap._rd["_cbk"+a]},n=n||"";var r;r=i&&i.useEncodeURI?jsonToQuery(e,encodeURI):jsonToQuery(e,encodeURIComponent),i&&i.enableTraffic?i.reqURL?this.REQ_BASE_URL=i.reqURL:this.REQ_BASE_URL=BMap.mapUrl:this.REQ_BASE_URL=BMap.apiUrl;var s=this,l=s.REQ_BASE_URL+n+"?"+r+"&ie=utf-8&oue=1&fromproduct=jsapi";o||(l+="&res=api"),l+="&callback=BMap._rd._cbk"+a,l+="&ak="+AUTHENTIC_KEY,DataMgr.request(l)},qtAlog:function(t){if(t.qt){var e=t.qt,i="";switch(e){case"bt":i="z_qt|bt";break;case"nav":i="z_qt|nav";break;case"walk":i="z_qt|walk";break;case"bse":i="z_qt|bse";break;case"nse":i="z_qt|nse";break;case"drag":i="z_qt|drag"}""!==i&&BMap.alog("cus.fire","count",i)}}};window.SearchRequestMgr=SearchRequestMgr,BMap._rd={};var SUtil={};window.SUtil=SUtil,SUtil.removeHtml=function(t){return t=t.replace(/<\/?[^>]*>/g,""),t=t.replace(/[ | ]* /g," ")},SUtil.parseGeoExtReg1=function(t){return t.replace(/([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*),([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*)(,)/g,"$1,$2;")},SUtil.parseGeoExtReg2=function(t,e){var i=new RegExp("(((-?\\d+)(\\.\\d+)?),((-?\\d+)(\\.\\d+)?);)(((-?\\d+)(\\.\\d+)?),((-?\\d+)(\\.\\d+)?);){"+e+"}","ig");return t.replace(i,"$1")};var BMAP_STATUS_SUCCESS=0,BMAP_STATUS_CITY_LIST=1,BMAP_STATUS_UNKNOWN_LOCATION=2,BMAP_STATUS_UNKNOWN_ROUTE=3,BMAP_STATUS_INVALID_KEY=4,BMAP_STATUS_INVALID_REQUEST=5,BMAP_STATUS_PERMISSION_DENIED=6,BMAP_STATUS_SERVICE_UNAVAILABLE=7,BMAP_STATUS_TIMEOUT=8,BMAP_ROUTE_TYPE_WALKING=2,BMAP_ROUTE_TYPE_DRIVING=3,BMAP_ROUTE_TYPE_RIDING=6,BMAP_ROUTE_STATUS_NORMAL=0,BMAP_ROUTE_STATUS_EMPTY=1,BMAP_ROUTE_STATUS_ADDRESS=2,QUERY_TYPE_CURRENT_CITY="cur",QUERY_TYPE_CENTER="cen",QUERY_TYPE_POI_SEARCH="s",QUERY_TYPE_POI_SEARCH_CON="con",QUERY_TYPE_SEARCH_INBOUNDS="bd",QUERY_TYPE_SEARCH_NEARBY="nb",QUERY_TYPE_TRANSIT="bt",QUERY_TYPE_DRIVING="nav",QUERY_TYPE_WALKING="walk",QUERY_TYPE_GEOCODER="gc",QUERY_TYPE_REVERSE_GEOCODER="rgc",QUERY_TYPE_LOCALCITY="dec",QUERY_TYPE_TRANSIT_SINGLE="bse",QUERY_TYPE_DRIVING_SINGLE="nse",QUERY_TYPE_BUSLIST="bl",QUERY_TYPE_BUSLINE="bsl",QUERY_TYPE_SEARCH_INBOUNDS_MULTIKEY="bda",QUERY_TYPE_SEARCH_MULTIKEY="sa",QUERY_TYPE_SEARCH_NEARBY_MULTIKEY="nba",QUERY_TYPE_DARG="drag",QUERY_TYPE_EXT="ext",QUERY_TYPE_RIDING="ride",QUERY_TYPE_DIRECTION="drct",QUERY_TYPE_HIGHIP_LOC="hip",RETURN_TYPE_CURRENT_CITY=2,RETURN_TYPE_CENTER=4,RETURN_TYPE_CITY_LIST=7,RETURN_TYPE_POI_SEARCH=11,RETURN_TYPE_SEARCH_NEARBY=12,RETURN_TYPE_TRANSIT=14,RETURN_TYPE_BUSLIST=15,RETURN_TYPE_BUSLINE=18,RETURN_TYPE_DRIVING=20,RETURN_TYPE_SEARCH_INBOUNDS=21,RETURN_TYPE_NAV_ADDRESS=19,RETURN_TYPE_ROUTE_ADDRESS=23,RETURN_TYPE_SPECIAL_REGION=26,RETURN_TYPE_NODATA_REGION=28,RETURN_TYPE_WALKING=31,RETURN_TYPE_GEOCODER=35,RETURN_TYPE_REVERSE_GEOCODER=44,RETURN_TYPE_SEARCH_INBOUNDS_MULTIKEY=45,RETURN_TYPE_SEARCH_MULTIKEY=46,RETURN_TYPE_SEARCH_NEARBY_MULTIKEY=47,LOC_TYPE_UNKNOWN=-1,LOC_TYPE_MAP=0,LOC_TYPE_POINT=1,LOC_TYPE_STRING=2,LOC_TYPE_NUMBER=3,DIRECTION_RETURN_TYPE_UNCLEAR=1,DIRECTION_RETURN_TYPE_CLEAR=2;BMap.I=window.Instance=baidu.lang.instance;var LocalSearch=function(t,e){BaseSearch.call(this,t,e),e=e||{},e.renderOptions=e.renderOptions||{},this.setPageCapacity(e.pageCapacity),void 0===e.renderOptions.selectFirstResult||e.renderOptions.selectFirstResult?this.enableFirstResultSelection():this.disableFirstResultSelection(),this._overlays=[],this._arrPois=[],this._curIndex=-1,this._queryList=[];var i=this;ModuleMgr.load("local",function(){i._check()},!0)};baidu.inherits(LocalSearch,BaseSearch,"LocalSearch"),LocalSearch.DEFAULT_PAGE_CAPACITY=10,LocalSearch.MIN_PAGE_CAPACITY=1,LocalSearch.MAX_PAGE_CAPACITY=1e4,LocalSearch.DEFAULT_RADIUS=2e3,LocalSearch.MAX_RADIUS=1e5,baidu.extend(LocalSearch.prototype,{search:function(t,e){this._queryList.push({method:"search",arguments:[t,e]})},searchInBounds:function(t,e,i){this._queryList.push({method:"searchInBounds",arguments:[t,e,i]})},searchNearby:function(t,e,i,n){this._queryList.push({method:"searchNearby",arguments:[t,e,i,n]})},clearResults:function(){delete this._json,delete this._status,delete this._results,delete this._ud,this._curIndex=-1,this._setStatus(),this._opts.renderOptions.panel&&(this._opts.renderOptions.panel.innerHTML="")},gotoPage:function(){},enableFirstResultSelection:function(){this._opts.renderOptions.selectFirstResult=!0},disableFirstResultSelection:function(){this._opts.renderOptions.selectFirstResult=!1},setPageCapacity:function(t){"number"!=typeof t||isNaN(t)?this._opts.pageCapacity=LocalSearch.DEFAULT_PAGE_CAPACITY:this._opts.pageCapacity=t<1?LocalSearch.DEFAULT_PAGE_CAPACITY:t>LocalSearch.MAX_PAGE_CAPACITY?LocalSearch.DEFAULT_PAGE_CAPACITY:t},getPageCapacity:function(){return this._opts.pageCapacity},toString:function(){return"LocalSearch"}});var LocalSearchP=LocalSearch.prototype;exportSymbol(LocalSearchP,{clearResults:LocalSearchP.clearResults,setPageCapacity:LocalSearchP.setPageCapacity,getPageCapacity:LocalSearchP.getPageCapacity,gotoPage:LocalSearchP.gotoPage,searchNearby:LocalSearchP.searchNearby,searchInBounds:LocalSearchP.searchInBounds,search:LocalSearchP.search,enableFirstResultSelection:LocalSearchP.enableFirstResultSelection,disableFirstResultSelection:LocalSearchP.disableFirstResultSelection});var BaseRoute=function(t,e){BaseSearch.call(this,t,e)};baidu.inherits(BaseRoute,BaseSearch,"BaseRoute"),baidu.extend(BaseRoute.prototype,{clearResults:function(){}});var BMAP_TRANSIT_POLICY_RECOMMEND=0,BMAP_TRANSIT_POLICY_LEAST_TIME=4,BMAP_TRANSIT_POLICY_LEAST_TRANSFER=1,BMAP_TRANSIT_POLICY_LEAST_WALKING=2,BMAP_TRANSIT_POLICY_AVOID_SUBWAYS=3,BMAP_TRANSIT_POLICY_FIRST_SUBWAYS=5,BMAP_LINE_TYPE_BUS=0,BMAP_LINE_TYPE_SUBWAY=1,BMAP_LINE_TYPE_FERRY=2,BMAP_LINE_TYPE_TRAIN=3,BMAP_LINE_TYPE_AIRPLANE=4,BMAP_LINE_TYPE_COACH=5,BMAP_VEHICLE_TYPE_BUS=3,BMAP_VEHICLE_TYPE_DRIVING=4,BMAP_VEHICLE_TYPE_TRAIN=1,BMAP_VEHICLE_TYPE_AIRPLANE=2,BMAP_VEHICLE_TYPE_WALKING=5,BMAP_VEHICLE_TYPE_COACH=6,BMAP_TRANSIT_TYPE_IN_CITY=0,BMAP_TRANSIT_TYPE_CROSS_CITY=1,BMAP_TRANSIT_PLAN_TYPE_ROUTE=0,BMAP_TRANSIT_PLAN_TYPE_LINE=1,BMAP_TRANSIT_TYPE_POLICY_TRAIN=0,BMAP_TRANSIT_TYPE_POLICY_AIRPLANE=1,BMAP_TRANSIT_TYPE_POLICY_COACH=2,BMAP_INTERCITY_POLICY_LEAST_TIME=0,BMAP_INTERCITY_POLICY_EARLY_START=1,BMAP_INTERCITY_POLICY_CHEAP_PRICE=2;TransitRoute.MAX_PAGE_CAPACITY=100,TransitRoute.LINE_TYPE_MAPPING=[0,1,0,0,0,0,0,0,2,0,0,0,1,1,1],TransitRoute.LINE_TYPE_MAPPING_CROSS_CITY=[0,3,4,0,0,0,5],baidu.inherits(TransitRoute,BaseRoute,"TransitRoute"),baidu.extend(TransitRoute.prototype,{setPolicy:function(t){this._opts.policy=t>=BMAP_TRANSIT_POLICY_RECOMMEND&&t<=BMAP_TRANSIT_POLICY_FIRST_SUBWAYS?t:BMAP_TRANSIT_POLICY_RECOMMEND},setIntercityPolicy:function(t){this._opts.intercityPolicy=t>=BMAP_INTERCITY_POLICY_LEAST_TIME&&t<=BMAP_INTERCITY_POLICY_CHEAP_PRICE?t:BMAP_INTERCITY_POLICY_LEAST_TIME},setTransitTypePolicy:function(t){this._opts.transitTypePolicy=t>=BMAP_TRANSIT_TYPE_POLICY_TRAIN&&t<=BMAP_TRANSIT_TYPE_POLICY_COACH?t:BMAP_TRANSIT_TYPE_POLICY_TRAIN},_internalSearch:function(t,e){this._queryList.push({method:"_internalSearch",arguments:[t,e]})},search:function(t,e){this._queryList.push({method:"search",arguments:[t,e]})},setPageCapacity:function(t){return"string"==typeof t&&(t=parseInt(t,10),isNaN(t))?void(this._opts.pageCapacity=TransitRoute.MAX_PAGE_CAPACITY):"number"!=typeof t?void(this._opts.pageCapacity=TransitRoute.MAX_PAGE_CAPACITY):void(t>=1&&t<=TransitRoute.MAX_PAGE_CAPACITY?this._opts.pageCapacity=Math.round(t):this._opts.pageCapacity=TransitRoute.MAX_PAGE_CAPACITY)},toString:function(){return"TransitRoute"},_shortTitle:function(t){return t.replace(/\(.*\)/,"")}});var TransitRouteP=TransitRoute.prototype;exportSymbol(TransitRouteP,{_internalSearch:TransitRouteP._internalSearch});var BMAP_HIGHLIGHT_STEP=1,BMAP_HIGHLIGHT_ROUTE=2,DWRoute=function(t,e){BaseRoute.call(this,t,e),this._overlays=[],this._curIndex=-1,this._queryList=[];var i=this,n=this._opts.renderOptions;n.highlightMode!==BMAP_HIGHLIGHT_STEP&&n.highlightMode!==BMAP_HIGHLIGHT_ROUTE&&(n.highlightMode=BMAP_HIGHLIGHT_STEP),this._enableDragging=!!this._opts.renderOptions.enableDragging,ModuleMgr.load("route",function(){i._asyncSearch()}),this.init_d&&this.init_d()};DWRoute.ROAD_TYPE=["","环岛","无属性道路","主路","高速连接路","交叉点内路段","连接道路","停车场内部道路","服务区内部道路","桥","步行街","辅路","匝道","全封闭道路","未定义交通区域","POI连接路","隧道","步行道","公交专用道","提前右转道"],baidu.inherits(DWRoute,BaseRoute,"DWRoute"),baidu.extend(DWRoute.prototype,{search:function(t,e,i){this._queryList.push({method:"search",arguments:[t,e,i]})}});var BMAP_DRIVING_POLICY_DEFAULT=0,BMAP_DRIVING_POLICY_AVOID_HIGHWAYS=3,BMAP_DRIVING_POLICY_FIRST_HIGHWAYS=4,BMAP_DRIVING_POLICY_AVOID_CONGESTION=5,BMAP_TRAFFICE_STATUS_NONE=0,BMAP_TRAFFICE_STATUS_NORMAL=1,BMAP_TRAFFICE_STATUS_SLOW=2,BMAP_TRAFFICE_STATUS_JAM=3;baidu.inherits(DrivingRoute,DWRoute,"DrivingRoute"),DrivingRoute.prototype.setPolicy=function(t){this._opts.policy=t>=BMAP_DRIVING_POLICY_DEFAULT&&t<=BMAP_DRIVING_POLICY_AVOID_CONGESTION?t:BMAP_DRIVING_POLICY_DEFAULT},baidu.inherits(WalkingRoute,DWRoute,"WalkingRoute"),baidu.inherits(RidingRoute,DWRoute,"RidingRoute"),baidu.inherits(Geocoder,baidu.lang.Class,"Geocoder"),baidu.extend(Geocoder.prototype,{getPoint:function(t,e,i){this._queryList.push({method:"getPoint",arguments:[t,e,i]})},getLocation:function(t,e,i){this._queryList.push({method:"getLocation",arguments:[t,e,i]})},toString:function(){return"Geocoder"}});var GeocoderP=Geocoder.prototype;exportSymbol(GeocoderP,{getPoint:GeocoderP.getPoint,getLocation:GeocoderP.getLocation}),baidu.extend(Geolocation.prototype,{getCurrentPosition:function(t,e){this._pendingCalls.push({method:"getCurrentPosition",arguments:arguments})},getStatus:function(){return BMAP_STATUS_UNKNOWN_LOCATION},enableSDKLocation:function(){isMobile()&&(this.config.SDKLocation=!0)},disableSDKLocation:function(){this.config.SDKLocation=!1}}),baidu.inherits(LocalCity,baidu.lang.Class,"LocalCity"),baidu.extend(LocalCity.prototype,{get:function(t){this._queryList.push({method:"get",arguments:[t]})},toString:function(){return"LocalCity"}}),baidu.inherits(Boundary,baidu.lang.Class,"Boundary"),baidu.extend(Boundary.prototype,{get:function(t,e){this._queryList.push({method:"get",arguments:[t,e]})},toString:function(){return"Boundary"}}),baidu.lang.inherits(RouteAddr,baidu.lang.Class,"RouteAddr"),BusLineSearch._iconOpen=MapConfig.imgPath+"iw_plus.gif",BusLineSearch._iconClose=MapConfig.imgPath+"iw_minus.gif",BusLineSearch._stopUrl=MapConfig.imgPath+"stop_icon.png",baidu.inherits(BusLineSearch,BaseSearch),baidu.extend(BusLineSearch.prototype,{getBusList:function(t){this._queryList.push({method:"getBusList",arguments:[t]})},getBusLine:function(t){this._queryList.push({method:"getBusLine",arguments:[t]})},setGetBusListCompleteCallback:function(t){this._opts.onGetBusListComplete=t||function(){}},setGetBusLineCompleteCallback:function(t){this._opts.onGetBusLineComplete=t||function(){}},setBusListHtmlSetCallback:function(t){this._opts.onBusListHtmlSet=t||function(){}},setBusLineHtmlSetCallback:function(t){this._opts.onBusLineHtmlSet=t||function(){}},setPolylinesSetCallback:function(t){this._opts.onPolylinesSet=t||function(){}}});var BMAP_MODE_DRIVING="driving",BMAP_MODE_TRANSIT="transit",BMAP_MODE_WALKING="walking",BMAP_MODE_NAVIGATION="navigation",protolHead={web:"http://api.map.baidu.com/direction?",android:"bdapp://map/direction?",ios:"baidumap://map/direction?"},ua=navigator.userAgent,IOS=/ipad|iphone|ipod|iph/i.test(ua),isAndroid=/android/i.test(ua);baidu.extend(RouteSearch.prototype,{routeCall:function(t,e,i){var n=this;ModuleMgr.load("route",function(){n._asyncSearch(t,e,i)})}}),baidu.inherits(Autocomplete,BaseSearch,"Autocomplete"),baidu.extend(Autocomplete.prototype,{_initialize:function(){},show:function(){this._show=!0},hide:function(){this._show=!1},setTypes:function(t){this._options.types=t},setLocation:function(t){this._loc.src=t},search:function(t){this._word=t},setInputValue:function(t){this._inputValue=t},setSearchCompleteCallback:function(t){this._options.onSearchComplete=t}});var MapPoiClick;Panorama.MIN_ZINDEX=1200,Panorama.MAX_ZOOM=4,Panorama.MIN_ZOOM=1,Panorama.TILE_MAX_ZOOM=5,Panorama.TILE_MIN_ZOOM=4,Panorama._instanceCounter=0,Panorama.getGUID=function(){return Panorama._instanceCounter++};var BMAP_PANORAMA_POI_HOTEL="hotel",BMAP_PANORAMA_POI_CATERING="catering",BMAP_PANORAMA_POI_MOVIE="movie",BMAP_PANORAMA_POI_TRANSIT="transit",BMAP_PANORAMA_POI_INDOOR_SCENE="indoor_scene",BMAP_PANORAMA_POI_NONE="none",BMAP_PANORAMA_INDOOR_SCENE="inter",BMAP_PANORAMA_STREET_SCENE="street";baidu.lang.inherits(Panorama,baidu.lang.Class,"Panorama"),baidu.extend(Panorama.prototype,{_addControls:function(){var t=this,e=this._closeBtn=create("div");e.className="pano_close",e.style.cssText=["z-index: "+(Panorama.MIN_ZINDEX+1),"display: none"].join(";"),e.title="退出全景",e.onclick=function(e){map.config.enableWheelZoomLast&&map.enableScrollWheelZoom(),t.hide()},this._container.appendChild(e);var i=this._indoorExitBtn=create("a");i.className="pano_pc_indoor_exit",i.style.cssText=["z-index: "+(Panorama.MIN_ZINDEX+1),"display: none"].join(";"),i.innerHTML='<span style="float:right;margin-right:12px;">出口</span>',i.title="退出室内景",i.onclick=function(e){t.exitInter()},this._container.appendChild(i),window.ActiveXObject&&!document.addEventListener&&(e.style.backgroundColor="rgb(37,37,37)",i.style.backgroundColor="rgb(37,37,37)")},exitInter:function(){},_preventZIdexOverflow:function(t){var e,i,n;e=t.style,n=getCurrentStyle(t).position,"absolute"!=n&&"relative"!=n&&(e.position="relative",e.zIndex=0),"absolute"!==n&&"relative"!==n||(i=getCurrentStyle(t).zIndex)&&"auto"!==i||(e.zIndex=0)},getLinks:function(){return this._links},getId:function(){return this._id},getTmpDataId:function(){return this._tmpDataId},setTmpDataId:function(){return this._tmpDataId},getPosition:function(){return this._position},getPov:function(){return this._pov},getZoom:function(){return this._zoom},getDescription:function(){return this._description},getRelevants:function(){return this._relevants||[]},getMode:function(){return this._mode},getSceneType:function(){return this._panoType},setSceneType:function(t){t!==this._panoType&&(this._panoType=t,this.dispatchEvent(new BaseEvent("onscene_type_changed")))},setTileMaxZoom:function(t){t!==Panorama.TILE_MAX_ZOOM&&(Panorama.TILE_MAX_ZOOM=t)},setMaxZoom:function(t){t!==Panorama.MAX_ZOOM&&(Panorama.MAX_ZOOM=t)},setId:function(t,e,i){"object"==typeof e&&(i=e,e=void 0),t!=this._id&&(this._lastId=this._id,this._lastPosition=this._position,this._id=t,this._panoType=e||"street",this._position=null,i&&i.pov&&this.setPov(i.pov))},setPosition:function(t){t.equals(this._position)||(this._lastId=this._id,this._lastPosition=this._position,this._position=t,this._id=null)},setPov:function(t){if(t){var e=this._pov.pitch,i=this._pov.heading;i=this.degreeNormalized(i),e>this._maxPitch?e=this._maxPitch:e<this._minPitch&&(e=this._minPitch),this._povChangedByUser=!0,this._pov.pitch=e,this._pov.heading=i}},setPitchLimit:function(t,e){this._minPitch=t>=0?0:t,this._maxPitch=e<=0?0:e},degreeNormalized:function(t){return t-360*Math.floor(t/360)},setZoom:function(t){t!=this._zoom&&(t>Panorama.MAX_ZOOM&&(t=Panorama.MAX_ZOOM),t<Panorama.MIN_ZOOM&&(t=Panorama.MIN_ZOOM),t!=this._zoom&&(this._zoom=t),"cssRender"===this._renderType&&this.setPov(this._pov))},_setOverlays:function(){if(this._map)for(var t=this._map.getOverlays(),e=0;e<t.length;e++)(t[e]instanceof Marker||t[e]instanceof Label)&&t[e].point&&this._overlays.push(t[e])},setMap:function(t){this._map=t},setPanoramaPOIType:function(t){this._visiblePOIType=t||BMAP_PANORAMA_POI_NONE},setOptions:function(t){for(var e in t){if("object"==typeof t[e])for(var i in t[e])this._opts[e][i]=t[e][i];else this._opts[e]=t[e];switch(!0===t.closeControl&&(this._opts.forceCloseControl=!0),!1===t.closeControl&&(this._opts.forceCloseControl=!1),e){case"linksControl":this.dispatchEvent(new BaseEvent("onlinks_visible_changed"));break;case"clickOnRoad":this.dispatchEvent(new BaseEvent("onclickonroad_changed"));break;case"navigationControl":this.dispatchEvent(new BaseEvent("onnavigation_visible_changed"));break;case"indoorSceneSwitchControl":this.dispatchEvent(new BaseEvent("onindoor_default_switch_mode_changed"));break;case"albumsControl":this.dispatchEvent(new BaseEvent("onalbums_visible_changed"));break;case"albumsControlOptions":this.dispatchEvent(new BaseEvent("onalbums_options_changed"));break;case"copyrightControlOptions":this.dispatchEvent(new BaseEvent("oncopyright_options_changed"));break;case"closeControl":this.dispatchEvent(new BaseEvent("onclose_options_changed"));break;case"indoorExitControl":this.dispatchEvent(new BaseEvent("onindoorexit_options_changed"));break;case"indoorFloorControl":this.dispatchEvent(new BaseEvent("onindoorfloor_options_changed"))}}},hideOverlays:function(){this._overlayContainer.style.visibility="hidden"},showOverlays:function(){this._overlayContainer.style.visibility="visible"},enableScrollWheelZoom:function(){this._opts.enableScrollWheelZoom=!0},disableScrollWheelZoom:function(){this._opts.enableScrollWheelZoom=!1},show:function(){this._opts.visible=!0},hide:function(){this._opts.visible=!1},_getRenderType:function(){return isDesktop()&&!isMobile()&&"javascript"!=this._opts.panoramaRenderer?"flashRender":!isMobile()&&isCanvas()?"cvsRender":"cssRender"},addOverlay:function(t){var e=t.getOverlayId();this._panoOverlays[e]=t},removeOverlay:function(t){delete this._panoOverlays[t]},getVisible:function(){return this._opts.visible},getContainerSize:function(){return new Size(this._container.clientWidth,this._container.clientHeight)},getContainer:function(){return this._container},getBaiduMapUrl:function(){var t=BMap.getServerUrl("baidumap","?"),e=this.getId();if(e){var i={panotype:this.getSceneType(),heading:this.getPov().heading,pitch:this.getPov().pitch,pid:e,panoid:e,from:"api"};for(var n in i)t+=n+"="+i[n]+"&"}return t.slice(0,-1)},hideMapLogo:function(){this.setOptions({copyrightControlOptions:{logoVisible:!1}})},showMapLogo:function(){this.setOptions({copyrightControlOptions:{logoVisible:!0}})},addPlugin:function(t){for(var e=t.getPanoMethodList(),i="",n=0,o=e.length;n<o;n++)i=e[n],this[i]=function(t,e){return function(){t._pluginMethodCallQueue.push({methodName:e,methodArgs:arguments})}}(this,i);this._plugins.push(t)},removePlugin:function(t){for(var e=this._plugins.length;e--;)this._plugins[e]===t&&this._plugins.splice(e,1)},setInteractiveState:function(){}});var PanoramaPrototype=Panorama.prototype;exportSymbol(PanoramaPrototype,{setId:PanoramaPrototype.setId,setPosition:PanoramaPrototype.setPosition,setPov:PanoramaPrototype.setPov,setZoom:PanoramaPrototype.setZoom,setOptions:PanoramaPrototype.setOptions,getId:PanoramaPrototype.getId,getPosition:PanoramaPrototype.getPosition,getPov:PanoramaPrototype.getPov,getZoom:PanoramaPrototype.getZoom,getLinks:PanoramaPrototype.getLinks,getBaiduMapUrl:PanoramaPrototype.getBaiduMapUrl,hideMapLogo:PanoramaPrototype.hideMapLogo,showMapLogo:PanoramaPrototype.showMapLogo,enableDoubleClickZoom:PanoramaPrototype.enableDoubleClickZoom,disableDoubleClickZoom:PanoramaPrototype.disableDoubleClickZoom,enableScrollWheelZoom:PanoramaPrototype.enableScrollWheelZoom,disableScrollWheelZoom:PanoramaPrototype.disableScrollWheelZoom,show:PanoramaPrototype.show,hide:PanoramaPrototype.hide,addPlugin:PanoramaPrototype.addPlugin,removePlugin:PanoramaPrototype.removePlugin,getVisible:PanoramaPrototype.getVisible,addOverlay:PanoramaPrototype.addOverlay,removeOverlay:PanoramaPrototype.removeOverlay,getSceneType:PanoramaPrototype.getSceneType,setPanoramaPOIType:PanoramaPrototype.setPanoramaPOIType,exitInter:PanoramaPrototype.exitInter,setInteractiveState:PanoramaPrototype.setInteractiveState}),exportSymbol(window,{BMAP_PANORAMA_POI_HOTEL:BMAP_PANORAMA_POI_HOTEL,BMAP_PANORAMA_POI_CATERING:BMAP_PANORAMA_POI_CATERING,BMAP_PANORAMA_POI_MOVIE:BMAP_PANORAMA_POI_MOVIE,BMAP_PANORAMA_POI_TRANSIT:BMAP_PANORAMA_POI_TRANSIT,BMAP_PANORAMA_POI_INDOOR_SCENE:BMAP_PANORAMA_POI_INDOOR_SCENE,BMAP_PANORAMA_POI_NONE:BMAP_PANORAMA_POI_NONE,BMAP_PANORAMA_INDOOR_SCENE:BMAP_PANORAMA_INDOOR_SCENE,BMAP_PANORAMA_STREET_SCENE:BMAP_PANORAMA_STREET_SCENE}),baidu.lang.inherits(PanoramaOverlayBase,baidu.lang.Class,"PanoramaOverlayBase"),baidu.extend(PanoramaOverlayBase.prototype,{getOverlayId:function(){return this._overlayId},initialize:function(t,e){throw"initialize方法未实现"},remove:function(){throw"remove方法未实现"},_setOverlayProperty:function(t,e){throw"_setOverlayProperty方法未实现"}}),baidu.lang.inherits(PanoramaLabel,PanoramaOverlayBase,"PanoramaLabel"),baidu.extend(PanoramaLabel.prototype,{getBorderWidth:function(){return this.borderWidth},getImageData:function(){return this.imageData},getTextColor:function(){return this.textColor},getHoverColor:function(){return this.hoverColor},getBackgroundColor:function(){return this.backgroundColor},getBackgroundHoverColor:function(){return this.backgroundHoverColor},getBorderColor:function(){return this.borderColor},getBorderHoverColor:function(){return this.borderHoverColor},getFontSize:function(){return this.fontSize},getPadding:function(){return this.padding},getImageUrl:function(){return this.imageUrl},getSize:function(){return this.size},getImage:function(){return this.image},setPosition:function(t){this._position=t,this._setOverlayProperty("position",t)},getPosition:function(){return this._position},
setContent:function(t){this._content=t,this._setOverlayProperty("content",t)},getContent:function(){return this._content},setAltitude:function(t){this._altitude=t,this._setOverlayProperty("altitude",t)},getAltitude:function(){return this._altitude},getPov:function(){var t=this.getPosition(),e=null,i=null;return this._pano&&(i=this._pano.getPosition()),t&&i&&(t.equals(i)?e=this._pano.getPov():(e={},e.heading=calcAngle(t.lng-i.lng,t.lat-i.lat)||0,e.pitch=function(t,e){var i=toAngle(Math.atan(t/e));return Math.round(i)}(this.getAltitude(),this._getDistance())||0)),e},_getDistance:function(){var t,e,i=0;return this._pano&&(t=this._pano.getPosition(),(e=this.getPosition())&&!e.equals(t)&&(i=MercatorProjection.getDistanceByLL(t,e))),i},hide:function(){throw"hide方法未实现"},show:function(){throw"show方法未实现"},_setOverlayProperty:function(t,e){}});var PanoramaLabelP=PanoramaLabel.prototype;exportSymbol(PanoramaLabelP,{setPosition:PanoramaLabelP.setPosition,getPosition:PanoramaLabelP.getPosition,setContent:PanoramaLabelP.setContent,getContent:PanoramaLabelP.getContent,setAltitude:PanoramaLabelP.setAltitude,getAltitude:PanoramaLabelP.getAltitude,getPov:PanoramaLabelP.getPov,show:PanoramaLabelP.show,hide:PanoramaLabelP.hide}),baidu.lang.inherits(PanoramaMarker,PanoramaOverlayBase,"PanoramaMarker"),baidu.extend(PanoramaMarker.prototype,{setPosition:function(t){this._position=t,this._setOverlayProperty("position",t)},getPosition:function(){return this._position},setTitle:function(t){this._title=t,this._setOverlayProperty("title",t)},getTitle:function(){return this._title},setIcon:function(t){this._icon=icon,this._setOverlayProperty("icon",t)},getIcon:function(){return this._icon},setAltitude:function(t){this._altitude=t,this._setOverlayProperty("altitude",t)},getAltitude:function(){return this._altitude},getPanoInfo:function(){return this._panoInfo},getPov:function(){var t=null;if(this._pano){var e=this._pano.getPosition(),i=this.getPosition(),n=calcAngle(i.lng-e.lng,i.lat-e.lat);isNaN(n)&&(n=0),t={heading:n,pitch:0}}else t=this._pov;return t},_setOverlayProperty:function(t,e){}});var PanoramaMarkerP=PanoramaMarker.prototype;exportSymbol(PanoramaMarkerP,{setPosition:PanoramaMarkerP.setPosition,getPosition:PanoramaMarkerP.getPosition,setTitle:PanoramaMarkerP.setTitle,getTitle:PanoramaMarkerP.getTitle,setAltitude:PanoramaMarkerP.setAltitude,getAltitude:PanoramaMarkerP.getAltitude,getPanoInfo:PanoramaMarkerP.getPanoInfo,getIcon:PanoramaMarkerP.getIcon,setIcon:PanoramaMarkerP.setIcon,getPov:PanoramaMarkerP.getPov}),BMap.panoRegister(function(t){"flashRender"!==t._getRenderType()&&new PanoramaService(t,{from:"api"})}),baidu.extend(PanoramaService.prototype,{_bind:function(){function t(t){if(!t)return e._id=e._lastId,e._position=e._lastPosition,void e.dispatchEvent(new BaseEvent("onnoresult"));if(t.id!=e.getTmpDataId()){e.setTmpDataId(t.id),e._data=t,useThumb()||e.dispatchEvent(new BaseEvent("onthumbnail_complete")),null!=e._id&&(e._lastPosition=e._position);for(var i in t)if(t.hasOwnProperty(i))switch(e["_"+i]=t[i],i){case"position":e._position=t[i];break;case"id":e._id=t[i];break;case"links":e._links=t[i];break;case"zoom":e._zoom=t[i]}e._lastPosition&&(e._distanceToLast=getDistanceOnSphere(e._lastPosition,e._position));var n=new BaseEvent("ondataload");e.show(),n.data=t,e.dispatchEvent(n),e.dispatchEvent(new BaseEvent("onposition_changed")),e.dispatchEvent(new BaseEvent("onlinks_changed")),e.dispatchEvent(new BaseEvent("oncopyright_changed"),{copyright:t.copyright}),t.breakId?(e.setOptions({haveBreakId:!0}),isDesktop()&&e._opts.closeControl&&baidu.dom.show(e._indoorExitBtn)):baidu.dom.hide(e._indoorExitBtn)}}var e=this._pano,i=this;e.addEventListener("id_changed",function(n){i.getPanoramaById(e.getId(),t)}),e.addEventListener("iid_changed",function(n){i._request(PanoramaService.SERVICE_URL+"qt=idata&iid="+e._iid+"&fn=",function(e){if(e&&e.result&&0==e.result.error){var n=e.content[0].interinfo,o={};o.breakId=n.BreakID;for(var a=n.Defaultfloor,r=null,s=0;s<n.Floors.length;s++)if(n.Floors[s].Floor==a){r=n.Floors[s];break}o.id=r.StartID||r.Points[0].PID,i.getPanoramaById(o.id,t,o)}})}),e.addEventListener("position_changed_inner",function(n){i.getPanoramaByLocation(e.getPosition(),t)})},getPanoramaById:function(t,e){this._asynMethodAndArgsMath.getPanoramaById.push(arguments)},getPanoramaByLocation:function(t,e,i){this._asynMethodAndArgsMath.getPanoramaByLocation.push(arguments)},getVisiblePOIs:function(t,e,i,n){this._asynMethodAndArgsMath.getVisiblePOIs.push(arguments)},getRecommendPanosById:function(t,e){this._asynMethodAndArgsMath.getRecommendPanosById.push(arguments)},getPanoramaVersions:function(t){this._asynMethodAndArgsMath.getPanoramaVersions.push(arguments)},checkPanoSupportByCityCode:function(t,e){this._asynMethodAndArgsMath.checkPanoSupportByCityCode.push(arguments)},getPanoramaByPOIId:function(t,e){this._asynMethodAndArgsMath.getPanoramaByPOIId.push(arguments)},getCopyrightProviders:function(t){this._asynMethodAndArgsMath.getCopyrightProviders.push(arguments)}});var PanoramaServiceP=PanoramaService.prototype;exportSymbol(PanoramaServiceP,{getPanoramaById:PanoramaServiceP.getPanoramaById,getPanoramaByLocation:PanoramaServiceP.getPanoramaByLocation,getPanoramaByPOIId:PanoramaServiceP.getPanoramaByPOIId}),baidu.inherits(PanoramaTrafficLayer,TileLayer,"PanoramaTrafficLayer"),PanoramaCoverageLayer.URLS=BMap.getServerUrl("pano","tile"),PanoramaCoverageLayer.prototype=new TileLayer,PanoramaCoverageLayer.prototype.initialize=function(t,e){TileLayer.prototype.initialize.call(this,t,e),this._map=t},PanoramaCoverageLayer.prototype.getTilesUrl=function(t,e){return PanoramaCoverageLayer.URLS+"?customid=panorama&x="+t.x+"&y="+t.y+"&z="+e+"&type="+BMap.tileDir},PanoramaCoverageLayer.prototype.isTransparentPng=function(){return!0},PanoramaFlashInterface._mercatorProjection=new MercatorProjection,baidu.extend(PanoramaFlashInterface,{dispatchFlashEvent:function(t,e,i){var n=baidu.lang.instance(i),o={data:e};"position_changed"==t&&(o.data=PanoramaFlashInterface._mercatorProjection.pointToLngLat(new Pixel(o.data.mercatorX,o.data.mercatorY))),n.dispatchEvent(new BaseEvent("on"+t),o)}});var PanoramaFlashInterfaceP=PanoramaFlashInterface;exportSymbol(PanoramaFlashInterfaceP,{dispatchFlashEvent:PanoramaFlashInterfaceP.dispatchFlashEvent});var PanoramaEntranceUtil={};PanoramaEntranceUtil.MATCH_RAIDUS=50,PanoramaEntranceUtil.SERVICE_DOMAIN=BMap.getServerUrl("pano")[0],PanoramaEntranceUtil.INFOWND_PANO_SIZE={width:220,height:60},baidu.extend(PanoramaEntranceUtil,{insearchPanoEntranceInInfoWnd:function(t,e,i,n){if(!(e&&i&&i.lngLat&&i.panoInstance))return void n();void 0===this._panoramaService&&(this._panoramaService=new PanoramaService(null,{from:"api"}));var o=this;this._panoramaService.checkPanoSupportByCityCode(e,function(e){e?o._panoramaService.getPanoramaByLocation(i.lngLat,PanoramaEntranceUtil.MATCH_RAIDUS,function(e){if(!e||!e.id)return void n();var a=e.id,r=e.pointX,s=e.pointY,l=PanoramaService._mercatorProjection.lngLatToPoint(i.lngLat),h=o._getPanoHeading(l,{x:r,y:s}),c=o.getPano3DImageUrl(a,h,0,PanoramaEntranceUtil.INFOWND_PANO_SIZE.width,PanoramaEntranceUtil.INFOWND_PANO_SIZE.height);t.content=o._getPanoThumbnailHtmlInInfoWnd(t.content,c,i.titleTip,i.beforeDomId),t.addEventListener("open",function(){T.on(baidu.G("infoWndPano"),"click",function(){i.panoInstance.setId(a),i.panoInstance.show(),i.panoInstance.setPov({heading:h,pitch:0})})}),n()}):n()})},_getPanoThumbnailHtmlInInfoWnd:function(t,e,i,n){i=i||"";var o,a,r,s;n&&t.split(n)[0]?(r=t.split(n)[0],s=r.lastIndexOf("<"),o=t.substring(0,s),a=t.substring(s)):(o=t,a="");var l=[],h=PanoramaEntranceUtil.INFOWND_PANO_SIZE.width,c=PanoramaEntranceUtil.INFOWND_PANO_SIZE.height;return l.push(o),l.push("<div id='infoWndPano' class='panoInfoBox' style='height:"+c+"px;width:"+h+"px; margin-top: -19px;'>"),l.push("<img class='pano_thumnail_img' width='"+h+"' height='"+c+"' border='0' alt='"+i+"外景' title='"+i+"外景' src='"+e+"' onerror='Pano.PanoEntranceUtil.thumbnailNotFound(this, "+h+", "+c+");' />"),l.push("<div class='panoInfoBoxTitleBg' style='width:"+h+"px;'></div><a href='javascript:void(0)' class='panoInfoBoxTitleContent' >进入全景&gt;&gt;</a>"),l.push("</div>"),l.push(a),l.join("")},_getPanoHeading:function(t,e){var i=90-180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI;return i<0&&(i+=360),i},getPano3DImageUrl:function(t,e,i,n,o){var a={panoId:t,panoHeading:e||0,panoPitch:i||0,width:n,height:o};return(PanoramaEntranceUtil.SERVICE_DOMAIN+"?qt=pr3d&fovy=75&quality=80&panoid={panoId}&heading={panoHeading}&pitch={panoPitch}&width={width}&height={height}").replace(/\{(.*?)\}/g,function(t,e){return a[e]})}}),makeGlobal("Map",Map),makeGlobal("Hotspot",Hotspot),makeGlobal("MapType",MapType),makeGlobal("Point",Point),makeGlobal("Pixel",Pixel),makeGlobal("Size",Size),makeGlobal("Bounds",Bounds),makeGlobal("TileLayer",TileLayer),makeGlobal("Projection",Projection),makeGlobal("MercatorProjection",MercatorProjection),makeGlobal("XYZProject",WGS84Projection),makeGlobal("PerspectiveProjection",PerspectiveProjection),makeGlobal("Copyright",Copyright),makeGlobal("Overlay",Overlay),makeGlobal("Label",Label),makeGlobal("GroundOverlay",GroundOverlay),makeGlobal("PointCollection",PointCollection),makeGlobal("Marker",Marker),makeGlobal("CanvasLayer",CanvasLayer),makeGlobal("Icon",Icon),makeGlobal("IconSequence",IconSequence),makeGlobal("Symbol",Symbol),makeGlobal("Polyline",Polyline),makeGlobal("Polygon",Polygon),makeGlobal("InfoWindow",InfoWindow),makeGlobal("Circle",Circle),makeGlobal("Control",Control),makeGlobal("NavigationControl",NavigationControl),makeGlobal("GeolocationControl",GeolocationControl),makeGlobal("OverviewMapControl",OverviewMapControl),makeGlobal("CopyrightControl",CopyrightControl),makeGlobal("ScaleControl",ScaleControl),makeGlobal("MapTypeControl",MapTypeControl),makeGlobal("CityListControl",CityListControl),makeGlobal("PanoramaControl",PanoramaControl),makeGlobal("TrafficLayer",TrafficLayer),makeGlobal("CustomLayer",CustomLayer),makeGlobal("XYZLayer",XYZLayer),makeGlobal("ContextMenu",ContextMenu),makeGlobal("MenuItem",MenuItem),makeGlobal("LocalSearch",LocalSearch),makeGlobal("TransitRoute",TransitRoute),makeGlobal("DrivingRoute",DrivingRoute),makeGlobal("WalkingRoute",WalkingRoute),makeGlobal("RidingRoute",RidingRoute),makeGlobal("Autocomplete",Autocomplete),makeGlobal("RouteSearch",RouteSearch),makeGlobal("Geocoder",Geocoder),makeGlobal("LocalCity",LocalCity),makeGlobal("Geolocation",Geolocation),makeGlobal("Convertor",Convertor),makeGlobal("BusLineSearch",BusLineSearch),makeGlobal("Boundary",Boundary),makeGlobal("VectorTrafficLayer",VectorTrafficLayer),makeGlobal("Panorama",Panorama),makeGlobal("PanoramaLabel",PanoramaLabel),makeGlobal("PanoramaService",PanoramaService),makeGlobal("PanoramaCoverageLayer",PanoramaTrafficLayer),makeGlobal("PanoramaCoverageLayer",PanoramaCoverageLayer),makeGlobal("PanoramaFlashInterface",PanoramaFlashInterface),exportSymbol(window,{BMap:BMap,_jsload2:_jsload2,BMAP_API_VERSION:BMAP_API_VERSION});var MapP=Map.prototype;exportSymbol(MapP,{getBounds:MapP.getBounds,getCenter:MapP.getCenter,getMapType:MapP.getMapType,getSize:MapP.getSize,setSize:MapP.setSize,getViewport:MapP.getViewport,getZoom:MapP.getZoom,centerAndZoom:MapP.centerAndZoom,panTo:MapP.panTo,panBy:MapP.panBy,setCenter:MapP.setCenter,setCurrentCity:MapP.setCurrentCity,setMapType:MapP.setMapType,setViewport:MapP.setViewport,setZoom:MapP.setZoom,highResolutionEnabled:MapP.highResolutionEnabled,zoomTo:MapP.zoomTo,zoomIn:MapP.zoomIn,zoomOut:MapP.zoomOut,addHotspot:MapP.addHotspot,removeHotspot:MapP.removeHotspot,clearHotspots:MapP.clearHotspots,checkResize:MapP.checkResize,addControl:MapP.addControl,removeControl:MapP.removeControl,getContainer:MapP.getContainer,addContextMenu:MapP.addContextMenu,removeContextMenu:MapP.removeContextMenu,addOverlay:MapP.addOverlay,removeOverlay:MapP.removeOverlay,clearOverlays:MapP.clearOverlays,openInfoWindow:MapP.openInfoWindow,closeInfoWindow:MapP.closeInfoWindow,pointToOverlayPixel:MapP.pointToOverlayPixel,overlayPixelToPoint:MapP.overlayPixelToPoint,getInfoWindow:MapP.getInfoWindow,getOverlays:MapP.getOverlays,getPanes:function(){return{floatPane:this._panes.floatPane,markerMouseTarget:this._panes.markerMouseTarget,floatShadow:this._panes.floatShadow,labelPane:this._panes.labelPane,markerPane:this._panes.markerPane,markerShadow:this._panes.markerShadow,mapPane:this._panes.mapPane,vertexPane:this._panes.vertexPane}},addTileLayer:MapP.addTileLayer,removeTileLayer:MapP.removeTileLayer,pixelToPoint:MapP.pixelToPoint,pointToPixel:MapP.pointToPixel,setFeatureStyle:MapP.setFeatureStyle,selectBaseElement:MapP.selectBaseElement,setMapStyle:MapP.setMapStyle,enable3DBuilding:MapP.enable3DBuilding,disable3DBuilding:MapP.disable3DBuilding,getPanorama:MapP.getPanorama,initIndoorLayer:MapP.initIndoorLayer,setNormalMapDisplay:MapP.setNormalMapDisplay,setMapStyleV2:MapP.setMapStyleV2,setBMapCopyrightOffset:MapP.setBMapCopyrightOffset,getVectorContainer:MapP.getVectorContainer}),exportSymbol(window,{BMAP_COORD_BD09:BMAP_COORD_BD09,BMAP_COORD_GCJ02:BMAP_COORD_GCJ02});var MapTypeP=MapType.prototype;exportSymbol(MapTypeP,{getTileLayer:MapTypeP.getTileLayer,getMinZoom:MapTypeP.getMinZoom,getMaxZoom:MapTypeP.getMaxZoom,getProjection:MapTypeP.getProjection,getTextColor:MapTypeP.getTextColor,getTips:MapTypeP.getTips}),exportSymbol(window,{BMAP_NORMAL_MAP:BMAP_NORMAL_MAP,BMAP_PERSPECTIVE_MAP:BMAP_PERSPECTIVE_MAP,BMAP_SATELLITE_MAP:BMAP_SATELLITE_MAP,BMAP_HYBRID_MAP:BMAP_HYBRID_MAP});var MercatorProjectionP=MercatorProjection.prototype;exportSymbol(MercatorProjectionP,{lngLatToPoint:MercatorProjectionP.lngLatToPoint,pointToLngLat:MercatorProjectionP.pointToLngLat});var WGS84ProjectionP=WGS84Projection.prototype;exportSymbol(WGS84ProjectionP,{});var PerspectiveProjectionP=PerspectiveProjection.prototype;exportSymbol(PerspectiveProjectionP,{lngLatToPoint:PerspectiveProjectionP.lngLatToPoint,pointToLngLat:PerspectiveProjectionP.pointToLngLat});var BoundsP=Bounds.prototype;exportSymbol(BoundsP,{equals:BoundsP.equals,containsPoint:BoundsP.containsPoint,containsBounds:BoundsP.containsBounds,intersects:BoundsP.intersects,extend:BoundsP.extend,getCenter:BoundsP.getCenter,isEmpty:BoundsP.isEmpty,getSouthWest:BoundsP.getSouthWest,getNorthEast:BoundsP.getNorthEast,toSpan:BoundsP.toSpan});var OverlayP=Overlay.prototype;exportSymbol(OverlayP,{isVisible:OverlayP.isVisible,show:OverlayP.show,hide:OverlayP.hide}),exportProperty(Overlay,"getZIndex",Overlay.getZIndex);var OverlayInternalP=OverlayInternal.prototype;exportSymbol(OverlayInternalP,{openInfoWindow:OverlayInternalP.openInfoWindow,closeInfoWindow:OverlayInternalP.closeInfoWindow,enableMassClear:OverlayInternalP.enableMassClear,disableMassClear:OverlayInternalP.disableMassClear,show:OverlayInternalP.show,hide:OverlayInternalP.hide,getMap:OverlayInternalP.getMap,addContextMenu:OverlayInternalP.addContextMenu,removeContextMenu:OverlayInternalP.removeContextMenu});var MarkerP=Marker.prototype;exportSymbol(MarkerP,{setIcon:MarkerP.setIcon,getIcon:MarkerP.getIcon,setPosition:MarkerP.setPosition,getPosition:MarkerP.getPosition,setOffset:MarkerP.setOffset,getOffset:MarkerP.getOffset,getLabel:MarkerP.getLabel,setLabel:MarkerP.setLabel,setTitle:MarkerP.setTitle,setTop:MarkerP.setTop,enableDragging:MarkerP.enableDragging,disableDragging:MarkerP.disableDragging,setZIndex:MarkerP.setZIndex,getMap:MarkerP.getMap,setAnimation:MarkerP.setAnimation,setShadow:MarkerP.setShadow,hide:MarkerP.hide,setRotation:MarkerP.setRotation,getRotation:MarkerP.getRotation}),exportSymbol(window,{BMAP_ANIMATION_DROP:BMAP_ANIMATION_DROP,BMAP_ANIMATION_BOUNCE:BMAP_ANIMATION_BOUNCE});var LabelP=Label.prototype;exportSymbol(LabelP,{setStyle:LabelP.setStyle,setStyles:LabelP.setStyles,setContent:LabelP.setContent,setPosition:LabelP.setPosition,getPosition:LabelP.getPosition,setOffset:LabelP.setOffset,getOffset:LabelP.getOffset,setTitle:LabelP.setTitle,setZIndex:LabelP.setZIndex,getMap:LabelP.getMap,getContent:LabelP.getContent});var IconP=Icon.prototype;exportSymbol(IconP,{setImageUrl:IconP.setImageUrl,setSize:IconP.setSize,setAnchor:IconP.setAnchor,setImageOffset:IconP.setImageOffset,setImageSize:IconP.setImageSize,setInfoWindowAnchor:IconP.setInfoWindowAnchor,setPrintImageUrl:IconP.setPrintImageUrl});var InfoWindowP=InfoWindow.prototype;exportSymbol(InfoWindowP,{redraw:InfoWindowP.redraw,setTitle:InfoWindowP.setTitle,setContent:InfoWindowP.setContent,getContent:InfoWindowP.getContent,getPosition:InfoWindowP.getPosition,enableMaximize:InfoWindowP.enableMaximize,disableMaximize:InfoWindowP.disableMaximize,isOpen:InfoWindowP.isOpen,setMaxContent:InfoWindowP.setMaxContent,maximize:InfoWindowP.maximize,enableAutoPan:InfoWindowP.enableAutoPan});var GraphP=Graph.prototype;exportSymbol(GraphP,{getPath:GraphP.getPath,setPath:GraphP.setPath,setPositionAt:GraphP.setPositionAt,getStrokeColor:GraphP.getStrokeColor,setStrokeWeight:GraphP.setStrokeWeight,getStrokeWeight:GraphP.getStrokeWeight,setStrokeOpacity:GraphP.setStrokeOpacity,getStrokeOpacity:GraphP.getStrokeOpacity,setFillOpacity:GraphP.setFillOpacity,getFillOpacity:GraphP.getFillOpacity,setStrokeStyle:GraphP.setStrokeStyle,getStrokeStyle:GraphP.getStrokeStyle,getFillColor:GraphP.getFillColor,getBounds:GraphP.getBounds,enableEditing:GraphP.enableEditing,disableEditing:GraphP.disableEditing,getEditing:GraphP.getEditing,getGeodesicPath:GraphP.getGeodesicPath});var CircleP=Circle.prototype;exportSymbol(CircleP,{setCenter:CircleP.setCenter,getCenter:CircleP.getCenter,getRadius:CircleP.getRadius,setRadius:CircleP.setRadius});var PolygonP=Polygon.prototype;exportSymbol(PolygonP,{getPath:PolygonP.getPath,setPath:PolygonP.setPath,setPositionAt:PolygonP.setPositionAt});var HotspotP=Hotspot.prototype;exportSymbol(HotspotP,{getPosition:HotspotP.getPosition,setPosition:HotspotP.setPosition,getText:HotspotP.getText,setText:HotspotP.setText}),exportProperty(Point.prototype,"equals",Point.prototype.equals),exportProperty(Pixel.prototype,"equals",Pixel.prototype.equals),exportProperty(Size.prototype,"equals",Size.prototype.equals),exportSymbol(window,{BMAP_ANCHOR_TOP_LEFT:BMAP_ANCHOR_TOP_LEFT,BMAP_ANCHOR_TOP_RIGHT:BMAP_ANCHOR_TOP_RIGHT,BMAP_ANCHOR_BOTTOM_LEFT:BMAP_ANCHOR_BOTTOM_LEFT,BMAP_ANCHOR_BOTTOM_RIGHT:BMAP_ANCHOR_BOTTOM_RIGHT});var ControlP=Control.prototype;exportSymbol(ControlP,{setAnchor:ControlP.setAnchor,getAnchor:ControlP.getAnchor,setOffset:ControlP.setOffset,getOffset:ControlP.getOffset,show:ControlP.show,hide:ControlP.hide,isVisible:ControlP.isVisible,toString:ControlP.toString});var NavigationControlP=NavigationControl.prototype;exportSymbol(NavigationControlP,{getType:NavigationControlP.getType,setType:NavigationControlP.setType}),exportSymbol(window,{BMAP_NAVIGATION_CONTROL_LARGE:BMAP_NAVIGATION_CONTROL_LARGE,BMAP_NAVIGATION_CONTROL_SMALL:BMAP_NAVIGATION_CONTROL_SMALL,BMAP_NAVIGATION_CONTROL_PAN:BMAP_NAVIGATION_CONTROL_PAN,BMAP_NAVIGATION_CONTROL_ZOOM:BMAP_NAVIGATION_CONTROL_ZOOM});var OverviewMapControlP=OverviewMapControl.prototype;exportSymbol(OverviewMapControlP,{changeView:OverviewMapControlP.changeView,setSize:OverviewMapControlP.setSize,getSize:OverviewMapControlP.getSize});var ScaleControlP=ScaleControl.prototype;exportSymbol(ScaleControlP,{getUnit:ScaleControlP.getUnit,setUnit:ScaleControlP.setUnit}),exportSymbol(window,{BMAP_UNIT_METRIC:BMAP_UNIT_METRIC,BMAP_UNIT_IMPERIAL:BMAP_UNIT_IMPERIAL});var CopyrightControlP=CopyrightControl.prototype;exportSymbol(CopyrightControlP,{addCopyright:CopyrightControlP.addCopyright,removeCopyright:CopyrightControlP.removeCopyright,getCopyright:CopyrightControlP.getCopyright,getCopyrightCollection:CopyrightControlP.getCopyrightCollection}),exportSymbol(window,{BMAP_MAPTYPE_CONTROL_HORIZONTAL:BMAP_MAPTYPE_CONTROL_HORIZONTAL,BMAP_MAPTYPE_CONTROL_DROPDOWN:BMAP_MAPTYPE_CONTROL_DROPDOWN,BMAP_MAPTYPE_CONTROL_MAP:BMAP_MAPTYPE_CONTROL_MAP});var TileLayerP=TileLayer.prototype;exportSymbol(TileLayerP,{getMapType:TileLayerP.getMapType,getCopyright:TileLayerP.getCopyright,isTransparentPng:TileLayerP.isTransparentPng});var ContextMenuP=ContextMenu.prototype;exportSymbol(ContextMenuP,{addItem:ContextMenuP.addItem,addSeparator:ContextMenuP.addSeparator,removeSeparator:ContextMenuP.removeSeparator});var MenuItemP=MenuItem.prototype;exportSymbol(MenuItemP,{setText:MenuItemP.setText});var BaseSearchP=BaseSearch.prototype;exportSymbol(BaseSearchP,{getStatus:BaseSearchP.getStatus,setSearchCompleteCallback:BaseSearchP.setSearchCompleteCallback,getPageCapacity:BaseSearchP.getPageCapacity,setPageCapacity:BaseSearchP.setPageCapacity,setLocation:BaseSearchP.setLocation,disableFirstResultSelection:BaseSearchP.disableFirstResultSelection,enableFirstResultSelection:BaseSearchP.enableFirstResultSelection,gotoPage:BaseSearchP.gotoPage,searchNearby:BaseSearchP.searchNearby,searchInBounds:BaseSearchP.searchInBounds,search:BaseSearchP.search}),exportSymbol(window,{BMAP_STATUS_SUCCESS:BMAP_STATUS_SUCCESS,BMAP_STATUS_CITY_LIST:BMAP_STATUS_CITY_LIST,BMAP_STATUS_UNKNOWN_LOCATION:BMAP_STATUS_UNKNOWN_LOCATION,BMAP_STATUS_UNKNOWN_ROUTE:BMAP_STATUS_UNKNOWN_ROUTE,BMAP_STATUS_INVALID_KEY:BMAP_STATUS_INVALID_KEY,BMAP_STATUS_INVALID_REQUEST:BMAP_STATUS_INVALID_REQUEST,BMAP_STATUS_PERMISSION_DENIED:BMAP_STATUS_PERMISSION_DENIED,BMAP_STATUS_SERVICE_UNAVAILABLE:BMAP_STATUS_SERVICE_UNAVAILABLE,BMAP_STATUS_TIMEOUT:BMAP_STATUS_TIMEOUT}),exportSymbol(window,{BMAP_POI_TYPE_NORMAL:BMAP_POI_TYPE_NORMAL,BMAP_POI_TYPE_BUSSTOP:BMAP_POI_TYPE_BUSSTOP,BMAP_POI_TYPE_BUSLINE:BMAP_POI_TYPE_BUSLINE,BMAP_POI_TYPE_SUBSTOP:BMAP_POI_TYPE_SUBSTOP,BMAP_POI_TYPE_SUBLINE:BMAP_POI_TYPE_SUBLINE}),exportSymbol(window,{BMAP_TRANSIT_POLICY_RECOMMEND:BMAP_TRANSIT_POLICY_RECOMMEND,BMAP_TRANSIT_POLICY_LEAST_TIME:BMAP_TRANSIT_POLICY_LEAST_TIME,BMAP_TRANSIT_POLICY_LEAST_TRANSFER:BMAP_TRANSIT_POLICY_LEAST_TRANSFER,BMAP_TRANSIT_POLICY_LEAST_WALKING:BMAP_TRANSIT_POLICY_LEAST_WALKING,BMAP_TRANSIT_POLICY_AVOID_SUBWAYS:BMAP_TRANSIT_POLICY_AVOID_SUBWAYS,BMAP_TRANSIT_POLICY_FIRST_SUBWAYS:BMAP_TRANSIT_POLICY_FIRST_SUBWAYS,BMAP_LINE_TYPE_BUS:BMAP_LINE_TYPE_BUS,BMAP_LINE_TYPE_SUBWAY:BMAP_LINE_TYPE_SUBWAY,BMAP_LINE_TYPE_FERRY:BMAP_LINE_TYPE_FERRY,BMAP_LINE_TYPE_TRAIN:BMAP_LINE_TYPE_TRAIN,BMAP_LINE_TYPE_AIRPLANE:BMAP_LINE_TYPE_AIRPLANE,BMAP_LINE_TYPE_COACH:BMAP_LINE_TYPE_COACH}),exportSymbol(window,{BMAP_TRANSIT_TYPE_POLICY_TRAIN:BMAP_TRANSIT_TYPE_POLICY_TRAIN,BMAP_TRANSIT_TYPE_POLICY_AIRPLANE:BMAP_TRANSIT_TYPE_POLICY_AIRPLANE,BMAP_TRANSIT_TYPE_POLICY_COACH:BMAP_TRANSIT_TYPE_POLICY_COACH}),exportSymbol(window,{BMAP_INTERCITY_POLICY_LEAST_TIME:BMAP_INTERCITY_POLICY_LEAST_TIME,BMAP_INTERCITY_POLICY_EARLY_START:BMAP_INTERCITY_POLICY_EARLY_START,BMAP_INTERCITY_POLICY_CHEAP_PRICE:BMAP_INTERCITY_POLICY_CHEAP_PRICE}),exportSymbol(window,{BMAP_TRANSIT_TYPE_IN_CITY:BMAP_TRANSIT_TYPE_IN_CITY,BMAP_TRANSIT_TYPE_CROSS_CITY:BMAP_TRANSIT_TYPE_CROSS_CITY}),exportSymbol(window,{BMAP_TRANSIT_PLAN_TYPE_ROUTE:BMAP_TRANSIT_PLAN_TYPE_ROUTE,BMAP_TRANSIT_PLAN_TYPE_LINE:BMAP_TRANSIT_PLAN_TYPE_LINE});var BaseRouteP=BaseRoute.prototype;exportSymbol(BaseRouteP,{clearResults:BaseRouteP.clearResults});var TransitRouteP=TransitRoute.prototype;exportSymbol(TransitRouteP,{setPolicy:TransitRouteP.setPolicy,toString:TransitRouteP.toString,setPageCapacity:TransitRouteP.setPageCapacity,setIntercityPolicy:TransitRouteP.setIntercityPolicy,setTransitTypePolicy:TransitRouteP.setTransitTypePolicy}),exportSymbol(window,{BMAP_DRIVING_POLICY_DEFAULT:BMAP_DRIVING_POLICY_DEFAULT,BMAP_DRIVING_POLICY_AVOID_HIGHWAYS:BMAP_DRIVING_POLICY_AVOID_HIGHWAYS,BMAP_DRIVING_POLICY_AVOID_CONGESTION:BMAP_DRIVING_POLICY_AVOID_CONGESTION,BMAP_DRIVING_POLICY_FIRST_HIGHWAYS:BMAP_DRIVING_POLICY_FIRST_HIGHWAYS}),exportSymbol(window,{BMAP_MODE_DRIVING:BMAP_MODE_DRIVING,BMAP_MODE_TRANSIT:BMAP_MODE_TRANSIT,BMAP_MODE_WALKING:BMAP_MODE_WALKING,BMAP_MODE_NAVIGATION:BMAP_MODE_NAVIGATION});var RouteSearchP=RouteSearch.prototype;exportSymbol(RouteSearchP,{routeCall:RouteSearchP.routeCall}),exportSymbol(window,{BMAP_HIGHLIGHT_STEP:BMAP_HIGHLIGHT_STEP,BMAP_HIGHLIGHT_ROUTE:BMAP_HIGHLIGHT_ROUTE}),exportSymbol(window,{BMAP_ROUTE_TYPE_DRIVING:BMAP_ROUTE_TYPE_DRIVING,BMAP_ROUTE_TYPE_WALKING:BMAP_ROUTE_TYPE_WALKING,BMAP_ROUTE_TYPE_RIDING:BMAP_ROUTE_TYPE_RIDING}),exportSymbol(window,{BMAP_ROUTE_STATUS_NORMAL:BMAP_ROUTE_STATUS_NORMAL,BMAP_ROUTE_STATUS_EMPTY:BMAP_ROUTE_STATUS_EMPTY,BMAP_ROUTE_STATUS_ADDRESS:BMAP_ROUTE_STATUS_ADDRESS});var DrivingRouteP=DrivingRoute.prototype;exportSymbol(DrivingRouteP,{setPolicy:DrivingRouteP.setPolicy});var AutocompleteP=Autocomplete.prototype;exportSymbol(AutocompleteP,{show:AutocompleteP.show,hide:AutocompleteP.hide,setTypes:AutocompleteP.setTypes,setLocation:AutocompleteP.setLocation,search:AutocompleteP.search,setInputValue:AutocompleteP.setInputValue});var CLayerP=CustomLayer.prototype;exportSymbol(CLayerP,{});var BoundaryP=Boundary.prototype;exportSymbol(BoundaryP,{get:BoundaryP.get});var PanoramaCoverageLayerP=PanoramaCoverageLayer.prototype;exportSymbol(PanoramaCoverageLayerP,{}),exportSymbol(window,{BMAP_POINT_DENSITY_HIGH:BMAP_POINT_DENSITY_HIGH,BMAP_POINT_DENSITY_MEDIUM:BMAP_POINT_DENSITY_MEDIUM,BMAP_POINT_DENSITY_LOW:BMAP_POINT_DENSITY_LOW}),exportSymbol(window,{BMAP_POINT_SHAPE_STAR:BMAP_POINT_SHAPE_STAR,BMAP_POINT_SHAPE_WATERDROP:BMAP_POINT_SHAPE_WATERDROP,BMAP_POINT_SHAPE_CIRCLE:BMAP_POINT_SHAPE_CIRCLE,BMAP_POINT_SHAPE_SQUARE:BMAP_POINT_SHAPE_SQUARE,BMAP_POINT_SHAPE_RHOMBUS:BMAP_POINT_SHAPE_RHOMBUS}),exportSymbol(window,{BMAP_POINT_SIZE_TINY:BMAP_POINT_SIZE_TINY,BMAP_POINT_SIZE_SMALLER:BMAP_POINT_SIZE_SMALLER,BMAP_POINT_SIZE_SMALL:BMAP_POINT_SIZE_SMALL,BMAP_POINT_SIZE_NORMAL:BMAP_POINT_SIZE_NORMAL,BMAP_POINT_SIZE_BIG:BMAP_POINT_SIZE_BIG,BMAP_POINT_SIZE_BIGGER:BMAP_POINT_SIZE_BIGGER,BMAP_POINT_SIZE_HUGE:BMAP_POINT_SIZE_HUGE}),exportSymbol(window,{BMap_Symbol_SHAPE_CAMERA:BMap_Symbol_SHAPE_CAMERA,BMap_Symbol_SHAPE_WARNING:BMap_Symbol_SHAPE_WARNING,BMap_Symbol_SHAPE_SMILE:BMap_Symbol_SHAPE_SMILE,BMap_Symbol_SHAPE_CLOCK:BMap_Symbol_SHAPE_CLOCK,BMap_Symbol_SHAPE_POINT:BMap_Symbol_SHAPE_POINT,BMap_Symbol_SHAPE_PLANE:BMap_Symbol_SHAPE_PLANE,BMap_Symbol_SHAPE_CIRCLE:BMap_Symbol_SHAPE_CIRCLE,BMap_Symbol_SHAPE_RECTANGLE:BMap_Symbol_SHAPE_RECTANGLE,BMap_Symbol_SHAPE_RHOMBUS:BMap_Symbol_SHAPE_RHOMBUS,BMap_Symbol_SHAPE_STAR:BMap_Symbol_SHAPE_STAR,BMap_Symbol_SHAPE_BACKWARD_CLOSED_ARROW:BMap_Symbol_SHAPE_BACKWARD_CLOSED_ARROW,BMap_Symbol_SHAPE_FORWARD_CLOSED_ARROW:BMap_Symbol_SHAPE_FORWARD_CLOSED_ARROW,BMap_Symbol_SHAPE_BACKWARD_OPEN_ARROW:BMap_Symbol_SHAPE_BACKWARD_OPEN_ARROW,BMap_Symbol_SHAPE_FORWARD_OPEN_ARROW:BMap_Symbol_SHAPE_FORWARD_OPEN_ARROW}),exportSymbol(window,{BMAP_CONTEXT_MENU_ICON_ZOOMIN:BMAP_CONTEXT_MENU_ICON_ZOOMIN,BMAP_CONTEXT_MENU_ICON_ZOOMOUT:BMAP_CONTEXT_MENU_ICON_ZOOMOUT}),exportSymbol(window,{BMAP_SYS_DRAWER:BMAP_SYS_DRAWER,BMAP_SVG_DRAWER:BMAP_SVG_DRAWER,BMAP_VML_DRAWER:BMAP_VML_DRAWER,BMAP_CANVAS_DRAWER:BMAP_CANVAS_DRAWER,BMAP_SVG_DRAWER_FIRST:BMAP_SVG_DRAWER_FIRST}),BMap.apiLoad(),window._common=1,baidu.cookie=baidu.cookie||{},baidu.cookie._isValidKey=function(t){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(t)},baidu.cookie.getRaw=function(t){if(baidu.cookie._isValidKey(t)){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=e.exec(document.cookie);if(i)return i[2]||null}return null},baidu.cookie.get=function(t){var e=baidu.cookie.getRaw(t);return"string"==typeof e?e=decodeURIComponent(e):null},baidu.cookie.setRaw=function(t,e,i){if(baidu.cookie._isValidKey(t)){i=i||{};var n=i.expires;"number"==typeof i.expires&&(n=new Date,n.setTime(n.getTime()+i.expires)),document.cookie=t+"="+e+(i.path?"; path="+i.path:"")+(n?"; expires="+n.toGMTString():"")+(i.domain?"; domain="+i.domain:"")+(i.secure?"; secure":"")}},baidu.cookie.set=function(t,e,i){baidu.cookie.setRaw(t,encodeURIComponent(e),i)},baidu.cookie.remove=function(t,e){e=e||{},e.expires=new Date(0),baidu.cookie.setRaw(t,"",e)},baidu.isPhone=function(t){return/\d{11}/.test(t)},baidu.isActivateCode=function(t){return/\d{4}/.test(t)},baidu.colorConverter=function(){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},e={hex:/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,rgb:/rgb\(\s*(\d|\d\d|1\d\d|2[0-4]\d|25[0-5])\s*,\s*(\d|\d\d|1\d\d|2[0-4]\d|25[0-5])\s*,\s*(\d|\d\d|1\d\d|2[0-4]\d|25[0-5])\s*\)/,rgba:/rgba\(\s*(\d|\d\d|1\d\d|2[0-4]\d|25[0-5])\s*,\s*(\d|\d\d|1\d\d|2[0-4]\d|25[0-5])\s*,\s*(\d|\d\d|1\d\d|2[0-4]\d|25[0-5])\s*,\s*(0|1|0\.[1-9])\s*\)/},i=function(t,i){return e[i].test(t)},n=function(e,n){return void 0===n&&(n=1),i(e,"rgba")?e:(void 0!==t[e.toLowerCase()]&&(e=t[e.toLowerCase()]),i(e,"hex")&&(e=o(e)),i(e,"rgb")?(e=e.replace(/rgb/g,"rgba"),e=e.replace(/\)/,","+n+")")):e="rgba(0,0,0,1)",e)},o=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?"rgb("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+")":null},a=function(e){return i(e,"hex")?e:t[e]?t[e]:"#000"};return{all2hex:function(n){return i(n,"hex")?n:i(n,"rgb")?(n=n.match(e.rgb),
"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2)):t[n]?t[n]:void 0},hex2rgb:o,colorname2Hex:a,convert2rgba:n}}(),window._common=2,window._map=1,BMap.register(function(t){if(!(t.config&&t.config.isOverviewMap||t.config&&!t.config.bdLogo)){t.isLoaded()?addMapCopyright(t):t.addEventListener("load",function(){addMapCopyright(this)}),t.cityName="中国",t.cCode="0";var e={};e.enableRequest=!0,e.request=function(){e.enableRequest&&(e.enableRequest=!1,setTimeout(function(){e._request()},500))},e._request=function(){var i=t.getBounds(),n=(i.getSouthWest().lat+i.getNorthEast().lat)/2,o=(i.getSouthWest().lng+i.getNorthEast().lng)/2,a=o+","+n,r=t.getZoom(),s=BMap.searchUrl+"/search/v1/search/city?coordinate="+BMap.coordReturn[BMap.tileDir]+"&location="+a+"&zoom="+r;DataMgr.ajax({url:s,success:function(i){if(e.enableRequest=!0,0===i.status){var n=i.result;n.adcode>=9e3&&n.adcode<=9378&&(n.name="台湾省"),n.adcode>=2e4&&n.adcode<=20499&&(n.name="新加坡"),n.adcode>=20500&&n.adcode<=25999&&(n.name="泰国"),n.adcode>=26e3&&n.adcode<=29999&&(n.name="日本"),n.adcode>=3e4&&n.adcode<=30999&&(n.name="韩国"),n.adcode>=31e3&&n.adcode<=37e3&&(n.name="亚太"),n.adcode>=46609&&n.adcode<=52505&&(n.name="欧洲"),n.adcode>=39509&&n.adcode<=53500&&(n.name="南美洲"),n.adcode>=54e3&&n.adcode<=7e4&&(n.name="北美洲"),54003===n.adcode&&n.adcode>=60731&&n.adcode<=61123&&(n.name="美国"),(54015===n.adcode||n.adcode>=57970&&n.adcode<=60223)&&(n.name="加拿大"),(54025===n.adcode||n.adcode>=54338&&n.adcode<=57374)&&(n.name="墨西哥");var o=n.name,a=n.adcode;console.log("cityName",o,a),a!==t.cCode&&t.dispatchEvent("citychange",{name:o,code:a}),t.cityName=o,t.cCode=a,isMobile()||addCopyrightData(t)}}})},t.addEventListener("load",function(t){e.request()}),t.addEventListener("moveend",function(t){e.request()}),t.addEventListener("zoomend",function(t){e.request()}),e.request()}}),LogoControl.prototype=new Control,LogoControl.prototype.initialize=function(t){this._map=t;var e=create("div");e.style.height="32px";var i=create("a",{title:"到百度地图查看此区域",href:"javascript:;"});return i.style.outline="none",6===baidu.browser.ie?i.innerHTML="<div style='cursor:pointer;width:77px;height:32px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+this.IMG_URL+")'></div>":i.innerHTML="<img style='border:none;width:77px;height:32px' src='"+this.IMG_URL+"' />",isMobile()&&(window.devicePixelRatio>1&&(this.IMG_URL=MapConfig.imgPath+"copyright_logo_hd.png"),e.style.height="25px",i.href="http://map.baidu.com/?sr=1",i.innerHTML="<img style='border:none;width:68px;height:25px' src='"+this.IMG_URL+"' />"),e.appendChild(i),t.getContainer().appendChild(e),e},baidu.extend(Map.prototype,{_draw:function(){this._bind()},_bind:function(){var t=this;t._watchSize=function(){var e=t.getSize();if(t.width!=e.width||t.height!=e.height){var i=new Size(t.width,t.height),n=new BaseEvent("onbeforeresize");n.size=i,t.dispatchEvent(n),t._updateCenterPoint((e.width-t.width)/2,(e.height-t.height)/2),t.maskLayer.style.width=(t.width=e.width)+"px",t.maskLayer.style.height=(t.height=e.height)+"px";var o=new BaseEvent("onresize");o.size=e,t.dispatchEvent(o);var a=parseInt(t.platform.style.left)||0,r=parseInt(t.platform.style.top)||0;0==t.currentOperation||t.offsetX==a&&t.offsetY==r||t._setPlatformPosition(a,r)}},t.config.enableAutoResize&&!t.temp.autoResizeTimer&&(t.temp.autoResizeTimer=setInterval(t._watchSize,80)),isMobile()||(baidu.on(t.maskLayer,"mouseover",function(e){preventDefault(e),t.dispatchEvent(new BaseEvent("onmouseover"))}),baidu.on(t.maskLayer,"mouseout",function(e){preventDefault(e),t.dispatchEvent(new BaseEvent("onmouseout"))}))},_setPlatformPosition:function(t,e,i,n){if(!(isNaN(t)||isNaN(e)||this.offsetX==t&&this.offsetY==e)){var o=this.getMapType(),a=o._opts.bounds,r=this.offsetY-e,s=o.getZoomUnits(this.zoomLevel),l=null;l=this.mercatorCenter?this.mercatorCenter:this.projection.lngLatToMercator(this.centerPoint);var h=new PointN(l.lng+(this.offsetX-t)*s,l.lat-(this.offsetY-e)*s);if(h.lat-this.height/2*s<=a._swLat&&r>=0){var c=a._swLat+this.height/2*s;e=this.offsetY-(l.lat-c)/s}if(h.lat+this.height/2*s>a._neLat&&r<0){var c=a._neLat-this.height/2*s;e=this.offsetY-(l.lat-c)/s}this._updateCenterPoint(this.offsetX-t,this.offsetY-e,i),t=Math.round(t),e=Math.round(e),this.offsetX=t,this.offsetY=e,this.platform.style.left=t+"px",this.platform.style.top=e+"px",this.maskLayer.style.left=-t+"px",this.maskLayer.style.top=-e+"px",0!=n&&this.dispatchEvent(new BaseEvent("onmoving"))}},panTo:function(t,e){if(t instanceof Point||t instanceof PointN){var i=this.pointToPixel(t),n=Math.round(this.width/2),o=Math.round(this.height/2);e=e||{},Math.abs(n-i.x)>this.width||Math.abs(o-i.y)>this.height||e.noAnimation?this._panTo(n-i.x,o-i.y,t):this._panBy(n-i.x,o-i.y,{duration:e.duration})}},_panTo:function(t,e,i){var n=this.temp;1!=n.operating&&(n.dragAni&&n.dragAni.stop(),this.dispatchEvent(new BaseEvent("onmovestart")),this._setPlatformPosition(this.offsetX+t,this.offsetY+e,i),this.dispatchEvent(new BaseEvent("onmoveend")))},panBy:function(t,e,i){t=Math.round(t)||0,e=Math.round(e)||0,i=i||{},Math.abs(t)<=this.width&&Math.abs(e)<=this.height&&!i.noAnimation?this._panBy(t,e):this._panTo(t,e)},_panBy:function(t,e,i){if(1!=this.temp.operating){i=i||{},this.dispatchEvent(new BaseEvent("onmovestart"));var n=this,o=n.temp;o.pl=n.offsetX,o.pt=n.offsetY,o.tlPan&&o.tlPan.cancel(),o.dragAni&&o.dragAni.stop(),o.tlPan=new Animation({fps:i.fps||n.config.fps,duration:i.duration||n.config.actionDuration,transition:i.transition||Transitions.easeInOutQuad,render:function(i){this.terminative=n.temp.operating,n.temp.operating||n._setPlatformPosition(o.pl+Math.ceil(t*i),o.pt+Math.ceil(e*i))},finish:function(t){n.dispatchEvent(new BaseEvent("onmoveend")),n.temp.tlPan=!1,1==n.temp.stopArrow&&(n.temp.stopArrow=!1,0!=n.temp.arrow&&n._arrow())}})}},getTileId:function(t,e){var i=this.getMapType();if("object"!=typeof i)return null;if(this.config.enableCustomLayer)var n=this.getTileType().getTileSize(e),o=n*i.getZoomUnits(e);else var o=256*i.getZoomUnits(e);return t=MercatorProjection.convertLL2MC(t),{row:parseInt(t.lng/o),column:parseInt(t.lat/o),level:e}}}),exportSymbol(MapP,{panTo:MapP.panTo,panBy:MapP.panBy})
;var cssString=".BMap_mask{background:transparent url("+BMap.apiUrlCdn+"images/blank.gif);}.BMap_noscreen{display:none;}.BMap_button{cursor:pointer;}.BMap_zoomer{background-image:url("+BMap.apiUrlCdn+"images/mapctrls1d3.gif);background-repeat:no-repeat;overflow:hidden;font-size:1px;position:absolute;width:7px;height:7px;}.BMap_stdMpCtrl div{position:absolute;}.BMap_stdMpPan{width:32px;height:32px;overflow:hidden;background:url("+BMap.apiUrlCdn+'images/navigation-control/img/navigation.png) no-repeat;background-size: 100% 100%;right: 0;}.BMap_ie6 .BMap_stdMpPan{background:none;}.BMap_ie6 .BMap_smcbg{left:0;width:44px;height:464px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+BMap.apiUrlCdn+'images/mapctrls2d0.png");}.BMap_ie6 .BMap_stdMpPanBg{z-index:-1;}.BMap_stdMpPan .BMap_button{height:15px;width:15px;}.BMap_panN,.BMap_panW,.BMap_panE,.BMap_panS{overflow:hidden;}.BMap_panN{left:14px;top:0;}.BMap_panW{left:1px;top:12px;}.BMap_panE{left:27px;top:12px;}.BMap_panS{left:14px;top:25px;}.BMap_stdMpZoom{top:48px;overflow:hidden;}.BMap_stdMpZoom_shadow{box-shadow: 0 6px 16px 2px rgba(7,12,20,0.12);}.BMap_stdMpZoom .BMap_button{width:16px;height:16px;right:8px;overflow:hidden;background-image:url('+BMap.apiUrlCdn+"images/mapctrls2d0.png);background-repeat:no-repeat;z-index:10;border-radius: 3px;}.BMap_ie6 .BMap_stdMpZoom .BMap_button{background:none;}.BMap_stdMpZoom .BMap_button.BMap_stdMpZoomIn{background-image:url("+BMap.apiUrlCdn+"images/navigation-control/img/nav-plus.png);background-size: 16px 16px;}.BMap_stdMpZoom .BMap_button.BMap_stdMpZoomOut{background-image:url("+BMap.apiUrlCdn+"images/navigation-control/img/nav-reduce.png);background-size: 16px 16px;}.BMap_stdMpZoom .BMap_button.BMap_stdMpZoomIn.BMap_stdMpZoomIn_larg{width: 32px;height: 32px;right: 0;box-shadow: 0 6px 16px 2px rgba(7,12,20,0.12);border-radius: 4px 4px 0 0;background:url("+BMap.apiUrlCdn+"images/navigation-control/img/plus.png) no-repeat;background-color: #fff;border-bottom: 1px solid #E8E9EB;background-size: 16px 16px;background-position: center;}.BMap_stdMpZoom .BMap_button.BMap_stdMpZoomOut.BMap_stdMpZoomOut_larg{width: 32px!important;height: 32px!important;right: 0!important;top: 33px!important;box-shadow: 0 6px 16px 2px rgba(7,12,20,0.12);border-radius: 0 0 4px 4px;background-image:url("+BMap.apiUrlCdn+"images/navigation-control/img/reduce.png)!important;background-repeat: no-repeat;background-color: #fff;border-bottom: 1px solid #E8E9EB;background-size: 16px 16px;background-position: center;}.BMap_ie6 .BMap_stdMpZoomIn div{left:0;top:-221px;}.BMap_ie6 .BMap_stdMpZoomOut div{left:0;top:-265px;}.BMap_stdMpType4 .BMap_stdMpZoom .BMap_button{left:0;overflow:hidden;background:-webkit-gradient(linear,50% 0,50% 100%,from(rgba(255,255,255,0.85)),to(rgba(217,217,217,0.85)));z-index:10;-webkit-border-radius:22px;width:34px;height:34px;border:1px solid rgba(255,255,255,0.5);-webkit-box-shadow:0 2px 3.6px #CCC;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-sizing:border-box;}.BMap_stdMpType4 .BMap_smcbg{position:static;background:url("+BMap.apiUrlCdn+"images/mapctrls2d0_mb.png) 0 0 no-repeat;-webkit-background-size:24px 32px;}.BMap_stdMpType4 .BMap_stdMpZoomIn{background-position:0 0;}.BMap_stdMpType4 .BMap_stdMpZoomIn .BMap_smcbg{width:24px;height:24px;background-position:0 0;}.BMap_stdMpType4 .BMap_stdMpZoomOut{background-position:0 0;}.BMap_stdMpType4 .BMap_stdMpZoomOut .BMap_smcbg{width:24px;height:6px;background-position:0 -25px;}.BMap_stdMpSlider{width:37px;top:16px;right: 0;}.BMap_stdMpSliderBgTop{left:18px;width:6px;overflow:hidden;background-color: #fff;background-image:url("+BMap.apiUrlCdn+"images/navigation-control/img/nav-scale.png);background-size: 100% 100%;}.BMap_stdMpSliderBgBot{left:18px;height:8px;width:6px;top:124px;overflow:hidden;background-color: #3d67f0;}.BMap_ie6 .BMap_stdMpSliderBgTop,.BMap_ie6 .BMap_stdMpSliderBgBot{background:none;}.BMap_ie6 .BMap_stdMpSliderBgTop div{left:-23px;top:-226px;}.BMap_ie6 .BMap_stdMpSliderBgBot div{left:-33px;bottom:0;}.BMap_stdMpSliderMask{height:100%;width:24px;left:10px;cursor:pointer;}.BMap_stdMpSliderBar{width: 16px;height: 16px;left: 13px;top: 80px;overflow: hidden;border-radius: 100%;background-color: #fff;box-sizing: border-box;background-image:url("+BMap.apiUrlCdn+"images/navigation-control/img/nav-hand.png);background-size: 16px 16px;}.BMap_stdMpSliderBar.h{background-color: #fff;}.BMap_ie6 .BMap_stdMpSliderBar,.BMap_ie6 .BMap_stdMpSliderBar.h{background:none;}.BMap_ie6 .BMap_stdMpSliderBar div{top:-309px;}.BMap_ie6 .BMap_stdMpSliderBar.h div{top:-320px;}.BMap_zlSt,.BMap_zlCity,.BMap_zlProv,.BMap_zlCountry{position:absolute;left:1px;width: 20px;height: 20px;background: #fff;font-family: PingFangSC-Regular;font-size: 12px;color: #151B26;text-align: center;line-height: 20px;font-weight: 400;cursor: pointer;}.BMap_zlSt i,.BMap_zlCity i,.BMap_zlProv i,.BMap_zlCountry i{width: 0;height: 0;border: 3px solid transparent;border-left-color: #fff;position: absolute;right: -6px;top: 7px;}.BMap_ie6 .BMap_zlSt,.BMap_ie6 .BMap_zlCity,.BMap_ie6 .BMap_zlProv,.BMap_ie6 .BMap_zlCountry{background:none;overflow:hidden;}.BMap_zlHolder{display:none;position:absolute;top:0;}.BMap_zlHolder.hvr{display:block;}.BMap_zlHolder .BMap_smcbg{width: 100%;}.BMap_zlSt{background-position:0 -380px;top:21px;}.BMap_zlCity{background-position:0 -401px;top:52px;}.BMap_zlProv{background-position:0 -422px;top:76px;}.BMap_zlCountry{background-position:0 -443px;top:100px;}.BMap_ie6 .BMap_zlSt div{top:-380px;}.BMap_ie6 .BMap_zlCity div{top:-401px;}.BMap_ie6 .BMap_zlProv div{top:-422px;}.BMap_ie6 .BMap_zlCountry div{top:-443px;}.BMap_stdMpType1 .BMap_stdMpSlider,.BMap_stdMpType2 .BMap_stdMpSlider,.BMap_stdMpType3 .BMap_stdMpSlider,.BMap_stdMpType4 .BMap_stdMpSlider,.BMap_stdMpType2 .BMap_stdMpZoom,.BMap_stdMpType3 .BMap_stdMpPan,.BMap_stdMpType4 .BMap_stdMpPan{display:none;}.BMap_stdMpType3 .BMap_stdMpZoom{top:0;}.BMap_stdMpType4 .BMap_stdMpZoom{top:0;}.BMap_cpyCtrl a{font-size:11px;color:#7979CC;}.BMap_scaleCtrl{height:30px;overflow:hidden;}.BMap_scaleCtrl div.BMap_scaleTxt{font-family: PingFangSC-Medium;font-size: 12px;color: #151B26;text-align: center;line-height: 20px;font-weight: 500;}.BMap_scaleCtrl div{position:absolute;overflow:hidden;}.BMap_scaleHBar img,.BMap_scaleLBar img,.BMap_scaleRBar img{position:absolute;width:37px;height:442px;left:0;}.BMap_scaleHBar{width:100%;height:2px;font-size:0;top:20px;}.BMap_scaleHBar img{top:-437px;width:100%;}.BMap_scaleLBar,.BMap_scaleRBar{width:2px;height:12px;bottom:3px;font-size:0;z-index:1;}.BMap_scaleLBar img{top:-427px;left:0;}.BMap_scaleRBar img{top:-427px;left:-5px;}.BMap_scaleLBar{left:0;}.BMap_scaleRBar{right:0;}.BMap_scaleTxt{text-align:center;width:100%;cursor:default;line-height:18px;}.BMap_omCtrl{background-color:#fff;overflow:hidden;box-shadow: 0 6px 16px 2px rgba(7,12,20,0.25);border-radius: 4px;}.BMap_omOutFrame{position:absolute;width:100%;height:100%;left:0;top:0;}.BMap_omInnFrame{position:absolute;border:1px solid #fff;background-color:#ccc;overflow:hidden;}.BMap_omMapContainer{position:absolute;overflow:hidden;width:100%;height:100%;left:0;top:0;}.BMap_omViewMv{border-width:1px;border-style:solid;border-left-color:#84b0df;border-top-color:#adcff4;border-right-color:#274b8b;border-bottom-color:#274b8b;position:absolute;z-index:600;}.BMap_omViewInnFrame{border:1px solid #3e6bb8;}.BMap_omViewMask{width:1000px;height:1000px;position:absolute;left:0;top:0;background-color:#68c;opacity:.2;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=20);}.BMap_omBtn_wrap {width: 32px;height: 32px;position: absolute;bottom: 0;right: 0;background: #fff;border-radius: 4px;}.BMap_omBtn{height:100%;width:100%;position:absolute;left: 0;top: 0;cursor:pointer;overflow:hidden;background:url("+BMap.apiUrlCdn+"images/overview_arrow.png) no-repeat;z-index:1210;background-size: 32px 32px;}.BMap_omBtnClosed .BMap_omBtn{background:url("+BMap.apiUrlCdn+"images/overview_arrow_back.png) no-repeat;background-size: 32px 32px;}.anchorBR .BMap_omOutFrame{border-top:1px solid #fff;border-left:1px solid #fff;}.quad4 .BMap_omBtn{background-position:0 0;}.quad4 .BMap_omBtn.hover{background-position:0 -27px;}.quad4 .BMap_omBtn.BMap_omBtnClosed{background-position:-39px -27px;}.quad4 .BMap_omBtn.BMap_omBtnClosed.hover{background-position:-13px -27px;}.anchorTR .BMap_omOutFrame{border-bottom:1px solid #fff;border-left:1px solid #fff;}.quad1 .BMap_omBtn{background-position:-39px -41px;}.quad1 .BMap_omBtn.hover{background-position:-13px -41px;}.quad1 .BMap_omBtn.BMap_omBtnClosed{background-position:-26px -41px;}.quad1 .BMap_omBtn.BMap_omBtnClosed.hover{background-position:0 -41px;}.anchorBL .BMap_omOutFrame{border-top:1px solid #fff;border-right:1px solid #fff;}.quad3 .BMap_omBtn{background-position:-27px -40px;}.quad3 .BMap_omBtn.hover{background-position:-1px -40px;}.quad3 .BMap_omBtn.BMap_omBtnClosed{background-position:-40px -40px;}.quad3 .BMap_omBtn.BMap_omBtnClosed.hover{background-position:-14px -40px;}.anchorTL .BMap_omOutFrame{border-bottom:1px solid #fff;border-right:1px solid #fff;}.quad2 .BMap_omBtn{background-position:-40px -28px;}.quad2 .BMap_omBtn.hover{background-position:-14px -28px;}.quad2 .BMap_omBtn.BMap_omBtnClosed{background-position:-27px -28px;}.quad2 .BMap_omBtn.BMap_omBtnClosed.hover{background-position:-1px -28px;}.anchorR .BMap_omOutFrame{border-bottom:1px solid #fff;border-left:1px solid #fff;border-top:1px solid #fff;}.anchorL .BMap_omOutFrame{border-bottom:1px solid #fff;border-right:1px solid #fff;border-top:1px solid #fff;}.anchorB .BMap_omOutFrame{border-top:1px solid #fff;border-left:1px solid #fff;border-right:1px solid #fff;}.anchorT .BMap_omOutFrame{border-bottom:1px solid #fff;border-right:1px solid #fff;border-left:1px solid #fff;}.anchorNon .BMap_omOutFrame,.withOffset .BMap_omOutFrame{border:1px solid #fff;}.BMap_zoomMask0,.BMap_zoomMask1{position:absolute;left:0;top:0;width:100%;height:100%;background:transparent url("+BMap.apiUrlCdn+"images/blank.gif);z-index:1000;}.BMap_contextMenu{position:absolute;border-top:1px solid #adbfe4;border-left:1px solid #adbfe4;border-right:1px solid #8ba4d8;border-bottom:1px solid #8ba4d8;padding:0;margin:0;width:auto;visibility:hidden;background:#fff;z-index:10000000;}.BMap_cmShadow{position:absolute;background:#000;opacity:.3;filter:alpha(opacity=30);visibility:hidden;z-index:9000000;}div.BMap_cmDivider{border-bottom:1px solid #adbfe4;font-size:0;padding:1px;margin:0 6px;}div.BMap_cmFstItem{margin-top:2px;}div.BMap_cmLstItem{margin-bottom:2px;}.BMap_shadow img{border:0 none;margin:0;padding:0;height:370px;width:1144px;}.BMap_pop .BMap_top{border-top:1px solid #ababab;background-color:#fff;}.BMap_pop .BMap_center{border-left:1px solid #ababab;border-right:1px solid #ababab;background-color:#fff;}.BMap_pop .BMap_bottom{border-bottom:1px solid #ababab;background-color:#fff;}.BMap_shadow,.BMap_shadow img,.BMap_shadow div{-moz-user-select:none;-webkit-user-select:none;}.BMap_checkbox{background:url("+BMap.apiUrlCdn+"images/mapctrls1d3.gif);vertical-align:middle;display:inline-block;width:11px;height:11px;margin-right:4px;background-position:-14px 90px;}.BMap_checkbox.checked{background-position:-2px 90px;}.BMap_pop .BMap_top img,.BMap_pop .BMap_center img,.BMap_pop .BMap_bottom img{display:none;}@media print{.BMap_noprint{display:none;}.BMap_noscreen{display:block;}.BMap_mask{background:none;}.BMap_pop .BMap_top img,.BMap_pop .BMap_center img,.BMap_pop .BMap_bottom img{display:block;}}.BMap_vectex{cursor:pointer;width:11px;height:11px;position:absolute;background-repeat:no-repeat;background-position:0 0;}.BMap_vectex_nodeT{background-image:url("+BMap.apiUrlCdn+"images/stop_icon.png);}.BMap_vectex_node{background-image:url("+BMap.apiUrlCdn+'images/stop_icon.png);}.iw{width:100%;-webkit-box-sizing:border-box;border:.3em solid transparent;-webkit-background-clip:padding;}.iw_rt{position:relative;height:46px;width:195px;-webkit-box-sizing:border-box;display:-webkit-box;-webkit-box-align:center;margin:2px 5px 0 2px;background-color:rgba(0,0,0,0.8);-webkit-box-shadow:2px 2px 7px rgba(0,0,0,0.3);-webkit-border-radius:2px;color:#fff;}.iw_rt:after{content:"";position:absolute;left:50%;bottom:-8px;width:0;height:0;border-left:5px solid transparent;border-top:8px solid rgba(0,0,0,0.8);border-right:5px solid transparent;margin:0 0 0 -6px;}.iw_s{text-align:center;vertical-align:middle;height:100%;-webkit-box-sizing:border-box;}.iw_rt .iw_s1{color:#cbcbcb;}.iw_rt b{color:#fff;font-weight:bold;}.iw_rt_gr{margin-left:-4px;}.iw_busline{margin:32px 0 0 -3px;}.iw_busline .iw_cc{text-align:center;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 6px;}.iw_r{-webkit-box-ordinal-group:3;}.iw_r,.iw_l{height:100%;font-size:4.5em;text-align:center;color:#747474;border:none;-webkit-box-sizing:border-box;-webkit-border-radius:0;line-height:.7em;border:1px solid rgba(255,255,255,0.2);width:41px;}.iw_r{border-style:none none none solid;}.iw_l{border-style:none solid none none;}.iw_search,.iw_l{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAlCAYAAAAuqZsAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJ bWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdp bj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6 eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEz NDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJo dHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlw dGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAv IiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RS ZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpD cmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNl SUQ9InhtcC5paWQ6QjA3NjMyREJDNzQ2MTFFMTlBQUM5QzlCRDZGODZCQkYiIHhtcE1NOkRvY3Vt ZW50SUQ9InhtcC5kaWQ6QjA3NjMyRENDNzQ2MTFFMTlBQUM5QzlCRDZGODZCQkYiPiA8eG1wTU06 RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMDc2MzJEOUM3NDYxMUUxOUFB QzlDOUJENkY4NkJCRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMDc2MzJEQUM3NDYxMUUx OUFBQzlDOUJENkY4NkJCRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1w bWV0YT4gPD94cGFja2V0IGVuZD0iciI/PllB9T8AAAKuSURBVHjaxFjRcdpAEAX+mVEqiFxB5AoQ HZAKElcArsBWBSgVQCoAVwCuwEoFlivwGQpI7jKrzGXn7ep0EsPO7BjLp/O73bdv9xifTqdRpCXW c+sz65n1lNy3mvzZemX9aN34C6bTKdx8HAHMgVlaX0QeaGv9J4EcBJgD9EA/hzAH7N4Cq/oAW1tf KX+vKEXP7PlMSLFvhQX32BWY49GBOIRO7FKy57wBlnoUQHu5yJX+g4mymdvgFWzkAM3JtwGgmiJw a2/pvQoEYBQCLKNI8RfuaeNjT245gAUdqgHdmkqUPiOctLdJVYkithkAVO/K5cC+M30KAZVSxboo /ybnn1eIR5r5qUyI7P4GX6nqJHskbQsxQ7wqu6aSn2qrgHLrXjqAat5ZC0WlRuzVE0J3uhtBCjRt a3qjX92JIMiOIqYtYgumzpo+7RRtu/E0zvknokMF5GgdQv4Ze/5DWL8CFVe2aNuedGsLCi1vS+WL F4WKNkL2Dnh414FnO1b1R5vKuRaxjKUF2YKBqjuCGtF6nyL5+XxOJWCcL2/CpjzdRYRuGpDShQQs ARUj9U/OnRh7Yr9/CW1JXU4fYxXoHIMCu+iB+gBLIt/LgShDYCYktGCDfCBgvyRgVQgZwTy/jIzy EnQNMZV1QCT4bJ+3XFCkS81/WijdkiYAdSak04BWtabWEmIbsNZYgU00YE+gjyErQeo31GpShVMH Yc+/dwsEzh97/D6ojT2ZMlM1XwN8WP9Ma7NAbZvbtBoEjE+jBT2TusCu5SIbI7z/wLWN1rdKi0o6 cqwTuAmYyTm5NQW/82atWvlnBbo7apxD98qDJxl7mkC76JQ2Qm0CI1xKF95Gb4oLXHJDwJlxjy/u LgruGtNFM8lqnNtfK2JqN3CVeW1gzWj9jThd0xd59R8BBgAAiefGO1Bt1gAAAABJRU5ErkJggg==") no-repeat 50% 50%;-webkit-background-size:19px 19px;}.iw_line_s,.iw_r{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAmCAYAAABDClKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJ bWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdp bj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6 eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEz NDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJo dHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlw dGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAv IiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RS ZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpD cmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNl SUQ9InhtcC5paWQ6QjA3NjMyREZDNzQ2MTFFMTlBQUM5QzlCRDZGODZCQkYiIHhtcE1NOkRvY3Vt ZW50SUQ9InhtcC5kaWQ6QjA3NjMyRTBDNzQ2MTFFMTlBQUM5QzlCRDZGODZCQkYiPiA8eG1wTU06 RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMDc2MzJEREM3NDYxMUUxOUFB QzlDOUJENkY4NkJCRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMDc2MzJERUM3NDYxMUUx OUFBQzlDOUJENkY4NkJCRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1w bWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqheQ+MAAAEtSURBVHja7JftDYIwEIbB8JeEUXACZQPd oGygE+gGxAnQEZzAOgEdwREIDKBXUgjBIqW5Npj0kvcHpG0erveFX1WVZ8l2oBhEhRoLw/BroW8J KgeR3vMVlI5BrSwAHQZAnngmYxtMe4oIL41ZAp6iNqF4/BQTa0oBxmxAcaAHKFJY+wKtAaw0CRUJ oHjGHiY8VpqCKmYCdRkJUKmJ7Ms1gZqkqOs6w/bUGXRCOGePCcXjaItwDsW8PoZ0zhM70IeeyiZi jH/Isf+CF9MAOdCppDj+LJ6yim6j9802B6VqQa818BFjY6AHakHp9Crj15ctCaiFIi7Q/wCKLRHq vjSoVNKWunH4rTBDv5Cv7NKeKfvvU2nINzHAuexzUA7KQTkoB6UxDicKvc+qfQQYABaiUBxugCsr AAAAAElFTkSuQmCC") no-repeat 50% 50%;-webkit-background-size:19px 19px;}.iw_line{height:64px;width:228px;padding:0 11px;line-height:20px;}.iw_bustrans .iw_cc{text-align:center;}.iw_c{color:#FFFFFF;text-decoration:none;overflow:hidden;display:-webkit-box;-webkit-box-align:center;-webkit-box-flex:1;}.iw_cc{-webkit-box-sizing:border-box;width:100%;border:none;}.gray_background{filter:alpha(opacity=50);-moz-opacity:0.5;-khtml-opacity:0.5;opacity: 0.5} .light_gray_background {filter:alpha(opacity=70);-moz-opacity:0.7;-khtml-opacity:0.7;opacity: 0.7} .panoInfoBox {cursor: pointer; } .panoInfoBox {position: relative; width: 323px; height: 101px; margin-bottom: 4px; cursor: pointer; } .panoInfoBox .panoInfoBoxTitleBg {width: 323px; height: 19px; position: absolute; left: 0; bottom: 0; z-index: 2; background-color: #000; opacity: .7; } .panoInfoBox .panoInfoBoxTitleContent {font-size: 12px; color: #fff; position: absolute; bottom: 2px; left: 5px; z-index: 3; text-decoration: none; } ',routeCss=".RouteAddressOuterBkg{position:relative; padding: 32px 4px 4px 3px; background-color:#ffdd99; } .RouteAddressInnerBkg{padding: 3px 5px 8px 8px; background-color:#ffffff; } #RouteAddress_DIV1{margin-top: 5px; } .RouteAddressTip{position:absolute; width:100%; top:0px; text-align:center; height:30px; line-height:30px; color:#994c00; } .route_tip_con {position:absolute;top:145px;} .route_tip_con .route_tip{position:absolute;width:233px;height:29px;color:#803300;text-align:center;line-height:29px;border:#cc967a solid 1px;background:#fff2b2;z-index:100000;} .route_tip_con .route_tip span{position:absolute;top:0;right:0;_right:-1px;width:14px;height:13px;background:url("+BMap.apiUrlCdn+"images/addrPage.png?v=20121107) no-repeat 0 -121px;cursor:pointer;} .route_tip_con .route_tip_shadow{width:233px;height:29px;  position:absolute;left:1px;top:1px;background:#505050;border:1px solid #505050;opacity:0.2;filter:alpha(opacity=20)} .sel_body_body_page{margin:5px 0} .sel_n{margin-top:5px;overflow:hidden;} .sel_n .sel_top{background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat 0 -418px;height:4px;font-size:0px;} .sel_n .sel_body_top{height:32px;width:100%;background:url("+BMap.apiUrlCdn+"images/addrPage.png?v=20121107) no-repeat 0 -41px;} .sel_n .sel_body_title{float:left;width:100%;height:31px;} .sel_n .sel_body_sign{margin-top:1px;width:30px;height:31px;float:left;background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat -79px -387px;} .sel_n .sel_body_name{height: 10px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; margin:0 20px 0 30px;padding:8px 7px 7px;font-size:14px;color:#FA8722;} .sel_n .sel_body_button{float:left;width:55px;margin-left:-55px;padding-top:8px;} .sel_n .sel_body_button a{} .sel_n .sel_bottom{background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat 0 -415px;height:4px;font-size:0px;} .sel_n .sel_body_body{padding:3px 0 0 0} .sel_n1{margin-top:5px;width:329px;overflow:hidden;} .sel_n1 .sel_top{background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat 0 -418px;height:4px;font-size:0px;} .sel_n1 .sel_body_top{height:31px;width:100%;background:url("+BMap.apiUrlCdn+"images/sel_body_n_top.gif) repeat-x;} .sel_n1 .sel_body_top{height:32px;width:100%;background:url("+BMap.apiUrlCdn+"images/addrPage.png?v=20121107) no-repeat 0 -41px} .sel_n1 .sel_body_title{float:left;width:100%;height:31px;cursor:pointer;} .sel_n1 .sel_body_sign{margin-top:1px;width:30px;height:31px;float:left;background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat -79px -387px;} .sel_n1 .sel_body_name{margin:0 20px 0 30px;padding:8px 7px 7px;font-size:14px;color:#FA8722;} .sel_n1 .sel_body_button{float:left;width:20px;height:31px;margin-left:-23px;background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat -253px -382px;overflow:hidden;zoom:1;cursor:pointer;} .sel_n1 .sel_body_button a{display:none;} .sel_n1 .sel_body_body{display:none} .sel_n1 .sel_bottom{background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat 0 -415px;height:4px;font-size:0px;} .sel_y{margin-top:5px;overflow:hidden;} .sel_y .sel_top{background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat 0 -439px;height:4px;zoom:1;font-size:0px;} .sel_y .sel_body_top{height:32px;width:100%;background:url("+BMap.apiUrlCdn+"images/addrPage.png?v=20121107) no-repeat 0 0} .sel_y .sel_body_title{float:left;width:100%;height:31px;cursor:pointer;} .sel_y .sel_body_sign{margin-top:1px;width:30px;height:31px;float:left;background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat -167px -384px;} .sel_y .sel_body_name{margin:0 20px 0 30px;padding:8px 7px 7px;font-size:14px;color:#5B7BCB;} .sel_y .sel_body_button{float:left;width:20px;height:31px;margin-left:-20px;background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat -269px -297px;cursor:pointer;} .sel_y .sel_body_button a{display:none;} .sel_y .sel_body_body{display:none;height:0px} .sel_y .sel_body_body_div{} .sel_y .sel_bottom{background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat 0 -436px;height:4px;font-size:0px;} .sel_y .sel_body_body_page{display:none;height:0px;} .sel_x{margin-top:5px;width:329px;overflow:hidden;} .sel_x .sel_top{background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat 0 -418px;height:4px;font-size:0px;} .sel_x .sel_body_top{height:32px;width:100%;background:url("+BMap.apiUrlCdn+"images/addrPage.png?v=20121107) no-repeat 0 -41px;} .sel_x .sel_body_title{float:left;width:100%;height:31px;} .sel_x .sel_body_sign{margin-top:1px;width:30px;height:31px;float:left;background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat -122px -384px;} .sel_x .sel_body_name{margin:0 20px 0 30px;padding:8px 7px 7px;font-size:14px;color:#FA8722;} .sel_x .sel_body_button{float:left;width:55px;margin-left:-55px;padding-top:8px;} .sel_x .sel_body_button a{} .sel_x .sel_body_body{} .sel_x .sel_body_body_div{padding:5px 5px 0 5px;} .sel_x .sel_bottom{background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat 0 -415px;height:4px;font-size:0px;} .sel_x1{margin-top:5px;width:329px;overflow:hidden;} .sel_x1 .sel_top{background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat 0 -418px;height:4px;font-size:0px;} .sel_x1 .sel_body_top{height:32px;width:100%;background:url("+BMap.apiUrlCdn+"images/addrPage.png?v=20121107) no-repeat 0 -41px} .sel_x1 .sel_body_title{float:left;width:100%;height:31px;cursor:pointer;} .sel_x1 .sel_body_sign{margin-top:1px;width:30px;height:31px;float:left;background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat -122px -384px;} .sel_x1 .sel_body_name{margin:0 20px 0 30px;padding:8px 7px 7px;font-size:14px;color:#FA8722;} .sel_x1 .sel_body_button{float:left;width:55px;height:31px;margin-left:-55px;} .sel_x1 .sel_body_button a{display:none;} .sel_x1 .sel_body_body{display:none;height:0px;} .sel_x1 .sel_body_body_div{padding:5px 5px 0 5px;} .sel_x1 .sel_bottom{background:url("+BMap.apiUrlCdn+"images/bgs.gif) no-repeat 0 -415px;height:4px;font-size:0px;} .sel_body_citylist{height:100px;padding: 0 0 0 5px} .sel_body_resitem{table-layout:fixed;overflow-x:hidden;overflow-y:hidden;} .sel_body_resitem table {margin-right:5px;} .sel_body_resitem tr{cursor:pointer;} .sel_body_resitem th{padding-top:5px;padding-left:5px;text-align:left;vertical-align:top;width:22px;} .sel_body_resitem th div.iconbg{background:url("+BMap.apiUrlCdn+"images/markers_new_ie6.png) no-repeat scroll 0 0;height:29px;width:24px;} .sel_body_resitem th div.icon{cursor:pointer} .sel_body_resitem th div#no_0_1, .sel_body_resitem th div#no_1_1{background-position:0 -64px} .sel_body_resitem th div#no_0_2, .sel_body_resitem th div#no_1_2{background-position:-24px -64px} .sel_body_resitem th div#no_0_3, .sel_body_resitem th div#no_1_3{background-position:-48px -64px} .sel_body_resitem th div#no_0_4, .sel_body_resitem th div#no_1_4{background-position:-72px -64px} .sel_body_resitem th div#no_0_5, .sel_body_resitem th div#no_1_5{background-position:-96px -64px} .sel_body_resitem th div#no_0_6, .sel_body_resitem th div#no_1_6{background-position:-120px -64px} .sel_body_resitem th div#no_0_7, .sel_body_resitem th div#no_1_7{background-position:-144px -64px} .sel_body_resitem th div#no_0_8, .sel_body_resitem th div#no_1_8{background-position:-168px -64px} .sel_body_resitem th div#no_0_9, .sel_body_resitem th div#no_1_9{background-position:-192px -64px} .sel_body_resitem th div#no_0_10, .sel_body_resitem th div#no_1_10{background-position:-216px -64px} .sel_body_resitem td{line-height:160%;padding:3px 0 3px 3px;vertical-align:top;} .sel_body_resitem div.ra_td_title{float:left;margin-right:40px;} .sel_body_resitem div.ra_td_button{float:right; width:40px;} .sel_body_resitem div.ra_td_button input{height:18px;font-size:12px;width:40px;} .sel_body_resitem div.clear{clear:both;height:0px;width:100%;} .sel_body_resitem td .selBtn {width:70px;height:29px;background:url("+BMap.apiUrlCdn+"images/addrPage.png?v=20121107) no-repeat -21px -81px;text-align:center;line-height:29px;visibility:hidden;color:#b35900;display:inline-block;*display:inline;*zoom:1;} .sel_body_resitem td .list_street_view_poi {display:inline-block;float:none;margin-right:6px;position:static;*vertical-align:-3px;_vertical-align:-5px;*display:inline;*zoom:1;} .selInfoWndBtn {width:70px;height:29px;background:url("+BMap.apiUrlCdn+"images/addrPage.png?v=20121107) no-repeat -21px -81px;text-align:center;line-height:29px;margin: 0 auto;cursor:pointer;color:#b35900} .sel_body_body td a{text-decoration: none; cursor: auto; } .sel_body_body td a:hover,.sel_body_body td a:focus{text-decoration:underline; }";cssString+=routeCss;var panoCss=".panoInfoBox{cursor:pointer}.panoInfoBox{position:relative;width:323px;height:101px;margin-bottom:4px;cursor:pointer}.panoInfoBox .panoInfoBoxTitleBg{width:323px;height:19px;position:absolute;left:0;bottom:0;z-index:2;background-color:#000;opacity:.7}.panoInfoBox .panoInfoBoxTitleContent{font-size:12px;color:#fff;position:absolute;bottom:2px;left:5px;z-index:3;text-decoration:none}.pano_switch_left,.pano_switch_right{position:absolute;width:28px;height:38px;cursor:pointer;background-color:#252525;background-color:rgba(37,37,37,.9)}.pano_switch_left{background:url("+BMap.apiUrlCdn+"images/panorama/zuojiantou.png) no-repeat;-webkit-background-size:100% 100%;background-size:100% 100%}.pano_switch_right{background:url("+BMap.apiUrlCdn+"images/panorama/youjiantou.png) no-repeat;-webkit-background-size:100% 100%;background-size:100% 100%}.pano_switch_left:hover{background:url("+BMap.apiUrlCdn+"images/panorama/zuojiantou_hover.png) no-repeat;-webkit-background-size:100% 100%;background-size:100% 100%}.pano_switch_right:hover{background:url("+BMap.apiUrlCdn+"images/panorama/youjiantou_hover.png) no-repeat;-webkit-background-size:100% 100%;background-size:100% 100%}.pano_switch_left.pano_switch_disable,.pano_switch_right.pano_switch_disable{background:0 0;border:none}.pano_poi_1,.pano_poi_2,.pano_poi_4{display:inline-block;width:16px;height:16px;vertical-align:middle;background:url("+BMap.apiIconUrl+"newmap/static/common/images/pano_whole/guide_icons_4b871b2.png) no-repeat;background-position:0 0}.pano_photo_arrow_l,.pano_photo_arrow_r{position:absolute;top:0;width:20px;height:100%;background:#f3eeee}.pano_photo_arrow_l{left:0}.pano_photo_arrow_r{right:0}.pano_arrow_l,.pano_arrow_r{display:inline-block;width:18px;height:18px;background:url("+BMap.apiIconUrl+"wolfman/static/pano/images/pano_whole/pano-icons_d3a4042.png) no-repeat}.pano_catlogLi{cursor:pointer;position:relative;line-height:10px;font-size:10px;text-align:center;color:#abb0b2;border:1px solid #53565c;padding:3px 0;margin-top:3px;margin-left:2px;width:90%}.pano_catlogLi:hover{color:#3DAAFC;border:1px solid #3DAAFC}.pano_catlogLiActive{color:#3DAAFC;border:1px solid #3DAAFC}.pano_arrow_l{background-position:0 -36px}.pano_arrow_r{background-position:-54px -36px}.pano_photo_arrow_l:hover .pano_arrow_l{background-position:-18px -36px}.pano_photo_arrow_r:hover .pano_arrow_r{background-position:-72px -36px}.pano_photo_arrow_l.pano_arrow_disable .pano_arrow_l{background-position:-36px -36px}.pano_photo_arrow_r.pano_arrow_disable .pano_arrow_r{background-position:-90px -36px}.pano_photo_item{position:relative;float:left;line-height:0;padding-left:8px}.pano_photo_decs{position:absolute;bottom:1px;left:0;padding:2px 0;text-indent:5px;margin-left:8px;display:inline-block;color:#fff;background:#000;opacity:.5;filter:alpha(opacity=50)9;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.pano_photo_item img{display:inline-block;border:solid 1px #252525}.pano_photo_item:hover img{border-color:#005efc}.pano_photo_item_seleted{position:absolute;top:0;left:-100000px;border:3px solid #097df3}.pano_close{position:absolute;right:10px;top:10px;width:40px;cursor:pointer;height:40px;line-height:40px;border-radius:3px;background-color:rgba(37,37,37,.9);background-image:url("+BMap.apiUrlCdn+"images/panorama/close.png);background-repeat:no-repeat;background-position:center center;background-size:90%}.pano_close:hover{background-image:url("+BMap.apiUrlCdn+"images/panorama/close_hover.png)}.pano_pc_indoor_exit{position:absolute;right:60px;top:10px;width:89px;cursor:pointer;height:40px;line-height:40px;color:#ebedf0;border-radius:3px;background-color:#252525;background-color:rgba(37,37,37,.9);background-image:url("+BMap.apiUrlCdn+"images/panorama/indoor_exit.png);background-repeat:no-repeat;background-position:15px 12px}.pano_pc_indoor_exit:hover{background-image:url("+BMap.apiUrlCdn+"images/panorama/indoor_exit_hover.png);color:#2495ff}.pano_m_indoor_exit{font-size:16px;position:absolute;right:30px;top:10px;width:89px;cursor:pointer;height:40px;line-height:40px;color:#ebedf0;border-radius:3px;background-color:#252525;background-color:rgba(37,37,37,.9);background-image:url("+BMap.apiUrlCdn+"images/panorama/indoor_exit.png);background-repeat:no-repeat;background-position:15px 12px}";cssString+=panoCss
;var navCss=".navtrans-table tr{color:#666}.navtrans-table tr:hover{color:#333}.navtrans-navlist-icon{float:left;width:18px;height:16px;background:url("+BMap.apiIconUrl+"wolfman/static/common/images/nav-icon_b5c3223.png) no-repeat 0px 0px;_background:url("+BMap.apiIconUrl+"wolfman/static/common/images/nav-icon_ie6_134841b.png) no-repeat 0px 0px;margin-top:2px;margin-right:5px}.navtrans-navlist-icon.s-1{background-position:0px 0px}.navtrans-navlist-icon.s-2{background-position:-18px 0px}.navtrans-navlist-icon.s-3{background-position:-36px 0px}.navtrans-navlist-icon.s-4{background-position:-54px 0px}.navtrans-navlist-icon.s-5{background-position:-72px 0px}.navtrans-navlist-icon.s-6{background-position:-90px 0px}.navtrans-navlist-icon.s-7{background-position:0px -16px}.navtrans-navlist-icon.s-8{background-position:-18px -16px}.navtrans-navlist-icon.s-9{background-position:-36px -16px}.navtrans-navlist-icon.s-10{background-position:-54px -16px}.navtrans-navlist-icon.s-11{background-position:-72px -16px}.navtrans-navlist-icon.s-12{background-position:-90px -16px}.navtrans-navlist-icon.s-13{background-position:0px -32px}.navtrans-navlist-icon.s-14{background-position:-18px -32px}.navtrans-navlist-icon.s-18{background-position:-36px -32px}.navtrans-navlist-icon.s-19{background-position:-54px -32px}.navtrans-navlist-icon.s-20{background-position:-72px -32px}.navtrans-navlist-icon.s-21{background-position:-90px -32px}.navtrans-navlist-icon.nav-st,.navtrans-navlist-icon.nav-through{background-position:-16px -70px}.navtrans-navlist-icon.nav-ed{background-position:0px -70px}.navtrans-view{border-top:1px solid #e4e6e7;border-left:1px solid #e4e6e7;border-right:1px solid #e4e6e7}.navtrans-view:hover{cursor:pointer}.navtrans-view .navtrans-arrow{position:absolute;top:8px;right:5px;width:7px;height:4px;background-image:url("+BMap.apiIconUrl+"wolfman/static/common/images/nav-icon_b5c3223.png);background-repeat:no-repeat;background-position:-40px -70px;margin-top:3px;margin-right:3px;_background-image:url("+BMap.apiIconUrl+"wolfman/static/common/images/nav-icon_ie6_134841b.png)}.navtrans-view.expand:hover .navtrans-arrow{background-position:-61px -70px}.navtrans-view.expand .navtrans-arrow{background-position:-54px -70px}.navtrans-view:hover .navtrans-arrow{background-position:-47px -70px}.navtrans-navlist-content{overflow:hidden}.navtrans-res{border-bottom:1px solid #E4E6E7;border-left:1px solid #E4E6E7;border-right:1px solid #E4E6E7}.navtrans-bus-icon{display:inline-block;float:left;background-image:url("+BMap.apiIconUrl+'wolfman/static/common/images/ui3/mo_banner_e1aa2e6.png);background-repeat:no-repeat}.navtrans-bus-icon.bus{width:13px;height:16px;background-position:-1px -192px;position:relative;top:4px}.navtrans-bus-icon.walk{width:16px;height:18px;background-position:-63px -189px;position:relative;top:2px;left:-2px}.navtrans-bus-desc{line-height:24px;margin-left:20px}.navtrans-busstation{color:#36c;font-weight:600}.tranroute-plan-list.expand .trans-title{border-bottom:1px solid #e4e6e7;background-color:#ebf1fb}.trans-plan-content tr td:hover .bus{background-position:-15px -192px}.trans-plan-content tr td:hover .walk{background-position:-82px -189px}.suggest-plan{position:absolute;background-color:#0C88E8;padding:0px 15px;line-height:20px;color:#fff;left:0px;top:0px}.suggest-plan-des{text-align:left;padding:29px 0px 0px 25px;font-size:13px;color:#000}.bmap-clearfix{*+height:1%}.bmap-clearfix:after{content:".";display:block;height:0px;clear:both;visibility:hidden}';cssString+=navCss;var citylistControlCss=".BMap_CityListCtrl{font-size:12px}.BMap_CityListCtrl a{text-decoration:none!important}.BMap_CityListCtrl a:hover{text-decoration:underline!important}.BMap_CityListCtrl .citylist_popup_main{border:1px solid #cdcdcd;z-index:2;position:relative;width:100%;height:100%;background:#fafafa;overflow:hidden;box-shadow:1px 1px 1px rgba(0,0,0,.1)}.ui_city_change_top .ui_city_change_inner,.ui_city_change_bottom .ui_city_change_inner{display:inline-block;height:24px;line-height:24px;border:1px solid #c4c7cc;background-color:#fff;padding:0 10px 0 10px;color:#000;display: flex;align-items: center;justify-content: space-between;}.ui_city_change_top .ui_city_change_inner i,.ui_city_change_bottom .ui_city_change_inner i{width: 16px;height: 16px;background-image:url("+BMap.apiUrlCdn+"images/citylistcontrol_arrow.png);background-repeat: no-repeat;background-size: 16px 16px;display: inline-block;-webkit-transition:all ease-in-out .15s;transition:all ease-in-out .15s;display:none9}.ui_city_change_click .ui_city_change_inner i,.ui_city_change_click_close .ui_city_change_inner i{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}.ui_city_change_top .ui_city_change_inner:hover,.ui_city_change_bottom .ui_city_change_inner:hover{text-decoration:none!important;color:#3d6dcc}.citylist_popup_main .citylist_ctr_title{background:#f9f9f9;border-bottom:1px solid #dadada;height:25px;line-height:25px;font-size:12px;color:#4c4c4c;padding-left:7px}.citylist_popup_main .city_content_top{position:relative;height:30px;padding:15px 10px 0px 10px;border-bottom:1px solid #CCC;margin:0px 10px}.citylist_popup_main .city_content_top .cur_city_info{display:inline-block;margin:0;padding:0;}#city_ctrl_form{position:absolute;right:12px;top:10px}#selCityWd{border:1px solid #ccc;height:20px;width:121px;line-height:20px;text-indent:4px;outline:none}#selCitySubmit:hover{background-position:-355px -98px}#selCitySubmit{float:right;background:url("+BMap.apiIconUrl+"wolfman/static/common/images/index_a2f1ac4.png) no-repeat scroll -302px -98px;height:24px;line-height:24px;width:48px;cursor:pointer;margin-left:5px;text-align:center}#sel_city_letter_list{padding-top:10px}#sel_city_letter_list a{white-space:nowrap;margin-right:11px;line-height:18px;font-size:13px;font-family:Arial,Helvetica,SimSun,sans-serif}.city_content_medium{padding:10px 10px 10px 10px;border-bottom:1px solid #CCC;margin:0px 10px}.city_content_bottom{padding:10px 10px 10px 8px;margin:9px 5px 5px 5px;height:218px;overflow-y:auto}#city_detail_table tr td{vertical-align:top}.sel_city_hotcity a{color:#3d6dcc}.sel_city_letter{padding:0 14px 0 3px}.sel_city_letter div{font-size:24px;line-height:24px;font-weight:700;color:#ccc;padding:0;margin:0;font-family:Arial,Helvetica,SimSun,sans-serif}.sel_city_sf{padding-right:8px;font-weight:700}.sel_city_sf a{white-space:nowrap;line-height:18px;color:#3d6dcc}.city_names_wrap{margin-bottom:9px}.sel_city_name{color:#3d6dcc;white-space:nowrap;margin-right:9px;line-height:18px;float:left}#popup_close{outline:none;position:absolute;z-index:50;top:7px;right:6px;width:12px;height:12px;background:url("+BMap.apiIconUrl+"wolfman/static/common/images/popup_close_15d2283.gif) no-repeat;border:0;cursor:pointer}";cssString+=citylistControlCss;var navCss30=".navtrans-cross-city-icon{display:inline-block;float:left;background-image:url("+MapConfig.imgPath+"cross-trans-icon.png);background-repeat:no-repeat}.navtrans-cross-city-icon.train{width:15px;height:15px;background-position:-15px -15px;position:relative;top:3px;right:1px;}.trans-plan-content tr td:hover .train{background-position:0px -15px}.navtrans-cross-city-icon.airplane{width:15px;height:15px;background-position:-15px 0;position:relative;top:4px;right:1px;}.trans-plan-content tr td:hover .airplane{background-position:0 0}.navtrans-bus-icon.drive{width:16px;height:18px;background-position:-28px -189px;position:relative;top:2px;left:-2px}.trans-plan-content tr td:hover .drive{background-position:-44px -189px}";cssString+=navCss30,addCssByStyle(cssString),window._map=2,window._tile=1,baidu.lang.inherits(MobileInfoWindow,Overlay,"MobileInfoWindow"),baidu.extend(MobileInfoWindow.prototype,{initialize:function(t){this._map=t,this.cc=document.createElement("div"),this.cc.className="iw",this.cc.style.cssText="position:absolute; line-height:28px; text-align:center; border:0px;";var e=this._content=document.createElement("div");return this.cc.appendChild(e),this.leftIcon=document.createElement("div"),this.leftIcon.className="iw_l",e.appendChild(this.leftIcon),this.rightIcon=document.createElement("div"),this.rightIcon.className="iw_r",e.appendChild(this.rightIcon),this.cen=document.createElement("a"),this.cen.setAttribute("target","_blank"),this.cen.className="iw_s iw_s0 iw_c",this.cen.innerHTML="<div class='iw_bg iw_cc'></div>",e.appendChild(this.cen),t.getPanes().floatPane.appendChild(this.cc),this.bind(),this.c=this.cen.getElementsByTagName("DIV")[0],this.leftIcon.style.display="block",this.rightIcon.style.display="block",this.cc},bind:function(){var t=this;baidu.on(t.leftIcon,"click",function(e){t.nbSearch(),e.preventDefault(),e.stopPropagation()}),baidu.on(t.rightIcon,"click",function(e){t.lineSearch(),e.preventDefault(),e.stopPropagation()}),baidu.on(t.cen,"click",function(t){t.stopPropagation()});var e=["touchstart","touchmove","touchend","gesturestart","gesturechange","mousedown","mouseout","mouseover","click","mousewheel","keydown","selectstart"];baidu.each(e,function(e){baidu.on(t.cen,e,stopBubble),baidu.on(t.leftIcon,e,stopBubble),baidu.on(t.rightIcon,e,stopBubble)})},_setOverflow:function(){},_resetOverflow:function(){},getPosition:function(){return new Point(this._mPoint.lng,this._mPoint.lat)},setPosition:function(){},isOpen:function(){return this.isOn},hide:function(t){baidu.dom.hide(this.domElement),this.cc.style.display="none",this.isOn=!1},show:function(t){t&&(this.point=t),baidu.dom.show(this.domElement),this.cc.style.display="block",this.isOn=!0,this._map.temp.infoWin=this},setInfoWinToVisible:function(){var t=this._map,e=this._point,i=this._content.offsetWidth,n=this._content.offsetHeight,o=t.getSize(),a=i/2+16,r=n/2+78;if(this._point){var s=e,l=new Pixel(0,0);s.x<a?l.x=a-s.x:o.width-s.x-8<a&&(l.x=o.width-s.x-8-a),s.y<r?l.y=r-s.y:o.height-s.y<60&&(l.y=o.height-s.y-60),0==l.x&&0==l.y||t.panBy(l.x,l.y)}},switchTo:function(t){var e=this;this._map;this._point=t.point,this._name=t.name,this._uid=t.uid,this._offset=t.offset,this._platformX=parseInt(this._map.platform.style.left),this._platformY=parseInt(this._map.platform.style.top),this._mPoint=this._map.pixelToPoint(this._point),e.show(),e.resetPoiIW(),e.setInfoWinPos()},resetIW:function(t,e){var i=this;i._content.className="iw_rt",i.show(),i.setInfoWinPos()},resetPoiIW:function(){var t=this,e="http://map.baidu.com/place/detail?uid="+this._uid+"&output=html&source=jsapi&operate=mapclick&clicktype=vector";t.cen.setAttribute("href",e),t._content.className="iw_rt",t.c.innerHTML="<div class='iw_poir'><div class='crl_ar' style='white-space:nowrap;text-overflow:ellipsis;overflow:hidden;'>"+this._name+"</div></div>",t.draw()},setInfoWinPos:function(){var t=this;t.infoPosTime||(t.infoPosTime=setTimeout(function(){t.setInfoWinToVisible(),clearTimeout(t.infoPosTime),t.infoPosTime=null},100))},zoomText:function(){var t=$("popList");this.c.textContent.length>43&&(this.c.textContent.length>=58?t.addClass("zoom2"):t.addClass("zoom1"))},clearC:function(){this.c.innerHTML=""},draw:function(){if(this._point){var t=this._point,e=t.x,i=t.y;this.cc.style.left=e-98-this._platformX+"px",this.cc.style.top=i-62-this._platformY+"px"}},itmClick:function(){isDesktop()&&(location.href="http://map.baidu.com/detail?qt=ninf&wd=&detail=scope&uid="+this._uid),isMobile()&&(location.href="http://map.baidu.com/mobile/#place/detail/qt=inf&c=131&uid="+this._uid)},nbSearch:function(){var t=(this._map.pixelToPoint(this._point),this._map.getZoom()),e=Math.pow(2,18-t),i=this._map.getSize(),n=this._map.mercatorCenter,o=n.lng+e*(this._point.x-i.width/2),a=n.lat-e*(this._point.y-i.height/2),r={nb_x:o,nb_y:a,center_name:this._name,from:"searchnearby"},s="http://map.baidu.com/mobile/?third_party=uri_api#index/searchnearby/foo=bar/"+this.jsonToUrl(r);window.open(s,"_blank")},lineSearch:function(){var t=(this._mPoint.lat,this._mPoint.lng,this._map.cityName),e=this._map.vectorMapEnabled()?"&operate=vectorclick":"&operate=mapclick",i=BMap.apiUrl+"direction?origin=我的位置&destination="+this._name+"&mode=navigation&output=html&src=jsapi"+e+"&region="+t;_addStat(STAT.MOBILE_INFO_WINDOW_NAV_LINK_MOBILE),window.open(i,"_blank")},jsonToUrl:function(t){if(!t)return"";var e=[];for(var i in t)e.push(i+"="+encodeURIComponent(t[i]));return e.join("&")}}),BMap.MobileInfoWindow=MobileInfoWindow,window.arrFeatureStyles={1:[3,-1497178369,[2,-1497178369,1,0,0,[],0,0]],10:[2,-1365210369,2,2,2,[4,3],1,0],100:[2,-237677057,8,2,2,[],2,0],1000:[2,-843149313,8,0,2,[],1,0],1001:[2,-843149313,12,0,2,[],1,0],1002:[2,-237677057,3,0,2,[],1,0],1003:[2,-237677057,3,0,2,[],1,0],1004:[2,-237677057,3,0,2,[],1,0],1005:[2,-237677057,3,0,2,[],1,0],1006:[2,-237677057,3,0,2,[],1,0],1007:[2,-237677057,4,0,2,[],1,0],1008:[2,-237677057,8,0,2,[],1,0],1009:[2,-237677057,10,0,2,[],1,0],101:[2,-237677057,10,2,2,[],2,0],1010:[2,-237677057,12,0,2,[],1,0],1011:[2,-237677057,14,0,2,[],1,0],1012:[2,-559393793,3,0,2,[],1,0],1013:[2,-559393793,3,0,2,[],1,0],1014:[2,-559393793,3,0,2,[],1,0],1015:[2,-559393793,4,0,2,[],1,0],1016:[2,-559393793,4,0,2,[],1,0],1017:[2,-559393793,5,0,2,[],1,0],1018:[2,-559393793,10,0,2,[],1,0],1019:[2,-559393793,12,0,2,[],1,0],102:[2,-559393793,3,0,2,[],1,0],1020:[2,-559393793,14,0,2,[],1,0],1021:[2,-559393793,16,0,2,[],1,0],1022:[2,-303174145,1,0,2,[],1,0],1023:[2,-454761217,3,0,2,[],1,0],1024:[2,-454761217,4,0,2,[],1,0],1025:[2,-758265345,5,0,2,[],1,0],1026:[2,-758265345,7,0,2,[],1,0],1027:[2,-758265345,9,0,2,[],1,0],1028:[2,-455423489,3,0,2,[],1,0],1029:[2,-455423489,3,0,2,[],1,0],103:[2,-559393793,3,0,2,[],1,0],1030:[2,-455423489,3,0,2,[],1,0],1031:[2,-455423489,3,0,2,[],1,0],1032:[2,-843149313,3,0,2,[],1,0],1033:[2,-843149313,4,0,2,[],1,0],1034:[2,-843149313,5,0,2,[],1,0],1035:[2,-843149313,7,0,2,[],1,0],1036:[2,-843149313,9,0,2,[],1,0],1037:[2,-455423489,3,0,2,[],1,0],1038:[2,-455423489,3,0,2,[],1,0],1039:[2,-455423489,3,0,2,[],1,0],104:[2,-559393793,3,0,2,[],1,0],1040:[2,-455423489,3,0,2,[],1,0],1041:[2,-843149313,3,0,2,[],1,0],1042:[2,-843149313,5,0,2,[],1,0],1043:[2,-843149313,6,0,2,[],1,0],1044:[2,-843149313,8,0,2,[],1,0],1045:[2,-843149313,10,0,2,[],1,0],1046:[2,-237677057,3,0,2,[],1,0],1047:[2,-237677057,3,0,2,[],1,0],1048:[2,-237677057,3,0,2,[],1,0],1049:[2,-237677057,3,0,2,[],1,0],105:[2,-559393793,3,0,2,[],1,0],1050:[2,-237677057,4,0,2,[],1,0],1051:[2,-237677057,5,0,2,[],1,0],1052:[2,-237677057,6,0,2,[],1,0],1053:[2,-237677057,8,0,2,[],1,0],1054:[2,-237677057,10,0,2,[],1,0],1055:[2,-593543425,3,0,2,[],1,0],1056:[2,-593543425,3,0,2,[],1,0],1057:[2,-593543425,3,0,2,[],1,0],1058:[2,-593543425,3,0,2,[],1,0],1059:[2,-593543425,4,0,2,[],1,0],106:[2,-559393793,4,2,2,[],1,0],1060:[2,-593543425,5,0,2,[],1,0],1061:[2,-593543425,6,0,2,[],1,0],1062:[2,-593543425,8,0,2,[],1,0],1063:[2,-593543425,10,0,2,[],1,0],1064:[2,-559393793,3,0,2,[],1,0],1065:[2,-559393793,3,0,2,[],1,0],1066:[2,-559393793,3,0,2,[],1,0],1067:[2,-559393793,3,0,2,[],1,0],1068:[2,-559393793,4,0,2,[],1,0],1069:[2,-559393793,5,0,2,[],1,0],107:[2,-559393793,6,2,2,[],1,0],1070:[2,-559393793,6,0,2,[],1,0],1071:[2,-559393793,8,0,2,[],1,0],1072:[2,-559393793,10,0,2,[],1,0],1073:[2,1553057279,1,0,2,[10,11],1,0],1074:[2,-303174145,1,0,2,[],1,0],1075:[2,-454761217,3,0,2,[],1,0],1076:[2,-454761217,4,0,2,[],1,0],1077:[2,-758265345,5,0,2,[],1,0],1078:[2,-758265345,7,0,2,[],1,0],1079:[2,-758265345,9,0,2,[],1,0],108:[2,-559393793,10,2,2,[],1,0],1080:[2,-455423489,3,0,2,[],1,0],1081:[2,-455423489,3,0,2,[],1,0],1082:[2,-455423489,3,0,2,[],1,0],1083:[2,-455423489,3,0,2,[],1,0],1084:[2,-843149313,3,0,2,[],1,0],1085:[2,-843149313,5,0,2,[],1,0],1086:[2,-843149313,6,0,2,[],1,0],1087:[2,-843149313,8,0,2,[],1,0],1088:[2,-843149313,10,0,2,[],1,0],1089:[2,-455423489,3,0,2,[],1,0],109:[2,-593543425,3,0,2,[],0,0],1090:[2,-455423489,3,0,2,[],1,0],1091:[2,-455423489,3,0,2,[],1,0],1092:[2,-455423489,3,0,2,[],1,0],1093:[2,-843149313,3,0,2,[],1,0],1094:[2,-843149313,5,0,2,[],1,0],1095:[2,-843149313,6,0,2,[],1,0],1096:[2,-843149313,8,0,2,[],1,0],1097:[2,-843149313,10,0,2,[],1,0],1098:[2,-237677057,3,0,2,[],1,0],1099:[2,-237677057,3,0,2,[],1,0],11:[2,-1067009,4,2,2,[],0,0],110:[2,-593543425,3,0,2,[],0,0],1100:[2,-237677057,3,0,2,[],1,0],1101:[2,-237677057,3,0,2,[],1,0],1102:[2,-237677057,3,0,2,[],1,0],1103:[2,-237677057,4,0,2,[],1,0],1104:[2,-237677057,5,0,2,[],1,0],1105:[2,-237677057,6,0,2,[],1,0],1106:[2,-237677057,7,0,2,[],1,0],1107:[2,-237677057,8,0,2,[],1,0],1108:[2,-559393793,3,0,2,[],1,0],1109:[2,-559393793,3,0,2,[],1,0],111:[2,-593543425,3,0,2,[],0,0],1110:[2,-559393793,3,0,2,[],1,0],1111:[2,-559393793,3,0,2,[],1,0],1112:[2,-559393793,4,0,2,[],1,0],1113:[2,-559393793,6,0,2,[],1,0],1114:[2,-559393793,7,0,2,[],1,0],1115:[2,-559393793,8,0,2,[],1,0],1116:[2,-559393793,9,0,2,[],1,0],1117:[1,"biaopai_guodao",[5,"",9,-1,0,-1]],1118:[1,"biaopai_guodao",[5,"",9,-1,0,-1]],1119:[1,"biaopai_guodao",[5,"",9,-1,0,-1]],112:[2,-593543425,3,0,2,[],0,0],1120:[1,"biaopai_guodao",[5,"",9,-1,0,-1]],1121:[1,"biaopai_guodao",[5,"",9,-1,0,-1]],1122:[1,"biaopai_shengdao",[5,"",9,-1,0,-1]],1123:[1,"biaopai_shengdao",[5,"",9,-1,0,-1]],1124:[1,"biaopai_shengdao",[5,"",9,-1,0,-1]],1125:[1,"biaopai_shengdao",[5,"",9,-1,0,-1]],1126:[1,"biaopai_shengdao",[5,"",9,-1,0,-1]],1127:[1,"biaopai_xiandao",[5,"",9,1835888127,0,-1]],1128:[1,"biaopai_xiandao",[5,"",9,1835888127,0,-1]],1129:[1,"biaopai_xiandao",[5,"",9,1835888127,0,-1]],113:[2,-593543425,4,2,2,[],0,0],1130:[1,"biaopai_xiandao",[5,"",9,1835888127,0,-1]],1131:[1,"biaopai_gaosu1",[5,"",9,-1,32,-1]],1132:[1,"biaopai_gaosu1",[5,"",9,-1,32,-1]],1133:[1,"biaopai_gaosu1",[5,"",9,-1,32,-1]],1134:[1,"biaopai_gaosu1",[5,"",9,-1,32,-1]],1135:[1,"biaopai_gaosu1",[5,"",9,-1,32,-1]],1136:[1,"biaopai_gaosu1",[5,"",9,-1,32,-1]],1137:[1,"biaopai_gaosu2",[5,"",9,-1,32,-1]],1138:[1,"biaopai_gaosu2",[5,"",9,-1,32,-1]],1139:[1,"biaopai_gaosu2",[5,"",9,-1,32,-1]],114:[2,-593543425,6,2,2,[],0,0],1140:[1,"biaopai_gaosu2",[5,"",9,-1,32,-1]],1141:[1,"biaopai_gaosu2",[5,"",9,-1,32,-1]],1142:[1,"biaopai_gaosu2",[5,"",9,-1,32,-1]],1143:[5,"",10,255,16,-1],1144:[5,"",11,255,16,-1],1145:[5,"",11,255,16,-1],1146:[5,"",11,255,16,-1],1147:[5,"",12,255,16,-1],1148:[5,"",12,-1806167297,16,-16928257],1149:[5,"",13,-1806167297,16,-16928257],115:[2,-593543425,10,2,2,[],0,0],1150:[5,"",13,-1806167297,16,-16928257],1151:[5,"",13,-1806167297,16,-16928257],1152:[5,"",14,-1806167297,16,-16928257],1153:[5,"",12,-1806167297,16,-16928257],1154:[5,"",13,-1806167297,16,-16928257],1155:[5,"",13,-1806167297,16,-16928257],1156:[5,"",13,-1806167297,16,-16928257],1157:[5,"",14,-1806167297,16,-16928257],1158:[5,"",11,-1789324545,16,-559873],1159:[5,"",12,-1789324545,16,-559873],116:[2,-559393793,3,0,2,[],0,0],1160:[5,"",13,-1789324545,16,-559873],1161:[5,"",13,-1789324545,16,-559873],1162:[5,"",13,-1789324545,16,-559873],1163:[5,"",14,-1789324545,16,-559873],1164:[5,"",11,-1687872257,16,-2201857],1165:[5,"",12,-1687872257,16,-2201857],1166:[5,"",13,-1687872257,16,-2201857],1167:[5,"",13,-1687872257,16,-2201857],1168:[5,"",13,-1687872257,16,-2201857],1169:[5,"",14,-1687872257,16,-2201857],117:[2,-559393793,3,0,2,[],0,0],1170:[5,"",12,2117931775,16,-20748801],1171:[5,"",12,2117931775,16,-20748801],1172:[5,"",14,2117931775,16,-20748801],1173:[5,"",14,2117931775,16,-20748801],1174:[5,"",14,2117931775,16,-20748801],1175:[5,"",15,2117931775,16,-20748801],1176:[5,"",11,-1687872257,16,-2201857],1177:[5,"",11,-1687872257,16,-2201857],1178:[5,"",13,-1687872257,16,-2201857],1179:[5,"",13,-1687872257,16,-2201857],118:[2,-559393793,3,0,2,[],0,0],1180:[5,"",13,-1687872257,16,-2201857],1181:[5,"",14,-1687872257,16,-2201857],1182:[5,"",10,255,16,-1],1183:[5,"",11,255,16,-1],1184:[5,"",11,255,16,-1],1185:[5,"",12,255,16,-1],1186:[5,"",12,-1806167297,16,-16928257],1187:[5,"",13,-1806167297,16,-16928257],1188:[5,"",13,-1806167297,16,-16928257],1189:[5,"",13,-1806167297,16,-16928257],119:[2,-559393793,3,0,2,[],0,0],1190:[5,"",14,-1806167297,16,-16928257],1191:[5,"",12,-1806167297,16,-16928257],1192:[5,"",13,-1806167297,16,-16928257],1193:[5,"",13,-1806167297,16,-16928257],1194:[5,"",13,-1806167297,16,-16928257],1195:[5,"",14,-1806167297,16,-16928257],1196:[5,"",11,-1789324545,16,-559873],1197:[5,"",12,-1789324545,16,-559873],1198:[5,"",13,-1789324545,16,-559873],1199:[5,"",13,-1789324545,16,-559873],12:[2,-1067009,4,2,2,[],0,0],120:[2,-559393793,4,2,2,[],0,0],1200:[5,"",13,-1789324545,16,-559873],1201:[5,"",14,-1789324545,16,-559873],1202:[5,"",12,-1687872257,16,-2201857],1203:[5,"",13,-1687872257,16,-2201857],1204:[5,"",13,-1687872257,16,-2201857],1205:[5,"",13,-1687872257,16,-2201857],1206:[5,"",14,-1687872257,16,-2201857],1207:[5,"",11,255551231,16,-1],1208:[5,"",11,255551231,16,-1],1209:[5,"",11,255551231,16,-1],121:[2,-559393793,6,2,2,[],0,0],1210:[5,"",11,255,16,-1],1211:[5,"",11,255,16,-1],1212:[5,"",12,255,16,-1],1213:[5,"",13,-1806167297,16,-16928257],1214:[5,"",14,-1806167297,16,-16928257],1215:[5,"",13,-1806167297,16,-16928257],1216:[5,"",14,-1806167297,16,-16928257],1217:[5,"",13,-1789324545,16,-559873],1218:[5,"",14,-1789324545,16,-559873],1219:[5,"",13,-1687872257,16,-2201857],122:[2,-559393793,10,2,2,[],0,0],1220:[5,"",14,-1687872257,16,-2201857],1221:[5,"",11,255,16,-1],1222:[5,"",12,255,16,-1],1223:[5,"",13,-1806167297,16,-16928257],1224:[5,"",13,-1806167297,16,-16928257],1225:[5,"",14,-1806167297,16,-16928257],1226:[5,"",13,-1806167297,16,-16928257],1227:[5,"",13,-1806167297,16,-16928257],1228:[5,"",14,-1806167297,16,-16928257],1229:[5,"",13,-1789324545,16,-559873],123:[2,-303174145,1,2,2,[],16,0],1230:[5,"",13,-1789324545,16,-559873],1231:[5,"",14,-1789324545,16,-559873],1232:[5,"",13,-1687872257,16,-2201857],1233:[5,"",13,-1687872257,16,-2201857],1234:[5,"",14,-1687872257,16,-2201857],1235:[5,"",12,1613110527,16,-224504833],1236:[5,"",12,1613110527,16,-224504833],1237:[5,"",14,1613110527,16,-224504833],1238:[5,"",12,-1856301825,16,-3905793],1239:[5,"",12,-1856301825,16,-3905793],124:[2,-454761217,3,2,2,[],16,0],1240:[5,"",14,-1856301825,16,-3905793],1241:[5,"",11,255,16,-1],1242:[5,"",12,255,16,-1],1243:[5,"",13,-1806167297,16,-16928257],1244:[5,"",14,-1806167297,16,-16928257],1245:[5,"",13,-1806167297,16,-16928257],1246:[5,"",14,-1806167297,16,-16928257],1247:[5,"",13,-1789324545,16,-559873],1248:[5,"",14,-1789324545,16,-559873],1249:[5,"",13,-1687872257,16,-2201857],125:[2,-454761217,3,2,2,[],16,0],1250:[5,"",14,-1687872257,16,-2201857],1251:[2,89,1.5,0,0,[],0,1],1252:[2,-1802201857,2,2,2,[],0,0],1253:[2,-1802201857,3,2,2,[],0,0],1254:[2,-1802201857,5,2,2,[],0,0],1255:[2,-1,1.5,0,2,[10,11],1,0],1256:[2,-1,2.5,0,2,[15,16],1,0],1257:[2,-1,4.5,0,2,[25,26],1,0],1258:[2,-129,3,2,2,[9,2],1,0],1259:[2,-129,3,2,2,[9,2],1,0],126:[2,-758265345,4,2,2,[1,6],1,0],1260:[2,-129,3,2,2,[9,2],1,0],1261:[2,-2038003969,1,2,2,[7,4],1,0],1262:[2,1852731135,1,2,2,[7,4],1,0],1263:[2,1852731135,1,2,2,[7,4],1,0],1264:[2,-1,4,2,2,[],1,0],1265:[2,-1,4,2,2,[],1,0],1266:[2,-1,4,2,2,[],1,0],1267:[2,-1,4,2,2,[],1,0],1268:[2,-256,4,2,2,[],1,0],1269:[2,-256,5,2,2,[],1,0],127:[2,-758265345,5,2,2,[1,6],1,0],1270:[2,-256,7,2,2,[],1,0],1271:[2,-1,4,2,2,[],1,0],1272:[2,-1,4,2,2,[],1,0],1273:[2,-1,4,2,2,[],1,0],1274:[2,-1,4,2,2,[],1,0],1275:[2,-256,4,2,2,[],1,0],1276:[2,-256,5,2,2,[],1,0],1277:[2,-256,7,2,2,[],1,0],1278:[2,-1,4,2,2,[],1,0],1279:[2,-1,4,2,2,[],1,0],128:[2,-758265345,7,2,2,[1,10],1,0],1280:[2,-1,4,2,2,[],1,0],1281:[2,-1,4,2,2,[],1,0],1282:[2,-256,4,2,2,[],1,0],1283:[2,-256,5,2,2,[],1,0],1284:[2,-256,7,2,2,[],1,0],1285:[2,-1,4,2,2,[],1,0],1286:[2,-1,4,2,2,[],1,0],1287:[2,-1,4,2,2,[],1,0],1288:[2,-1,4,2,2,[],1,0],1289:[2,-256,4,2,2,[],1,0],129:[2,-758265345,7,2,2,[1,6],1,0],1290:[2,-256,5,2,2,[],1,0],1291:[2,-256,7,2,2,[],1,0],1292:[2,-1,4,2,2,[],1,0],1293:[2,-1,4,2,2,[],1,0],1294:[2,-1,4,2,2,[],1,0],1295:[2,-1,4,2,2,[],1,0],1296:[2,-256,4,2,2,[],1,0],1297:[2,-256,5,2,2,[],1,0],1298:[2,-256,7,2,2,[],1,0],1299:[2,-1,4,2,2,[],1,0],13:[2,-1297845761,2,2,2,[],0,0],130:[2,-303174145,1,2,2,[],16,0],1300:[2,-1,4,2,2,[],1,0],1301:[2,-1,4,2,2,[],1,0],1302:[2,-1,4,2,2,[],1,0],1303:[2,-256,4,2,2,[],1,0],1304:[2,-256,5,2,2,[],1,0],1305:[2,-256,7,2,2,[],1,0],1306:[2,-1,4,2,2,[],1,0],1307:[2,-1,4,2,2,[],1,0],1308:[2,-1,4,2,2,[],1,0],1309:[2,-1,4,2,2,[],1,0],131:[2,-454761217,4,2,2,[],16,0],1310:[2,-256,4,2,2,[],1,0],1311:[2,-256,5,2,2,[],1,0],1312:[2,-256,7,2,2,[],1,0],1313:[2,-1,4,2,2,[],1,0],1314:[2,-1,4,2,2,[],1,0],1315:[2,-1,4,2,2,[],1,0],1316:[2,-1,4,2,2,[],1,0],1317:[2,-256,4,2,2,[],1,0],1318:[2,-256,5,2,2,[],1,0],1319:[2,-256,7,2,2,[],1,0],132:[2,-454761217,5,2,2,[],16,0],1320:[2,-1,4,2,2,[],1,0],1321:[2,-1,4,2,2,[],1,0],1322:[2,-1,4,2,2,[],1,0],1323:[2,-1,4,2,2,[],1,0],1324:[2,-256,4,2,2,[],1,0],1325:[2,-256,5,2,2,[],1,0],1326:[2,-256,7,2,2,[],1,0],1327:[2,-1,4,2,2,[],1,0],1328:[2,-1,4,2,2,[],1,0],1329:[2,-1,4,2,2,[],1,0],133:[2,-758265345,6,2,2,[],16,0],1330:[2,-1,4,2,2,[],1,0],1331:[2,-256,4,2,2,[],1,0],1332:[2,-256,5,2,2,[],1,0],1333:[2,-256,7,2,2,[],1,0],1334:[2,-1,4,2,2,[],1,0],1335:[2,-1,4,2,2,[],1,0],1336:[2,-1,4,2,2,[],1,0],1337:[2,-1,4,2,2,[],1,0],1338:[2,-256,4,2,2,[],1,0],1339:[2,-256,5,2,2,[],1,0],134:[2,-758265345,8,2,2,[],16,0],1340:[2,-256,7,2,2,[],1,0],1341:[2,-1,4,2,2,[],1,0],1342:[2,-1,4,2,2,[],1,0],1343:[2,-1,4,2,2,[],1,0],1344:[2,-1,4,2,2,[],1,0],1345:[2,-256,4,2,2,[],1,0],1346:[2,-256,5,2,2,[],1,0],1347:[2,-256,7,2,2,[],1,0],1348:[2,-1,4,2,2,[],1,0],1349:[2,-1,4,2,2,[],1,0],135:[2,-758265345,10,2,2,[],16,0],1350:[2,-1,4,2,2,[],1,0],1351:[2,-1,4,2,2,[],1,0],1352:[2,-256,4,2,2,[],1,0],1353:[2,-256,5,2,2,[],1,0],1354:[2,-256,7,2,2,[],1,0],1355:[2,-1,4,2,2,[],1,0],1356:[2,-1,4,2,2,[],1,0],1357:[2,-1,4,2,2,[],1,0],1358:[2,-1,4,2,2,[],1,0],1359:[2,-256,4,2,2,[],1,0],136:[2,-758265345,10,2,2,[],16,0],1360:[2,-256,5,2,2,[],1,0],1361:[2,-256,7,2,2,[],1,0],1362:[2,-1,4,2,2,[],1,0],1363:[2,-1,4,2,2,[],1,0],1364:[2,-1,4,2,2,[],1,0],1365:[2,-1,4,2,2,[],1,0],1366:[2,-256,4,2,2,[],1,0],1367:[2,-256,5,2,2,[],1,0],1368:[2,-256,7,2,2,[],1,0],1369:[2,-1,4,2,2,[],1,0],137:[2,-455423489,3,2,2,[],8,0],1370:[2,-1,4,2,2,[],1,0],1371:[2,-1,4,2,2,[],1,0],1372:[2,-1,4,2,2,[],1,0],1373:[2,-256,4,2,2,[],1,0],1374:[2,-256,5,2,2,[],1,0],1375:[2,-256,7,2,2,[],1,0],1376:[2,-481736193,2,2,2,[],1,0],1377:[2,-481736193,2,2,2,[],1,0],1378:[2,-481736193,2,2,2,[],1,0],1379:[2,-481736193,2,2,2,[],1,0],138:[2,-455423489,3,2,2,[],8,0],1380:[2,-481736448,2,2,2,[],1,0],1381:[2,-481736448,3,2,2,[],1,0],1382:[2,-481736448,5,2,2,[],1,0],1383:[2,224369151,2,2,2,[],1,0],1384:[2,224369151,2,2,2,[],1,0],1385:[2,224369151,2,2,2,[],1,0],1386:[2,224369151,2,2,2,[],1,0],1387:[2,224368896,2,2,2,[],1,0],1388:[2,224368896,3,2,2,[],1,0],1389:[2,224368896,5,2,2,[],1,0],139:[2,-455423489,4,2,2,[],8,0],1390:[2,1304012031,2,2,2,[],1,0],1391:[2,1304012031,2,2,2,[],1,0],1392:[2,1304012031,2,2,2,[],1,0],1393:[2,1304012031,2,2,2,[],1,0],1394:[2,1304011776,2,2,2,[],1,0],1395:[2,1304011776,3,2,2,[],1,0],1396:[2,1304011776,5,2,2,[],1,0],1397:[2,-864374273,2,2,2,[],1,0],1398:[2,-864374273,2,2,2,[],1,0],1399:[2,-864374273,2,2,2,[],1,0],14:[2,-1297845761,2,2,2,[8,8],1,0],140:[2,-455423489,4,2,2,[],8,0],1400:[2,-864374273,2,2,2,[],1,0],1401:[2,-864374528,2,2,2,[],1,0],1402:[2,-864374528,3,2,2,[],1,0],1403:[2,-864374528,5,2,2,[],1,0],1404:[2,-1332988673,2,2,2,[],1,0],1405:[2,-1332988673,2,2,2,[],1,0],1406:[2,-1332988673,2,2,2,[],1,0],1407:[2,-1332988673,2,2,2,[],1,0],1408:[2,-1332988928,2,2,2,[],1,0],1409:[2,-1332988928,3,2,2,[],1,0],141:[2,-843149313,6,2,2,[],8,0],1410:[2,-1332988928,5,2,2,[],1,0],1411:[2,882914559,2,2,2,[],1,0],1412:[2,882914559,2,2,2,[],1,0],1413:[2,882914559,2,2,2,[],1,0],1414:[2,882914559,2,2,2,[],1,0],1415:[2,882914304,2,2,2,[],1,0],1416:[2,882914304,3,2,2,[],1,0],1417:[2,882914304,5,2,2,[],1,0],1418:[2,1806911487,2,2,2,[],1,0],1419:[2,1806911487,2,2,2,[],1,0],142:[2,-843149313,6,2,2,[],8,0],1420:[2,1806911487,2,2,2,[],1,0],1421:[2,1806911487,2,2,2,[],1,0],1422:[2,1806911232,2,2,2,[],1,0],1423:[2,1806911232,3,2,2,[],1,0],1424:[2,1806911232,5,2,2,[],1,0],1425:[2,27450111,2,2,2,[],1,0],1426:[2,27450111,2,2,2,[],1,0],1427:[2,27450111,2,2,2,[],1,0],1428:[2,27450111,2,2,2,[],1,0],1429:[2,27449856,2,2,2,[],1,0],143:[2,-843149313,8,2,2,[],8,0],1430:[2,27449856,3,2,2,[],1,0],1431:[2,27449856,5,2,2,[],1,0],1432:[2,-105309697,2,2,2,[],1,0],1433:[2,-105309697,2,2,2,[],1,0],1434:[2,-105309697,2,2,2,[],1,0],1435:[2,-105309697,2,2,2,[],1,0],1436:[2,-105309952,2,2,2,[],1,0],1437:[2,-105309952,3,2,2,[],1,0],1438:[2,-105309952,5,2,2,[],1,0],1439:[2,-1721303041,2,2,2,[],1,0],144:[2,-843149313,10,2,2,[],8,0],1440:[2,-1721303041,2,2,2,[],1,0],1441:[2,-1721303041,2,2,2,[],1,0],1442:[2,-1721303041,2,2,2,[],1,0],1443:[2,-1721303296,2,2,2,[],1,0],1444:[2,-1721303296,3,2,2,[],1,0],1445:[2,-1721303296,5,2,2,[],1,0],1446:[2,2119794687,2,2,2,[],1,0],1447:[2,2119794687,2,2,2,[],1,0],1448:[2,2119794687,2,2,2,[],1,0],1449:[2,2119794687,2,2,2,[],1,0],145:[2,-843149313,14,2,2,[],8,0],1450:[2,2119794432,2,2,2,[],1,0],1451:[2,2119794432,3,2,2,[],1,0],1452:[2,2119794432,5,2,2,[],1,0],1453:[2,-701218305,2,2,2,[],1,0],1454:[2,-701218305,2,2,2,[],1,0],1455:[2,-701218305,2,2,2,[],1,0],1456:[2,-701218305,2,2,2,[],1,0],1457:[2,-701218560,2,2,2,[],1,0],1458:[2,-701218560,3,2,2,[],1,0],1459:[2,-701218560,5,2,2,[],1,0],146:[2,-455423489,3,2,2,[],4,0],1460:[2,-4508673,2,2,2,[],1,0],1461:[2,-4508673,2,2,2,[],1,0],1462:[2,-4508673,2,2,2,[],1,0],1463:[2,-4508673,2,2,2,[],1,0],1464:[2,-4508928,2,2,2,[],1,0],1465:[2,-4508928,3,2,2,[],1,0],1466:[2,-4508928,5,2,2,[],1,0],1467:[2,-1287151105,2,2,2,[],1,0],1468:[2,-1287151105,2,2,2,[],1,0],1469:[2,-1287151105,2,2,2,[],1,0],147:[2,-455423489,3,2,2,[],4,0],1470:[2,-1287151105,2,2,2,[],1,0],1471:[2,-1287151360,2,2,2,[],1,0],1472:[2,-1287151360,3,2,2,[],1,0],1473:[2,-1287151360,5,2,2,[],1,0],1474:[2,1304012031,2,2,2,[],1,0],1475:[2,1304012031,2,2,2,[],1,0],1476:[2,1304012031,2,2,2,[],1,0],1477:[2,1304012031,2,2,2,[],1,0],1478:[2,1304011776,2,2,2,[],1,0],1479:[2,1304011776,3,2,2,[],1,0],148:[2,-455423489,4,2,2,[],4,0],1480:[2,1304011776,5,2,2,[],1,0],1481:[2,-1721025025,2,2,2,[],1,0],1482:[2,-1721025025,2,2,2,[],1,0],1483:[2,-1721025025,2,2,2,[],1,0],1484:[2,-1721025025,2,2,2,[],1,0],1485:[2,-1721025280,2,2,2,[],1,0],1486:[2,-1721025280,3,2,2,[],1,0],1487:[2,-1721025280,5,2,2,[],1,0],1488:[2,-1,4,2,2,[],1,0],1489:[2,-1,4,2,2,[],1,0],149:[2,-455423489,4,2,2,[],4,0],1490:[2,-1,4,2,2,[],1,0],1491:[2,-1,4,2,2,[],1,0],1492:[2,-256,4,2,2,[],1,0],1493:[2,-256,5,2,2,[],1,0],1494:[2,-256,7,2,2,[],1,0],1495:[2,-1,4,2,2,[],1,0],1496:[2,-1,4,2,2,[],1,0],1497:[2,-1,4,2,2,[],1,0],1498:[2,-1,4,2,2,[],1,0],1499:[2,-256,4,2,2,[],1,0],15:[2,-1297845761,2,2,2,[],0,0],150:[2,-843149313,4,2,2,[],4,0],1500:[2,-256,5,2,2,[],1,0],1501:[2,-256,7,2,2,[],1,0],1502:[2,-1,4,2,2,[],1,0],1503:[2,-1,4,2,2,[],1,0],1504:[2,-1,4,2,2,[],1,0],1505:[2,-1,4,2,2,[],1,0],1506:[2,-256,4,2,2,[],1,0],1507:[2,-256,5,2,2,[],1,0],1508:[2,-256,7,2,2,[],1,0],1509:[2,-1,4,2,2,[],1,0],151:[2,-843149313,6,2,2,[],4,0],1510:[2,-1,4,2,2,[],1,0],1511:[2,-1,4,2,2,[],1,0],1512:[2,-1,4,2,2,[],1,0],1513:[2,-256,4,2,2,[],1,0],1514:[2,-256,5,2,2,[],1,0],1515:[2,-256,7,2,2,[],1,0],1516:[2,-1,4,2,2,[],1,0],1517:[2,-1,4,2,2,[],1,0],1518:[2,-1,4,2,2,[],1,0],1519:[2,-1,4,2,2,[],1,0],152:[2,-843149313,8,2,2,[],4,0],1520:[2,-256,4,2,2,[],1,0],1521:[2,-256,5,2,2,[],1,0],1522:[2,-256,7,2,2,[],1,0],1523:[2,-1,4,2,2,[],1,0],1524:[2,-1,4,2,2,[],1,0],1525:[2,-1,4,2,2,[],1,0],1526:[2,-1,4,2,2,[],1,0],1527:[2,-256,4,2,2,[],1,0],1528:[2,-256,5,2,2,[],1,0],1529:[2,-256,7,2,2,[],1,0],153:[2,-843149313,10,2,2,[],4,0],1530:[2,-1,4,2,2,[],1,0],1531:[2,-1,4,2,2,[],1,0],1532:[2,-1,4,2,2,[],1,0],1533:[2,-1,4,2,2,[],1,0],1534:[2,-256,4,2,2,[],1,0],1535:[2,-256,5,2,2,[],1,0],1536:[2,-256,7,2,2,[],1,0],1537:[2,-1,4,2,2,[],1,0],1538:[2,-1,4,2,2,[],1,0],1539:[2,-1,4,2,2,[],1,0],154:[2,-843149313,14,2,2,[],4,0],1540:[2,-1,4,2,2,[],1,0],1541:[2,-256,4,2,2,[],1,0],1542:[2,-256,5,2,2,[],1,0],1543:[2,-256,7,2,2,[],1,0],1544:[2,-1,4,2,2,[],1,0],1545:[2,-1,4,2,2,[],1,0],1546:[2,-1,4,2,2,[],1,0],
1547:[2,-1,4,2,2,[],1,0],1548:[2,-256,4,2,2,[],1,0],1549:[2,-256,5,2,2,[],1,0],155:[2,-237677057,3,0,2,[],2,0],1550:[2,-256,7,2,2,[],1,0],1551:[2,-1,4,2,2,[],1,0],1552:[2,-1,4,2,2,[],1,0],1553:[2,-1,4,2,2,[],1,0],1554:[2,-1,4,2,2,[],1,0],1555:[2,-256,4,2,2,[],1,0],1556:[2,-256,5,2,2,[],1,0],1557:[2,-256,7,2,2,[],1,0],1558:[2,-1,4,2,2,[],1,0],1559:[2,-1,4,2,2,[],1,0],156:[2,-237677057,3,0,2,[],2,0],1560:[2,-1,4,2,2,[],1,0],1561:[2,-1,4,2,2,[],1,0],1562:[2,-256,4,2,2,[],1,0],1563:[2,-256,5,2,2,[],1,0],1564:[2,-256,7,2,2,[],1,0],1565:[2,-1,4,2,2,[],1,0],1566:[2,-1,4,2,2,[],1,0],1567:[2,-1,4,2,2,[],1,0],1568:[2,-1,4,2,2,[],1,0],1569:[2,-256,4,2,2,[],1,0],157:[2,-237677057,5,0,2,[],2,0],1570:[2,-256,5,2,2,[],1,0],1571:[2,-256,7,2,2,[],1,0],1572:[2,-1,4,2,2,[],1,0],1573:[2,-1,4,2,2,[],1,0],1574:[2,-1,4,2,2,[],1,0],1575:[2,-1,4,2,2,[],1,0],1576:[2,-256,4,2,2,[],1,0],1577:[2,-256,5,2,2,[],1,0],1578:[2,-256,7,2,2,[],1,0],1579:[2,-1,4,2,2,[],1,0],158:[2,-237677057,6,0,2,[],2,0],1580:[2,-1,4,2,2,[],1,0],1581:[2,-1,4,2,2,[],1,0],1582:[2,-1,4,2,2,[],1,0],1583:[2,-256,4,2,2,[],1,0],1584:[2,-256,5,2,2,[],1,0],1585:[2,-256,7,2,2,[],1,0],1586:[2,-701218305,2,2,2,[],1,0],1587:[2,-701218305,2,2,2,[],1,0],1588:[2,-701218305,2,2,2,[],1,0],1589:[2,-701218305,2,2,2,[],1,0],159:[2,-237677057,8,0,2,[],2,0],1590:[2,-701218560,2,2,2,[],1,0],1591:[2,-701218560,3,2,2,[],1,0],1592:[2,-701218560,5,2,2,[],1,0],1593:[2,751052799,2,2,2,[],1,0],1594:[2,751052799,2,2,2,[],1,0],1595:[2,751052799,2,2,2,[],1,0],1596:[2,751052799,2,2,2,[],1,0],1597:[2,751052544,2,2,2,[],1,0],1598:[2,751052544,3,2,2,[],1,0],1599:[2,751052544,5,2,2,[],1,0],16:[2,-858993409,1,2,2,[6,3],1,0],160:[2,-237677057,10,0,2,[],2,0],1600:[2,-105309697,2,2,2,[],1,0],1601:[2,-105309697,2,2,2,[],1,0],1602:[2,-105309697,2,2,2,[],1,0],1603:[2,-105309697,2,2,2,[],1,0],1604:[2,-105309952,2,2,2,[],1,0],1605:[2,-105309952,3,2,2,[],1,0],1606:[2,-105309952,5,2,2,[],1,0],1607:[2,2118632191,2,2,2,[],1,0],1608:[2,2118632191,2,2,2,[],1,0],1609:[2,2118632191,2,2,2,[],1,0],161:[2,-237677057,12,0,2,[],2,0],1610:[2,2118632191,2,2,2,[],1,0],1611:[2,2118631936,2,2,2,[],1,0],1612:[2,2118631936,3,2,2,[],1,0],1613:[2,2118631936,5,2,2,[],1,0],1614:[2,-536826881,2,2,2,[],1,0],1615:[2,-536826881,2,2,2,[],1,0],1616:[2,-536826881,2,2,2,[],1,0],1617:[2,-536826881,2,2,2,[],1,0],1618:[2,-536827136,2,2,2,[],1,0],1619:[2,-536827136,3,2,2,[],1,0],162:[2,-237677057,16,0,2,[],2,0],1620:[2,-536827136,5,2,2,[],1,0],1621:[2,-13408513,2,2,2,[],1,0],1622:[2,-13408513,2,2,2,[],1,0],1623:[2,-13408513,2,2,2,[],1,0],1624:[2,-13408513,2,2,2,[],1,0],1625:[2,-13408768,2,2,2,[],1,0],1626:[2,-13408768,3,2,2,[],1,0],1627:[2,-13408768,5,2,2,[],1,0],1628:[2,-8453889,2,2,2,[],1,0],1629:[2,-8453889,2,2,2,[],1,0],163:[2,-237677057,16,0,2,[],2,0],1630:[2,-8453889,2,2,2,[],1,0],1631:[2,-8453889,2,2,2,[],1,0],1632:[2,-8454144,2,2,2,[],1,0],1633:[2,-8454144,3,2,2,[],1,0],1634:[2,-8454144,5,2,2,[],1,0],1635:[2,9159679,2,2,2,[],1,0],1636:[2,9159679,2,2,2,[],1,0],1637:[2,9159679,2,2,2,[],1,0],1638:[2,9159679,2,2,2,[],1,0],1639:[2,9159424,2,2,2,[],1,0],164:[2,-559393793,3,0,2,[],1,0],1640:[2,9159424,3,2,2,[],1,0],1641:[2,9159424,5,2,2,[],1,0],1642:[2,-2118007041,2,2,2,[],1,0],1643:[2,-2118007041,2,2,2,[],1,0],1644:[2,-2118007041,2,2,2,[],1,0],1645:[2,-2118007041,2,2,2,[],1,0],1646:[2,-2118007296,2,2,2,[],1,0],1647:[2,-2118007296,3,2,2,[],1,0],1648:[2,-2118007296,5,2,2,[],1,0],1649:[2,-944778241,2,2,2,[],1,0],165:[2,-559393793,3,0,2,[],1,0],1650:[2,-944778241,2,2,2,[],1,0],1651:[2,-944778241,2,2,2,[],1,0],1652:[2,-944778241,2,2,2,[],1,0],1653:[2,-944778496,2,2,2,[],1,0],1654:[2,-944778496,3,2,2,[],1,0],1655:[2,-944778496,5,2,2,[],1,0],1656:[2,-1725026561,2,2,2,[],1,0],1657:[2,-1725026561,2,2,2,[],1,0],1658:[2,-1725026561,2,2,2,[],1,0],1659:[2,-1725026561,2,2,2,[],1,0],166:[2,-559393793,4,0,2,[],1,0],1660:[2,-1725026816,2,2,2,[],1,0],1661:[2,-1725026816,3,2,2,[],1,0],1662:[2,-1725026816,5,2,2,[],1,0],1663:[2,-493832449,2,2,2,[],1,0],1664:[2,-493832449,2,2,2,[],1,0],1665:[2,-493832449,2,2,2,[],1,0],1666:[2,-493832449,2,2,2,[],1,0],1667:[2,-493832704,2,2,2,[],1,0],1668:[2,-493832704,3,2,2,[],1,0],1669:[2,-493832704,5,2,2,[],1,0],167:[2,-559393793,5,0,2,[],1,0],1670:[2,2119794687,2,2,2,[],1,0],1671:[2,2119794687,2,2,2,[],1,0],1672:[2,2119794687,2,2,2,[],1,0],1673:[2,2119794687,2,2,2,[],1,0],1674:[2,2119794432,2,2,2,[],1,0],1675:[2,2119794432,3,2,2,[],1,0],1676:[2,2119794432,5,2,2,[],1,0],1677:[2,-519764481,2,2,2,[],1,0],1678:[2,-519764481,2,2,2,[],1,0],1679:[2,-519764481,2,2,2,[],1,0],168:[2,-559393793,6,0,2,[],1,0],1680:[2,-519764481,2,2,2,[],1,0],1681:[2,-519764736,2,2,2,[],1,0],1682:[2,-519764736,3,2,2,[],1,0],1683:[2,-519764736,5,2,2,[],1,0],1684:[2,-1,4,2,2,[],1,0],1685:[2,-1,4,2,2,[],1,0],1686:[2,-1,4,2,2,[],1,0],1687:[2,-1,4,2,2,[],1,0],1688:[2,-256,4,2,2,[],1,0],1689:[2,-256,5,2,2,[],1,0],169:[2,-559393793,10,0,2,[],1,0],1690:[2,-256,7,2,2,[],1,0],1691:[2,-1,4,2,2,[],1,0],1692:[2,-1,4,2,2,[],1,0],1693:[2,-1,4,2,2,[],1,0],1694:[2,-1,4,2,2,[],1,0],1695:[2,-256,4,2,2,[],1,0],1696:[2,-256,5,2,2,[],1,0],1697:[2,-256,7,2,2,[],1,0],1698:[2,-1,4,2,2,[],1,0],1699:[2,-1,4,2,2,[],1,0],17:[2,1936946175,1,2,2,[6,3],1,0],170:[2,-559393793,12,0,2,[],1,0],1700:[2,-1,4,2,2,[],1,0],1701:[2,-1,4,2,2,[],1,0],1702:[2,-256,4,2,2,[],1,0],1703:[2,-256,5,2,2,[],1,0],1704:[2,-256,7,2,2,[],1,0],1705:[2,-1,4,2,2,[],1,0],1706:[2,-1,4,2,2,[],1,0],1707:[2,-1,4,2,2,[],1,0],1708:[2,-1,4,2,2,[],1,0],1709:[2,-256,4,2,2,[],1,0],171:[2,-559393793,14,0,2,[],1,0],1710:[2,-256,5,2,2,[],1,0],1711:[2,-256,7,2,2,[],1,0],1712:[2,-1,4,2,2,[],1,0],1713:[2,-1,4,2,2,[],1,0],1714:[2,-1,4,2,2,[],1,0],1715:[2,-1,4,2,2,[],1,0],1716:[2,-256,4,2,2,[],1,0],1717:[2,-256,5,2,2,[],1,0],1718:[2,-256,7,2,2,[],1,0],1719:[2,-1,4,2,2,[],1,0],172:[2,-559393793,18,0,2,[],1,0],1720:[2,-1,4,2,2,[],1,0],1721:[2,-1,4,2,2,[],1,0],1722:[2,-1,4,2,2,[],1,0],1723:[2,-256,4,2,2,[],1,0],1724:[2,-256,5,2,2,[],1,0],1725:[2,-256,7,2,2,[],1,0],1726:[2,-1,4,2,2,[],1,0],1727:[2,-1,4,2,2,[],1,0],1728:[2,-1,4,2,2,[],1,0],1729:[2,-1,4,2,2,[],1,0],173:[2,-559393793,18,0,2,[],1,0],1730:[2,-256,4,2,2,[],1,0],1731:[2,-256,5,2,2,[],1,0],1732:[2,-256,7,2,2,[],1,0],1733:[2,-1,4,2,2,[],1,0],1734:[2,-1,4,2,2,[],1,0],1735:[2,-1,4,2,2,[],1,0],1736:[2,-1,4,2,2,[],1,0],1737:[2,-256,4,2,2,[],1,0],1738:[2,-256,5,2,2,[],1,0],1739:[2,-256,7,2,2,[],1,0],174:[2,-559393793,4,0,2,[],1,0],1740:[2,-1,4,2,2,[],1,0],1741:[2,-1,4,2,2,[],1,0],1742:[2,-1,4,2,2,[],1,0],1743:[2,-1,4,2,2,[],1,0],1744:[2,-256,4,2,2,[],1,0],1745:[2,-256,5,2,2,[],1,0],1746:[2,-256,7,2,2,[],1,0],1747:[2,-105309697,2,2,2,[],1,0],1748:[2,-105309697,2,2,2,[],1,0],1749:[2,-105309697,2,2,2,[],1,0],175:[2,-559393793,4,0,2,[],1,0],1750:[2,-105309697,2,2,2,[],1,0],1751:[2,-105309952,2,2,2,[],1,0],1752:[2,-105309952,3,2,2,[],1,0],1753:[2,-105309952,5,2,2,[],1,0],1754:[2,491577855,2,2,2,[],1,0],1755:[2,491577855,2,2,2,[],1,0],1756:[2,491577855,2,2,2,[],1,0],1757:[2,491577855,2,2,2,[],1,0],1758:[2,491577600,2,2,2,[],1,0],1759:[2,491577600,3,2,2,[],1,0],176:[2,-559393793,6,0,2,[],1,0],1760:[2,491577600,5,2,2,[],1,0],1761:[2,-312199681,2,2,2,[],1,0],1762:[2,-312199681,2,2,2,[],1,0],1763:[2,-312199681,2,2,2,[],1,0],1764:[2,-312199681,2,2,2,[],1,0],1765:[2,-312199936,2,2,2,[],1,0],1766:[2,-312199936,3,2,2,[],1,0],1767:[2,-312199936,5,2,2,[],1,0],1768:[2,-312199681,2,2,2,[],1,0],1769:[2,-312199681,2,2,2,[],1,0],177:[2,-559393793,7,0,2,[],1,0],1770:[2,-312199681,2,2,2,[],1,0],1771:[2,-312199681,2,2,2,[],1,0],1772:[2,-312199936,2,2,2,[],1,0],1773:[2,-312199936,3,2,2,[],1,0],1774:[2,-312199936,5,2,2,[],1,0],1775:[2,10027263,2,2,2,[],1,0],1776:[2,10027263,2,2,2,[],1,0],1777:[2,10027263,2,2,2,[],1,0],1778:[2,10027263,2,2,2,[],1,0],1779:[2,10027008,2,2,2,[],1,0],178:[2,-559393793,8,0,2,[],1,0],1780:[2,10027008,3,2,2,[],1,0],1781:[2,10027008,5,2,2,[],1,0],1782:[2,-872362753,2,2,2,[],1,0],1783:[2,-872362753,2,2,2,[],1,0],1784:[2,-872362753,2,2,2,[],1,0],1785:[2,-872362753,2,2,2,[],1,0],1786:[2,-872363008,2,2,2,[],1,0],1787:[2,-872363008,3,2,2,[],1,0],1788:[2,-872363008,5,2,2,[],1,0],1789:[2,10004223,2,2,2,[],1,0],179:[2,-559393793,10,0,2,[],1,0],1790:[2,10004223,2,2,2,[],1,0],1791:[2,10004223,2,2,2,[],1,0],1792:[2,10004223,2,2,2,[],1,0],1793:[2,10003968,2,2,2,[],1,0],1794:[2,10003968,3,2,2,[],1,0],1795:[2,10003968,5,2,2,[],1,0],1796:[2,-1261683201,2,2,2,[],1,0],1797:[2,-1261683201,2,2,2,[],1,0],1798:[2,-1261683201,2,2,2,[],1,0],1799:[2,-1261683201,2,2,2,[],1,0],18:[2,1936946175,1,2,2,[6,3],1,0],180:[2,-559393793,15,0,2,[],1,0],1800:[2,-1261683456,2,2,2,[],1,0],1801:[2,-1261683456,3,2,2,[],1,0],1802:[2,-1261683456,5,2,2,[],1,0],1803:[2,1283424255,2,2,2,[],1,0],1804:[2,1283424255,2,2,2,[],1,0],1805:[2,1283424255,2,2,2,[],1,0],1806:[2,1283424255,2,2,2,[],1,0],1807:[2,1283424e3,2,2,2,[],1,0],1808:[2,1283424e3,3,2,2,[],1,0],1809:[2,1283424e3,5,2,2,[],1,0],181:[2,-559393793,17,0,2,[],1,0],1810:[2,-1,4,2,2,[],1,0],1811:[2,-1,4,2,2,[],1,0],1812:[2,-1,4,2,2,[],1,0],1813:[2,-1,4,2,2,[],1,0],1814:[2,-256,4,2,2,[],1,0],1815:[2,-256,5,2,2,[],1,0],1816:[2,-256,7,2,2,[],1,0],1817:[2,-1,4,2,2,[],1,0],1818:[2,-1,4,2,2,[],1,0],1819:[2,-1,4,2,2,[],1,0],182:[2,-559393793,19,0,2,[],1,0],1820:[2,-1,4,2,2,[],1,0],1821:[2,-256,4,2,2,[],1,0],1822:[2,-256,5,2,2,[],1,0],1823:[2,-256,7,2,2,[],1,0],1824:[2,-1,4,2,2,[],1,0],1825:[2,-1,4,2,2,[],1,0],1826:[2,-1,4,2,2,[],1,0],1827:[2,-1,4,2,2,[],1,0],1828:[2,-256,4,2,2,[],1,0],1829:[2,-256,5,2,2,[],1,0],183:[2,-559393793,19,0,2,[],1,0],1830:[2,-256,7,2,2,[],1,0],1831:[2,-1,4,2,2,[],1,0],1832:[2,-1,4,2,2,[],1,0],1833:[2,-1,4,2,2,[],1,0],1834:[2,-1,4,2,2,[],1,0],1835:[2,-256,4,2,2,[],1,0],1836:[2,-256,5,2,2,[],1,0],1837:[2,-256,7,2,2,[],1,0],1838:[2,-1,4,2,2,[],1,0],1839:[2,-1,4,2,2,[],1,0],184:[2,-593543425,4,0,2,[],0,0],1840:[2,-1,4,2,2,[],1,0],1841:[2,-1,4,2,2,[],1,0],1842:[2,-256,4,2,2,[],1,0],1843:[2,-256,5,2,2,[],1,0],1844:[2,-256,7,2,2,[],1,0],1845:[2,751052799,2,2,2,[],1,0],1846:[2,751052799,2,2,2,[],1,0],1847:[2,751052799,2,2,2,[],1,0],1848:[2,751052799,2,2,2,[],1,0],1849:[2,751052544,2,2,2,[],1,0],185:[2,-593543425,4,0,2,[],0,0],1850:[2,751052544,3,2,2,[],1,0],1851:[2,751052544,5,2,2,[],1,0],1852:[2,-4508673,2,2,2,[],1,0],1853:[2,-4508673,2,2,2,[],1,0],1854:[2,-4508673,2,2,2,[],1,0],1855:[2,-4508673,2,2,2,[],1,0],1856:[2,-4508928,2,2,2,[],1,0],1857:[2,-4508928,3,2,2,[],1,0],1858:[2,-4508928,5,2,2,[],1,0],1859:[2,1030606079,2,2,2,[],1,0],186:[2,-593543425,5,0,2,[],0,0],1860:[2,1030606079,2,2,2,[],1,0],1861:[2,1030606079,2,2,2,[],1,0],1862:[2,1030606079,2,2,2,[],1,0],1863:[2,1030605824,2,2,2,[],1,0],1864:[2,1030605824,3,2,2,[],1,0],1865:[2,1030605824,5,2,2,[],1,0],1866:[2,-701218305,2,2,2,[],1,0],1867:[2,-701218305,2,2,2,[],1,0],1868:[2,-701218305,2,2,2,[],1,0],1869:[2,-701218305,2,2,2,[],1,0],187:[2,-593543425,6,0,2,[],0,0],1870:[2,-701218560,2,2,2,[],1,0],1871:[2,-701218560,3,2,2,[],1,0],1872:[2,-701218560,5,2,2,[],1,0],1873:[2,1816959487,2,2,2,[],1,0],1874:[2,1816959487,2,2,2,[],1,0],1875:[2,1816959487,2,2,2,[],1,0],1876:[2,1816959487,2,2,2,[],1,0],1877:[2,1816959232,2,2,2,[],1,0],1878:[2,1816959232,3,2,2,[],1,0],1879:[2,1816959232,5,2,2,[],1,0],188:[2,-593543425,7,0,2,[],0,0],1880:[2,-1,4,2,2,[],1,0],1881:[2,-1,4,2,2,[],1,0],1882:[2,-1,4,2,2,[],1,0],1883:[2,-1,4,2,2,[],1,0],1884:[2,-256,4,2,2,[],1,0],1885:[2,-256,5,2,2,[],1,0],1886:[2,-256,7,2,2,[],1,0],1887:[2,-1,4,2,2,[],1,0],1888:[2,-1,4,2,2,[],1,0],1889:[2,-1,4,2,2,[],1,0],189:[2,-593543425,9,0,2,[],0,0],1890:[2,-1,4,2,2,[],1,0],1891:[2,-256,4,2,2,[],1,0],1892:[2,-256,5,2,2,[],1,0],1893:[2,-256,7,2,2,[],1,0],1894:[2,-1,4,2,2,[],1,0],1895:[2,-1,4,2,2,[],1,0],1896:[2,-1,4,2,2,[],1,0],1897:[2,-1,4,2,2,[],1,0],1898:[2,-256,4,2,2,[],1,0],1899:[2,-256,5,2,2,[],1,0],19:[2,-858993409,1,2,2,[6,3],1,0],190:[2,-593543425,14,0,2,[],0,0],1900:[2,-256,7,2,2,[],1,0],1901:[2,-1,4,2,2,[],1,0],1902:[2,-1,4,2,2,[],1,0],1903:[2,-1,4,2,2,[],1,0],1904:[2,-1,4,2,2,[],1,0],1905:[2,-256,4,2,2,[],1,0],1906:[2,-256,5,2,2,[],1,0],1907:[2,-256,7,2,2,[],1,0],1908:[2,751052799,2,2,2,[],1,0],1909:[2,751052799,2,2,2,[],1,0],191:[2,-593543425,16,0,2,[],0,0],1910:[2,751052799,2,2,2,[],1,0],1911:[2,751052799,2,2,2,[],1,0],1912:[2,751052544,2,2,2,[],1,0],1913:[2,751052544,3,2,2,[],1,0],1914:[2,751052544,5,2,2,[],1,0],1915:[2,1232784639,2,2,2,[],1,0],1916:[2,1232784639,2,2,2,[],1,0],1917:[2,1232784639,2,2,2,[],1,0],1918:[2,1232784639,2,2,2,[],1,0],1919:[2,1232784384,2,2,2,[],1,0],192:[2,-593543425,20,0,2,[],0,0],1920:[2,1232784384,3,2,2,[],1,0],1921:[2,1232784384,5,2,2,[],1,0],1922:[2,-701152513,2,2,2,[],1,0],1923:[2,-701152513,2,2,2,[],1,0],1924:[2,-701152513,2,2,2,[],1,0],1925:[2,-701152513,2,2,2,[],1,0],1926:[2,-701152768,2,2,2,[],1,0],1927:[2,-701152768,3,2,2,[],1,0],1928:[2,-701152768,5,2,2,[],1,0],1929:[2,-261847809,2,2,2,[],1,0],193:[2,-593543425,20,0,2,[],0,0],1930:[2,-261847809,2,2,2,[],1,0],1931:[2,-261847809,2,2,2,[],1,0],1932:[2,-261847809,2,2,2,[],1,0],1933:[2,-261848064,2,2,2,[],1,0],1934:[2,-261848064,3,2,2,[],1,0],1935:[2,-261848064,5,2,2,[],1,0],1936:[2,-1,4,2,2,[],1,0],1937:[2,-1,4,2,2,[],1,0],1938:[2,-1,4,2,2,[],1,0],1939:[2,-1,4,2,2,[],1,0],194:[2,-559393793,3,0,2,[],0,0],1940:[2,-256,4,2,2,[],1,0],1941:[2,-256,5,2,2,[],1,0],1942:[2,-256,7,2,2,[],1,0],1943:[2,-867020033,2,2,2,[],1,0],1944:[2,-867020033,2,2,2,[],1,0],1945:[2,-867020033,2,2,2,[],1,0],1946:[2,-867020033,2,2,2,[],1,0],1947:[2,-867020288,2,2,2,[],1,0],1948:[2,-867020288,3,2,2,[],1,0],1949:[2,-867020288,5,2,2,[],1,0],195:[2,-559393793,4,0,2,[],0,0],1950:[2,-748541441,2,2,2,[],1,0],1951:[2,-748541441,2,2,2,[],1,0],1952:[2,-748541441,2,2,2,[],1,0],1953:[2,-748541441,2,2,2,[],1,0],1954:[2,-748541696,2,2,2,[],1,0],1955:[2,-748541696,3,2,2,[],1,0],1956:[2,-748541696,5,2,2,[],1,0],1957:[2,-1,4,2,2,[],1,0],1958:[2,-1,4,2,2,[],1,0],1959:[2,-1,4,2,2,[],1,0],196:[2,-559393793,4,0,2,[],0,0],1960:[2,-1,4,2,2,[],1,0],1961:[2,-256,4,2,2,[],1,0],1962:[2,-256,5,2,2,[],1,0],1963:[2,-256,7,2,2,[],1,0],1964:[2,-1,4,2,2,[],1,0],1965:[2,-1,4,2,2,[],1,0],1966:[2,-1,4,2,2,[],1,0],1967:[2,-1,4,2,2,[],1,0],1968:[2,-256,4,2,2,[],1,0],1969:[2,-256,5,2,2,[],1,0],197:[2,-559393793,5,0,2,[],0,0],1970:[2,-256,7,2,2,[],1,0],1971:[2,-1,4,2,2,[],1,0],1972:[2,-1,4,2,2,[],1,0],1973:[2,-1,4,2,2,[],1,0],1974:[2,-1,4,2,2,[],1,0],1975:[2,-256,4,2,2,[],1,0],1976:[2,-256,5,2,2,[],1,0],1977:[2,-256,7,2,2,[],1,0],1978:[2,-1,4,2,2,[],1,0],1979:[2,-1,4,2,2,[],1,0],198:[2,-559393793,6,0,2,[],0,0],1980:[2,-1,4,2,2,[],1,0],1981:[2,-1,4,2,2,[],1,0],1982:[2,-256,4,2,2,[],1,0],1983:[2,-256,5,2,2,[],1,0],1984:[2,-256,7,2,2,[],1,0],1985:[2,-1,4,2,2,[],1,0],1986:[2,-1,4,2,2,[],1,0],1987:[2,-1,4,2,2,[],1,0],1988:[2,-1,4,2,2,[],1,0],1989:[2,-256,4,2,2,[],1,0],199:[2,-559393793,8,0,2,[],0,0],1990:[2,-256,5,2,2,[],1,0],1991:[2,-256,7,2,2,[],1,0],1992:[2,-701218305,2,2,2,[],1,0],1993:[2,-701218305,2,2,2,[],1,0],1994:[2,-701218305,2,2,2,[],1,0],1995:[2,-701218305,2,2,2,[],1,0],1996:[2,-701218560,2,2,2,[],1,0],1997:[2,-701218560,3,2,2,[],1,0],1998:[2,-701218560,5,2,2,[],1,0],1999:[2,-372571905,2,2,2,[],1,0],2:[3,-168562433,[]],20:[2,1936946175,1,2,2,[6,3],1,0],200:[2,-559393793,12,0,2,[],0,0],2000:[2,-372571905,2,2,2,[],1,0],2001:[2,-372571905,2,2,2,[],1,0],2002:[2,-372571905,2,2,2,[],1,0],2003:[2,-372572160,2,2,2,[],1,0],2004:[2,-372572160,3,2,2,[],1,0],2005:[2,-372572160,5,2,2,[],1,0],2006:[2,92056319,2,2,2,[],1,0],2007:[2,92056319,2,2,2,[],1,0],2008:[2,92056319,2,2,2,[],1,0],2009:[2,92056319,2,2,2,[],1,0],201:[2,-559393793,16,0,2,[],0,0],2010:[2,92056064,2,2,2,[],1,0],2011:[2,92056064,3,2,2,[],1,0],2012:[2,92056064,5,2,2,[],1,0],2013:[2,119573247,2,2,2,[],1,0],2014:[2,119573247,2,2,2,[],1,0],2015:[2,119573247,2,2,2,[],1,0],2016:[2,119573247,2,2,2,[],1,0],2017:[2,119572992,2,2,2,[],1,0],2018:[2,119572992,3,2,2,[],1,0],2019:[2,119572992,5,2,2,[],1,0],202:[2,-559393793,18,0,2,[],0,0],2020:[2,-1,4,2,2,[],1,0],2021:[2,-1,4,2,2,[],1,0],2022:[2,-1,4,2,2,[],1,0],2023:[2,-1,4,2,2,[],1,0],2024:[2,-256,4,2,2,[],1,0],2025:[2,-256,5,2,2,[],1,0],2026:[2,-256,7,2,2,[],1,0],2027:[2,-1,4,2,2,[],1,0],2028:[2,-1,4,2,2,[],1,0],2029:[2,-1,4,2,2,[],1,0],203:[2,-559393793,18,0,2,[],0,0],2030:[2,-1,4,2,2,[],1,0],2031:[2,-256,4,2,2,[],1,0],2032:[2,-256,5,2,2,[],1,0],2033:[2,-256,7,2,2,[],1,0],2034:[2,6737151,2,2,2,[],1,0],2035:[2,6737151,2,2,2,[],1,0],2036:[2,6737151,2,2,2,[],1,0],2037:[2,6737151,2,2,2,[],1,0],2038:[2,6736896,2,2,2,[],1,0],2039:[2,6736896,3,2,2,[],1,0],204:[2,-303174145,1,2,2,[],16,0],2040:[2,6736896,5,2,2,[],1,0],2041:[2,-308492289,2,2,2,[],1,0],2042:[2,-308492289,2,2,2,[],1,0],2043:[2,-308492289,2,2,2,[],1,0],2044:[2,-308492289,2,2,2,[],1,0],2045:[2,-308492544,2,2,2,[],1,0],2046:[2,-308492544,3,2,2,[],1,0],2047:[2,-308492544,5,2,2,[],1,0],2048:[2,-1,4,2,2,[],1,0],2049:[2,-1,4,2,2,[],1,0],205:[2,-454761217,3,2,2,[],16,0],2050:[2,-1,4,2,2,[],1,0],2051:[2,-1,4,2,2,[],1,0],2052:[2,-256,4,2,2,[],1,0],2053:[2,-256,5,2,2,[],1,0],2054:[2,-256,7,2,2,[],1,0],2055:[2,-1,4,2,2,[],1,0],2056:[2,-1,4,2,2,[],1,0],2057:[2,-1,4,2,2,[],1,0],2058:[2,-1,4,2,2,[],1,0],2059:[2,-256,4,2,2,[],1,0],206:[2,-454761217,3,2,2,[],16,0],2060:[2,-256,5,2,2,[],1,0],2061:[2,-256,7,2,2,[],1,0],2062:[2,-1,4,2,2,[],1,0],2063:[2,-1,4,2,2,[],1,0],2064:[2,-1,4,2,2,[],1,0],2065:[2,-1,4,2,2,[],1,0],2066:[2,-256,4,2,2,[],1,0],2067:[2,-256,5,2,2,[],1,0],2068:[2,-256,7,2,2,[],1,0],2069:[2,1555621375,2,2,2,[],1,0],207:[2,-758265345,5,2,2,[],16,0],2070:[2,1555621375,2,2,2,[],1,0],2071:[2,1555621375,2,2,2,[],1,0],2072:[2,1555621375,2,2,2,[],1,0],2073:[2,1555621120,2,2,2,[],1,0],2074:[2,1555621120,3,2,2,[],1,0],2075:[2,1555621120,5,2,2,[],1,0],2076:[2,1555621375,2,2,2,[],1,0],2077:[2,1555621375,2,2,2,[],1,0],2078:[2,1555621375,2,2,2,[],1,0],2079:[2,1555621375,2,2,2,[],1,0],208:[2,-758265345,5,2,2,[],16,0],2080:[2,1555621120,2,2,2,[],1,0],2081:[2,1555621120,3,2,2,[],1,0],2082:[2,1555621120,5,2,2,[],1,0],2083:[2,-701152513,2,2,2,[],1,0],2084:[2,-701152513,2,2,2,[],1,0],2085:[2,-701152513,2,2,2,[],1,0],2086:[2,-701152513,2,2,2,[],1,0],2087:[2,-701152768,2,2,2,[],1,0],2088:[2,-701152768,3,2,2,[],1,0],2089:[2,-701152768,5,2,2,[],1,0],209:[2,-758265345,7,2,2,[],16,0],2090:[2,-1,4,2,2,[],1,0],2091:[2,-1,4,2,2,[],1,0],2092:[2,-1,4,2,2,[],1,0],2093:[2,-1,4,2,2,[],1,0],2094:[2,-256,4,2,2,[],1,0],2095:[2,-256,5,2,2,[],1,0],2096:[2,-256,7,2,2,[],1,0],2097:[2,-1,4,2,2,[],1,0],2098:[2,-1,4,2,2,[],1,0],2099:[2,-1,4,2,2,[],1,0],21:[2,1936946175,1,2,2,[6,3],1,0],210:[2,-758265345,7,2,2,[],16,0],2100:[2,-1,4,2,2,[],1,0],2101:[2,-256,4,2,2,[],1,0],2102:[2,-256,5,2,2,[],1,0],2103:[2,-256,7,2,2,[],1,0],2104:[2,6737151,2,2,2,[],1,0],2105:[2,6737151,2,2,2,[],1,0],2106:[2,6737151,2,2,2,[],1,0],2107:[2,6737151,2,2,2,[],1,0],2108:[2,6736896,2,2,2,[],1,0],2109:[2,6736896,3,2,2,[],1,0],211:[2,-303174145,1,2,2,[],16,0],2110:[2,6736896,5,2,2,[],1,0],2111:[2,6737151,2,2,2,[],1,0],2112:[2,6737151,2,2,2,[],1,0],2113:[2,6737151,2,2,2,[],1,0],2114:[2,6737151,2,2,2,[],1,0],2115:[2,6736896,2,2,2,[],1,0],2116:[2,6736896,3,2,2,[],1,0],2117:[2,6736896,5,2,2,[],1,0],2118:[2,-1,4,2,2,[],1,0],2119:[2,-1,4,2,2,[],1,0],212:[2,-454761217,4,2,2,[],16,0],2120:[2,-1,4,2,2,[],1,0],2121:[2,-1,4,2,2,[],1,0],2122:[2,-256,4,2,2,[],1,0],2123:[2,-256,5,2,2,[],1,0],2124:[2,-256,7,2,2,[],1,0],2125:[2,8912127,2,2,2,[],1,0],2126:[2,8912127,2,2,2,[],1,0],2127:[2,8912127,2,2,2,[],1,0],2128:[2,8912127,2,2,2,[],1,0],2129:[2,8911872,2,2,2,[],1,0],213:[2,-454761217,4,2,2,[],16,0],2130:[2,8911872,3,2,2,[],1,0],2131:[2,8911872,5,2,2,[],1,0],2132:[2,-328597249,2,2,2,[],1,0],2133:[2,-328597249,2,2,2,[],1,0],2134:[2,-328597249,2,2,2,[],1,0],2135:[2,-328597249,2,2,2,[],1,0],2136:[2,-328597504,2,2,2,[],1,0],2137:[2,-328597504,3,2,2,[],1,0],2138:[2,-328597504,5,2,2,[],1,0],2139:[2,-1,4,2,2,[],1,0],214:[2,-758265345,6,2,2,[],16,0],2140:[2,-1,4,2,2,[],1,0],2141:[2,-1,4,2,2,[],1,0],2142:[2,-1,4,2,2,[],1,0],2143:[2,-256,4,2,2,[],1,0],2144:[2,-256,5,2,2,[],1,0],2145:[2,-256,7,2,2,[],1,0],2146:[2,-1,4,2,2,[],1,0],2147:[2,-1,4,2,2,[],1,0],2148:[2,-1,4,2,2,[],1,0],2149:[2,-1,4,2,2,[],1,0],215:[2,-758265345,8,2,2,[],16,0],2150:[2,-256,4,2,2,[],1,0],2151:[2,-256,5,2,2,[],1,0],2152:[2,-256,7,2,2,[],1,0],2153:[2,-1261683201,2,2,2,[],1,0],2154:[2,-1261683201,2,2,2,[],1,0],2155:[2,-1261683201,2,2,2,[],1,0],2156:[2,-1261683201,2,2,2,[],1,0],2157:[2,-1261683456,2,2,2,[],1,0],2158:[2,-1261683456,3,2,2,[],1,0],2159:[2,-1261683456,5,2,2,[],1,0],216:[2,-758265345,10,2,2,[],16,0],2160:[2,-1,4,2,2,[],1,0],2161:[2,-1,4,2,2,[],1,0],2162:[2,-1,4,2,2,[],1,0],2163:[2,-1,4,2,2,[],1,0],2164:[2,-256,4,2,2,[],1,0],2165:[2,-256,5,2,2,[],1,0],2166:[2,-256,7,2,2,[],1,0],2167:[2,-1,4,2,2,[],1,0],2168:[2,-1,4,2,2,[],1,0],2169:[2,-1,4,2,2,[],1,0],217:[2,-758265345,10,2,2,[],16,0],2170:[2,-1,4,2,2,[],1,0],2171:[2,-256,4,2,2,[],1,0],2172:[2,-256,5,2,2,[],1,0],2173:[2,-256,7,2,2,[],1,0],2174:[2,-481736193,2,2,2,[],1,0],2175:[2,-481736193,2,2,2,[],1,0],2176:[2,-481736193,2,2,2,[],1,0],2177:[2,-481736193,2,2,2,[],1,0],2178:[2,-481736448,2,2,2,[],1,0],2179:[2,-481736448,3,2,2,[],1,0],218:[2,-455423489,3,2,2,[],8,0],2180:[2,-481736448,5,2,2,[],1,0],2181:[2,-4508673,2,2,2,[],1,0],2182:[2,-4508673,2,2,2,[],1,0],2183:[2,-4508673,2,2,2,[],1,0],2184:[2,-4508673,2,2,2,[],1,0],2185:[2,-4508928,2,2,2,[],1,0],2186:[2,-4508928,3,2,2,[],1,0],2187:[2,-4508928,5,2,2,[],1,0],2188:[2,-1,4,2,2,[],1,0],2189:[2,-1,4,2,2,[],1,0],219:[2,-455423489,3,2,2,[],8,0],2190:[2,-1,4,2,2,[],1,0],2191:[2,-1,4,2,2,[],1,0],2192:[2,-256,4,2,2,[],1,0],2193:[2,-256,5,2,2,[],1,0],2194:[2,-256,7,2,2,[],1,0],2195:[2,-701218305,2,2,2,[],1,0],2196:[2,-701218305,2,2,2,[],1,0],2197:[2,-701218305,2,2,2,[],1,0],2198:[2,-701218305,2,2,2,[],1,0],2199:[2,-701218560,2,2,2,[],1,0],22:[2,-858993409,1,2,2,[6,3],1,0],220:[2,-455423489,4,2,2,[],8,0],2200:[2,-701218560,3,2,2,[],1,0],2201:[2,-701218560,5,2,2,[],1,0],2202:[2,-1,4,2,2,[],1,0],2203:[2,-1,4,2,2,[],1,0],2204:[2,-1,4,2,2,[],1,0],2205:[2,-1,4,2,2,[],1,0],2206:[2,-256,4,2,2,[],1,0],2207:[2,-256,5,2,2,[],1,0],2208:[2,-256,7,2,2,[],1,0],2209:[2,1806911487,2,2,2,[],1,0],221:[2,-455423489,6,2,2,[],8,0],2210:[2,1806911487,2,2,2,[],1,0],2211:[2,1806911487,2,2,2,[],1,0],2212:[2,1806911487,2,2,2,[],1,0],2213:[2,1806911232,2,2,2,[],1,0],2214:[2,1806911232,3,2,2,[],1,0],2215:[2,1806911232,5,2,2,[],1,0],2216:[2,-1,4,2,2,[],1,0],2217:[2,-1,4,2,2,[],1,0],2218:[2,-1,4,2,2,[],1,0],2219:[2,-1,4,2,2,[],1,0],222:[2,-843149313,6,2,2,[],8,0],2220:[2,-256,4,2,2,[],1,0],2221:[2,-256,5,2,2,[],1,0],2222:[2,-256,7,2,2,[],1,0],2223:[2,-1,4,2,2,[],1,0],2224:[2,-1,4,2,2,[],1,0],2225:[2,-1,4,2,2,[],1,0],2226:[2,-1,4,2,2,[],1,0],2227:[2,-256,4,2,2,[],1,0],2228:[2,-256,5,2,2,[],1,0],2229:[2,-256,7,2,2,[],1,0],223:[2,-843149313,6,2,2,[],8,0],2230:[2,-1,4,2,2,[],1,0],2231:[2,-1,4,2,2,[],1,0],2232:[2,-1,4,2,2,[],1,0],2233:[2,-1,4,2,2,[],1,0],2234:[2,-256,4,2,2,[],1,0],2235:[2,-256,5,2,2,[],1,0],2236:[2,-256,7,2,2,[],1,0],2237:[2,-1,4,2,2,[],1,0],2238:[2,-1,4,2,2,[],1,0],2239:[2,-1,4,2,2,[],1,0],224:[2,-843149313,8,2,2,[],8,0],2240:[2,-1,4,2,2,[],1,0],2241:[2,-256,4,2,2,[],1,0],2242:[2,-256,5,2,2,[],1,0],2243:[2,-256,7,2,2,[],1,0],2244:[2,-1,4,2,2,[],1,0],2245:[2,-1,4,2,2,[],1,0],2246:[2,-1,4,2,2,[],1,0],2247:[2,-1,4,2,2,[],1,0],2248:[2,-256,4,2,2,[],1,0],2249:[2,-256,5,2,2,[],1,0],225:[2,-843149313,10,2,2,[],8,0],2250:[2,-256,7,2,2,[],1,0],2251:[2,-1,4,2,2,[],1,0],2252:[2,-1,4,2,2,[],1,0],2253:[2,-1,4,2,2,[],1,0],2254:[2,-1,4,2,2,[],1,0],2255:[2,-256,4,2,2,[],1,0],2256:[2,-256,5,2,2,[],1,0],2257:[2,-256,7,2,2,[],1,0],2258:[2,-1,4,2,2,[],1,0],2259:[2,-1,4,2,2,[],1,0],226:[2,-843149313,14,2,2,[],8,0],2260:[2,-1,4,2,2,[],1,0],2261:[2,-1,4,2,2,[],1,0],2262:[2,-256,4,2,2,[],1,0],2263:[2,-256,5,2,2,[],1,0],2264:[2,-256,7,2,2,[],1,0],2265:[2,-1,4,2,2,[],1,0],2266:[2,-1,4,2,2,[],1,0],2267:[2,-1,4,2,2,[],1,0],2268:[2,-1,4,2,2,[],1,0],2269:[2,-256,4,2,2,[],1,0],227:[2,-455423489,3,2,2,[],4,0],2270:[2,-256,5,2,2,[],1,0],2271:[2,-256,7,2,2,[],1,0],2272:[2,-1,4,2,2,[],1,0],2273:[2,-1,4,2,2,[],1,0],2274:[2,-1,4,2,2,[],1,0],2275:[2,-1,4,2,2,[],1,0],2276:[2,-256,4,2,2,[],1,0],2277:[2,-256,5,2,2,[],1,0],2278:[2,-256,7,2,2,[],1,0],2279:[2,-1,4,2,2,[],1,0],228:[2,-455423489,3,2,2,[],4,0],2280:[2,-1,4,2,2,[],1,0],2281:[2,-1,4,2,2,[],1,0],2282:[2,-1,4,2,2,[],1,0],2283:[2,-256,4,2,2,[],1,0],2284:[2,-256,5,2,2,[],1,0],2285:[2,-256,7,2,2,[],1,0],2286:[2,-813057025,2,2,2,[],1,0],2287:[2,-813057025,2,2,2,[],1,0],2288:[2,-813057025,2,2,2,[],1,0],2289:[2,-813057025,2,2,2,[],1,0],229:[2,-455423489,4,2,2,[],4,0],2290:[2,-813057280,2,2,2,[],1,0],2291:[2,-813057280,3,2,2,[],1,0],2292:[2,-813057280,5,2,2,[],1,0],2293:[2,-375840513,2,2,2,[],1,0],2294:[2,-375840513,2,2,2,[],1,0],2295:[2,-375840513,2,2,2,[],1,0],2296:[2,-375840513,2,2,2,[],1,0],2297:[2,-375840768,2,2,2,[],1,0],2298:[2,-375840768,3,2,2,[],1,0],2299:[2,-375840768,5,2,2,[],1,0],23:[2,1936946175,1,2,2,[6,3],1,0],230:[2,-455423489,4,2,2,[],4,0],2300:[2,1385155839,2,2,2,[],1,0],2301:[2,1385155839,2,2,2,[],1,0],2302:[2,1385155839,2,2,2,[],1,0],2303:[2,1385155839,2,2,2,[],1,0],2304:[2,1385155584,2,2,2,[],1,0],2305:[2,1385155584,3,2,2,[],1,0],2306:[2,1385155584,5,2,2,[],1,0],2307:[2,731590655,2,2,2,[],1,0],2308:[2,731590655,2,2,2,[],1,0],2309:[2,731590655,2,2,2,[],1,0],231:[2,-843149313,4,2,2,[],4,0],2310:[2,731590655,2,2,2,[],1,0],2311:[2,731590400,2,2,2,[],1,0],2312:[2,731590400,3,2,2,[],1,0],2313:[2,731590400,5,2,2,[],1,0],2314:[2,8421631,2,2,2,[],1,0],2315:[2,8421631,2,2,2,[],1,0],2316:[2,8421631,2,2,2,[],1,0],2317:[2,8421631,2,2,2,[],1,0],2318:[2,8421376,2,2,2,[],1,0],2319:[2,8421376,3,2,2,[],1,0],232:[2,-843149313,6,2,2,[],4,0],2320:[2,8421376,5,2,2,[],1,0],2321:[2,-633391617,2,2,2,[],1,0],2322:[2,-633391617,2,2,2,[],1,0],2323:[2,-633391617,2,2,2,[],1,0],2324:[2,-633391617,2,2,2,[],1,0],2325:[2,-633391872,2,2,2,[],1,0],2326:[2,-633391872,3,2,2,[],1,0],2327:[2,-633391872,5,2,2,[],1,0],2328:[2,-1638519809,2,2,2,[],1,0],2329:[2,-1638519809,2,2,2,[],1,0],233:[2,-843149313,8,2,2,[],4,0],2330:[2,-1638519809,2,2,2,[],1,0],2331:[2,-1638519809,2,2,2,[],1,0],2332:[2,-1638520064,2,2,2,[],1,0],2333:[2,-1638520064,3,2,2,[],1,0],2334:[2,-1638520064,5,2,2,[],1,0],2335:[2,-1725003777,2,2,2,[],1,0],2336:[2,-1725003777,2,2,2,[],1,0],2337:[2,-1725003777,2,2,2,[],1,0],2338:[2,-1725003777,2,2,2,[],1,0],2339:[2,-1725004032,2,2,2,[],1,0],234:[2,-843149313,10,2,2,[],4,0],2340:[2,-1725004032,3,2,2,[],1,0],2341:[2,-1725004032,5,2,2,[],1,0],2342:[2,2025713407,2,2,2,[],1,0],2343:[2,2025713407,2,2,2,[],1,0],2344:[2,2025713407,2,2,2,[],1,0],2345:[2,2025713407,2,2,2,[],1,0],2346:[2,2025713152,2,2,2,[],1,0],2347:[2,2025713152,3,2,2,[],1,0],2348:[2,2025713152,5,2,2,[],1,0],2349:[2,-1854622465,2,2,2,[],1,0],235:[2,-843149313,14,2,2,[],4,0],2350:[2,-1854622465,2,2,2,[],1,0],2351:[2,-1854622465,2,2,2,[],1,0],2352:[2,-1854622465,2,2,2,[],1,0],2353:[2,-1854622720,2,2,2,[],1,0],2354:[2,-1854622720,3,2,2,[],1,0],2355:[2,-1854622720,5,2,2,[],1,0],2356:[2,-1,4,2,2,[],1,0],2357:[2,-1,4,2,2,[],1,0],2358:[2,-1,4,2,2,[],1,0],2359:[2,-1,4,2,2,[],1,0],236:[2,-237677057,3,0,2,[],2,0],2360:[2,-256,4,2,2,[],1,0],2361:[2,-256,5,2,2,[],1,0],2362:[2,-256,7,2,2,[],1,0],2363:[2,1806911487,2,2,2,[],1,0],2364:[2,1806911487,2,2,2,[],1,0],2365:[2,1806911487,2,2,2,[],1,0],2366:[2,1806911487,2,2,2,[],1,0],2367:[2,1806911232,2,2,2,[],1,0],2368:[2,1806911232,3,2,2,[],1,0],2369:[2,1806911232,5,2,2,[],1,0],237:[2,-237677057,4,0,2,[],2,0],2370:[2,-1,4,2,2,[],1,0],2371:[2,-1,4,2,2,[],1,0],2372:[2,-1,4,2,2,[],1,0],2373:[2,-1,4,2,2,[],1,0],2374:[2,-256,4,2,2,[],1,0],2375:[2,-256,5,2,2,[],1,0],2376:[2,-256,7,2,2,[],1,0],2377:[2,1031180799,2,2,2,[],1,0],2378:[2,1031180799,2,2,2,[],1,0],2379:[2,1031180799,2,2,2,[],1,0],238:[2,-237677057,4,0,2,[],2,0],2380:[2,1031180799,2,2,2,[],1,0],2381:[2,1031180544,2,2,2,[],1,0],2382:[2,1031180544,3,2,2,[],1,0],2383:[2,1031180544,5,2,2,[],1,0],2384:[5,"",11,1212696831,16,-1],2385:[5,"",11,1212696831,16,-1],2386:[5,"",12,1212696831,16,-1],2387:[5,"",14,1212696831,16,-1],2388:[5,"",11,-535291649,16,-1],2389:[5,"",11,-535291649,16,-1],239:[2,-237677057,6,0,2,[],2,0],2390:[5,"",12,-535291649,16,-1],2391:[5,"",14,-535291649,16,-1],2392:[5,"",11,224369151,16,-1],2393:[5,"",11,224369151,16,-1],2394:[5,"",12,224369151,16,-1],2395:[5,"",14,224369151,16,-1],2396:[5,"",11,10124543,16,-1],2397:[5,"",11,10124543,16,-1],2398:[5,"",12,10124543,16,-1],2399:[5,"",14,10124543,16,-1],24:[2,1936946175,1,2,2,[6,3],1,0],240:[2,-237677057,6,0,2,[],2,0],2400:[5,"",11,-838812673,16,-1],2401:[5,"",11,-838812673,16,-1],2402:[5,"",12,-838812673,16,-1],2403:[5,"",14,-838812673,16,-1],2404:[5,"",11,-1720245249,16,-1],2405:[5,"",11,-1720245249,16,-1],2406:[5,"",12,-1720245249,16,-1],2407:[5,"",14,-1720245249,16,-1],2408:[5,"",11,561521151,16,-1],2409:[5,"",11,561521151,16,-1],241:[2,-237677057,8,0,2,[],2,0],2410:[5,"",12,561521151,16,-1],2411:[5,"",14,561521151,16,-1],2412:[5,"",11,1300247551,16,-1],2413:[5,"",11,1300247551,16,-1],2414:[5,"",12,1300247551,16,-1],2415:[5,"",14,1300247551,16,-1],2416:[5,"",11,7906815,16,-1],2417:[5,"",11,7906815,16,-1],2418:[5,"",12,7906815,16,-1],2419:[5,"",14,7906815,16,-1],242:[2,-237677057,12,0,2,[],2,0],2420:[5,"",11,-1286012673,16,-1],2421:[5,"",11,-1286012673,16,-1],2422:[5,"",12,-1286012673,16,-1],2423:[5,"",14,-1286012673,16,-1],2424:[5,"",11,855677439,16,-1],2425:[5,"",11,855677439,16,-1],2426:[5,"",12,855677439,16,-1],2427:[5,"",14,855677439,16,-1],2428:[5,"",11,1647338495,16,-1],2429:[5,"",11,1647338495,16,-1],243:[2,-237677057,14,0,2,[],2,0],2430:[5,"",12,1647338495,16,-1],2431:[5,"",14,1647338495,16,-1],2432:[5,"",11,-535291649,16,-1],2433:[5,"",11,-535291649,16,-1],2434:[5,"",12,-535291649,16,-1],2435:[5,"",14,-535291649,16,-1],2436:[5,"",11,-862574081,16,-1],2437:[5,"",11,-862574081,16,-1],2438:[5,"",12,-862574081,16,-1],2439:[5,"",14,-862574081,16,-1],244:[2,-237677057,18,0,2,[],2,0],2440:[5,"",11,-2144111617,16,-1],2441:[5,"",11,-2144111617,16,-1],2442:[5,"",12,-2144111617,16,-1],2443:[5,"",14,-2144111617,16,-1],2444:[5,"",11,10124543,16,-1],2445:[5,"",11,10124543,16,-1],2446:[5,"",12,10124543,16,-1],2447:[5,"",14,10124543,16,-1],2448:[5,"",11,1715939839,16,-1],2449:[5,"",11,1715939839,16,-1],245:[2,-237677057,18,0,2,[],2,0],2450:[5,"",12,1715939839,16,-1],2451:[5,"",14,1715939839,16,-1],2452:[5,"",11,-436207361,16,-1],2453:[5,"",11,-436207361,16,-1],2454:[5,"",12,-436207361,16,-1],2455:[5,"",14,-436207361,16,-1],2456:[5,"",11,26673407,16,-1],2457:[5,"",11,26673407,16,-1],2458:[5,"",12,26673407,16,-1],2459:[5,"",14,26673407,16,-1],246:[2,-559393793,3,0,2,[],1,0],2460:[5,"",11,-1048379137,16,-1],2461:[5,"",11,-1048379137,16,-1],2462:[5,"",12,-1048379137,16,-1],2463:[5,"",14,-1048379137,16,-1],2464:[5,"",11,-1048379137,16,-1],2465:[5,"",11,-1048379137,16,-1],2466:[5,"",12,-1048379137,16,-1],2467:[5,"",14,-1048379137,16,-1],2468:[5,"",11,1593890303,16,-1],2469:[5,"",11,1593890303,16,-1],247:[2,-559393793,3,0,2,[],1,0],2470:[5,"",12,1593890303,16,-1],2471:[5,"",14,1593890303,16,-1],2472:[5,"",11,-1543471617,16,-1],2473:[5,"",11,-1543471617,16,-1],2474:[5,"",12,-1543471617,16,-1],2475:[5,"",14,-1543471617,16,-1],2476:[5,"",11,-553614337,16,-1],2477:[5,"",11,-553614337,16,-1],2478:[5,"",12,-553614337,16,-1],2479:[5,"",14,-553614337,16,-1],248:[2,-559393793,4,0,2,[],1,0],2480:[5,"",11,-865730305,16,-1],2481:[5,"",11,-865730305,16,-1],2482:[5,"",12,-865730305,16,-1],2483:[5,"",14,-865730305,16,-1],2484:[5,"",11,9159679,16,-1],2485:[5,"",11,9159679,16,-1],2486:[5,"",12,9159679,16,-1],2487:[5,"",14,9159679,16,-1],2488:[5,"",11,8687615,16,-1],2489:[5,"",11,8687615,16,-1],249:[2,-559393793,5,0,2,[],1,0],2490:[5,"",12,8687615,16,-1],2491:[5,"",14,8687615,16,-1],2492:[5,"",11,1850573055,16,-1],2493:[5,"",11,1850573055,16,-1],2494:[5,"",12,1850573055,16,-1],2495:[5,"",14,1850573055,16,-1],2496:[5,"",11,1711276287,16,-1],2497:[5,"",11,1711276287,16,-1],2498:[5,"",12,1711276287,16,-1],2499:[5,"",14,1711276287,16,-1],25:[1,"world_capital",[]],250:[2,-559393793,6,0,2,[],1,0],2500:[5,"",11,-1185051905,16,-1],2501:[5,"",11,-1185051905,16,-1],2502:[5,"",12,-1185051905,16,-1],2503:[5,"",14,-1185051905,16,-1],2504:[5,"",11,1934783743,16,-1],2505:[5,"",11,1934783743,16,-1],2506:[5,"",12,1934783743,16,-1],
2507:[5,"",14,1934783743,16,-1],2508:[5,"",11,-519764481,16,-1],2509:[5,"",11,-519764481,16,-1],251:[2,-559393793,8,0,2,[],1,0],2510:[5,"",12,-519764481,16,-1],2511:[5,"",14,-519764481,16,-1],2512:[5,"",11,-1048379137,16,-1],2513:[5,"",11,-1048379137,16,-1],2514:[5,"",12,-1048379137,16,-1],2515:[5,"",14,-1048379137,16,-1],2516:[5,"",11,491577855,16,-1],2517:[5,"",11,491577855,16,-1],2518:[5,"",12,491577855,16,-1],2519:[5,"",14,491577855,16,-1],252:[2,-559393793,12,0,2,[],1,0],2520:[5,"",11,-482737921,16,-1],2521:[5,"",11,-482737921,16,-1],2522:[5,"",12,-482737921,16,-1],2523:[5,"",14,-482737921,16,-1],2524:[5,"",11,-482737921,16,-1],2525:[5,"",11,-482737921,16,-1],2526:[5,"",12,-482737921,16,-1],2527:[5,"",14,-482737921,16,-1],2528:[5,"",11,26673407,16,-1],2529:[5,"",11,26673407,16,-1],253:[2,-559393793,14,0,2,[],1,0],2530:[5,"",12,26673407,16,-1],2531:[5,"",14,26673407,16,-1],2532:[5,"",11,-1728013825,16,-1],2533:[5,"",11,-1728013825,16,-1],2534:[5,"",12,-1728013825,16,-1],2535:[5,"",14,-1728013825,16,-1],2536:[5,"",11,10004223,16,-1],2537:[5,"",11,10004223,16,-1],2538:[5,"",12,10004223,16,-1],2539:[5,"",14,10004223,16,-1],254:[2,-559393793,18,0,2,[],1,0],2540:[5,"",11,1937781759,16,-1],2541:[5,"",11,1937781759,16,-1],2542:[5,"",12,1937781759,16,-1],2543:[5,"",14,1937781759,16,-1],2544:[5,"",11,776752383,16,-1],2545:[5,"",11,776752383,16,-1],2546:[5,"",12,776752383,16,-1],2547:[5,"",14,776752383,16,-1],2548:[5,"",11,1937781759,16,-1],2549:[5,"",11,1937781759,16,-1],255:[2,-559393793,18,0,2,[],1,0],2550:[5,"",12,1937781759,16,-1],2551:[5,"",14,1937781759,16,-1],2552:[5,"",11,26673407,16,-1],2553:[5,"",11,26673407,16,-1],2554:[5,"",12,26673407,16,-1],2555:[5,"",14,26673407,16,-1],2556:[5,"",11,-862574081,16,-1],2557:[5,"",11,-862574081,16,-1],2558:[5,"",12,-862574081,16,-1],2559:[5,"",14,-862574081,16,-1],256:[2,-303174145,1,2,2,[],16,0],2560:[5,"",11,524786175,16,-1],2561:[5,"",11,524786175,16,-1],2562:[5,"",12,524786175,16,-1],2563:[5,"",14,524786175,16,-1],2564:[5,"",11,-436207361,16,-1],2565:[5,"",11,-436207361,16,-1],2566:[5,"",12,-436207361,16,-1],2567:[5,"",14,-436207361,16,-1],2568:[5,"",11,1816959487,16,-1],2569:[5,"",11,1816959487,16,-1],257:[2,-454761217,3,2,2,[],16,0],2570:[5,"",12,1816959487,16,-1],2571:[5,"",14,1816959487,16,-1],2572:[5,"",11,26673407,16,-1],2573:[5,"",11,26673407,16,-1],2574:[5,"",12,26673407,16,-1],2575:[5,"",14,26673407,16,-1],2576:[5,"",11,912241407,16,-1],2577:[5,"",11,912241407,16,-1],2578:[5,"",12,912241407,16,-1],2579:[5,"",14,912241407,16,-1],258:[2,-454761217,3,2,2,[],16,0],2580:[5,"",11,-871099137,16,-1],2581:[5,"",11,-871099137,16,-1],2582:[5,"",12,-871099137,16,-1],2583:[5,"",14,-871099137,16,-1],2584:[5,"",11,-261847809,16,-1],2585:[5,"",11,-261847809,16,-1],2586:[5,"",12,-261847809,16,-1],2587:[5,"",14,-261847809,16,-1],2588:[5,"",11,-1725026561,16,-1],2589:[5,"",11,-1725026561,16,-1],259:[2,-758265345,6,2,2,[],16,0],2590:[5,"",12,-1725026561,16,-1],2591:[5,"",14,-1725026561,16,-1],2592:[5,"",11,-1405023233,16,-1],2593:[5,"",11,-1405023233,16,-1],2594:[5,"",12,-1405023233,16,-1],2595:[5,"",14,-1405023233,16,-1],2596:[5,"",11,-436207361,16,-1],2597:[5,"",11,-436207361,16,-1],2598:[5,"",12,-436207361,16,-1],2599:[5,"",14,-436207361,16,-1],26:[1,"world1_capital",[]],260:[2,-758265345,8,2,2,[],16,0],2600:[5,"",11,-540933889,16,-1],2601:[5,"",11,-540933889,16,-1],2602:[5,"",12,-540933889,16,-1],2603:[5,"",14,-540933889,16,-1],2604:[5,"",11,92056319,16,-1],2605:[5,"",11,92056319,16,-1],2606:[5,"",12,92056319,16,-1],2607:[5,"",14,92056319,16,-1],2608:[5,"",11,119573247,16,-1],2609:[5,"",11,119573247,16,-1],261:[2,-758265345,12,2,2,[],16,0],2610:[5,"",12,119573247,16,-1],2611:[5,"",14,119573247,16,-1],2612:[5,"",11,5614335,16,-1],2613:[5,"",11,5614335,16,-1],2614:[5,"",12,5614335,16,-1],2615:[5,"",14,5614335,16,-1],2616:[5,"",11,-813979393,16,-1],2617:[5,"",11,-813979393,16,-1],2618:[5,"",12,-813979393,16,-1],2619:[5,"",14,-813979393,16,-1],262:[2,-758265345,12,2,2,[],16,0],2620:[5,"",11,10085887,16,-1],2621:[5,"",11,10085887,16,-1],2622:[5,"",12,10085887,16,-1],2623:[5,"",14,10085887,16,-1],2624:[5,"",11,10085887,16,-1],2625:[5,"",11,10085887,16,-1],2626:[5,"",12,10085887,16,-1],2627:[5,"",14,10085887,16,-1],2628:[5,"",11,-1725026561,16,-1],2629:[5,"",11,-1725026561,16,-1],263:[2,-455423489,3,2,2,[],8,0],2630:[5,"",12,-1725026561,16,-1],2631:[5,"",14,-1725026561,16,-1],2632:[5,"",11,5614335,16,-1],2633:[5,"",11,5614335,16,-1],2634:[5,"",12,5614335,16,-1],2635:[5,"",14,5614335,16,-1],2636:[5,"",11,5614335,16,-1],2637:[5,"",11,5614335,16,-1],2638:[5,"",12,5614335,16,-1],2639:[5,"",14,5614335,16,-1],264:[2,-455423489,3,2,2,[],8,0],2640:[5,"",11,8912127,16,-1],2641:[5,"",11,8912127,16,-1],2642:[5,"",12,8912127,16,-1],2643:[5,"",14,8912127,16,-1],2644:[5,"",11,-328597249,16,-1],2645:[5,"",11,-328597249,16,-1],2646:[5,"",12,-328597249,16,-1],2647:[5,"",14,-328597249,16,-1],2648:[5,"",11,-535291649,16,-1],2649:[5,"",11,-535291649,16,-1],265:[2,-455423489,4,2,2,[],8,0],2650:[5,"",12,-535291649,16,-1],2651:[5,"",14,-535291649,16,-1],2652:[5,"",11,-862574081,16,-1],2653:[5,"",11,-862574081,16,-1],2654:[5,"",12,-862574081,16,-1],2655:[5,"",14,-862574081,16,-1],2656:[5,"",11,-436207361,16,-1],2657:[5,"",11,-436207361,16,-1],2658:[5,"",12,-436207361,16,-1],2659:[5,"",14,-436207361,16,-1],266:[2,-455423489,4,2,2,[],8,0],2660:[5,"",11,1300247551,16,-1],2661:[5,"",11,1300247551,16,-1],2662:[5,"",12,1300247551,16,-1],2663:[5,"",14,1300247551,16,-1],2664:[5,"",11,-2144114945,16,-1],2665:[5,"",11,-2144114945,16,-1],2666:[5,"",12,-2144114945,16,-1],2667:[5,"",14,-2144114945,16,-1],2668:[5,"",11,-1723392001,16,-1],2669:[5,"",11,-1723392001,16,-1],267:[2,-843149313,4,2,2,[],8,0],2670:[5,"",12,-1723392001,16,-1],2671:[5,"",14,-1723392001,16,-1],2672:[5,"",11,308458495,16,-1],2673:[5,"",11,308458495,16,-1],2674:[5,"",12,308458495,16,-1],2675:[5,"",14,308458495,16,-1],2676:[5,"",11,5832959,16,-1],2677:[5,"",11,5832959,16,-1],2678:[5,"",12,5832959,16,-1],2679:[5,"",14,5832959,16,-1],268:[2,-843149313,4,2,2,[],8,0],2680:[5,"",11,8490239,16,-1],2681:[5,"",11,8490239,16,-1],2682:[5,"",12,8490239,16,-1],2683:[5,"",14,8490239,16,-1],2684:[5,"",11,-1188947457,16,-1],2685:[5,"",11,-1188947457,16,-1],2686:[5,"",12,-1188947457,16,-1],2687:[5,"",14,-1188947457,16,-1],2688:[5,"",11,-2144665345,16,-1],2689:[5,"",11,-2144665345,16,-1],269:[2,-843149313,7,2,2,[],8,0],2690:[5,"",12,-2144665345,16,-1],2691:[5,"",14,-2144665345,16,-1],2692:[5,"",11,-2145751297,16,-1],2693:[5,"",11,-2145751297,16,-1],2694:[5,"",12,-2145751297,16,-1],2695:[5,"",14,-2145751297,16,-1],2696:[5,"",11,679987967,16,-1],2697:[5,"",11,679987967,16,-1],2698:[5,"",12,679987967,16,-1],2699:[5,"",14,679987967,16,-1],27:[5,"",20,-788528897,0,-1],270:[2,-843149313,10,2,2,[],8,0],2700:[5,"",11,2101851135,16,-1],2701:[5,"",11,2101851135,16,-1],2702:[5,"",12,2101851135,16,-1],2703:[5,"",14,2101851135,16,-1],2704:[5,"",11,1300247551,16,-1],2705:[5,"",11,1300247551,16,-1],2706:[5,"",12,1300247551,16,-1],2707:[5,"",14,1300247551,16,-1],2708:[5,"",11,1031180799,16,-1],2709:[5,"",11,1031180799,16,-1],271:[2,-843149313,12,2,2,[],8,0],2710:[5,"",12,1031180799,16,-1],2711:[5,"",14,1031180799,16,-1],2712:[1,"ditie_beijing_00",[]],2713:[1,"ditie_beijing_00",[]],2714:[1,"ditie_zaijian_00",[]],2715:[1,"ditie_zaijian_00",[]],2716:[1,"ditie_zaijian_00",[]],2717:[1,"ditie_beijing_00",[]],2718:[1,"ditie_beijing_00",[]],2719:[1,"ditie_zaijian_00",[]],272:[2,-455423489,3,2,2,[],4,0],2720:[1,"ditie_zaijian_00",[]],2721:[1,"ditie_zaijian_00",[]],2722:[1,"ditie_beijing_00",[]],2723:[1,"ditie_beijing_01",[]],2724:[1,"ditie_beijing_0",[]],2725:[1,"ditie_beijing_1",[]],2726:[1,"ditie_beijing_2",[]],2727:[1,"ditie_beijing_00",[]],2728:[1,"trans_beijing_01",[]],2729:[1,"trans_beijing_0",[]],273:[2,-455423489,3,2,2,[],4,0],2730:[1,"trans_beijing_1",[]],2731:[1,"trans_beijing_2",[]],2732:[1,"ditie_beijing_00",[]],2733:[1,"ditie_shanghai_01",[]],2734:[1,"ditie_shanghai_0",[]],2735:[1,"ditie_shanghai_1",[]],2736:[1,"ditie_shanghai_2",[]],2737:[1,"ditie_beijing_00",[]],2738:[1,"trans_shanghai_01",[]],2739:[1,"trans_shanghai_0",[]],274:[2,-455423489,4,2,2,[],4,0],2740:[1,"trans_shanghai_1",[]],2741:[1,"trans_shanghai_2",[]],2742:[1,"ditie_beijing_00",[]],2743:[1,"ditie_guangzhou_01",[]],2744:[1,"ditie_guangzhou_0",[]],2745:[1,"ditie_guangzhou_1",[]],2746:[1,"ditie_guangzhou_2",[]],2747:[1,"ditie_beijing_00",[]],2748:[1,"trans_guangzhou_01",[]],2749:[1,"trans_guangzhou_0",[]],275:[2,-455423489,4,2,2,[],4,0],2750:[1,"trans_guangzhou_1",[]],2751:[1,"trans_guangzhou_2",[]],2752:[1,"ditie_beijing_00",[]],2753:[1,"ditie_shenzhen_g",[]],2754:[1,"ditie_shenzhen_g0",[]],2755:[1,"ditie_shenzhen_g1",[]],2756:[1,"ditie_shenzhen_g2",[]],2757:[1,"ditie_beijing_00",[]],2758:[1,"ditie_shenzhen_01",[]],2759:[1,"ditie_shenzhen_0",[]],276:[2,-843149313,4,2,2,[],4,0],2760:[1,"ditie_shenzhen_1",[]],2761:[1,"ditie_shenzhen_2",[]],2762:[1,"ditie_beijing_00",[]],2763:[1,"trans_shenzhen_01",[]],2764:[1,"trans_shenzhen_0",[]],2765:[1,"trans_shenzhen_1",[]],2766:[1,"trans_shenzhen_2",[]],2767:[1,"ditie_beijing_00",[]],2768:[1,"ditie_guangzhou_01",[]],2769:[1,"ditie_guangzhou_0",[]],277:[2,-843149313,5,2,2,[],4,0],2770:[1,"ditie_guangzhou_1",[]],2771:[1,"ditie_guangzhou_2",[]],2772:[1,"ditie_beijing_00",[]],2773:[1,"ditie_chongqing_01",[]],2774:[1,"ditie_chongqing_0",[]],2775:[1,"ditie_chongqing_1",[]],2776:[1,"ditie_chongqing_2",[]],2777:[1,"ditie_beijing_00",[]],2778:[1,"trans_chongqing_01",[]],2779:[1,"trans_chongqing_0",[]],278:[2,-843149313,6,2,2,[],4,0],2780:[1,"trans_chongqing_1",[]],2781:[1,"trans_chongqing_2",[]],2782:[1,"ditie_beijing_00",[]],2783:[1,"ditie_xian_01",[]],2784:[1,"ditie_xian_0",[]],2785:[1,"ditie_xian_1",[]],2786:[1,"ditie_xian_2",[]],2787:[1,"ditie_beijing_00",[]],2788:[1,"ditie_tianjin_01",[]],2789:[1,"ditie_tianjin_0",[]],279:[2,-843149313,8,2,2,[],4,0],2790:[1,"ditie_tianjin_1",[]],2791:[1,"ditie_tianjin_2",[]],2792:[1,"ditie_beijing_00",[]],2793:[1,"trans_tianjin_01",[]],2794:[1,"trans_tianjin_0",[]],2795:[1,"trans_tianjin_1",[]],2796:[1,"trans_tianjin_2",[]],2797:[1,"ditie_beijing_00",[]],2798:[1,"ditie_wuhan_01",[]],2799:[1,"ditie_wuhan_0",[]],28:[5,"",20,912759295,2,-1],280:[2,-843149313,12,2,2,[],4,0],2800:[1,"ditie_wuhan_1",[]],2801:[1,"ditie_wuhan_2",[]],2802:[1,"ditie_beijing_00",[]],2803:[1,"trans_wuhan_01",[]],2804:[1,"trans_wuhan_0",[]],2805:[1,"trans_wuhan_1",[]],2806:[1,"trans_wuhan_2",[]],2807:[1,"ditie_beijing_00",[]],2808:[1,"ditie_nanjing_01",[]],2809:[1,"ditie_nanjing_0",[]],281:[2,-237677057,3,0,2,[],2,0],2810:[1,"ditie_nanjing_1",[]],2811:[1,"ditie_nanjing_2",[]],2812:[1,"ditie_beijing_00",[]],2813:[1,"trans_nanjing_01",[]],2814:[1,"trans_nanjing_0",[]],2815:[1,"trans_nanjing_1",[]],2816:[1,"trans_nanjing_2",[]],2817:[1,"ditie_beijing_00",[]],2818:[1,"ditie_dalian_01",[]],2819:[1,"ditie_dalian_0",[]],282:[2,-237677057,3,0,2,[],2,0],2820:[1,"ditie_dalian_1",[]],2821:[1,"ditie_dalian_2",[]],2822:[1,"ditie_beijing_00",[]],2823:[1,"trans_dalian_01",[]],2824:[1,"trans_dalian_0",[]],2825:[1,"trans_dalian_1",[]],2826:[1,"trans_dalian_2",[]],2827:[1,"ditie_beijing_00",[]],2828:[1,"ditie_chengdu_01",[]],2829:[1,"ditie_chengdu_0",[]],283:[2,-237677057,3,0,2,[],2,0],2830:[1,"ditie_chengdu_1",[]],2831:[1,"ditie_chengdu_2",[]],2832:[1,"ditie_beijing_00",[]],2833:[1,"trans_chengdu_01",[]],2834:[1,"trans_chengdu_0",[]],2835:[1,"trans_chengdu_1",[]],2836:[1,"trans_chengdu_2",[]],2837:[1,"ditie_beijing_00",[]],2838:[1,"ditie_shenyang_01",[]],2839:[1,"ditie_shenyang_0",[]],284:[2,-237677057,3,0,2,[],2,0],2840:[1,"ditie_shenyang_1",[]],2841:[1,"ditie_shenyang_2",[]],2842:[1,"ditie_beijing_00",[]],2843:[1,"trans_shenyang_01",[]],2844:[1,"trans_shenyang_0",[]],2845:[1,"trans_shenyang_1",[]],2846:[1,"trans_shenyang_2",[]],2847:[1,"ditie_beijing_00",[]],2848:[1,"ditie_changchun_01",[]],2849:[1,"ditie_changchun_0",[]],285:[2,-237677057,4,2,2,[],2,0],2850:[1,"ditie_changchun_1",[]],2851:[1,"ditie_changchun_2",[]],2852:[1,"ditie_beijing_00",[]],2853:[1,"trans_changchun_01",[]],2854:[1,"trans_changchun_0",[]],2855:[1,"trans_changchun_1",[]],2856:[1,"trans_changchun_2",[]],2857:[1,"ditie_beijing_00",[]],2858:[1,"ditie_xianggang_01",[]],2859:[1,"ditie_xianggang_0",[]],286:[2,-237677057,8,2,2,[],2,0],2860:[1,"ditie_xianggang_1",[]],2861:[1,"ditie_xianggang_2",[]],2862:[1,"ditie_beijing_00",[]],2863:[1,"trans_xianggang_01",[]],2864:[1,"trans_xianggang_0",[]],2865:[1,"trans_xianggang_1",[]],2866:[1,"trans_xianggang_2",[]],2867:[1,"ditie_beijing_00",[]],2868:[1,"ditie_suzhou_01",[]],2869:[1,"ditie_suzhou_0",[]],287:[2,-237677057,10,2,2,[],2,0],2870:[1,"ditie_suzhou_1",[]],2871:[1,"ditie_suzhou_2",[]],2872:[1,"ditie_beijing_00",[]],2873:[1,"ditie_kunming_01",[]],2874:[1,"ditie_kunming_0",[]],2875:[1,"ditie_kunming_1",[]],2876:[1,"ditie_kunming_2",[]],2877:[1,"ditie_beijing_00",[]],2878:[1,"ditie_hangzhou_01",[]],2879:[1,"ditie_hangzhou_0",[]],288:[2,-237677057,12,2,2,[],2,0],2880:[1,"ditie_hangzhou_1",[]],2881:[1,"ditie_hangzhou_2",[]],2882:[1,"ditie_beijing_00",[]],2883:[1,"trans_shanghai_01",[]],2884:[1,"trans_shanghai_0",[]],2885:[1,"trans_shanghai_1",[]],2886:[1,"trans_shanghai_2",[]],2887:[1,"s_b_a",[]],2888:[1,"s_b_a",[]],2889:[1,"s_b_a1",[]],289:[2,-237677057,14,2,2,[],2,0],2890:[1,"s_b_a1",[]],2891:[1,"s_b_a2",[]],2892:[1,"s_b_a2",[]],2893:[1,"s_b_a3",[]],2894:[1,"s_b_a3",[]],2895:[1,"s_b_b",[]],2896:[1,"s_b_b",[]],2897:[1,"s_b_b1",[]],2898:[1,"s_b_b1",[]],2899:[1,"s_b_b2",[]],29:[5,"",20,858993663,16,-1],290:[2,-559393793,3,0,2,[],1,0],2900:[1,"s_b_b2",[]],2901:[1,"s_b_b3",[]],2902:[1,"s_b_b3",[]],2903:[1,"s_b_b4",[]],2904:[1,"s_b_b4",[]],2905:[1,"s_b_c",[]],2906:[1,"s_b_c",[]],2907:[1,"s_b_c1",[]],2908:[1,"s_b_c1",[]],2909:[1,"s_b_c2",[]],291:[2,-559393793,3,0,2,[],1,0],2910:[1,"s_b_c2",[]],2911:[1,"s_b_c3",[]],2912:[1,"s_b_c3",[]],2913:[1,"s_b_d",[]],2914:[1,"s_b_d",[]],2915:[1,"s_b_d1",[]],2916:[1,"s_b_d1",[]],2917:[1,"s_b_d2",[]],2918:[1,"s_b_d2",[]],2919:[1,"s_b_d3",[]],292:[2,-559393793,3,0,2,[],1,0],2920:[1,"s_b_d3",[]],2921:[1,"s_b_e",[]],2922:[1,"s_b_e",[]],2923:[1,"s_b_e1",[]],2924:[1,"s_b_e1",[]],2925:[1,"s_b_e2",[]],2926:[1,"s_b_e2",[]],2927:[1,"s_b_f",[]],2928:[1,"s_b_f",[]],2929:[1,"s_b_f1",[]],293:[2,-559393793,4,0,2,[],1,0],2930:[1,"s_b_f1",[]],2931:[1,"s_b_f2",[]],2932:[1,"s_b_f2",[]],2933:[1,"s_b_g",[]],2934:[1,"s_b_g",[]],2935:[1,"s_b_g1",[]],2936:[1,"s_b_g1",[]],2937:[1,"s_b_g2",[]],2938:[1,"s_b_g2",[]],2939:[1,"s_b_h",[]],294:[2,-559393793,4,0,2,[],1,0],2940:[1,"s_b_h",[]],2941:[1,"s_b_i",[]],2942:[1,"s_b_i",[]],2943:[1,"s_b_j",[]],2944:[1,"s_b_j",[]],2945:[1,"s_b_j1",[]],2946:[1,"s_b_j1",[]],2947:[1,"s_b_j2",[]],2948:[1,"s_b_j2",[]],2949:[1,"s_b_chu",[]],295:[2,-559393793,5,2,2,[],1,0],2950:[1,"s_b_chu",[]],2951:[1,"s_b_k",[]],2952:[1,"s_b_k",[]],2953:[1,"s_r_1q",[]],2954:[1,"s_r_1q",[]],2955:[1,"s_r_1aq",[]],2956:[1,"s_r_1aq",[]],2957:[1,"s_r_1bq",[]],2958:[1,"s_r_1bq",[]],2959:[1,"s_r_2q",[]],296:[2,-559393793,10,2,2,[],1,0],2960:[1,"s_r_2q",[]],2961:[1,"s_r_2aq",[]],2962:[1,"s_r_2aq",[]],2963:[1,"s_r_2bq",[]],2964:[1,"s_r_2bq",[]],2965:[1,"s_r_3q",[]],2966:[1,"s_r_3q",[]],2967:[1,"s_r_3aq",[]],2968:[1,"s_r_3aq",[]],2969:[1,"s_r_4q",[]],297:[2,-559393793,12,2,2,[],1,0],2970:[1,"s_r_4q",[]],2971:[1,"s_r_4aq",[]],2972:[1,"s_r_4aq",[]],2973:[1,"s_r_4bq",[]],2974:[1,"s_r_4bq",[]],2975:[1,"s_r_5q",[]],2976:[1,"s_r_5q",[]],2977:[1,"s_r_5aq",[]],2978:[1,"s_r_5aq",[]],2979:[1,"s_r_5bq",[]],298:[2,-559393793,14,2,2,[],1,0],2980:[1,"s_r_5bq",[]],2981:[1,"s_r_6q",[]],2982:[1,"s_r_6q",[]],2983:[1,"s_r_7q",[]],2984:[1,"s_r_7q",[]],2985:[1,"s_r_1",[]],2986:[1,"s_r_1",[]],2987:[1,"s_r_1a",[]],2988:[1,"s_r_1a",[]],2989:[1,"s_r_1b",[]],299:[2,-559393793,16,2,2,[],1,0],2990:[1,"s_r_1b",[]],2991:[1,"s_r_1c",[]],2992:[1,"s_r_1c",[]],2993:[1,"s_r_2",[]],2994:[1,"s_r_2",[]],2995:[1,"s_r_2a",[]],2996:[1,"s_r_2a",[]],2997:[1,"s_r_2b",[]],2998:[1,"s_r_2b",[]],2999:[1,"s_r_2c",[]],3:[3,-168562433,[]],30:[5,"",11,858993663,16,-1],300:[2,-559393793,16,2,2,[],1,0],3000:[1,"s_r_2c",[]],3001:[1,"s_r_3",[]],3002:[1,"s_r_3",[]],3003:[1,"3A",[]],3004:[1,"3A",[]],3005:[1,"3B",[]],3006:[1,"3B",[]],3007:[1,"s_r_4",[]],3008:[1,"s_r_4",[]],3009:[1,"s_r_4a",[]],301:[2,-303174145,1,2,2,[],16,0],3010:[1,"s_r_4a",[]],3011:[1,"s_r_4b",[]],3012:[1,"s_r_4b",[]],3013:[1,"s_r_5",[]],3014:[1,"s_r_5",[]],3015:[1,"s_r_6",[]],3016:[1,"s_r_6",[]],3017:[1,"s_r_7",[]],3018:[1,"s_r_7",[]],3019:[1,"s_r_8",[]],302:[2,-454761217,3,2,2,[],16,0],3020:[1,"s_r_8",[]],3021:[1,"s_r_9",[]],3022:[1,"s_r_9",[]],3023:[1,"s_r_10",[]],3024:[1,"s_r_10",[]],3025:[1,"s_r_11",[]],3026:[1,"s_r_11",[]],3027:[1,"s_r_12",[]],3028:[1,"s_r_12",[]],3029:[1,"s_r_13",[]],303:[2,-454761217,4,2,2,[],16,0],3030:[1,"s_r_13",[]],3031:[1,"s_r_14",[]],3032:[1,"s_r_14",[]],3033:[1,"s_r_15",[]],3034:[1,"s_r_15",[]],3035:[1,"s_r_16",[]],3036:[1,"s_r_16",[]],3037:[1,"s_r_17",[]],3038:[1,"s_r_17",[]],3039:[1,"s_r_18",[]],304:[2,-758265345,5,2,2,[],16,0],3040:[1,"s_r_18",[]],3041:[1,"s_r_19",[]],3042:[1,"s_r_19",[]],3043:[1,"s_r_20",[]],3044:[1,"s_r_20",[]],3045:[1,"s_r_a",[]],3046:[1,"s_r_a",[]],3047:[1,"s_r_a1",[]],3048:[1,"s_r_a1",[]],3049:[1,"s_r_a2",[]],305:[2,-758265345,7,2,2,[],16,0],3050:[1,"s_r_a2",[]],3051:[1,"s_r_a3",[]],3052:[1,"s_r_a3",[]],3053:[1,"s_r_a4",[]],3054:[1,"s_r_a4",[]],3055:[1,"s_r_a5",[]],3056:[1,"s_r_a5",[]],3057:[1,"s_r_b",[]],3058:[1,"s_r_b",[]],3059:[1,"s_r_b1",[]],306:[2,-758265345,9,2,2,[],16,0],3060:[1,"s_r_b1",[]],3061:[1,"s_r_b2",[]],3062:[1,"s_r_b2",[]],3063:[1,"s_r_b3",[]],3064:[1,"s_r_b3",[]],3065:[1,"s_r_b4",[]],3066:[1,"s_r_b4",[]],3067:[1,"s_r_b5",[]],3068:[1,"s_r_b5",[]],3069:[1,"s_r_b6",[]],307:[2,-455423489,3,2,2,[],8,0],3070:[1,"s_r_b6",[]],3071:[1,"s_r_c",[]],3072:[1,"s_r_c",[]],3073:[1,"s_r_c1",[]],3074:[1,"s_r_c1",[]],3075:[1,"s_r_c2",[]],3076:[1,"s_r_c2",[]],3077:[1,"s_r_c3",[]],3078:[1,"s_r_c3",[]],3079:[1,"s_r_c4",[]],308:[2,-455423489,3,2,2,[],8,0],3080:[1,"s_r_c4",[]],3081:[1,"s_r_c5",[]],3082:[1,"s_r_c5",[]],3083:[1,"s_r_d",[]],3084:[1,"s_r_d",[]],3085:[1,"s_r_d1",[]],3086:[1,"s_r_d1",[]],3087:[1,"s_r_d2",[]],3088:[1,"s_r_d2",[]],3089:[1,"s_r_d3",[]],309:[2,-455423489,3,2,2,[],8,0],3090:[1,"s_r_d3",[]],3091:[1,"s_r_d4",[]],3092:[1,"s_r_d4",[]],3093:[1,"s_r_d5",[]],3094:[1,"s_r_d5",[]],3095:[1,"s_r_d6",[]],3096:[1,"s_r_d6",[]],3097:[1,"s_r_e",[]],3098:[1,"s_r_e",[]],3099:[1,"s_r_e1",[]],31:[2,-859992065,3,2,2,[],2,0],310:[2,-843149313,3,2,2,[],8,0],3100:[1,"s_r_e1",[]],3101:[1,"s_r_e2",[]],3102:[1,"s_r_e2",[]],3103:[1,"s_r_e3",[]],3104:[1,"s_r_e3",[]],3105:[1,"s_r_e4",[]],3106:[1,"s_r_e4",[]],3107:[1,"s_r_f",[]],3108:[1,"s_r_f",[]],3109:[1,"s_r_f1",[]],311:[2,-843149313,4,2,2,[],8,0],3110:[1,"s_r_f1",[]],3111:[1,"s_r_f2",[]],3112:[1,"s_r_f2",[]],3113:[1,"s_r_g",[]],3114:[1,"s_r_g",[]],3115:[1,"s_r_g1",[]],3116:[1,"s_r_g1",[]],3117:[1,"s_r_g2",[]],3118:[1,"s_r_g2",[]],3119:[1,"s_r_h",[]],312:[2,-843149313,5,2,2,[],8,0],3120:[1,"s_r_h",[]],3121:[1,"s_r_h1",[]],3122:[1,"s_r_h1",[]],3123:[1,"s_r_i",[]],3124:[1,"s_r_i",[]],3125:[1,"s_r_j",[]],3126:[1,"s_r_j",[]],3127:[1,"s_r_j1",[]],3128:[1,"s_r_j1",[]],3129:[1,"s_r_j2",[]],313:[2,-843149313,7,2,2,[],8,0],3130:[1,"s_r_j2",[]],3131:[1,"s_r_j3",[]],3132:[1,"s_r_j3",[]],3133:[1,"s_r_j4",[]],3134:[1,"s_r_j4",[]],3135:[1,"s_r_j5",[]],3136:[1,"s_r_j5",[]],3137:[1,"s_r_j6",[]],3138:[1,"s_r_j6",[]],3139:[1,"s_r_k",[]],314:[2,-843149313,9,2,2,[],8,0],3140:[1,"s_r_k",[]],3141:[1,"s_r_l1",[]],3142:[1,"s_r_l1",[]],3143:[1,"s_r_l3",[]],3144:[1,"s_r_l3",[]],3145:[1,"s_r_l4",[]],3146:[1,"s_r_l4",[]],3147:[1,"s_r_l5",[]],3148:[1,"s_r_l5",[]],3149:[1,"s_r_l6",[]],315:[2,-455423489,3,2,2,[],4,0],3150:[1,"s_r_l6",[]],3151:[1,"s_r_n1",[]],3152:[1,"s_r_n1",[]],3153:[1,"s_r_n2",[]],3154:[1,"s_r_n2",[]],3155:[1,"s_r_n4",[]],3156:[1,"s_r_n4",[]],3157:[1,"s_r_n5",[]],3158:[1,"s_r_n5",[]],3159:[1,"s_r_p1",[]],316:[2,-455423489,3,2,2,[],4,0],3160:[1,"s_r_p1",[]],3161:[1,"s_r_p2",[]],3162:[1,"s_r_p2",[]],3163:[1,"s_r_p3",[]],3164:[1,"s_r_p3",[]],3165:[1,"s_r_chu",[]],3166:[1,"s_r_chu",[]],3167:[1,"s_g_a",[]],3168:[1,"s_g_a",[]],3169:[1,"s_g_b",[]],317:[2,-455423489,3,2,2,[],4,0],3170:[1,"s_g_b",[]],3171:[3,-858993409,[2,-858993409,1,0,0,[],0,0]],3172:[3,-1042499073,[2,-1042499073,1,0,0,[],0,0]],3173:[3,-1042499073,[2,-1042499073,1,0,0,[],0,0]],3174:[3,-1042499073,[2,-1042499073,1,0,0,[],0,0]],3175:[3,-1042499073,[2,-1042499073,1,0,0,[],0,0]],3176:[3,-1042499073,[2,-1042499073,1,0,0,[],0,0]],3177:[3,-1042499073,[2,-1042499073,1,0,0,[],0,0]],3178:[3,-1042499073,[2,-1042499073,1,0,0,[],0,0]],3179:[3,-1042499073,[2,-1042499073,1,0,0,[],0,0]],318:[2,-843149313,3,2,2,[],4,0],3180:[3,-1042499073,[2,-1042499073,1,0,0,[],0,0]],3181:[3,-168562433,[]],3182:[3,-269554945,[2,-269554945,1,0,0,[],0,0]],3183:[3,-1480531713,[2,-1480531713,1,0,0,[],0,0]],3184:[3,-1480531713,[2,-1480531713,1,0,0,[],0,0]],3185:[3,-1480531713,[2,-1480531713,1,0,0,[],0,0]],3186:[3,-1717987034,[]],3187:[4,-572662273,-101190401,.2,[2,-808464385,1,0,1,[],0,0],2,8],3188:[4,-572662273,-101190401,.4,[2,-808464385,1,0,1,[],0,0],2,8],3189:[3,-1717987034,[]],319:[2,-843149313,5,2,2,[],4,0],3190:[4,-572662273,-101190401,.2,[2,-808464385,1,0,1,[],0,0],2,8],3191:[4,-572662273,-101190401,.4,[2,-808464385,1,0,1,[],0,0],2,8],3192:[3,-286467073,[]],3193:[3,-438120449,[]],3194:[3,-85662465,[]],3195:[3,-252119297,[]],3196:[3,-438120449,[]],3197:[3,-438120449,[]],3198:[3,-337057537,[]],3199:[3,-455090177,[]],32:[2,-643879937,3,2,2,[],1,0],320:[2,-843149313,6,2,2,[],4,0],3200:[3,-118101249,[]],3201:[3,-1194931457,[]],3202:[1,"shoudu",[]],3203:[1,"feijichang",[]],3204:[1,"feijichang_T",[]],3205:[1,"atm",[]],3206:[1,"atm",[]],3207:[1,"yinghang",[]],3208:[1,"yinghang",[]],3209:[1,"yinghang",[]],321:[2,-843149313,8,2,2,[],4,0],3210:[1,"zhongguoyinhang",[]],3211:[1,"zhongguoyinhang",[]],3212:[1,"zhongguoyinhang",[]],3213:[1,"zhongguoyinhang",[]],3214:[1,"gongshangyinhang",[]],3215:[1,"gongshangyinhang",[]],3216:[1,"gongshangyinhang",[]],3217:[1,"gongshangyinhang",[]],3218:[1,"jiansheyinhang",[]],3219:[1,"jiansheyinhang",[]],322:[2,-843149313,10,2,2,[],4,0],3220:[1,"jiansheyinhang",[]],3221:[1,"jiansheyinhang",[]],3222:[1,"nongyeyinhang",[]],3223:[1,"nongyeyinhang",[]],3224:[1,"nongyeyinhang",[]],3225:[1,"nongyeyinhang",[]],3226:[1,"zhaoshangyinhang",[]],3227:[1,"zhaoshangyinhang",[]],3228:[1,"zhaoshangyinhang",[]],3229:[1,"zhaoshangyinhang",[]],323:[2,-237677057,3,0,2,[],2,0],3230:[1,"jiaotonyinhang",[]],3231:[1,"jiaotonyinhang",[]],3232:[1,"jiaotonyinhang",[]],3233:[1,"jiaotonyinhang",[]],3234:[1,"zhongxinyinhang",[]],3235:[1,"zhongxinyinhang",[]],3236:[1,"zhongxinyinhang",[]],3237:[1,"zhongxinyinhang",[]],3238:[1,"minshengyinhang",[]],3239:[1,"minshengyinhang",[]],324:[2,-237677057,3,0,2,[],2,0],3240:[1,"minshengyinhang",[]],3241:[1,"minshengyinhang",[]],3242:[1,"guangdayinhang",[]],3243:[1,"guangdayinhang",[]],3244:[1,"guangdayinhang",[]],3245:[1,"guangdayinhang",[]],3246:[1,"huaxiayinhang",[]],3247:[1,"huaxiayinhang",[]],3248:[1,"huaxiayinhang",[]],3249:[1,"huaxiayinhang",[]],325:[2,-237677057,3,0,2,[],2,0],3250:[1,"shangyeyinhang",[]],3251:[1,"shangyeyinhang",[]],3252:[1,"shangyeyinhang",[]],3253:[1,"shangyeyinhang",[]],3254:[1,"youzhengchuxuyinhang",[]],3255:[1,"youzhengchuxuyinhang",[]],3256:[1,"youzhengchuxuyinhang",[]],3257:[1,"youzhengchuxuyinhang",[]],3258:[1,"jiuba",[]],3259:[1,"jiuba",[]],326:[2,-237677057,4,2,2,[],2,0],3260:[1,"jiuba",[]],3261:[1,"jiuba",[]],3262:[1,"meirongmeifa",[]],3263:[1,"meirongmeifa",[]],3264:[1,"meirongmeifa",[]],3265:[1,"tushuyinxiang",[]],3266:[1,"tushuyinxiang",[]],3267:[1,"tushuyinxiang",[]],3268:[1,"tushuyinxiang",[]],3269:[1,"shangwudasha",[]],327:[2,-237677057,5,2,2,[],2,0],3270:[1,"shangwudasha",[]],3271:[1,"shangwudasha",[]],3272:[1,"shangwudasha",[]],3273:[1,"shangwudasha",[]],3274:[1,"shangwudasha",[]],3275:[1,"shangwudasha_T",[]],3276:[1,"shangwudasha_T",[]],3277:[1,"shangwudasha_T",[]],3278:[1,"shangwudasha_T",[]],3279:[1,"shangwudasha_T",[]],328:[2,-237677057,6,2,2,[],2,0],3280:[1,"shangwudasha_T",[]],3281:[1,"tingchecang",[]],3282:[1,"tingchecang",[]],3283:[1,"qiche",[]],3284:[1,"qiche",[]],3285:[1,"qiche",[]],3286:[1,"jiaotang",[]],3287:[1,"jiaotang",[]],3288:[1,"jiaotang",[]],3289:[1,"jiaotang",[]],329:[2,-237677057,8,2,2,[],2,0],3290:[1,"jiaotang",[]],3291:[1,"jiaotang",[]],3292:[1,"dianyingyuan",[]],3293:[1,"dianyingyuan",[]],3294:[1,"dianyingyuan",[]],3295:[1,"dianyingyuan",[]],3296:[1,"yinyueting",[]],3297:[1,"yinyueting",[]],3298:[1,"yinyueting",[]],3299:[1,"yinyueting",[]],33:[2,-661320961,3,2,2,[],0,0],330:[2,-237677057,10,2,2,[],2,0],3300:[1,"gewuting",[]],3301:[1,"gewuting",[]],3302:[1,"gewuting",[]],3303:[1,"chazhuo",[]],3304:[1,"chazhuo",[]],3305:[1,"chazhuo",[]],3306:[1,"chazhuo",[]],3307:[1,"gaosurukou",[]],3308:[1,"gaosuchukou",[]],3309:[1,"jiayouzhan",[]],331:[2,-593543425,3,0,2,[],0,0],3310:[1,"jiayouzhan",[]],3311:[1,"jiayouzhan",[]],3312:[1,"zhongyangjigou",[]],3313:[1,"zhongyangjigou",[]],3314:[1,"zhongyangjigou",[]],3315:[1,"zhongyangjigou",[]],3316:[1,"zhongyangjigou",[]],3317:[1,"zhongyangjigou",[]],3318:[1,"zhongyangjigou_T",[]],3319:[1,"zhongyangjigou_T",[]],332:[2,-593543425,3,0,2,[],0,0],3320:[1,"zhongyangjigou_T",[]],3321:[1,"zhongyangjigou_T",[]],3322:[1,"zhongyangjigou_T",[]],3323:[1,"zhongyangjigou_T",[]],3324:[1,"gaodengjiaoyu",[]],3325:[1,"gaodengjiaoyu",[]],3326:[1,"gaodengjiaoyu",[]],3327:[1,"gaodengjiaoyu",[]],3328:[1,"gaodengjiaoyu",[]],3329:[1,"gaodengjiaoyu",[]],333:[2,-593543425,3,0,2,[],0,0],3330:[1,"gaodengjiaoyu_T",[]],3331:[1,"gaodengjiaoyu_T",[]],3332:[1,"gaodengjiaoyu_T",[]],3333:[1,"gaodengjiaoyu_T",[]],3334:[1,"gaodengjiaoyu_T",[]],3335:[1,"gaodengjiaoyu_T",[]],3336:[1,"hill",[]],3337:[1,"hill",[]],3338:[1,"hill",[]],3339:[1,"hill",[]],334:[2,-593543425,4,0,2,[],0,0],3340:[1,"hill",[]],3341:[1,"hill",[]],3342:[1,"zhongheyiyuan_1",[]],3343:[1,"zhongheyiyuan_1",[]],3344:[1,"zhongheyiyuan_1",[]],3345:[1,"zhongheyiyuan_1",[]],3346:[1,"zhongheyiyuan_1",[]],3347:[1,"zhongheyiyuan_1",[]],3348:[1,"zhongheyiyuan_1_T",[]],3349:[1,"zhongheyiyuan_1_T",[]],335:[2,-593543425,5,0,2,[],0,0],3350:[1,"zhongheyiyuan_1_T",[]],3351:[1,"zhongheyiyuan_1_T",[]],3352:[1,"zhongheyiyuan_1_T",[]],3353:[1,"zhongheyiyuan_1_T",[]],3354:[1,"binguan",[]],3355:[1,"binguan",[]],3356:[1,"binguan",[]],3357:[1,"binguan",[]],3358:[1,"binguan",[]],3359:[1,"binguan",[]],336:[2,-593543425,6,0,2,[],0,0],3360:[1,"fangwuzhongjie",[]],3361:[1,"fangwuzhongjie",[]],3362:[1,"fangwuzhongjie",[]],3363:[1,"keyangjigou",[]],3364:[1,"keyangjigou",[]],3365:[1,"keyangjigou",[]],3366:[1,"keyangjigou",[]],3367:[1,"keyangjigou",[]],3368:[1,"keyangjigou",[]],3369:[1,"qita",[]],337:[2,-593543425,8,0,2,[],0,0],3370:[1,"qita",[]],3371:[1,"qita",[]],3372:[1,"qita",[]],3373:[1,"qita",[]],3374:[1,"qita",[]],3375:[1,"xiyidian",[]],3376:[1,"xiyidian",[]],3377:[1,"xiyidian",[]],3378:[1,"xiyidian",[]],3379:[1,"changtuqichezhan",[]],338:[2,-593543425,10,0,2,[],0,0],3380:[1,"changtuqichezhan",[]],3381:[1,"changtuqichezhan",[]],3382:[1,"changtuqichezhan",[]],3383:[1,"changtuqichezhan",[]],3384:[1,"changtuqichezhan",[]],3385:[1,"changtuqichezhan_T",[]],3386:[1,"changtuqichezhan_T",[]],3387:[1,"changtuqichezhan_T",[]],3388:[1,"changtuqichezhan_T",[]],3389:[1,"changtuqichezhan_T",[]],339:[2,-559393793,3,0,2,[],0,0],3390:[1,"changtuqichezhan_T",[]],3391:[1,"bowuguan",[]],3392:[1,"bowuguan",[]],3393:[1,"bowuguan",[]],3394:[1,"bowuguan",[]],3395:[1,"bowuguan",[]],3396:[1,"bowuguan",[]],3397:[1,"bowuguan_T",[]],3398:[1,"bowuguan_T",[]],3399:[1,"bowuguan_T",[]],34:[2,-661320961,3,2,2,[],0,0],340:[2,-559393793,3,0,2,[],0,0],3400:[1,"bowuguan_T",[]],3401:[1,"bowuguan_T",[]],3402:[1,"bowuguan_T",[]],3403:[1,"qita",[]],3404:[1,"qita",[]],3405:[1,"qita",[]],3406:[1,"qita",[]],3407:[1,"qita",[]],3408:[1,"qita",[]],3409:[1,"qita_T",[]],341:[2,-559393793,3,0,2,[],0,0],3410:[1,"qita_T",[]],3411:[1,"qita_T",[]],3412:[1,"qita_T",[]],3413:[1,"qita_T",[]],3414:[1,"qita_T",[]],3415:[1,"gongyuan",[]],3416:[1,"gongyuan",[]],3417:[1,"gongyuan",[]],3418:[1,"gongyuan",[]],3419:[1,"gongyuan",[]],342:[2,-559393793,4,0,2,[],0,0],3420:[1,"gongyuan",[]],3421:[1,"gongyuan_T",[]],3422:[1,"gongyuan_T",[]],3423:[1,"gongyuan_T",[]],3424:[1,"gongyuan_T",[]],3425:[1,"gongyuan_T",[]],3426:[1,"gongyuan_T",[]],3427:[1,"chongwudian",[]],3428:[1,"chongwudian",[]],3429:[1,"chongwudian",[]],343:[2,-559393793,5,0,2,[],0,0],3430:[1,"chongwudian",[]],3431:[1,"yaodian_yaofang",[]],3432:[1,"yaodian_yaofang",[]],3433:[1,"yaodian_yaofang",[]],3434:[1,"yaodian_yaofang",[]],3435:[1,"sheyingshexiang",[]],3436:[1,"sheyingshexiang",[]],3437:[1,"sheyingshexiang",[]],3438:[1,"sheyingshexiang",[]],3439:[1,"gangkou_matou",[]],344:[2,-559393793,6,0,2,[],0,0],3440:[1,"gangkou_matou",[]],3441:[1,"gangkou_matou",[]],3442:[1,"gangkou_matou",[]],3443:[1,"gangkou_matou",[]],3444:[1,"gangkou_matou",[]],3445:[1,"youzheng",[]],3446:[1,"youzheng",[]],3447:[1,"youzheng",[]],3448:[1,"youzheng",[]],3449:[1,"youzheng",[]],345:[2,-559393793,8,0,2,[],0,0],3450:[1,"zhongxiaoxue",[]],3451:[1,"zhongxiaoxue",[]],3452:[1,"zhongxiaoxue",[]],3453:[1,"zhongxiaoxue",[]],3454:[1,"zhongxiaoxue",[]],3455:[1,"zhongxiaoxue",[]],3456:[1,"zhongxiaoxue_T",[]],3457:[1,"zhongxiaoxue_T",[]],3458:[1,"zhongxiaoxue_T",[]],3459:[1,"zhongxiaoxue_T",[]],346:[2,-559393793,10,0,2,[],0,0],3460:[1,"zhongxiaoxue_T",[]],3461:[1,"zhongxiaoxue_T",[]],3462:[1,"xinwenchuban",[]],3463:[1,"xinwenchuban",[]],3464:[1,"xinwenchuban",[]],3465:[1,"xinwenchuban",[]],3466:[1,"guji",[]],3467:[1,"guji",[]],3468:[1,"guji",[]],3469:[1,"guji",[]],347:[2,1553057279,1,2,2,[10,11],1,0],3470:[1,"guji",[]],3471:[1,"guji",[]],3472:[1,"xiaoxue_loupan",[]],3473:[1,"xiaoxue_loupan",[]],3474:[1,"xiaoxue_loupan",[]],3475:[1,"xiaoxue_loupan",[]],3476:[1,"xiaoxue_loupan",[]],3477:[1,"xiaoxue_loupan_T",[]],3478:[1,"xiaoxue_loupan_T",[]],3479:[1,"xiaoxue_loupan_T",[]],348:[2,1553057279,1,2,2,[10,11],1,0],3480:[1,"xiaoxue_loupan_T",[]],3481:[1,"xiaoxue_loupan_T",[]],3482:[1,"dujiachun",[]],3483:[1,"dujiachun",[]],3484:[1,"dujiachun",[]],3485:[1,"dujiachun",[]],3486:[1,"dujiachun",[]],3487:[1,"dujiachun",[]],3488:[1,"dujiachun_T",[]],3489:[1,"dujiachun_T",[]],349:[2,-303174145,1,2,2,[],16,0],3490:[1,"dujiachun_T",[]],3491:[1,"dujiachun_T",[]],3492:[1,"dujiachun_T",[]],3493:[1,"dujiachun_T",[]],3494:[1,"zhongcan_b",[]],3495:[1,"zhongcan_b",[]],3496:[1,"zhongcan_b",[]],3497:[1,"zhongcan_b",[]],3498:[1,"fengjing",[]],3499:[1,"fengjing",[]],35:[2,-320235009,1,2,2,[],2,0],350:[2,-454761217,3,2,2,[],16,0],3500:[1,"fengjing",[]],3501:[1,"fengjing",[]],3502:[1,"fengjing",[]],3503:[1,"fengjing",[]],3504:[1,"fengjing_T",[]],3505:[1,"fengjing_T",[]],3506:[1,"fengjing_T",[]],3507:[1,"fengjing_T",[]],3508:[1,"fengjing_T",[]],3509:[1,"fengjing_T",[]],351:[2,-454761217,4,2,2,[],16,0],3510:[1,"tianam",[]],3511:[1,"tianam",[]],3512:[1,"tianam",[]],3513:[1,"tianam",[]],3514:[1,"gouwuzhongxin",[]],3515:[1,"gouwuzhongxin",[]],3516:[1,"gouwuzhongxin",[]],3517:[1,"gouwuzhongxin",[]],3518:[1,"gouwuzhongxin",[]],3519:[1,"gouwuzhongxin_T",[]],352:[2,-758265345,5,2,2,[],16,0],3520:[1,"gouwuzhongxin_T",[]],3521:[1,"gouwuzhongxin_T",[]],3522:[1,"gouwuzhongxin_T",[]],3523:[1,"gouwuzhongxin_T",[]],3524:[1,"tiyuyongpin",[]],3525:[1,"tiyuyongpin",[]],3526:[1,"tiyuyongpin",[]],3527:[1,"tiyuyongpin",[]],3528:[1,"tiyu",[]],3529:[1,"tiyu",[]],353:[2,-758265345,7,2,2,[],16,0],3530:[1,"tiyu",[]],3531:[1,"tiyu",[]],3532:[1,"tiyu",[]],3533:[1,"tiyu",[]],3534:[1,"chaoshi",[]],3535:[1,"chaoshi",[]],3536:[1,"chaoshi",[]],3537:[1,"chaoshi",[]],3538:[1,"chaoshi",[]],3539:[1,"dianxingongsi",[]],354:[2,-758265345,9,2,2,[],16,0],3540:[1,"dianxingongsi",[]],3541:[1,"dianxingongsi",[]],3542:[1,"dianxingongsi",[]],3543:[1,"dianxinyingyeting",[]],3544:[1,"dianxinyingyeting",[]],3545:[1,"dianxinyingyeting",[]],3546:[1,"dianxinyingyeting",[]],3547:[1,"dianxinyingyeting",[]],3548:[1,"shoupiaochu",[]],3549:[1,"shoupiaochu",[]],355:[2,-455423489,3,2,2,[],8,0],3550:[1,"shoupiaochu",[]],3551:[1,"shoufeizhan",[]],3552:[1,"lingmu",[]],3553:[1,"lingmu",[]],3554:[1,"lingmu",[]],
3555:[1,"lingmu",[]],3556:[1,"lingmu",[]],3557:[1,"lingmu",[]],3558:[1,"honglvdeng",[]],3559:[1,"huochezhan",[]],356:[2,-455423489,3,2,2,[],8,0],3560:[1,"huochezhan",[]],3561:[1,"huochezhan",[]],3562:[1,"huochezhan",[]],3563:[1,"huochezhan",[]],3564:[1,"huochezhan",[]],3565:[1,"huochezhan_T",[]],3566:[1,"huochezhan_T",[]],3567:[1,"huochezhan_T",[]],3568:[1,"huochezhan_T",[]],3569:[1,"huochezhan_T",[]],357:[2,-455423489,3,2,2,[],8,0],3570:[1,"huochezhan_T",[]],3571:[1,"dianshita",[]],3572:[1,"dianshita",[]],3573:[1,"dianshita",[]],3574:[1,"dianshita",[]],3575:[1,"dianshita",[]],3576:[1,"dianshita",[]],3577:[1,"dianshita_T",[]],3578:[1,"dianshita_T",[]],3579:[1,"dianshita_T",[]],358:[2,-455423489,3,2,2,[],8,0],3580:[1,"dianshita_T",[]],3581:[1,"dianshita_T",[]],3582:[1,"dianshita_T",[]],3583:[1,"zhongbiaoyanjing",[]],3584:[1,"zhongbiaoyanjing",[]],3585:[1,"zhongbiaoyanjing",[]],3586:[1,"zhongbiaoyanjing",[]],3587:[1,"gongce",[]],3588:[1,"gongce",[]],3589:[1,"dongwuyuan",[]],359:[2,-843149313,3,2,2,[],8,0],3590:[1,"dongwuyuan",[]],3591:[1,"dongwuyuan",[]],3592:[1,"dongwuyuan",[]],3593:[1,"dongwuyuan",[]],3594:[1,"dongwuyuan",[]],3595:[1,"dongwuyuan_T",[]],3596:[1,"dongwuyuan_T",[]],3597:[1,"dongwuyuan_T",[]],3598:[1,"dongwuyuan_T",[]],3599:[1,"dongwuyuan_T",[]],36:[2,-320235009,1,2,2,[],2,0],360:[2,-843149313,5,2,2,[],8,0],3600:[1,"dongwuyuan_T",[]],3601:[1,"busstop_2",[]],3602:[1,"busstop_3",[]],3603:[1,"ditie_beijing_00",[]],3604:[1,"ditie_beijing_0",[]],3605:[1,"ditie_beijing_1",[]],3606:[1,"ditie_beijing_2",[]],3607:[1,"s_b_a",[]],3608:[1,"s_b_a",[]],3609:[1,"jdn_qita",[]],361:[2,-843149313,6,2,2,[],8,0],3610:[1,"jdn_qita",[]],3611:[5,"",13,1683106815,16,-118099713],3612:[5,"",14,1683106815,16,-118099713],3613:[5,"",16,1683106815,16,-118099713],3614:[5,"",18,1683106815,16,-118099713],3615:[5,"",15,-1872556801,16,-151588865],3616:[5,"",16,-1872556801,16,-151588865],3617:[5,"",17,-1872556801,16,-151588865],3618:[5,"",19,-1872556801,16,-151588865],3619:[5,"",13,-1841019649,16,-101386753],362:[2,-843149313,10,2,2,[],8,0],3620:[5,"",14,-1841019649,16,-101386753],3621:[5,"",16,-1841019649,16,-101386753],3622:[5,"",18,-1841019649,16,-101386753],3623:[5,"",13,1113419263,16,-302910465],3624:[5,"",14,1113419263,16,-302910465],3625:[5,"",16,1113419263,16,-302910465],3626:[5,"",18,1113419263,16,-302910465],3627:[5,"",13,-2124274945,16,-1],3628:[5,"",14,-2124274945,16,-1],3629:[5,"",16,-2124274945,16,-1],363:[2,-843149313,10,2,2,[],8,0],3630:[5,"",18,-2124274945,16,-1],3631:[5,"",12,858993663,16,-1],3632:[5,"",12,-1,20,-2122329601],3633:[5,"",14,-1,20,-2122329601],3634:[5,"",12,858993663,16,-1],3635:[5,"",12,-1,20,1301863935],3636:[5,"",13,-1,20,1301863935],3637:[5,"",11,858993663,16,-1],3638:[5,"",11,858993663,16,-1],3639:[5,"",12,255,16,-1],364:[2,-455423489,3,2,2,[],4,0],3640:[5,"",11,1717960959,16,-1],3641:[5,"",11,1717960959,16,-1],3642:[5,"",12,1717960959,16,-1],3643:[5,"",11,1414088447,16,-168562433],3644:[5,"",11,757408511,16,-168562433],3645:[5,"",12,757408511,16,-168562433],3646:[5,"",12,757408511,16,-168562433],3647:[5,"",13,757408511,16,-168562433],3648:[5,"",13,757408511,16,-168562433],3649:[5,"",14,757408511,16,-168562433],365:[2,-455423489,3,2,2,[],4,0],3650:[5,"",12,757408511,16,-168562433],3651:[5,"",12,757408511,16,-168562433],3652:[5,"",13,757408511,16,-168562433],3653:[5,"",13,757408511,16,-168562433],3654:[5,"",13,757408511,16,-168562433],3655:[5,"",14,757408511,16,-168562433],3656:[5,"",12,757408511,16,-168562433],3657:[5,"",12,757408511,16,-168562433],3658:[5,"",13,757408511,16,-168562433],3659:[5,"",15,757408511,16,-168562433],366:[2,-455423489,3,2,2,[],4,0],3660:[5,"",15,757408511,16,-168562433],3661:[5,"",15,757408511,16,-168562433],3662:[5,"",12,757408511,16,-168562433],3663:[5,"",12,757408511,16,-168562433],3664:[5,"",13,757408511,16,-168562433],3665:[5,"",13,757408511,16,-168562433],3666:[5,"",13,757408511,16,-168562433],3667:[5,"",14,757408511,16,-168562433],3668:[5,"",12,757408511,16,-168562433],3669:[5,"",13,757408511,16,-168562433],367:[2,-455423489,3,2,2,[],4,0],3670:[5,"",13,757408511,16,-168562433],3671:[5,"",13,757408511,16,-168562433],3672:[5,"",14,757408511,16,-168562433],3673:[5,"",12,757408511,16,-168562433],3674:[5,"",12,757408511,16,-168562433],3675:[5,"",13,757408511,16,-168562433],3676:[5,"",13,757408511,16,-168562433],3677:[5,"",13,757408511,16,-168562433],3678:[5,"",14,757408511,16,-168562433],3679:[5,"",12,757408511,16,-168562433],368:[2,-843149313,3,2,2,[],4,0],3680:[5,"",12,757408511,16,-168562433],3681:[5,"",12,757408511,16,-168562433],3682:[5,"",13,757408511,16,-168562433],3683:[5,"",13,757408511,16,-168562433],3684:[5,"",13,757408511,16,-168562433],3685:[5,"",14,757408511,16,-168562433],3686:[5,"",12,757408511,16,-168562433],3687:[5,"",13,757408511,16,-168562433],3688:[5,"",13,757408511,16,-168562433],3689:[5,"",13,757408511,16,-168562433],369:[2,-843149313,6,2,2,[],4,0],3690:[5,"",14,757408511,16,-168562433],3691:[5,"",12,757408511,16,-168562433],3692:[5,"",12,757408511,16,-168562433],3693:[5,"",13,757408511,16,-168562433],3694:[5,"",13,757408511,16,-168562433],3695:[5,"",13,757408511,16,-168562433],3696:[5,"",14,757408511,16,-168562433],3697:[5,"",12,757408511,16,-168562433],3698:[5,"",12,757408511,16,-168562433],3699:[5,"",13,757408511,16,-168562433],37:[2,-22785,1,2,2,[],2,0],370:[2,-843149313,8,2,2,[],4,0],3700:[5,"",13,757408511,16,-168562433],3701:[5,"",13,757408511,16,-168562433],3702:[5,"",14,757408511,16,-168562433],3703:[5,"",12,757408511,16,-168562433],3704:[5,"",12,757408511,16,-168562433],3705:[5,"",13,757408511,16,-168562433],3706:[5,"",13,757408511,16,-168562433],3707:[5,"",13,757408511,16,-168562433],3708:[5,"",14,757408511,16,-168562433],3709:[5,"",12,1164654847,16,-84215041],371:[2,-843149313,10,2,2,[],4,0],3710:[5,"",12,1164654847,16,-84215041],3711:[5,"",12,1164654847,16,-84215041],3712:[5,"",13,1164654847,16,-84215041],3713:[5,"",13,1164654847,16,-84215041],3714:[5,"",13,1164654847,16,-84215041],3715:[5,"",14,1164654847,16,-84215041],3716:[5,"",12,757408511,16,-168562433],3717:[5,"",12,757408511,16,-168562433],3718:[5,"",13,757408511,16,-168562433],3719:[5,"",13,757408511,16,-168562433],372:[2,-237677057,3,0,2,[],2,0],3720:[5,"",13,757408511,16,-168562433],3721:[5,"",14,757408511,16,-168562433],3722:[5,"",12,757408511,16,-168562433],3723:[5,"",12,757408511,16,-168562433],3724:[5,"",13,757408511,16,-168562433],3725:[5,"",13,757408511,16,-168562433],3726:[5,"",13,757408511,16,-168562433],3727:[5,"",14,757408511,16,-168562433],3728:[5,"",12,757408511,16,-168562433],3729:[5,"",12,757408511,16,-168562433],373:[2,-237677057,3,0,2,[],2,0],3730:[5,"",13,757408511,16,-168562433],3731:[5,"",13,757408511,16,-168562433],3732:[5,"",13,757408511,16,-168562433],3733:[5,"",14,757408511,16,-168562433],3734:[5,"",12,757408511,16,-168562433],3735:[5,"",12,757408511,16,-168562433],3736:[5,"",13,757408511,16,-168562433],3737:[5,"",13,757408511,16,-168562433],3738:[5,"",13,757408511,16,-168562433],3739:[5,"",14,757408511,16,-168562433],374:[2,-237677057,3,0,2,[],2,0],3740:[5,"",12,757408511,16,-168562433],3741:[5,"",12,757408511,16,-168562433],3742:[5,"",13,757408511,16,-168562433],3743:[5,"",13,757408511,16,-168562433],3744:[5,"",13,757408511,16,-168562433],3745:[5,"",14,757408511,16,-168562433],3746:[5,"",11,1414088447,16,-168562433],3747:[5,"",11,1414088447,16,-168562433],3748:[5,"",11,1414088447,16,-168562433],3749:[5,"",11,1414088447,16,-168562433],375:[2,-237677057,3,0,2,[],2,0],3750:[5,"",11,1414088447,16,-168562433],3751:[5,"",11,1414088447,16,-168562433],3752:[5,"",11,1414088447,16,-168562433],3753:[5,"",11,1414088447,16,-168562433],3754:[5,"",11,1414088447,16,-168562433],3755:[5,"",11,1414088447,16,-168562433],3756:[5,"",11,1414088447,16,-168562433],3757:[5,"",11,1414088447,16,-168562433],3758:[5,"",11,1414088447,16,-168562433],3759:[5,"",11,1414088447,16,-168562433],376:[2,-237677057,3,0,2,[],2,0],3760:[5,"",11,1414088447,16,-168562433],3761:[5,"",11,1414088447,16,-168562433],3762:[5,"",11,1414088447,16,-168562433],3763:[5,"",11,1414088447,16,-168562433],3764:[5,"",11,1414088447,16,-168562433],3765:[5,"",11,1414088447,16,-168562433],3766:[5,"",11,1414088447,16,-168562433],3767:[5,"",14,255,16,-1],3768:[5,"",15,255,16,-1],3769:[5,"",11,1414088447,16,-168562433],377:[2,-237677057,4,2,2,[],2,0],3770:[5,"",11,1414088447,16,-168562433],3771:[5,"",11,1414088447,16,-168562433],3772:[5,"",11,1414088447,16,-168562433],3773:[5,"",11,1414088447,16,-168562433],3774:[5,"",11,1414088447,16,-168562433],3775:[5,"",11,1414088447,16,-168562433],3776:[5,"",11,1414088447,16,-168562433],3777:[5,"",11,1414088447,16,-168562433],3778:[5,"",11,1414088447,16,-168562433],3779:[5,"",11,1414088447,16,-168562433],378:[2,-237677057,6,2,2,[],2,0],3780:[5,"",11,1414088447,16,-168562433],3781:[5,"",11,1414088447,16,-168562433],3782:[5,"",1,1414088447,16,-168562433],3783:[5,"",11,1414088447,16,-168562433],3784:[5,"",11,1414088447,16,-168562433],3785:[5,"",11,1414088447,16,-168562433],3786:[5,"",11,1414088447,16,-168562433],3787:[5,"",11,1414088447,16,-168562433],3788:[5,"",11,1414088447,16,-168562433],3789:[5,"",11,1414088447,16,-168562433],379:[2,-237677057,8,2,2,[],2,0],3790:[5,"",11,1414088447,16,-168562433],3791:[5,"",11,1414088447,16,-168562433],3792:[5,"",11,1414088447,16,-168562433],3793:[5,"",11,1414088447,16,-168562433],3794:[5,"",11,1414088447,16,-168562433],3795:[5,"",11,1414088447,16,-168562433],3796:[5,"",11,1414088447,16,-168562433],3797:[5,"",11,1414088447,16,-168562433],3798:[5,"",11,1414088447,16,-168562433],3799:[5,"",11,1414088447,16,-168562433],38:[2,-2329857,1,2,2,[],1,0],380:[2,-559393793,3,0,2,[],1,0],3800:[5,"",11,1414088447,16,-168562433],3801:[5,"",11,1414088447,16,-168562433],3802:[5,"",11,1414088447,16,-168562433],3803:[5,"",11,1414088447,16,-168562433],3804:[5,"",11,1414088447,16,-168562433],3805:[5,"",11,1414088447,16,-168562433],3806:[5,"",11,1414088447,16,-168562433],3807:[5,"",11,1414088447,16,-168562433],3808:[5,"",11,1414088447,16,-168562433],3809:[5,"",11,1414088447,16,-168562433],381:[2,-559393793,3,0,2,[],1,0],3810:[5,"",11,1414088447,16,-168562433],3811:[5,"",11,1414088447,16,-168562433],3812:[5,"",11,1414088447,16,-168562433],3813:[5,"",11,1414088447,16,-168562433],3814:[5,"",11,1414088447,16,-168562433],3815:[5,"",11,1414088447,16,-168562433],3816:[5,"",11,1414088447,16,-168562433],3817:[5,"",11,1414088447,16,-168562433],3818:[5,"",13,1414088447,16,-168562433],3819:[5,"",13,1414088447,16,-168562433],382:[2,-559393793,3,0,2,[],1,0],3820:[5,"",13,1414088447,16,-168562433],3821:[5,"",11,1414088447,16,-168562433],3822:[5,"",11,1414088447,16,-168562433],3823:[5,"",11,1414088447,16,-168562433],3824:[5,"",11,1414088447,16,-168562433],3825:[5,"",11,1414088447,16,-168562433],3826:[5,"",11,1414088447,16,-168562433],3827:[5,"",11,1414088447,16,-168562433],3828:[5,"",11,1414088447,16,-168562433],3829:[5,"",11,1414088447,16,-168562433],383:[2,-559393793,3,0,2,[],1,0],3830:[5,"",11,1414088447,16,-168562433],3831:[5,"",11,1414088447,16,-168562433],3832:[5,"",11,1414088447,16,-168562433],3833:[5,"",11,1414088447,16,-168562433],3834:[5,"",11,1414088447,16,-168562433],3835:[5,"",11,1414088447,16,-168562433],3836:[5,"",11,1414088447,16,-168562433],3837:[5,"",11,1414088447,16,-168562433],3838:[5,"",11,1414088447,16,-168562433],3839:[5,"",11,1414088447,16,-168562433],384:[2,-559393793,4,2,2,[],1,0],3840:[5,"",11,1414088447,16,-168562433],3841:[5,"",11,1414088447,16,-168562433],3842:[5,"",11,1414088447,16,-168562433],3843:[5,"",11,1414088447,16,-168562433],3844:[5,"",11,1414088447,16,-168562433],3845:[5,"",11,1414088447,16,-168562433],3846:[5,"",11,1414088447,16,-168562433],3847:[5,"",11,1414088447,16,-168562433],3848:[5,"",11,1414088447,16,-168562433],3849:[5,"",11,1414088447,16,-168562433],385:[2,-559393793,6,2,2,[],1,0],3850:[5,"",11,1414088447,16,-168562433],3851:[5,"",11,1414088447,16,-168562433],3852:[5,"",11,1414088447,16,-168562433],3853:[5,"",11,1414088447,16,-168562433],3854:[5,"",11,1414088447,16,-168562433],3855:[5,"",11,1414088447,16,-168562433],3856:[5,"",11,1414088447,16,-168562433],3857:[5,"",11,1414088447,16,-168562433],3858:[5,"",11,1414088447,16,-168562433],3859:[5,"",11,1414088447,16,-168562433],386:[2,-559393793,7,2,2,[],1,0],3860:[5,"",11,1414088447,16,-168562433],3861:[5,"",11,1414088447,16,-168562433],3862:[5,"",11,1414088447,16,-168562433],3863:[5,"",11,1414088447,16,-168562433],3864:[5,"",11,1414088447,16,-168562433],3865:[5,"",11,1414088447,16,-168562433],3866:[5,"",11,1414088447,16,-168562433],3867:[5,"",11,1414088447,16,-168562433],3868:[5,"",11,1414088447,16,-168562433],3869:[5,"",11,1414088447,16,-168562433],387:[2,-559393793,9,2,2,[],1,0],3870:[5,"",11,1414088447,16,-168562433],3871:[5,"",11,1414088447,16,-168562433],3872:[5,"",11,1414088447,16,-168562433],3873:[5,"",11,1414088447,16,-168562433],3874:[5,"",11,1414088447,16,-168562433],3875:[5,"",11,1815085311,16,-665089],3876:[5,"",12,1815085311,16,-665089],3877:[5,"",13,1815085311,16,-665089],3878:[5,"",14,1815085311,16,-665089],3879:[5,"",15,1815085311,16,-665089],388:[2,-559393793,9,2,2,[],1,0],3880:[5,"",16,1815085311,16,-665089],3881:[5,"",18,1815085311,16,-665089],3882:[5,"",11,1164654847,16,-84215041],3883:[5,"",11,1164654847,16,-84215041],3884:[5,"",11,1164654847,16,-84215041],3885:[5,"",11,1164654847,16,-84215041],3886:[5,"",11,1164654847,16,-84215041],3887:[5,"",11,1164654847,16,-84215041],3888:[5,"",11,1414088447,16,-168562433],3889:[5,"",11,1414088447,16,-168562433],389:[2,-101058049,1,2,2,[],16,0],3890:[5,"",11,1414088447,16,-168562433],3891:[5,"",11,1414088447,16,-168562433],3892:[5,"",11,1414088447,16,-168562433],3893:[5,"",11,1414088447,16,-168562433],3894:[5,"",11,1414088447,16,-168562433],3895:[5,"",11,1414088447,16,-168562433],3896:[5,"",11,1414088447,16,-168562433],3897:[5,"",11,1414088447,16,-168562433],3898:[5,"",11,1414088447,16,-168562433],3899:[5,"",11,1414088447,16,-168562433],39:[2,-3261953,1,2,2,[],1,0],390:[2,-101058049,1,2,2,[],16,0],3900:[5,"",11,1414088447,16,-168562433],3901:[5,"",11,1414088447,16,-168562433],3902:[5,"",11,1414088447,16,-168562433],3903:[5,"",11,1414088447,16,-168562433],3904:[5,"",11,1414088447,16,-168562433],3905:[5,"",11,1414088447,16,-168562433],3906:[5,"",11,1414088447,16,-168562433],3907:[5,"",11,1414088447,16,-168562433],3908:[5,"",11,1414088447,16,-168562433],3909:[5,"",11,1414088447,16,-168562433],391:[2,-101058049,2,2,2,[],16,0],3910:[5,"",11,1414088447,16,-168562433],3911:[5,"",11,1414088447,16,-168562433],3912:[5,"",11,1414088447,16,-168562433],3913:[5,"",11,1414088447,16,-168562433],3914:[5,"",11,1414088447,16,-168562433],3915:[5,"",11,1414088447,16,-168562433],3916:[5,"",11,1414088447,16,-168562433],3917:[5,"",11,1414088447,16,-168562433],3918:[5,"",11,1414088447,16,-168562433],3919:[5,"",11,1414088447,16,-168562433],392:[2,-101058049,4,2,2,[],16,0],3920:[5,"",11,1414088447,16,-168562433],3921:[5,"",11,1414088447,16,-168562433],3922:[5,"",11,1414088447,16,-168562433],3923:[5,"",11,1414088447,16,-168562433],3924:[5,"",11,1414088447,16,-168562433],3925:[5,"",11,1414088447,16,-168562433],3926:[5,"",11,1414088447,16,-168562433],3927:[5,"",11,1414088447,16,-168562433],3928:[5,"",11,1414088447,16,-168562433],3929:[5,"",11,1414088447,16,-168562433],393:[2,-101058049,6,2,2,[],16,0],3930:[5,"",11,1414088447,16,-168562433],3931:[5,"",11,1414088447,16,-168562433],3932:[5,"",11,1414088447,16,-168562433],3933:[5,"",11,1414088447,16,-168562433],3934:[5,"",11,1414088447,16,-168562433],3935:[5,"",11,1414088447,16,-168562433],3936:[5,"",11,1414088447,16,-168562433],3937:[5,"",11,1414088447,16,-168562433],3938:[5,"",11,1414088447,16,-168562433],3939:[5,"",11,1414088447,16,-168562433],394:[2,-16928257,1,2,2,[],8,0],3940:[5,"",11,1414088447,16,-168562433],3941:[5,"",11,1414088447,16,-168562433],3942:[5,"",11,1414088447,16,-168562433],3943:[5,"",11,1414088447,16,-168562433],3944:[5,"",11,1414088447,16,-168562433],3945:[5,"",11,1414088447,16,-168562433],3946:[5,"",11,1414088447,16,-168562433],3947:[5,"",11,1414088447,16,-168562433],3948:[5,"",11,1414088447,16,-168562433],3949:[5,"",11,1414088447,16,-168562433],395:[2,-16928257,1,2,2,[],8,0],3950:[5,"",11,1414088447,16,-168562433],3951:[5,"",11,1414088447,16,-168562433],3952:[5,"",11,1414088447,16,-168562433],3953:[5,"",11,1414088447,16,-168562433],3954:[5,"",11,1414088447,16,-168562433],3955:[5,"",11,1414088447,16,-168562433],3956:[5,"",11,1414088447,16,-168562433],3957:[5,"",11,1414088447,16,-168562433],3958:[5,"",11,1414088447,16,-168562433],3959:[5,"",11,1414088447,16,-168562433],396:[2,-16928257,1,2,2,[],8,0],3960:[5,"",11,1414088447,16,-168562433],3961:[5,"",11,1414088447,16,-168562433],3962:[5,"",11,1414088447,16,-168562433],3963:[5,"",11,1414088447,16,-168562433],3964:[5,"",11,1414088447,16,-168562433],3965:[5,"",11,1414088447,16,-168562433],3966:[5,"",11,1414088447,16,-168562433],3967:[5,"",11,1414088447,16,-168562433],3968:[5,"",11,1414088447,16,-168562433],3969:[5,"",11,1414088447,16,-168562433],397:[2,-16928257,1,2,2,[],8,0],3970:[5,"",11,1414088447,16,-168562433],3971:[5,"",11,1414088447,16,-168562433],3972:[5,"",11,1414088447,16,-168562433],3973:[5,"",11,1414088447,16,-168562433],3974:[5,"",11,1414088447,16,-168562433],3975:[5,"",11,1414088447,16,-168562433],3976:[5,"",11,1414088447,16,-168562433],3977:[5,"",11,1414088447,16,-168562433],3978:[5,"",11,1414088447,16,-168562433],3979:[5,"",11,1414088447,16,-168562433],398:[2,-16928257,1,2,2,[],8,0],3980:[5,"",11,1414088447,16,-168562433],3981:[5,"",11,1414088447,16,-168562433],3982:[5,"",11,1414088447,16,-168562433],3983:[5,"",11,1414088447,16,-168562433],3984:[5,"",11,1414088447,16,-168562433],3985:[5,"",11,1414088447,16,-168562433],3986:[5,"",11,1414088447,16,-168562433],3987:[5,"",11,1414088447,16,-168562433],3988:[5,"",11,1414088447,16,-168562433],3989:[5,"",11,1414088447,16,-168562433],399:[2,-16928257,3,2,2,[],8,0],3990:[5,"",11,1414088447,16,-168562433],3991:[5,"",11,1414088447,16,-168562433],3992:[5,"",11,1414088447,16,-168562433],3993:[5,"",11,1414088447,16,-168562433],3994:[5,"",11,1414088447,16,-168562433],3995:[5,"",11,1414088447,16,-168562433],3996:[5,"",11,1414088447,16,-168562433],3997:[5,"",11,1414088447,16,-168562433],3998:[5,"",11,1414088447,16,-168562433],3999:[5,"",11,1414088447,16,-168562433],4:[3,-1497178369,[2,-1497178369,1,0,0,[],0,0]],40:[2,-3977985,1,2,2,[],1,0],400:[2,-16928257,5,2,2,[],8,0],4000:[5,"",11,777089791,18,-1716005889],4001:[5,"",12,777089791,18,-1716005889],4002:[5,"",14,777089791,18,-1716005889],4003:[5,"",16,777089791,18,-1716005889],4004:[5,"",18,777089791,18,-1716005889],4005:[5,"",20,777089791,18,-1716005889],4006:[5,"",22,777089791,18,-1716005889],4007:[5,"",11,1414088447,16,-168562433],4008:[5,"",11,1414088447,16,-168562433],4009:[5,"",11,1414088447,16,-168562433],401:[2,-16928257,7,2,2,[],8,0],4010:[5,"",11,1414088447,16,-168562433],4011:[5,"",11,1414088447,16,-168562433],4012:[5,"",11,1414088447,16,-168562433],4013:[5,"",13,35600895,16,-1],4014:[5,"",15,35600895,16,-1],4015:[5,"",17,35600895,16,-1],4016:[5,"",13,994267903,16,-1],4017:[5,"",15,994267903,16,-1],4018:[5,"",17,994267903,16,-1],4019:[5,"",11,-2004779521,16,-168562433],402:[2,-16928257,1,2,2,[],4,0],4020:[5,"",11,-2004779521,16,-168562433],4021:[2,-1,4,2,2,[],1,0],4022:[2,-256,5,2,2,[],1,0],4023:[2,-256,7,2,2,[],1,0],4024:[2,-256,7,2,2,[],1,0],4025:[2,-261847809,2,2,2,[],1,0],4026:[2,-261848064,3,2,2,[],1,0],4027:[2,-261848064,5,2,2,[],1,0],4028:[2,-261848064,4,2,2,[],1,0],4029:[5,"",11,-261847809,16,-1],403:[2,-16928257,1,2,2,[],4,0],4030:[5,"",11,-261847809,16,-1],4031:[5,"",12,-261847809,16,-1],4032:[5,"",14,-261847809,16,-1],4033:[2,-593543425,3,2,2,[],1,0],4034:[2,-593543425,3,2,2,[],1,0],4035:[2,-593543425,4,2,2,[],1,0],4036:[2,-593543425,9,2,2,[],1,0],4037:[2,-593543425,12,2,2,[],1,0],4038:[2,-593543425,14,2,2,[],1,0],4039:[2,-593543425,16,2,2,[],1,0],404:[2,-16928257,1,2,2,[],4,0],4040:[2,-745436929,2,2,2,[],1,0],4041:[2,-745436929,2,2,2,[],1,0],4042:[2,-745436929,2,2,2,[],1,0],4043:[2,-745436929,2,2,2,[],1,0],4044:[2,-745437184,2,2,2,[],1,0],4045:[2,-745437184,3,2,2,[],1,0],4046:[2,-745437184,5,2,2,[],1,0],4047:[2,-1,4,2,2,[],1,0],4048:[2,-1,4,2,2,[],1,0],4049:[2,-1,4,2,2,[],1,0],405:[2,-16928257,1,2,2,[],4,0],4050:[2,-1,4,2,2,[],1,0],4051:[2,-256,4,2,2,[],1,0],4052:[2,-256,5,2,2,[],1,0],4053:[2,-256,7,2,2,[],1,0],4054:[5,"",11,-1032492033,16,-1],4055:[5,"",11,-1032492033,16,-1],4056:[5,"",12,-1032492033,16,-1],4057:[5,"",14,-1032492033,16,-1],4058:[2,-843149313,8,2,2,[],8,0],4059:[2,-16928257,6,2,2,[],8,0],406:[2,-16928257,1,2,2,[],4,0],4060:[2,-16928257,8,2,2,[],8,0],4061:[3,-1717987034,[]],4062:[4,-572662273,-101190401,.2,[2,-808464385,1,0,1,[],0,0],2,8],4063:[4,-572662273,-101190401,.2,[2,-808464385,1,0,1,[],0,0],2,8],4064:[5,"",14,912759295,2,-1],4065:[2,-1,4,2,2,[],1,0],4066:[2,-1,4,2,2,[],1,0],4067:[2,-1,4,2,2,[],1,0],4068:[2,-1,4,2,2,[],1,0],4069:[2,-256,4,2,2,[],1,0],407:[2,-16928257,3,2,2,[],4,0],4070:[2,-256,5,2,2,[],1,0],4071:[2,-256,7,2,2,[],1,0],4072:[2,-617141249,2,2,2,[],1,0],4073:[2,-617141249,2,2,2,[],1,0],4074:[2,-617141249,2,2,2,[],1,0],4075:[2,-617141249,2,2,2,[],1,0],4076:[2,-617141504,2,2,2,[],1,0],4077:[2,-617141504,3,2,2,[],1,0],4078:[2,-617141504,5,2,2,[],1,0],4079:[5,"",11,-853074945,16,-1],408:[2,-16928257,5,2,2,[],4,0],4080:[5,"",11,-853074945,16,-1],4081:[5,"",12,-853074945,16,-1],4082:[5,"",14,-853074945,16,-1],4083:[2,-559393793,8,2,2,[],1,0],4084:[2,-237677057,7,2,2,[],2,0],4085:[2,-237677057,8,2,2,[],2,0],4086:[2,-2201857,5,2,2,[],1,0],4087:[2,-559393793,8,2,2,[],1,0],4088:[2,-559873,4,2,2,[],2,0],4089:[2,-559873,4,2,2,[],2,0],409:[2,-16928257,7,2,2,[],4,0],4090:[2,-2201857,10,2,2,[],1,0],4091:[2,-559393793,8,2,2,[],0,0],4092:[2,-843149313,4,2,2,[],8,0],4093:[2,-843149313,4,2,2,[],4,0],4094:[2,-237677057,5,2,2,[],2,0],4095:[2,-559393793,5,2,2,[],1,0],4096:[2,-2201857,2,2,2,[],1,0],4097:[2,-559873,1,2,2,[],2,0],4098:[2,-16928257,1,2,2,[],4,0],4099:[2,-16928257,1,2,2,[],8,0],41:[2,-3977985,1,2,2,[],0,0],410:[2,-559873,1,2,2,[],2,0],4100:[2,-2201857,2,2,2,[],1,0],4101:[2,-559873,2,2,2,[],2,0],4102:[2,-843149313,3,2,2,[],4,0],4103:[2,-237677057,4,2,2,[],2,0],4104:[2,-2201857,4,2,2,[],1,0],4105:[2,-2201857,4,2,2,[],1,0],4106:[2,-559393793,6,0,2,[],1,0],4107:[2,-559393793,6,0,2,[],1,0],4108:[2,-2201857,4,2,2,[],0,0],4109:[2,-559393793,5,2,2,[],0,0],411:[2,-559873,1,2,2,[],2,0],4110:[2,-2201857,2,2,2,[],0,0],4111:[2,-2201857,2,2,2,[],0,0],4112:[2,-559393793,6,0,2,[],0,0],4113:[2,-20748801,5,2,2,[],0,0],4114:[2,-593543425,7,0,2,[],0,0],4115:[2,-20748801,2,2,2,[],0,0],4116:[2,-593543425,5,2,2,[],0,0],4117:[2,-593543425,8,2,2,[],0,0],4118:[2,-20748801,2,2,2,[],0,0],4119:[5,"",12,-1687872257,16,-2201857],412:[2,-559873,1,2,2,[],2,0],4120:[5,"",13,2117931775,16,-20748801],4121:[5,"",13,1432248831,16,-639243777],4122:[5,"",14,1432248831,16,-639243777],4123:[5,"",16,1432248831,16,-639243777],4124:[5,"",18,1432248831,16,-639243777],4125:[3,-572662273,[2,-572662273,1,0,0,[],0,0]],4127:[3,-286398977,[2,-286398977,1,0,0,[],0,0]],4128:[3,-481736193,[2,0,1,0,0,[],0,0]],4129:[3,224369151,[2,0,1,0,0,[],0,0]],413:[2,-559873,1,2,2,[],2,0],4130:[3,1304012031,[2,0,1,0,0,[],0,0]],4131:[3,-864374273,[2,0,1,0,0,[],0,0]],4132:[3,-1332988673,[2,0,1,0,0,[],0,0]],4133:[3,882914559,[2,0,1,0,0,[],0,0]],4134:[3,1806911487,[2,0,1,0,0,[],0,0]],4135:[3,27450111,[2,0,1,0,0,[],0,0]],4136:[3,-105309697,[2,0,1,0,0,[],0,0]],4137:[3,-745436929,[2,0,1,0,0,[],0,0]],4138:[3,-1721303041,[2,0,1,0,0,[],0,0]],4139:[3,2119794687,[2,0,1,0,0,[],0,0]],414:[2,-559873,1,2,2,[],2,0],4140:[3,-701218305,[2,0,1,0,0,[],0,0]],4141:[3,-4508673,[2,0,1,0,0,[],0,0]],4142:[3,-1287151105,[2,0,1,0,0,[],0,0]],4143:[3,1304012031,[2,0,1,0,0,[],0,0]],4144:[3,-1721025025,[2,0,1,0,0,[],0,0]],4145:[3,-701218356,[2,0,1,0,0,[],0,0]],4146:[3,751052748,[2,0,1,0,0,[],0,0]],4147:[3,-105309748,[2,0,1,0,0,[],0,0]],4148:[3,2118632140,[2,0,1,0,0,[],0,0]],4149:[3,-536826932,[2,0,1,0,0,[],0,0]],415:[2,-559873,1,2,2,[],2,0],4150:[3,-13408564,[2,0,1,0,0,[],0,0]],4151:[3,-8453940,[2,0,1,0,0,[],0,0]],4152:[3,9159628,[2,0,1,0,0,[],0,0]],4153:[3,-2118007092,[2,0,1,0,0,[],0,0]],4154:[3,-944778292,[2,0,1,0,0,[],0,0]],4155:[3,-1725026612,[2,0,1,0,0,[],0,0]],4156:[3,-493832500,[2,0,1,0,0,[],0,0]],4157:[3,2119794636,[2,0,1,0,0,[],0,0]],4158:[3,-519764532,[2,0,1,0,0,[],0,0]],4159:[3,-105309748,[2,0,1,0,0,[],0,0]],416:[2,-559873,4,2,2,[],2,0],4160:[3,491577804,[2,0,1,0,0,[],0,0]],4161:[3,-312199732,[2,0,1,0,0,[],0,0]],4162:[3,-312199732,[2,0,1,0,0,[],0,0]],4163:[3,10027212,[2,0,1,0,0,[],0,0]],4164:[3,-872362804,[2,0,1,0,0,[],0,0]],4165:[3,10004172,[2,0,1,0,0,[],0,0]],4166:[3,-1261683252,[2,0,1,0,0,[],0,0]],4167:[3,1283424204,[2,0,1,0,0,[],0,0]],4168:[3,751052748,[2,0,1,0,0,[],0,0]],4169:[3,-4508724,[2,0,1,0,0,[],0,0]],417:[2,-559873,6,2,2,[],2,0],4170:[3,1030606028,[2,0,1,0,0,[],0,0]],4171:[3,-701218356,[2,0,1,0,0,[],0,0]],4172:[3,1816959436,[2,0,1,0,0,[],0,0]],4173:[3,751052748,[2,0,1,0,0,[],0,0]],4174:[3,-701152564,[2,0,1,0,0,[],0,0]],4175:[3,1232784588,[2,0,1,0,0,[],0,0]],4176:[3,-261847860,[2,0,1,0,0,[],0,0]],4177:[3,-701218356,[2,0,1,0,0,[],0,0]],4178:[3,-372571956,[2,0,1,0,0,[],0,0]],4179:[3,92056268,[2,0,1,0,0,[],0,0]],418:[2,-559873,8,2,2,[],2,0],4180:[3,119573196,[2,0,1,0,0,[],0,0]],4181:[3,6737100,[2,0,1,0,0,[],0,0]],4182:[3,-308492340,[2,0,1,0,0,[],0,0]],4183:[3,1555621324,[2,0,1,0,0,[],0,0]],4184:[3,1555621324,[2,0,1,0,0,[],0,0]],4185:[3,-701152564,[2,0,1,0,0,[],0,0]],4186:[3,8912076,[2,0,1,0,0,[],0,0]],4187:[3,-328597300,[2,0,1,0,0,[],0,0]],4188:[3,6737100,[2,0,1,0,0,[],0,0]],4189:[3,6737100,[2,0,1,0,0,[],0,0]],419:[2,-3905793,1,2,2,[],1,0],4190:[3,-481736244,[2,0,1,0,0,[],0,0]],4191:[3,-4508724,[2,0,1,0,0,[],0,0]],4192:[3,-701218356,[2,0,1,0,0,[],0,0]],4193:[3,1806911436,[2,0,1,0,0,[],0,0]],4194:[3,-1261683252,[2,0,1,0,0,[],0,0]],4195:[3,-867020084,[2,0,1,0,0,[],0,0]],4196:[3,-748541492,[2,0,1,0,0,[],0,0]],4197:[3,-813057076,[2,0,1,0,0,[],0,0]],4198:[3,-375840564,[2,0,1,0,0,[],0,0]],4199:[3,1385155788,[2,0,1,0,0,[],0,0]],42:[2,-3977985,1,2,2,[],0,0],420:[2,-2201857,1,2,2,[],1,0],4200:[3,731590604,[2,0,1,0,0,[],0,0]],4201:[3,8421580,[2,0,1,0,0,[],0,0]],4202:[3,-633391668,[2,0,1,0,0,[],0,0]],4203:[3,-1638519860,[2,0,1,0,0,[],0,0]],4204:[3,-1725003828,[2,0,1,0,0,[],0,0]],4205:[3,2025713356,[2,0,1,0,0,[],0,0]],4206:[3,-1854622516,[2,0,1,0,0,[],0,0]],4207:[3,1806911436,[2,0,1,0,0,[],0,0]],4208:[3,1031180748,[2,0,1,0,0,[],0,0]],4209:[3,-617141300,[2,0,1,0,0,[],0,0]],421:[2,-2201857,1,2,2,[],1,0],4210:[5,"",11,-1583242753,16,-101058049],4211:[5,"",11,-1583242753,16,-101058049],4212:[5,"",11,-1583242753,16,-101058049],4213:[5,"",11,-1768515841,16,-101058049],4214:[5,"",11,-1768515841,16,-101058049],4215:[5,"",11,-2139062017,16,-101058049],4216:[2,-454761217,3,2,2,[],16,0],4217:[2,-758265345,4,2,2,[],16,0],4218:[2,-758265345,5,2,2,[],16,0],4219:[2,-758265345,7,2,2,[],16,0],422:[2,-2201857,1,2,2,[],1,0],4220:[2,-758265345,7,2,2,[],16,0],4221:[2,-101058049,1,2,2,[],16,0],4222:[2,-101058049,2,2,2,[],16,0],4223:[2,-101058049,3,2,2,[],16,0],4224:[2,-101058049,5,2,2,[],16,0],4225:[2,-101058049,5,2,2,[],16,0],4226:[2,-454761217,3,0,2,[],1,0],4227:[2,-758265345,4,0,2,[],1,0],4228:[2,-758265345,5,0,2,[],1,0],4229:[2,-758265345,7,0,2,[],1,0],423:[2,-2201857,1,2,2,[],1,0],4230:[1,"zhongcan_a",[]],4231:[1,"zhongcan_a",[]],4232:[1,"zhongcan_a",[]],4233:[1,"zhongcan_a",[]],4234:[1,"xican_a",[]],4235:[1,"xican_a",[]],4236:[1,"xican_a",[]],4237:[1,"xican_a",[]],4238:[1,"honglvdeng_T",[]],4239:[1,"zhongheyiyuan_b",[]],424:[2,-2201857,2,2,2,[],1,0],4240:[1,"zhongheyiyuan_b",[]],4241:[1,"zhongheyiyuan_b",[]],4242:[1,"zhongheyiyuan_b",[]],4243:[1,"zhongheyiyuan_b",[]],4244:[1,"zhongheyiyuan_b",[]],4245:[2,-1094795521,6,0,2,[],0,0],4246:[2,-1094795521,8,0,2,[],0,0],4247:[2,-1094795521,10,0,2,[],0,0],4248:[2,-1,4,0,2,[2,1],1,0],4249:[2,-1,6,0,2,[3,1],1,0],425:[2,-2201857,4,2,2,[],1,0],4250:[2,-1,8,0,2,[4,2],1,0],4251:[2,-1465341697,6,1,2,[],0,0],4252:[2,-1465341697,8,1,2,[],0,0],4253:[2,-1465341697,10,1,2,[],0,0],4254:[2,-1,4,1,2,[],0,0],4255:[2,-1,6,1,2,[],0,0],4256:[2,-1,8,1,2,[],0,0],4257:[2,-1094795521,6,0,2,[],0,0],4258:[2,-1094795521,8,0,2,[],0,0],4259:[2,-1094795521,10,0,2,[],0,0],426:[2,-2201857,6,2,2,[],1,0],4260:[2,-437918209,4,0,2,[2,1],1,0],4261:[2,-437918209,6,0,2,[3,1],1,0],4262:[2,-437918209,8,0,2,[4,2],1,0],4263:[2,-1465341697,6,1,2,[],0,0],4264:[2,-1465341697,8,1,2,[],0,0],4265:[2,-1465341697,10,1,2,[],0,0],4266:[2,-437918209,4,1,2,[],0,0],4267:[2,-437918209,6,1,2,[],0,0],4268:[2,-437918209,8,1,2,[],0,0],4269:[1,"s_r_h2",[]],427:[2,-2201857,8,2,2,[],1,0],4270:[1,"s_r_h2",[]],4271:[2,-1,4,2,2,[],1,0],4272:[2,-1,4,2,2,[],1,0],4273:[2,-1,4,2,2,[],1,0],4274:[2,-1,4,2,2,[],1,0],4275:[2,-256,4,2,2,[],1,0],4276:[2,-256,5,2,2,[],1,0],4277:[2,-256,7,2,2,[],1,0],4278:[2,7403007,2,2,2,[],1,0],4279:[2,7403007,2,2,2,[],1,0],428:[2,-20748801,1,2,2,[],0,0],4280:[2,7403007,2,2,2,[],1,0],4281:[2,7403007,2,2,2,[],1,0],4282:[2,7402752,2,2,2,[],1,0],4283:[2,7402752,3,2,2,[],1,0],4284:[2,7402752,5,2,2,[],1,0],4285:[5,"",11,6675967,16,-1],4286:[5,"",11,6675967,16,-1],4287:[5,"",12,6675967,16,-1],4288:[5,"",14,6675967,16,-1],4289:[1,"ditie_beijing_00",[]],429:[2,-20748801,1,2,2,[],0,0],4290:[1,"trans_shanghai_01",[]],4291:[1,"trans_shanghai_0",[]],4292:[1,"trans_shanghai_1",[]],4293:[1,"trans_shanghai_2",[]],4294:[2,-1,4,2,2,[],1,0],4295:[2,-1,4,2,2,[],1,0],4296:[2,-1,4,2,2,[],1,0],4297:[2,-1,4,2,2,[],1,0],4298:[2,-256,4,2,2,[],1,0],4299:[2,-256,5,2,2,[],1,0],43:[2,-3977985,1,2,2,[],0,0],430:[2,-20748801,1,2,2,[],0,0],4300:[2,-256,7,2,2,[],1,0],4301:[2,-436202753,2,2,2,[],1,0],4302:[2,-436202753,2,2,2,[],1,0],4303:[2,-436202753,2,2,2,[],1,0],4304:[2,-436202753,2,2,2,[],1,0],4305:[2,-436203008,2,2,2,[],1,0],4306:[2,-436203008,3,2,2,[],1,0],4307:[2,-436203008,5,2,2,[],1,0],4308:[5,"",11,-436202753,16,-1],4309:[5,"",11,-436202753,16,-1],431:[2,-20748801,1,2,2,[],0,0],4310:[5,"",12,-436202753,16,-1],4311:[5,"",14,-436202753,16,-1],4312:[1,"ditie_beijing_00",[]],4313:[1,"ditie_haerbin_01",[]],4314:[1,"ditie_haerbin_0",[]],4315:[1,"ditie_haerbin_1",[]],4316:[1,"ditie_haerbin_2",[]],4317:[1,"10a",[]],4318:[1,"10a",[]],4319:[1,"10b",[]],432:[2,-20748801,1,2,2,[],0,0],4320:[1,"10b",[]],4321:[1,"29a",[]],4322:[1,"29a",[]],4323:[1,"29b",[]],4324:[1,"29b",[]],4325:[1,"31",[]],4326:[1,"31",[]],4327:[1,"6a",[]],4328:[1,"6a",[]],4329:[1,"e5",[]],433:[2,-20748801,2,2,2,[],0,0],4330:[1,"e5",[]],4331:[1,"i1",[]],4332:[1,"i1",[]],4333:[1,"l",[]],4334:[1,"l",[]],4335:[1,"n3",[]],4336:[1,"n3",[]],4337:[3,7402956,[2,0,1,0,0,[],0,0]],4338:[3,-436202804,[2,0,1,0,0,[],0,0]],4339:[3,-481736269,[2,0,1,0,0,[],0,0]],434:[2,-20748801,4,2,2,[],0,0],4340:[3,224369075,[2,0,1,0,0,[],0,0]],4341:[3,1304011955,[2,0,1,0,0,[],0,0]],4342:[3,-864374349,[2,0,1,0,0,[],0,0]],4343:[3,-1332988749,[2,0,1,0,0,[],0,0]],4344:[3,882914483,[2,0,1,0,0,[],0,0]],4345:[3,1806911411,[2,0,1,0,0,[],0,0]],4346:[3,27450035,[2,0,1,0,0,[],0,0]],4347:[3,-105309773,[2,0,1,0,0,[],0,0]],4348:[3,-745437005,[2,0,1,0,0,[],0,0]],4349:[3,-1721303117,[2,0,1,0,0,[],0,0]],435:[2,-20748801,6,2,2,[],0,0],4350:[3,2119794611,[2,0,1,0,0,[],0,0]],4351:[3,-701218381,[2,0,1,0,0,[],0,0]],4352:[3,-4508749,[2,0,1,0,0,[],0,0]],4353:[3,-1287151181,[2,0,1,0,0,[],0,0]],4354:[3,1304011955,[2,0,1,0,0,[],0,0]],4355:[3,-1721025101,[2,0,1,0,0,[],0,0]],4356:[3,-701218381,[2,0,1,0,0,[],0,0]],4357:[3,751052723,[2,0,1,0,0,[],0,0]],4358:[3,-105309773,[2,0,1,0,0,[],0,0]],4359:[3,2118632115,[2,0,1,0,0,[],0,0]],436:[2,-20748801,8,2,2,[],0,0],4360:[3,-536826957,[2,0,1,0,0,[],0,0]],4361:[3,-13408589,[2,0,1,0,0,[],0,0]],4362:[3,-8453965,[2,0,1,0,0,[],0,0]],4363:[3,9159603,[2,0,1,0,0,[],0,0]],4364:[3,-2118007117,[2,0,1,0,0,[],0,0]],4365:[3,-944778317,[2,0,1,0,0,[],0,0]],4366:[3,-1725026637,[2,0,1,0,0,[],0,0]],4367:[3,-493832525,[2,0,1,0,0,[],0,0]],4368:[3,2119794611,[2,0,1,0,0,[],0,0]],4369:[3,-519764557,[2,0,1,0,0,[],0,0]],437:[2,-2201857,1,2,2,[],0,0],4370:[3,-105309773,[2,0,1,0,0,[],0,0]],4371:[3,491577779,[2,0,1,0,0,[],0,0]],4372:[3,-312199757,[2,0,1,0,0,[],0,0]],
4373:[3,-312199757,[2,0,1,0,0,[],0,0]],4374:[3,10027187,[2,0,1,0,0,[],0,0]],4375:[3,-872362829,[2,0,1,0,0,[],0,0]],4376:[3,10004147,[2,0,1,0,0,[],0,0]],4377:[3,-1261683277,[2,0,1,0,0,[],0,0]],4378:[3,1283424179,[2,0,1,0,0,[],0,0]],4379:[3,751052723,[2,0,1,0,0,[],0,0]],438:[2,-2201857,1,2,2,[],0,0],4380:[3,-4508749,[2,0,1,0,0,[],0,0]],4381:[3,1030606003,[2,0,1,0,0,[],0,0]],4382:[3,-701218381,[2,0,1,0,0,[],0,0]],4383:[3,1816959411,[2,0,1,0,0,[],0,0]],4384:[3,751052723,[2,0,1,0,0,[],0,0]],4385:[3,-701152589,[2,0,1,0,0,[],0,0]],4386:[3,1232784563,[2,0,1,0,0,[],0,0]],4387:[3,-261847885,[2,0,1,0,0,[],0,0]],4388:[3,-701218381,[2,0,1,0,0,[],0,0]],4389:[3,-372571981,[2,0,1,0,0,[],0,0]],439:[2,-2201857,1,2,2,[],0,0],4390:[3,92056243,[2,0,1,0,0,[],0,0]],4391:[3,119573171,[2,0,1,0,0,[],0,0]],4392:[3,6737075,[2,0,1,0,0,[],0,0]],4393:[3,-308492365,[2,0,1,0,0,[],0,0]],4394:[3,1555621299,[2,0,1,0,0,[],0,0]],4395:[3,1555621299,[2,0,1,0,0,[],0,0]],4396:[3,-701152589,[2,0,1,0,0,[],0,0]],4397:[3,8912051,[2,0,1,0,0,[],0,0]],4398:[3,-328597325,[2,0,1,0,0,[],0,0]],4399:[3,6737075,[2,0,1,0,0,[],0,0]],44:[2,-3977985,1,2,2,[],0,0],440:[2,-2201857,1,2,2,[],0,0],4400:[3,6737075,[2,0,1,0,0,[],0,0]],4401:[3,-481736269,[2,0,1,0,0,[],0,0]],4402:[3,-4508749,[2,0,1,0,0,[],0,0]],4403:[3,-701218381,[2,0,1,0,0,[],0,0]],4404:[3,1806911411,[2,0,1,0,0,[],0,0]],4405:[3,-1261683277,[2,0,1,0,0,[],0,0]],4406:[3,-867020109,[2,0,1,0,0,[],0,0]],4407:[3,-748541517,[2,0,1,0,0,[],0,0]],4408:[3,-813057101,[2,0,1,0,0,[],0,0]],4409:[3,-375840589,[2,0,1,0,0,[],0,0]],441:[2,-2201857,1,2,2,[],0,0],4410:[3,1385155763,[2,0,1,0,0,[],0,0]],4411:[3,731590579,[2,0,1,0,0,[],0,0]],4412:[3,8421555,[2,0,1,0,0,[],0,0]],4413:[3,-633391693,[2,0,1,0,0,[],0,0]],4414:[3,-1638519885,[2,0,1,0,0,[],0,0]],4415:[3,-1725003853,[2,0,1,0,0,[],0,0]],4416:[3,2025713331,[2,0,1,0,0,[],0,0]],4417:[3,-1854622541,[2,0,1,0,0,[],0,0]],4418:[3,1806911411,[2,0,1,0,0,[],0,0]],4419:[3,1031180723,[2,0,1,0,0,[],0,0]],442:[2,-2201857,2,2,2,[],0,0],4420:[3,-617141325,[2,0,1,0,0,[],0,0]],4421:[3,7402931,[2,0,1,0,0,[],0,0]],4422:[3,-436202829,[2,0,1,0,0,[],0,0]],4423:[1,"KFC",[]],4424:[1,"KFC",[]],4425:[1,"KFC",[]],4426:[1,"KFC",[]],4427:[5,"",11,1414088447,16,-168562433],4428:[5,"",11,1414088447,16,-168562433],4429:[5,"",11,1414088447,16,-168562433],443:[2,-2201857,4,2,2,[],0,0],4430:[1,"McDonald",[]],4431:[1,"McDonald",[]],4432:[1,"McDonald",[]],4433:[1,"McDonald",[]],4434:[5,"",11,1414088447,16,-168562433],4435:[5,"",11,1414088447,16,-168562433],4436:[5,"",11,1414088447,16,-168562433],4437:[1,"Pizza",[]],4438:[1,"Pizza",[]],4439:[1,"Pizza",[]],444:[2,-2201857,6,2,2,[],0,0],4440:[1,"Pizza",[]],4441:[5,"",11,1414088447,16,-168562433],4442:[5,"",11,1414088447,16,-168562433],4443:[5,"",11,1414088447,16,-168562433],4444:[1,"7day",[]],4445:[1,"7day",[]],4446:[1,"7day",[]],4447:[5,"",11,1414088447,16,-168562433],4448:[5,"",11,1414088447,16,-168562433],4449:[1,"hanting",[]],445:[2,-2201857,8,2,2,[],0,0],4450:[1,"hanting",[]],4451:[1,"hanting",[]],4452:[5,"",11,1414088447,16,-168562433],4453:[5,"",11,1414088447,16,-168562433],4454:[1,"Carrefour",[]],4455:[1,"Carrefour",[]],4456:[1,"Carrefour",[]],4457:[5,"",11,1414088447,16,-168562433],4458:[5,"",11,1414088447,16,-168562433],4459:[1,"WalMart",[]],446:[2,-101058049,1,2,2,[],16,0],4460:[1,"WalMart",[]],4461:[1,"WalMart",[]],4462:[5,"",11,1414088447,16,-168562433],4463:[5,"",11,1414088447,16,-168562433],4464:[2,-52,4,2,2,[],1,0],4465:[2,-52,5,2,2,[],1,0],4466:[2,-77,7,2,2,[],1,0],4467:[2,-52,4,2,2,[],1,0],4468:[2,-52,5,2,2,[],1,0],4469:[2,-77,7,2,2,[],1,0],447:[2,-101058049,1,2,2,[],16,0],4470:[2,-52,4,2,2,[],1,0],4471:[2,-52,5,2,2,[],1,0],4472:[2,-77,7,2,2,[],1,0],4473:[2,-52,4,2,2,[],1,0],4474:[2,-52,5,2,2,[],1,0],4475:[2,-77,7,2,2,[],1,0],4476:[2,-52,4,2,2,[],1,0],4477:[2,-52,5,2,2,[],1,0],4478:[2,-77,7,2,2,[],1,0],4479:[2,-52,4,2,2,[],1,0],448:[2,-101058049,2,2,2,[],16,0],4480:[2,-52,5,2,2,[],1,0],4481:[2,-77,7,2,2,[],1,0],4482:[2,-52,4,2,2,[],1,0],4483:[2,-52,5,2,2,[],1,0],4484:[2,-77,7,2,2,[],1,0],4485:[2,-52,4,2,2,[],1,0],4486:[2,-52,5,2,2,[],1,0],4487:[2,-77,7,2,2,[],1,0],4488:[2,-52,4,2,2,[],1,0],4489:[2,-52,5,2,2,[],1,0],449:[2,-101058049,3,2,2,[],16,0],4490:[2,-77,7,2,2,[],1,0],4491:[2,-52,4,2,2,[],1,0],4492:[2,-52,5,2,2,[],1,0],4493:[2,-77,7,2,2,[],1,0],4494:[2,-52,4,2,2,[],1,0],4495:[2,-52,5,2,2,[],1,0],4496:[2,-77,7,2,2,[],1,0],4497:[2,-52,4,2,2,[],1,0],4498:[2,-52,5,2,2,[],1,0],4499:[2,-77,7,2,2,[],1,0],45:[2,-3977985,1,2,2,[],0,0],450:[2,-101058049,5,2,2,[],16,0],4500:[2,-52,4,2,2,[],1,0],4501:[2,-52,5,2,2,[],1,0],4502:[2,-77,7,2,2,[],1,0],4503:[2,-52,4,2,2,[],1,0],4504:[2,-52,5,2,2,[],1,0],4505:[2,-77,7,2,2,[],1,0],4506:[2,-52,4,2,2,[],1,0],4507:[2,-52,5,2,2,[],1,0],4508:[2,-77,7,2,2,[],1,0],4509:[2,-52,4,2,2,[],1,0],451:[2,-101058049,5,2,2,[],16,0],4510:[2,-52,5,2,2,[],1,0],4511:[2,-77,7,2,2,[],1,0],4512:[2,-481736244,2,2,2,[],1,0],4513:[2,-481736244,3,2,2,[],1,0],4514:[2,-481736269,5,2,2,[],1,0],4515:[2,224369100,2,2,2,[],1,0],4516:[2,224369100,3,2,2,[],1,0],4517:[2,224369075,5,2,2,[],1,0],4518:[2,1304011980,2,2,2,[],1,0],4519:[2,1304011980,3,2,2,[],1,0],452:[2,-101058049,2,2,2,[],16,0],4520:[2,1304011955,5,2,2,[],1,0],4521:[2,-864374324,2,2,2,[],1,0],4522:[2,-864374324,3,2,2,[],1,0],4523:[2,-864374349,5,2,2,[],1,0],4524:[2,-1332988724,2,2,2,[],1,0],4525:[2,-1332988724,3,2,2,[],1,0],4526:[2,-1332988749,5,2,2,[],1,0],4527:[2,882914508,2,2,2,[],1,0],4528:[2,882914508,3,2,2,[],1,0],4529:[2,882914483,5,2,2,[],1,0],453:[2,-101058049,3,2,2,[],16,0],4530:[2,1806911436,2,2,2,[],1,0],4531:[2,1806911436,3,2,2,[],1,0],4532:[2,1806911411,5,2,2,[],1,0],4533:[2,27450060,2,2,2,[],1,0],4534:[2,27450060,3,2,2,[],1,0],4535:[2,27450035,5,2,2,[],1,0],4536:[2,-105309748,2,2,2,[],1,0],4537:[2,-105309748,3,2,2,[],1,0],4538:[2,-105309773,5,2,2,[],1,0],4539:[2,-1721303092,2,2,2,[],1,0],454:[2,-101058049,4,2,2,[],16,0],4540:[2,-1721303092,3,2,2,[],1,0],4541:[2,-1721303117,5,2,2,[],1,0],4542:[2,2119794636,2,2,2,[],1,0],4543:[2,2119794636,3,2,2,[],1,0],4544:[2,2119794611,5,2,2,[],1,0],4545:[2,-701218356,2,2,2,[],1,0],4546:[2,-701218356,3,2,2,[],1,0],4547:[2,-701218381,5,2,2,[],1,0],4548:[2,-4508724,2,2,2,[],1,0],4549:[2,-4508724,3,2,2,[],1,0],455:[2,-101058049,6,2,2,[],16,0],4550:[2,-4508749,5,2,2,[],1,0],4551:[2,-1287151156,2,2,2,[],1,0],4552:[2,-1287151156,3,2,2,[],1,0],4553:[2,-1287151181,5,2,2,[],1,0],4554:[2,1304011980,2,2,2,[],1,0],4555:[2,1304011980,3,2,2,[],1,0],4556:[2,1304011955,5,2,2,[],1,0],4557:[2,-1721025076,2,2,2,[],1,0],4558:[2,-1721025076,3,2,2,[],1,0],4559:[2,-1721025101,5,2,2,[],1,0],456:[2,-101058049,8,2,2,[],16,0],4560:[2,-52,4,2,2,[],1,0],4561:[2,-52,5,2,2,[],1,0],4562:[2,-77,7,2,2,[],1,0],4563:[2,-52,4,2,2,[],1,0],4564:[2,-52,5,2,2,[],1,0],4565:[2,-77,7,2,2,[],1,0],4566:[2,-52,4,2,2,[],1,0],4567:[2,-52,5,2,2,[],1,0],4568:[2,-77,7,2,2,[],1,0],4569:[2,-52,4,2,2,[],1,0],457:[2,-101058049,8,2,2,[],16,0],4570:[2,-52,5,2,2,[],1,0],4571:[2,-77,7,2,2,[],1,0],4572:[2,-52,4,2,2,[],1,0],4573:[2,-52,5,2,2,[],1,0],4574:[2,-77,7,2,2,[],1,0],4575:[2,-52,4,2,2,[],1,0],4576:[2,-52,5,2,2,[],1,0],4577:[2,-77,7,2,2,[],1,0],4578:[2,-52,4,2,2,[],1,0],4579:[2,-52,5,2,2,[],1,0],458:[2,-101058049,2,2,2,[],16,0],4580:[2,-77,7,2,2,[],1,0],4581:[2,-52,4,2,2,[],1,0],4582:[2,-52,5,2,2,[],1,0],4583:[2,-77,7,2,2,[],1,0],4584:[2,-52,4,2,2,[],1,0],4585:[2,-52,5,2,2,[],1,0],4586:[2,-77,7,2,2,[],1,0],4587:[2,-52,4,2,2,[],1,0],4588:[2,-52,5,2,2,[],1,0],4589:[2,-77,7,2,2,[],1,0],459:[2,-101058049,3,2,2,[],16,0],4590:[2,-52,4,2,2,[],1,0],4591:[2,-52,5,2,2,[],1,0],4592:[2,-77,7,2,2,[],1,0],4593:[2,-52,4,2,2,[],1,0],4594:[2,-52,5,2,2,[],1,0],4595:[2,-77,7,2,2,[],1,0],4596:[2,-52,4,2,2,[],1,0],4597:[2,-52,5,2,2,[],1,0],4598:[2,-77,7,2,2,[],1,0],4599:[2,-52,4,2,2,[],1,0],46:[2,-3912449,1,2,2,[],0,0],460:[2,-101058049,4,2,2,[],16,0],4600:[2,-52,5,2,2,[],1,0],4601:[2,-77,7,2,2,[],1,0],4602:[2,-701218356,2,2,2,[],1,0],4603:[2,-701218356,3,2,2,[],1,0],4604:[2,-701218381,5,2,2,[],1,0],4605:[2,751052748,2,2,2,[],1,0],4606:[2,751052748,3,2,2,[],1,0],4607:[2,751052723,5,2,2,[],1,0],4608:[2,-105309748,2,2,2,[],1,0],4609:[2,-105309748,3,2,2,[],1,0],461:[2,-101058049,6,2,2,[],16,0],4610:[2,-105309773,5,2,2,[],1,0],4611:[2,2118632140,2,2,2,[],1,0],4612:[2,2118632140,3,2,2,[],1,0],4613:[2,2118632115,5,2,2,[],1,0],4614:[2,-536826932,2,2,2,[],1,0],4615:[2,-536826932,3,2,2,[],1,0],4616:[2,-536826957,5,2,2,[],1,0],4617:[2,-13408564,2,2,2,[],1,0],4618:[2,-13408564,3,2,2,[],1,0],4619:[2,-13408589,5,2,2,[],1,0],462:[2,-101058049,8,2,2,[],16,0],4620:[2,-8453940,2,2,2,[],1,0],4621:[2,-8453940,3,2,2,[],1,0],4622:[2,-8453965,5,2,2,[],1,0],4623:[2,9159628,2,2,2,[],1,0],4624:[2,9159628,3,2,2,[],1,0],4625:[2,9159603,5,2,2,[],1,0],4626:[2,-2118007092,2,2,2,[],1,0],4627:[2,-2118007092,3,2,2,[],1,0],4628:[2,-2118007117,5,2,2,[],1,0],4629:[2,-944778292,2,2,2,[],1,0],463:[2,-16928257,1,2,2,[],8,0],4630:[2,-944778292,3,2,2,[],1,0],4631:[2,-944778317,5,2,2,[],1,0],4632:[2,-1725026612,2,2,2,[],1,0],4633:[2,-1725026612,3,2,2,[],1,0],4634:[2,-1725026637,5,2,2,[],1,0],4635:[2,-493832500,2,2,2,[],1,0],4636:[2,-493832500,3,2,2,[],1,0],4637:[2,-493832525,5,2,2,[],1,0],4638:[2,2119794636,2,2,2,[],1,0],4639:[2,2119794636,3,2,2,[],1,0],464:[2,-16928257,1,2,2,[],8,0],4640:[2,2119794611,5,2,2,[],1,0],4641:[2,-519764532,2,2,2,[],1,0],4642:[2,-519764532,3,2,2,[],1,0],4643:[2,-519764557,5,2,2,[],1,0],4644:[2,-52,4,2,2,[],1,0],4645:[2,-52,5,2,2,[],1,0],4646:[2,-77,7,2,2,[],1,0],4647:[2,-52,4,2,2,[],1,0],4648:[2,-52,5,2,2,[],1,0],4649:[2,-77,7,2,2,[],1,0],465:[2,-16928257,2,2,2,[],8,0],4650:[2,-52,4,2,2,[],1,0],4651:[2,-52,5,2,2,[],1,0],4652:[2,-77,7,2,2,[],1,0],4653:[2,-52,4,2,2,[],1,0],4654:[2,-52,5,2,2,[],1,0],4655:[2,-77,7,2,2,[],1,0],4656:[2,-52,4,2,2,[],1,0],4657:[2,-52,5,2,2,[],1,0],4658:[2,-77,7,2,2,[],1,0],4659:[2,-52,4,2,2,[],1,0],466:[2,-16928257,2,2,2,[],8,0],4660:[2,-52,5,2,2,[],1,0],4661:[2,-77,7,2,2,[],1,0],4662:[2,-52,4,2,2,[],1,0],4663:[2,-52,5,2,2,[],1,0],4664:[2,-77,7,2,2,[],1,0],4665:[2,-52,4,2,2,[],1,0],4666:[2,-52,5,2,2,[],1,0],4667:[2,-77,7,2,2,[],1,0],4668:[2,-52,4,2,2,[],1,0],4669:[2,-52,5,2,2,[],1,0],467:[2,-16928257,4,2,2,[],8,0],4670:[2,-77,7,2,2,[],1,0],4671:[2,-105309748,2,2,2,[],1,0],4672:[2,-105309748,3,2,2,[],1,0],4673:[2,-105309773,5,2,2,[],1,0],4674:[2,491577804,2,2,2,[],1,0],4675:[2,491577804,3,2,2,[],1,0],4676:[2,491577779,5,2,2,[],1,0],4677:[2,-312199732,2,2,2,[],1,0],4678:[2,-312199732,3,2,2,[],1,0],4679:[2,-312199757,5,2,2,[],1,0],468:[2,-16928257,4,2,2,[],8,0],4680:[2,-312199732,2,2,2,[],1,0],4681:[2,-312199732,3,2,2,[],1,0],4682:[2,-312199757,5,2,2,[],1,0],4683:[2,10027212,2,2,2,[],1,0],4684:[2,10027212,3,2,2,[],1,0],4685:[2,10027187,5,2,2,[],1,0],4686:[2,-872362804,2,2,2,[],1,0],4687:[2,-872362804,3,2,2,[],1,0],4688:[2,-872362829,5,2,2,[],1,0],4689:[2,10004172,2,2,2,[],1,0],469:[2,-16928257,6,2,2,[],8,0],4690:[2,10004172,3,2,2,[],1,0],4691:[2,10004147,5,2,2,[],1,0],4692:[2,-1261683252,2,2,2,[],1,0],4693:[2,-1261683252,3,2,2,[],1,0],4694:[2,-1261683277,5,2,2,[],1,0],4695:[2,1283424204,2,2,2,[],1,0],4696:[2,1283424204,3,2,2,[],1,0],4697:[2,1283424179,5,2,2,[],1,0],4698:[2,-52,4,2,2,[],1,0],4699:[2,-52,5,2,2,[],1,0],47:[1,"biaopai_guodao_0",[5,"",9,-1,0,-1]],470:[2,-16928257,8,2,2,[],8,0],4700:[2,-77,7,2,2,[],1,0],4701:[2,-52,4,2,2,[],1,0],4702:[2,-52,5,2,2,[],1,0],4703:[2,-77,7,2,2,[],1,0],4704:[2,-52,4,2,2,[],1,0],4705:[2,-52,5,2,2,[],1,0],4706:[2,-77,7,2,2,[],1,0],4707:[2,-52,4,2,2,[],1,0],4708:[2,-52,5,2,2,[],1,0],4709:[2,-77,7,2,2,[],1,0],471:[2,-16928257,12,2,2,[],8,0],4710:[2,-52,4,2,2,[],1,0],4711:[2,-52,5,2,2,[],1,0],4712:[2,-77,7,2,2,[],1,0],4713:[2,751052748,2,2,2,[],1,0],4714:[2,751052748,3,2,2,[],1,0],4715:[2,751052723,5,2,2,[],1,0],4716:[2,-4508724,2,2,2,[],1,0],4717:[2,-4508724,3,2,2,[],1,0],4718:[2,-4508749,5,2,2,[],1,0],4719:[2,1030606028,2,2,2,[],1,0],472:[2,-16928257,1,2,2,[],4,0],4720:[2,1030606028,3,2,2,[],1,0],4721:[2,1030606003,5,2,2,[],1,0],4722:[2,-701218356,2,2,2,[],1,0],4723:[2,-701218356,3,2,2,[],1,0],4724:[2,-701218381,5,2,2,[],1,0],4725:[2,1816959436,2,2,2,[],1,0],4726:[2,1816959436,3,2,2,[],1,0],4727:[2,1816959411,5,2,2,[],1,0],4728:[2,-52,4,2,2,[],1,0],4729:[2,-52,5,2,2,[],1,0],473:[2,-16928257,1,2,2,[],4,0],4730:[2,-77,7,2,2,[],1,0],4731:[2,-52,4,2,2,[],1,0],4732:[2,-52,5,2,2,[],1,0],4733:[2,-77,7,2,2,[],1,0],4734:[2,-52,4,2,2,[],1,0],4735:[2,-52,5,2,2,[],1,0],4736:[2,-77,7,2,2,[],1,0],4737:[2,-52,4,2,2,[],1,0],4738:[2,-52,5,2,2,[],1,0],4739:[2,-77,7,2,2,[],1,0],474:[2,-16928257,2,2,2,[],4,0],4740:[2,751052748,2,2,2,[],1,0],4741:[2,751052748,3,2,2,[],1,0],4742:[2,751052723,5,2,2,[],1,0],4743:[2,1232784588,2,2,2,[],1,0],4744:[2,1232784588,3,2,2,[],1,0],4745:[2,1232784563,5,2,2,[],1,0],4746:[2,-701152564,2,2,2,[],1,0],4747:[2,-701152564,3,2,2,[],1,0],4748:[2,-701152589,5,2,2,[],1,0],4749:[2,-261847860,2,2,2,[],1,0],475:[2,-16928257,2,2,2,[],4,0],4750:[2,-261847860,3,2,2,[],1,0],4751:[2,-261847885,5,2,2,[],1,0],4752:[2,-52,4,2,2,[],1,0],4753:[2,-52,5,2,2,[],1,0],4754:[2,-77,7,2,2,[],1,0],4755:[2,-867020084,2,2,2,[],1,0],4756:[2,-867020084,3,2,2,[],1,0],4757:[2,-867020109,5,2,2,[],1,0],4758:[2,-748541492,2,2,2,[],1,0],4759:[2,-748541492,3,2,2,[],1,0],476:[2,-16928257,2,2,2,[],4,0],4760:[2,-748541517,5,2,2,[],1,0],4761:[2,-52,4,2,2,[],1,0],4762:[2,-52,5,2,2,[],1,0],4763:[2,-77,7,2,2,[],1,0],4764:[2,-52,4,2,2,[],1,0],4765:[2,-52,5,2,2,[],1,0],4766:[2,-77,7,2,2,[],1,0],4767:[2,-52,4,2,2,[],1,0],4768:[2,-52,5,2,2,[],1,0],4769:[2,-77,7,2,2,[],1,0],477:[2,-16928257,4,2,2,[],4,0],4770:[2,-52,4,2,2,[],1,0],4771:[2,-52,5,2,2,[],1,0],4772:[2,-77,7,2,2,[],1,0],4773:[2,-52,4,2,2,[],1,0],4774:[2,-52,5,2,2,[],1,0],4775:[2,-77,7,2,2,[],1,0],4776:[2,-701218356,2,2,2,[],1,0],4777:[2,-701218356,3,2,2,[],1,0],4778:[2,-701218381,5,2,2,[],1,0],4779:[2,-372571956,2,2,2,[],1,0],478:[2,-16928257,6,2,2,[],4,0],4780:[2,-372571956,3,2,2,[],1,0],4781:[2,-372571981,5,2,2,[],1,0],4782:[2,92056268,2,2,2,[],1,0],4783:[2,92056268,3,2,2,[],1,0],4784:[2,92056243,5,2,2,[],1,0],4785:[2,119573196,2,2,2,[],1,0],4786:[2,119573196,3,2,2,[],1,0],4787:[2,119573171,5,2,2,[],1,0],4788:[2,-52,4,2,2,[],1,0],4789:[2,-52,5,2,2,[],1,0],479:[2,-16928257,8,2,2,[],4,0],4790:[2,-77,7,2,2,[],1,0],4791:[2,-52,4,2,2,[],1,0],4792:[2,-52,5,2,2,[],1,0],4793:[2,-77,7,2,2,[],1,0],4794:[2,6737100,2,2,2,[],1,0],4795:[2,6737100,3,2,2,[],1,0],4796:[2,6737075,5,2,2,[],1,0],4797:[2,-308492340,2,2,2,[],1,0],4798:[2,-308492340,3,2,2,[],1,0],4799:[2,-308492365,5,2,2,[],1,0],48:[1,"biaopai_gaosu1",[5,"",9,-1,32,-1]],480:[2,-16928257,12,2,2,[],4,0],4800:[2,-52,4,2,2,[],1,0],4801:[2,-52,5,2,2,[],1,0],4802:[2,-77,7,2,2,[],1,0],4803:[2,-52,4,2,2,[],1,0],4804:[2,-52,5,2,2,[],1,0],4805:[2,-77,7,2,2,[],1,0],4806:[2,-52,4,2,2,[],1,0],4807:[2,-52,5,2,2,[],1,0],4808:[2,-77,7,2,2,[],1,0],4809:[2,1555621324,2,2,2,[],1,0],481:[2,-559873,1,2,2,[],2,0],4810:[2,1555621324,3,2,2,[],1,0],4811:[2,1555621299,5,2,2,[],1,0],4812:[2,1555621324,2,2,2,[],1,0],4813:[2,1555621324,3,2,2,[],1,0],4814:[2,1555621299,5,2,2,[],1,0],4815:[2,-701152564,2,2,2,[],1,0],4816:[2,-701152564,3,2,2,[],1,0],4817:[2,-701152589,5,2,2,[],1,0],4818:[2,-52,4,2,2,[],1,0],4819:[2,-52,5,2,2,[],1,0],482:[2,-559873,1,2,2,[],2,0],4820:[2,-77,7,2,2,[],1,0],4821:[2,-52,4,2,2,[],1,0],4822:[2,-52,5,2,2,[],1,0],4823:[2,-77,7,2,2,[],1,0],4824:[2,6737100,2,2,2,[],1,0],4825:[2,6737100,3,2,2,[],1,0],4826:[2,6737075,5,2,2,[],1,0],4827:[2,6737100,2,2,2,[],1,0],4828:[2,6737100,3,2,2,[],1,0],4829:[2,6737075,5,2,2,[],1,0],483:[2,-559873,2,2,2,[],2,0],4830:[2,-52,4,2,2,[],1,0],4831:[2,-52,5,2,2,[],1,0],4832:[2,-77,7,2,2,[],1,0],4833:[2,8912076,2,2,2,[],1,0],4834:[2,8912076,3,2,2,[],1,0],4835:[2,8912051,5,2,2,[],1,0],4836:[2,-328597300,2,2,2,[],1,0],4837:[2,-328597300,3,2,2,[],1,0],4838:[2,-328597325,5,2,2,[],1,0],4839:[2,-52,4,2,2,[],1,0],484:[2,-559873,3,2,2,[],2,0],4840:[2,-52,5,2,2,[],1,0],4841:[2,-77,7,2,2,[],1,0],4842:[2,-52,4,2,2,[],1,0],4843:[2,-52,5,2,2,[],1,0],4844:[2,-77,7,2,2,[],1,0],4845:[2,-1261683252,2,2,2,[],1,0],4846:[2,-1261683252,3,2,2,[],1,0],4847:[2,-1261683277,5,2,2,[],1,0],4848:[2,-52,4,2,2,[],1,0],4849:[2,-52,5,2,2,[],1,0],485:[2,-559873,4,2,2,[],2,0],4850:[2,-77,7,2,2,[],1,0],4851:[2,-52,4,2,2,[],1,0],4852:[2,-52,5,2,2,[],1,0],4853:[2,-77,7,2,2,[],1,0],4854:[2,-481736244,2,2,2,[],1,0],4855:[2,-481736244,3,2,2,[],1,0],4856:[2,-481736269,5,2,2,[],1,0],4857:[2,-4508724,2,2,2,[],1,0],4858:[2,-4508724,3,2,2,[],1,0],4859:[2,-4508749,5,2,2,[],1,0],486:[2,-559873,6,2,2,[],2,0],4860:[2,-52,4,2,2,[],1,0],4861:[2,-52,5,2,2,[],1,0],4862:[2,-77,7,2,2,[],1,0],4863:[2,-701218356,2,2,2,[],1,0],4864:[2,-701218356,3,2,2,[],1,0],4865:[2,-701218381,5,2,2,[],1,0],4866:[2,-52,4,2,2,[],1,0],4867:[2,-52,5,2,2,[],1,0],4868:[2,-77,7,2,2,[],1,0],4869:[2,1806911436,2,2,2,[],1,0],487:[2,-559873,8,2,2,[],2,0],4870:[2,1806911436,3,2,2,[],1,0],4871:[2,1806911411,5,2,2,[],1,0],4872:[2,-52,4,2,2,[],1,0],4873:[2,-52,5,2,2,[],1,0],4874:[2,-77,7,2,2,[],1,0],4875:[2,-52,4,2,2,[],1,0],4876:[2,-52,5,2,2,[],1,0],4877:[2,-77,7,2,2,[],1,0],4878:[2,-52,4,2,2,[],1,0],4879:[2,-52,5,2,2,[],1,0],488:[2,-559873,10,2,2,[],2,0],4880:[2,-77,7,2,2,[],1,0],4881:[2,-52,4,2,2,[],1,0],4882:[2,-52,5,2,2,[],1,0],4883:[2,-77,7,2,2,[],1,0],4884:[2,-52,4,2,2,[],1,0],4885:[2,-52,5,2,2,[],1,0],4886:[2,-77,7,2,2,[],1,0],4887:[2,-52,4,2,2,[],1,0],4888:[2,-52,5,2,2,[],1,0],4889:[2,-77,7,2,2,[],1,0],489:[2,-559873,14,2,2,[],2,0],4890:[2,-52,4,2,2,[],1,0],4891:[2,-52,5,2,2,[],1,0],4892:[2,-77,7,2,2,[],1,0],4893:[2,-52,4,2,2,[],1,0],4894:[2,-52,5,2,2,[],1,0],4895:[2,-77,7,2,2,[],1,0],4896:[2,-52,4,2,2,[],1,0],4897:[2,-52,5,2,2,[],1,0],4898:[2,-77,7,2,2,[],1,0],4899:[2,-52,4,2,2,[],1,0],49:[1,"biaopai_gaosu2",[5,"",9,-1,32,-1]],490:[2,-2201857,1,2,2,[],1,0],4900:[2,-52,5,2,2,[],1,0],4901:[2,-77,7,2,2,[],1,0],4902:[2,-813057076,2,2,2,[],1,0],4903:[2,-813057076,3,2,2,[],1,0],4904:[2,-813057101,5,2,2,[],1,0],4905:[2,-375840564,2,2,2,[],1,0],4906:[2,-375840564,3,2,2,[],1,0],4907:[2,-375840589,5,2,2,[],1,0],4908:[2,1385155788,2,2,2,[],1,0],4909:[2,1385155788,3,2,2,[],1,0],491:[2,-2201857,1,2,2,[],1,0],4910:[2,1385155763,5,2,2,[],1,0],4911:[2,731590604,2,2,2,[],1,0],4912:[2,731590604,3,2,2,[],1,0],4913:[2,731590579,5,2,2,[],1,0],4914:[2,8421580,2,2,2,[],1,0],4915:[2,8421580,3,2,2,[],1,0],4916:[2,8421555,5,2,2,[],1,0],4917:[2,-633391668,2,2,2,[],1,0],4918:[2,-633391668,3,2,2,[],1,0],4919:[2,-633391693,5,2,2,[],1,0],492:[2,-2201857,2,2,2,[],1,0],4920:[2,-1638519860,2,2,2,[],1,0],4921:[2,-1638519860,3,2,2,[],1,0],4922:[2,-1638519885,5,2,2,[],1,0],4923:[2,-1725003828,2,2,2,[],1,0],4924:[2,-1725003828,3,2,2,[],1,0],4925:[2,-1725003853,5,2,2,[],1,0],4926:[2,2025713356,2,2,2,[],1,0],4927:[2,2025713356,3,2,2,[],1,0],4928:[2,2025713331,5,2,2,[],1,0],4929:[2,-1854622516,2,2,2,[],1,0],493:[2,-2201857,3,2,2,[],1,0],4930:[2,-1854622516,3,2,2,[],1,0],4931:[2,-1854622541,5,2,2,[],1,0],4932:[2,-52,4,2,2,[],1,0],4933:[2,-52,5,2,2,[],1,0],4934:[2,-77,7,2,2,[],1,0],4935:[2,1806911436,2,2,2,[],1,0],4936:[2,1806911436,3,2,2,[],1,0],4937:[2,1806911411,5,2,2,[],1,0],4938:[2,-52,4,2,2,[],1,0],4939:[2,-52,5,2,2,[],1,0],494:[2,-2201857,4,2,2,[],1,0],4940:[2,-77,7,2,2,[],1,0],4941:[2,1031180748,2,2,2,[],1,0],4942:[2,1031180748,3,2,2,[],1,0],4943:[2,1031180723,5,2,2,[],1,0],4944:[2,-52,5,2,2,[],1,0],4945:[2,-77,7,2,2,[],1,0],4946:[2,-77,6,2,2,[],1,0],4947:[2,-261847860,2,2,2,[],1,0],4948:[2,-261847885,3,2,2,[],1,0],4949:[2,-261847885,5,2,2,[],1,0],495:[2,-2201857,8,2,2,[],1,0],4950:[2,-745436980,2,2,2,[],1,0],4951:[2,-745436980,3,2,2,[],1,0],4952:[2,-745437005,5,2,2,[],1,0],4953:[2,-52,4,2,2,[],1,0],4954:[2,-52,5,2,2,[],1,0],4955:[2,-77,7,2,2,[],1,0],4956:[2,-52,4,2,2,[],1,0],4957:[2,-52,5,2,2,[],1,0],4958:[2,-77,7,2,2,[],1,0],4959:[2,-617141300,2,2,2,[],1,0],496:[2,-2201857,10,2,2,[],1,0],4960:[2,-617141300,3,2,2,[],1,0],4961:[2,-617141325,5,2,2,[],1,0],4962:[2,-52,4,2,2,[],1,0],4963:[2,-52,5,2,2,[],1,0],4964:[2,-77,7,2,2,[],1,0],4965:[2,7402956,2,2,2,[],1,0],4966:[2,7402956,3,2,2,[],1,0],4967:[2,7402931,5,2,2,[],1,0],4968:[2,-52,4,2,2,[],1,0],4969:[2,-52,5,2,2,[],1,0],497:[2,-2201857,16,2,2,[],1,0],4970:[2,-77,7,2,2,[],1,0],4971:[2,-436202804,2,2,2,[],1,0],4972:[2,-436202804,3,2,2,[],1,0],4973:[2,-436202829,5,2,2,[],1,0],4974:[1,"ditie_beijing_00",[]],4975:[1,"trans_dalian_01",[]],4976:[1,"trans_dalian_0",[]],4977:[1,"trans_dalian_1",[]],4978:[1,"trans_dalian_2",[]],4979:[1,"ditie_beijing_00",[]],498:[2,-2201857,16,2,2,[],1,0],4980:[1,"ditie_zhengzhou_01",[]],4981:[1,"ditie_zhengzhou_0",[]],4982:[1,"ditie_zhengzhou_1",[]],4983:[1,"ditie_zhengzhou_2",[]],4984:[2,-1,4,2,2,[],1,0],4985:[2,-1,4,2,2,[],1,0],4986:[2,-1,4,2,2,[],1,0],4987:[2,-1,4,2,2,[],1,0],4988:[2,-256,4,2,2,[],1,0],4989:[2,-256,5,2,2,[],1,0],499:[2,-2201857,2,2,2,[],1,0],4990:[2,-256,7,2,2,[],1,0],4991:[2,1910167295,2,2,2,[],1,0],4992:[2,1910167295,2,2,2,[],1,0],4993:[2,1910167295,2,2,2,[],1,0],4994:[2,1910167295,2,2,2,[],1,0],4995:[2,1910167040,2,2,2,[],1,0],4996:[2,1910167040,3,2,2,[],1,0],4997:[2,1910167040,5,2,2,[],1,0],4998:[5,"",11,1910167295,16,-1],4999:[5,"",11,1910167295,16,-1],5:[2,-1497178369,1,2,2,[],0,0],50:[2,-1802201857,2,2,2,[],0,0],500:[2,-2201857,2,2,2,[],1,0],5000:[5,"",12,1910167295,16,-1],5001:[5,"",14,1910167295,16,-1],5002:[2,-52,4,2,2,[],1,0],5003:[2,-52,5,2,2,[],1,0],5004:[2,-77,7,2,2,[],1,0],5005:[2,1910167244,2,2,2,[],1,0],5006:[2,1910167244,3,2,2,[],1,0],5007:[2,1910167219,5,2,2,[],1,0],5008:[3,1910167244,[2,0,1,0,0,[],0,0]],5009:[3,1910167219,[2,0,1,0,0,[],0,0]],501:[2,-2201857,4,2,2,[],1,0],5010:[2,-1,4,2,2,[],1,0],5011:[2,-1,4,2,2,[],1,0],5012:[2,-1,4,2,2,[],1,0],5013:[2,-1,4,2,2,[],1,0],5014:[2,-256,4,2,2,[],1,0],5015:[2,-256,5,2,2,[],1,0],5016:[2,-256,7,2,2,[],1,0],5017:[2,-1945676801,2,2,2,[],1,0],5018:[2,-1945676801,2,2,2,[],1,0],5019:[2,-1945676801,2,2,2,[],1,0],502:[2,-2201857,5,2,2,[],1,0],5020:[2,-1945676801,2,2,2,[],1,0],5021:[2,-1945677056,2,2,2,[],1,0],5022:[2,-1945677056,3,2,2,[],1,0],5023:[2,-1945677056,5,2,2,[],1,0],5024:[5,"",11,-1945676801,16,-1],5025:[5,"",11,-1945676801,16,-1],5026:[5,"",12,-1945676801,16,-1],5027:[5,"",14,-1945676801,16,-1],5028:[2,-52,4,2,2,[],1,0],5029:[2,-52,5,2,2,[],1,0],503:[2,-2201857,6,2,2,[],1,0],5030:[2,-77,7,2,2,[],1,0],5031:[2,-1945676852,2,2,2,[],1,0],5032:[2,-1945676852,3,2,2,[],1,0],5033:[2,-1945676877,5,2,2,[],1,0],5034:[3,-1945676852,[2,0,1,0,0,[],0,0]],5035:[3,-1945676877,[2,0,1,0,0,[],0,0]],5036:[2,-1,4,2,2,[],1,0],5037:[2,-1,4,2,2,[],1,0],5038:[2,-1,4,2,2,[],1,0],5039:[2,-1,4,2,2,[],1,0],504:[2,-2201857,8,2,2,[],1,0],5040:[2,-256,4,2,2,[],1,0],5041:[2,-256,5,2,2,[],1,0],5042:[2,-256,7,2,2,[],1,0],5043:[2,-1698037505,2,2,2,[],1,0],5044:[2,-1698037505,2,2,2,[],1,0],5045:[2,-1698037505,2,2,2,[],1,0],5046:[2,-1698037505,2,2,2,[],1,0],5047:[2,-1698037760,2,2,2,[],1,0],5048:[2,-1698037760,3,2,2,[],1,0],5049:[2,-1698037760,5,2,2,[],1,0],505:[2,-2201857,13,2,2,[],1,0],5050:[5,"",11,-1698037505,16,-1],5051:[5,"",11,-1698037505,16,-1],5052:[5,"",12,-1698037505,16,-1],5053:[5,"",14,-1698037505,16,-1],5054:[2,-52,4,2,2,[],1,0],5055:[2,-52,5,2,2,[],1,0],5056:[2,-77,7,2,2,[],1,0],5057:[2,-1698037556,2,2,2,[],1,0],5058:[2,-1698037556,3,2,2,[],1,0],5059:[2,-1698037581,5,2,2,[],1,0],506:[2,-2201857,15,2,2,[],1,0],5060:[3,-1698037556,[2,0,1,0,0,[],0,0]],5061:[3,-1698037581,[2,0,1,0,0,[],0,0]],5062:[2,-1,4,2,2,[],1,0],5063:[2,-1,4,2,2,[],1,0],5064:[2,-1,4,2,2,[],1,0],5065:[2,-1,4,2,2,[],1,0],5066:[2,-256,4,2,2,[],1,0],5067:[2,-256,5,2,2,[],1,0],5068:[2,-256,7,2,2,[],1,0],5069:[2,-486539009,2,2,2,[],1,0],507:[2,-2201857,17,2,2,[],1,0],5070:[2,-486539009,2,2,2,[],1,0],5071:[2,-486539009,2,2,2,[],1,0],5072:[2,-486539009,2,2,2,[],1,0],5073:[2,-486539264,2,2,2,[],1,0],5074:[2,-486539264,3,2,2,[],1,0],5075:[2,-486539264,5,2,2,[],1,0],5076:[5,"",11,-486539009,16,-1],5077:[5,"",11,-486539009,16,-1],5078:[5,"",12,-486539009,16,-1],5079:[5,"",14,-486539009,16,-1],508:[2,-2201857,17,2,2,[],1,0],5080:[2,-52,4,2,2,[],1,0],5081:[2,-52,5,2,2,[],1,0],5082:[2,-77,7,2,2,[],1,0],5083:[2,-486539060,2,2,2,[],1,0],5084:[2,-486539060,3,2,2,[],1,0],5085:[2,-486539085,5,2,2,[],1,0],5086:[3,-486539060,[2,0,1,0,0,[],0,0]],5087:[3,-486539085,[2,0,1,0,0,[],0,0]],5088:[2,-1,4,2,2,[],1,0],5089:[2,-1,4,2,2,[],1,0],509:[2,-20748801,2,2,2,[],0,0],5090:[2,-1,4,2,2,[],1,0],5091:[2,-1,4,2,2,[],1,0],5092:[2,-256,4,2,2,[],1,0],5093:[2,-256,5,2,2,[],1,0],5094:[2,-256,7,2,2,[],1,0],5095:[2,-635947521,2,2,2,[],1,0],5096:[2,-635947521,2,2,2,[],1,0],5097:[2,-635947521,2,2,2,[],1,0],5098:[2,-635947521,2,2,2,[],1,0],5099:[2,-635947776,2,2,2,[],1,0],51:[2,-1,1.5,0,2,[10,11],1,0],510:[2,-20748801,2,2,2,[],0,0],5100:[2,-635947776,3,2,2,[],1,0],5101:[2,-635947776,5,2,2,[],1,0],5102:[5,"",11,-635947521,16,-1],5103:[5,"",11,-635947521,16,-1],5104:[5,"",12,-635947521,16,-1],5105:[5,"",14,-635947521,16,-1],5106:[2,-52,4,2,2,[],1,0],5107:[2,-52,5,2,2,[],1,0],5108:[2,-77,7,2,2,[],1,0],5109:[2,-635947572,2,2,2,[],1,0],511:[2,-20748801,3,2,2,[],0,0],5110:[2,-635947572,3,2,2,[],1,0],5111:[2,-635947597,5,2,2,[],1,0],5112:[3,-635947572,[2,0,1,0,0,[],0,0]],5113:[3,-635947597,[2,0,1,0,0,[],0,0]],5114:[2,-1,4,2,2,[],1,0],5115:[2,-1,4,2,2,[],1,0],5116:[2,-1,4,2,2,[],1,0],5117:[2,-1,4,2,2,[],1,0],5118:[2,-256,4,2,2,[],1,0],5119:[2,-256,5,2,2,[],1,0],512:[2,-20748801,4,2,2,[],0,0],5120:[2,-256,7,2,2,[],1,0],5121:[2,24862975,2,2,2,[],1,0],5122:[2,24862975,2,2,2,[],1,0],5123:[2,24862975,2,2,2,[],1,0],5124:[2,24862975,2,2,2,[],1,0],5125:[2,24862720,2,2,2,[],1,0],5126:[2,24862720,3,2,2,[],1,0],5127:[2,24862720,5,2,2,[],1,0],5128:[5,"",11,24862975,16,-1],5129:[5,"",11,24862975,16,-1],513:[2,-20748801,5,2,2,[],0,0],5130:[5,"",12,24862975,16,-1],5131:[5,"",14,24862975,16,-1],5132:[3,24862924,[2,0,1,0,0,[],0,0]],5133:[3,24862899,[2,0,1,0,0,[],0,0]],5134:[2,-52,4,2,2,[],1,0],5135:[2,-52,5,2,2,[],1,0],5136:[2,-77,7,2,2,[],1,0],5137:[2,24862924,2,2,2,[],1,0],5138:[2,24862924,3,2,2,[],1,0],5139:[2,24862899,5,2,2,[],1,0],514:[2,-20748801,7,2,2,[],0,0],5140:[2,-1,4,2,2,[],1,0],5141:[2,-1,4,2,2,[],1,0],5142:[2,-1,4,2,2,[],1,0],5143:[2,-1,4,2,2,[],1,0],5144:[2,-256,4,2,2,[],1,0],5145:[2,-256,5,2,2,[],1,0],5146:[2,-256,7,2,2,[],1,0],5147:[2,-1,4,2,2,[],1,0],5148:[2,-1,4,2,2,[],1,0],5149:[2,-1,4,2,2,[],1,0],515:[2,-20748801,12,2,2,[],0,0],5150:[2,-1,4,2,2,[],1,0],5151:[2,-256,4,2,2,[],1,0],5152:[2,-256,5,2,2,[],1,0],5153:[2,-256,7,2,2,[],1,0],5154:[2,745518591,2,2,2,[],1,0],5155:[2,745518591,2,2,2,[],1,0],5156:[2,745518591,2,2,2,[],1,0],5157:[2,745518591,2,2,2,[],1,0],5158:[2,745518336,2,2,2,[],1,0],5159:[2,745518336,3,2,2,[],1,0],516:[2,-20748801,14,2,2,[],0,0],5160:[2,745518336,5,2,2,[],1,0],5161:[2,836173823,2,2,2,[],1,0],5162:[2,836173823,2,2,2,[],1,0],5163:[2,836173823,2,2,2,[],1,0],5164:[2,836173823,2,2,2,[],1,0],5165:[2,836173568,2,2,2,[],1,0],5166:[2,836173568,3,2,2,[],1,0],5167:[2,836173568,5,2,2,[],1,0],5168:[5,"",11,745518591,16,-1],5169:[5,"",11,745518591,16,-1],517:[2,-20748801,18,2,2,[],0,0],5170:[5,"",12,745518591,16,-1],5171:[5,"",14,745518591,16,-1],5172:[5,"",11,836173823,16,-1],5173:[5,"",11,836173823,16,-1],5174:[5,"",12,836173823,16,-1],5175:[5,"",14,836173823,16,-1],5176:[2,-52,4,2,2,[],1,0],5177:[2,-52,5,2,2,[],1,0],5178:[2,-77,7,2,2,[],1,0],5179:[2,-52,4,2,2,[],1,0],518:[2,-20748801,18,2,2,[],0,0],5180:[2,-52,5,2,2,[],1,0],5181:[2,-77,7,2,2,[],1,0],5182:[2,745518540,2,2,2,[],1,0],5183:[2,745518540,3,2,2,[],1,0],5184:[2,745518515,5,2,2,[],1,0],5185:[2,836173772,2,2,2,[],1,0],5186:[2,836173772,3,2,2,[],1,0],5187:[2,836173747,5,2,2,[],1,0],5188:[3,745518540,[2,0,1,0,0,[],0,0]],5189:[3,745518515,[2,0,1,0,0,[],0,0]],519:[2,-2201857,1,2,2,[],0,0],5190:[3,836173772,[2,0,1,0,0,[],0,0]],5191:[3,836173747,[2,0,1,0,0,[],0,0]],5192:[1,"ditie_beijing_00",[]],5193:[1,"trans_kunming_01",[]],5194:[1,"trans_kunming_0",[]],5195:[1,"trans_kunming_1",[]],5196:[1,"trans_kunming_2",[]],5197:[1,"ditie_beijing_00",[]],5198:[1,"ditie_changsha_01",[]],5199:[1,"ditie_changsha_0",[]],52:[1,"shoudu",[]],520:[2,-2201857,2,2,2,[],0,0],5200:[1,"ditie_changsha_1",[]],5201:[1,"ditie_changsha_2",[]],5202:[1,"ditie_beijing_00",[]],5203:[1,"trans_changsha_01",[]],5204:[1,"trans_changsha_0",[]],5205:[1,"trans_changsha_1",[]],5206:[1,"trans_changsha_2",[]],5207:[2,-1,4,2,2,[],1,0],5208:[2,-1,4,2,2,[],1,0],5209:[2,-1,4,2,2,[],1,0],521:[2,-2201857,2,2,2,[],0,0],5210:[2,-1,4,2,2,[],1,0],5211:[2,-256,4,2,2,[],1,0],5212:[2,-256,5,2,2,[],1,0],5213:[2,-256,7,2,2,[],1,0],5214:[2,42008575,2,2,2,[],1,0],5215:[2,42008575,2,2,2,[],1,0],5216:[2,42008575,2,2,2,[],1,0],5217:[2,42008575,2,2,2,[],1,0],5218:[2,42008320,2,2,2,[],1,0],5219:[2,42008320,3,2,2,[],1,0],522:[2,-2201857,3,2,2,[],0,0],5220:[2,42008320,5,2,2,[],1,0],5221:[5,"",11,42008575,16,-1],5222:[5,"",11,42008575,16,-1],5223:[5,"",12,42008575,16,-1],5224:[5,"",14,42008575,16,-1],5225:[2,-52,4,2,2,[],1,0],5226:[2,-52,5,2,2,[],1,0],5227:[2,-77,7,2,2,[],1,0],5228:[2,42008524,2,2,2,[],1,0],5229:[2,42008524,3,2,2,[],1,0],523:[2,-2201857,4,2,2,[],0,0],5230:[2,42008499,5,2,2,[],1,0],5231:[1,"ditie_beijing_00",[]],5232:[1,"ditie_ningbo_01",[]],5233:[1,"ditie_ningbo_0",[]],5234:[1,"ditie_ningbo_1",[]],5235:[1,"ditie_ningbo_2",[]],5236:[1,"ditie_beijing_00",[]],5237:[1,"trans_ningbo_01",[]],5238:[1,"trans_ningbo_0",[]],5239:[1,"trans_ningbo_1",[]],524:[2,-2201857,6,2,2,[],0,0],5240:[1,"trans_ningbo_2",[]],5241:[2,-1,4,2,2,[],1,0],5242:[2,-1,4,2,2,[],1,0],5243:[2,-1,4,2,2,[],1,0],5244:[2,-1,4,2,2,[],1,0],5245:[2,-256,4,2,2,[],1,0],5246:[2,-256,5,2,2,[],1,0],5247:[2,-256,7,2,2,[],1,0],5248:[2,-317119745,2,2,2,[],1,0],5249:[2,-317119745,2,2,2,[],1,0],525:[2,-2201857,10,2,2,[],0,0],5250:[2,-317119745,2,2,2,[],1,0],5251:[2,-317119745,2,2,2,[],1,0],5252:[2,-31712e4,2,2,2,[],1,0],5253:[2,-31712e4,3,2,2,[],1,0],5254:[2,-31712e4,5,2,2,[],1,0],5255:[5,"",11,-317119745,16,-1],5256:[5,"",11,-317119745,16,-1],5257:[5,"",12,-317119745,16,-1],5258:[5,"",14,-317119745,16,-1],5259:[2,-52,4,2,2,[],1,0],526:[2,-2201857,14,2,2,[],0,0],5260:[2,-52,5,2,2,[],1,0],5261:[2,-77,7,2,2,[],1,0],5262:[2,-317119796,2,2,2,[],1,0],5263:[2,-317119796,3,2,2,[],1,0],5264:[2,-317119821,5,2,2,[],1,0],5265:[1,"ditie_beijing_00",[]],5266:[1,"ditie_wuxi_01",[]],5267:[1,"ditie_wuxi_0",[]],5268:[1,"ditie_wuxi_1",[]],5269:[1,"ditie_wuxi_2",[]],527:[2,-2201857,16,2,2,[],0,0],5270:[1,"ditie_beijing_00",[]],5271:[1,"trans_wuxi_01",[]],5272:[1,"trans_wuxi_0",[]],5273:[1,"trans_wuxi_1",[]],5274:[1,"trans_wuxi_2",[]],5275:[2,-1,4,2,2,[],1,0],5276:[2,-1,4,2,2,[],1,0],5277:[2,-1,4,2,2,[],1,0],5278:[2,-1,4,2,2,[],1,0],5279:[2,-256,4,2,2,[],1,0],528:[2,-2201857,16,2,2,[],0,0],5280:[2,-256,5,2,2,[],1,0],5281:[2,-256,7,2,2,[],1,0],5282:[2,646219007,2,2,2,[],1,0],5283:[2,646219007,2,2,2,[],1,0],5284:[2,646219007,2,2,2,[],1,0],5285:[2,646219007,2,2,2,[],1,0],5286:[2,646218752,2,2,2,[],1,0],5287:[2,646218752,3,2,2,[],1,0],5288:[2,646218752,5,2,2,[],1,0],5289:[5,"",11,646219007,16,-1],529:[2,-101058049,1,2,2,[],16,0],5290:[5,"",11,646219007,16,-1],5291:[5,"",12,646219007,16,-1],5292:[5,"",14,646219007,16,-1],5293:[2,-52,4,2,2,[],1,0],5294:[2,-52,5,2,2,[],1,0],5295:[2,-77,7,2,2,[],1,0],5296:[2,646218956,2,2,2,[],1,0],5297:[2,646218956,3,2,2,[],1,0],5298:[2,646218931,5,2,2,[],1,0],5299:[2,-1,4,2,2,[],1,0],53:[1,"shenghui_0",[]],530:[2,-101058049,1,2,2,[],16,0],5300:[2,-1,4,2,2,[],1,0],5301:[2,-1,4,2,2,[],1,0],5302:[2,-1,4,2,2,[],1,0],5303:[2,-256,4,2,2,[],1,0],5304:[2,-256,5,2,2,[],1,0],5305:[2,-256,7,2,2,[],1,0],5306:[2,-1400482049,2,2,2,[],1,0],5307:[2,-1400482049,2,2,2,[],1,0],5308:[2,-1400482049,2,2,2,[],1,0],5309:[2,-1400482049,2,2,2,[],1,0],531:[2,-101058049,2,2,2,[],16,0],5310:[2,-1400482304,2,2,2,[],1,0],5311:[2,-1400482304,3,2,2,[],1,0],5312:[2,-1400482304,5,2,2,[],1,0],5313:[5,"",11,-1400482049,16,-1],5314:[5,"",11,-1400482049,16,-1],5315:[5,"",12,-1400482049,16,-1],5316:[5,"",14,-1400482049,16,-1],5317:[2,-52,4,2,2,[],1,0],5318:[2,-52,5,2,2,[],1,0],5319:[2,-77,7,2,2,[],1,0],532:[2,-101058049,3,2,2,[],16,0],5320:[2,-1400482100,2,2,2,[],1,0],5321:[2,-1400482100,3,2,2,[],1,0],5322:[2,-1400482125,5,2,2,[],1,0],5323:[3,-317119796,[2,0,1,0,0,[],0,0]],5324:[3,-317119821,[2,0,1,0,0,[],0,0]],5325:[3,646218956,[2,0,1,0,0,[],0,0]],
5326:[3,646218931,[2,0,1,0,0,[],0,0]],5327:[3,-1400482100,[2,0,1,0,0,[],0,0]],5328:[3,-1400482125,[2,0,1,0,0,[],0,0]],5329:[2,-1,4,2,2,[],1,0],533:[2,-101058049,5,2,2,[],16,0],5330:[2,-1,4,2,2,[],1,0],5331:[2,-1,4,2,2,[],1,0],5332:[2,-1,4,2,2,[],1,0],5333:[2,-256,4,2,2,[],1,0],5334:[2,-256,5,2,2,[],1,0],5335:[2,-256,7,2,2,[],1,0],5336:[2,-413269761,2,2,2,[],1,0],5337:[2,-413269761,2,2,2,[],1,0],5338:[2,-413269761,2,2,2,[],1,0],5339:[2,-413269761,2,2,2,[],1,0],534:[2,-101058049,5,2,2,[],16,0],5340:[2,-413270016,2,2,2,[],1,0],5341:[2,-413270016,3,2,2,[],1,0],5342:[2,-413270016,5,2,2,[],1,0],5343:[5,"",11,-413269761,16,-1],5344:[5,"",11,-413269761,16,-1],5345:[5,"",12,-413269761,16,-1],5346:[5,"",14,-413269761,16,-1],5347:[2,-52,4,2,2,[],1,0],5348:[2,-52,5,2,2,[],1,0],5349:[2,-77,7,2,2,[],1,0],535:[2,-101058049,2,2,2,[],16,0],5350:[2,-413269812,2,2,2,[],1,0],5351:[2,-413269812,3,2,2,[],1,0],5352:[2,-413269837,5,2,2,[],1,0],5353:[3,-413269812,[2,0,1,0,0,[],0,0]],5354:[3,-413269837,[2,0,1,0,0,[],0,0]],5355:[3,42008524,[2,0,1,0,0,[],0,0]],5356:[3,42008499,[2,0,1,0,0,[],0,0]],5357:[1,"qx_atm",[]],5358:[1,"qx_atm",[]],5359:[1,"qx_atm",[]],536:[2,-101058049,3,2,2,[],16,0],5360:[1,"qx_baokanting",[]],5361:[1,"qx_baokanting",[]],5362:[1,"qx_bowuguan",[]],5363:[1,"qx_bowuguan",[]],5364:[1,"qx_bowuguan",[]],5365:[5,"",11,911770111,16,-168562433],5366:[5,"",11,911770111,16,-168562433],5367:[5,"",11,911770111,16,-168562433],5368:[1,"qx_cesuo",[]],5369:[1,"qx_chaoshi",[]],537:[2,-101058049,4,2,2,[],16,0],5370:[1,"qx_chaoshi",[]],5371:[5,"",11,1803325951,16,-168562433],5372:[5,"",11,1803325951,16,-168562433],5373:[1,"qx_chaoshi",[]],5374:[5,"",11,1803325951,16,-168562433],5375:[1,"qx_damen",[]],5376:[1,"qx_damen",[]],5377:[1,"qx_damen_T",[]],5378:[1,"qx_damen_T",[]],5379:[5,"",11,911770111,16,-168562433],538:[2,-101058049,6,2,2,[],16,0],5380:[5,"",11,911770111,16,-168562433],5381:[5,"",11,911770111,16,-168562433],5382:[5,"",11,911770111,16,-168562433],5383:[1,"qx_fengjing_T",[]],5384:[1,"qx_fengjing_T",[]],5385:[5,"",11,911770111,16,-168562433],5386:[5,"",11,911770111,16,-168562433],5387:[1,"qx_fengjing_T",[]],5388:[1,"qx_fengjing_T",[]],5389:[5,"",11,911770111,16,-168562433],539:[2,-101058049,8,2,2,[],16,0],5390:[5,"",11,911770111,16,-168562433],5391:[1,"qx_fengjing_T",[]],5392:[1,"qx_fengjing_T",[]],5393:[5,"",11,911770111,16,-168562433],5394:[5,"",11,911770111,16,-168562433],5395:[1,"qx_fengjing",[]],5396:[1,"qx_fengjing",[]],5397:[1,"qx_fengjing_T",[]],5398:[1,"qx_fengjing_T",[]],5399:[5,"",11,911770111,16,-168562433],54:[1,"shenghui_1",[]],540:[2,-101058049,8,2,2,[],16,0],5400:[5,"",11,911770111,16,-168562433],5401:[5,"",11,911770111,16,-168562433],5402:[5,"",11,911770111,16,-168562433],5403:[1,"qx_gongyuan",[]],5404:[1,"qx_gongyuan_T",[]],5405:[1,"qx_gongyuan_T",[]],5406:[5,"",11,1554666239,16,-168562433],5407:[5,"",11,1554666239,16,-168562433],5408:[5,"",11,1554666239,16,-168562433],5409:[1,"qx_gongyuan",[]],541:[2,-16928257,1,2,2,[],8,0],5410:[1,"qx_gongyuan_T",[]],5411:[1,"qx_gongyuan_T",[]],5412:[5,"",11,1554666239,16,-168562433],5413:[5,"",12,1554666239,16,-168562433],5414:[5,"",13,1554666239,16,-168562433],5415:[1,"qx_guji",[]],5416:[1,"qx_guji",[]],5417:[1,"qx_guji",[]],5418:[5,"",11,1803325951,16,-168562433],5419:[5,"",11,1803325951,16,-168562433],542:[2,-16928257,1,2,2,[],8,0],5420:[5,"",11,1803325951,16,-168562433],5421:[1,"qx_kafei",[]],5422:[5,"",11,1803325951,16,-168562433],5423:[1,"qx_kafei",[]],5424:[5,"",11,1803325951,16,-168562433],5425:[1,"qx_kuaijiejiudian",[]],5426:[1,"qx_kuaijiejiudian",[]],5427:[5,"",11,1803325951,16,-168562433],5428:[5,"",11,1803325951,16,-168562433],5429:[1,"qx_kuaijiejiudian",[]],543:[2,-16928257,2,2,2,[],8,0],5430:[5,"",11,1803325951,16,-168562433],5431:[1,"qx_meirongmeifa",[]],5432:[1,"qx_qita",[]],5433:[1,"qx_qita",[]],5434:[1,"qx_qita",[]],5435:[5,"",11,1803325951,16,-168562433],5436:[5,"",11,1803325951,16,-168562433],5437:[5,"",11,1803325951,16,-168562433],5438:[1,"qx_qita",[]],5439:[1,"qx_qita",[]],544:[2,-16928257,4,2,2,[],8,0],5440:[1,"qx_qita",[]],5441:[5,"",11,1803325951,16,-168562433],5442:[5,"",11,1803325951,16,-168562433],5443:[5,"",11,1803325951,16,-168562433],5444:[1,"qx_qita",[]],5445:[5,"",11,1803325951,16,-168562433],5446:[1,"qx_qita",[]],5447:[1,"qx_qita",[]],5448:[5,"",11,1803325951,16,-168562433],5449:[5,"",11,1803325951,16,-168562433],545:[2,-16928257,4,2,2,[],8,0],5450:[1,"qx_qita",[]],5451:[5,"",11,1803325951,16,-168562433],5452:[1,"qx_qita",[]],5453:[5,"",11,1803325951,16,-168562433],5454:[1,"qx_qita",[]],5455:[5,"",11,1803325951,16,-168562433],5456:[1,"qx_qita",[]],5457:[5,"",11,1803325951,16,-168562433],5458:[1,"qx_qita",[]],5459:[5,"",11,1803325951,16,-168562433],546:[2,-16928257,3,2,2,[],8,0],5460:[1,"qx_shangwudasha",[]],5461:[1,"qx_shangwudasha_T",[]],5462:[1,"qx_shangwudasha_T",[]],5463:[5,"",11,911770111,16,-168562433],5464:[5,"",11,911770111,16,-168562433],5465:[5,"",11,911770111,16,-168562433],5466:[1,"qx_shangwudasha",[]],5467:[1,"qx_shangwudasha",[]],5468:[1,"qx_shangwudasha_T",[]],5469:[1,"qx_shangwudasha_T",[]],547:[2,-16928257,6,2,2,[],8,0],5470:[5,"",11,911770111,16,-168562433],5471:[5,"",11,911770111,16,-168562433],5472:[5,"",11,911770111,16,-168562433],5473:[5,"",11,911770111,16,-168562433],5474:[1,"qx_shanqu",[]],5475:[1,"qx_shanqu",[]],5476:[1,"qx_shanqu",[]],5477:[5,"",11,1756294143,16,-168562433],5478:[5,"",11,1756294143,16,-168562433],5479:[5,"",11,1756294143,16,-168562433],548:[2,-16928257,8,2,2,[],8,0],5480:[1,"qx_shoupiao",[]],5481:[5,"",11,1803325951,16,-168562433],5482:[1,"qx_tingchechang",[]],5483:[1,"qx_tingchechang",[]],5484:[1,"qx_tingchechang",[]],5485:[1,"qx_tiyu",[]],5486:[1,"qx_tiyu",[]],5487:[5,"",11,911770111,16,-168562433],5488:[5,"",11,911770111,16,-168562433],5489:[1,"qx_tiyu",[]],549:[2,-16928257,12,2,2,[],8,0],5490:[5,"",11,911770111,16,-168562433],5491:[1,"qx_tiyu",[]],5492:[5,"",11,911770111,16,-168562433],5493:[1,"qx_tongxun",[]],5494:[5,"",11,1803325951,16,-168562433],5495:[1,"qx_xican",[]],5496:[1,"qx_xican",[]],5497:[5,"",11,1803325951,16,-168562433],5498:[5,"",11,1803325951,16,-168562433],5499:[1,"qx_zhineng",[]],55:[1,"dijishi_0",[]],550:[2,-16928257,1,2,2,[],4,0],5500:[5,"",11,1803325951,16,-168562433],5501:[1,"qx_yuanxi",[]],5502:[1,"qx_yuanxi",[]],5503:[1,"qx_yuanxi_T",[]],5504:[1,"qx_yuanxi_T",[]],5505:[5,"",11,911770111,16,-168562433],5506:[5,"",11,911770111,16,-168562433],5507:[5,"",11,911770111,16,-168562433],5508:[5,"",12,911770111,16,-168562433],5509:[1,"qx_yanjiujigou",[]],551:[2,-16928257,1,2,2,[],4,0],5510:[1,"qx_yanjiujigou",[]],5511:[1,"qx_yanjiujigou",[]],5512:[5,"",11,911770111,16,-168562433],5513:[5,"",11,911770111,16,-168562433],5514:[5,"",11,911770111,16,-168562433],5515:[1,"qx_yanjiujigou",[]],5516:[1,"qx_yanjiujigou",[]],5517:[1,"qx_yanjiujigou",[]],5518:[5,"",11,911770111,16,-168562433],5519:[5,"",11,911770111,16,-168562433],552:[2,-16928257,2,2,2,[],4,0],5520:[5,"",11,911770111,16,-168562433],5521:[1,"qx_yaodian",[]],5522:[5,"",11,1803325951,16,-168562433],5523:[1,"qx_yingyueting",[]],5524:[1,"qx_yingyueting",[]],5525:[1,"qx_yingyueting",[]],5526:[1,"qx_yingyueting",[]],5527:[5,"",11,911770111,16,-168562433],5528:[5,"",11,911770111,16,-168562433],5529:[5,"",11,911770111,16,-168562433],553:[2,-16928257,2,2,2,[],4,0],5530:[5,"",11,911770111,16,-168562433],5531:[1,"qx_yinhang",[]],5532:[1,"qx_yinhang",[]],5533:[5,"",10,1803325951,16,-168562433],5534:[5,"",11,1803325951,16,-168562433],5535:[1,"qx_yiyuan",[]],5536:[1,"qx_yiyuan",[]],5537:[1,"qx_yiyuan",[]],5538:[1,"qx_yiyuan",[]],5539:[5,"",11,911770111,16,-168562433],554:[2,-16928257,4,2,2,[],4,0],5540:[5,"",11,911770111,16,-168562433],5541:[5,"",11,911770111,16,-168562433],5542:[5,"",11,911770111,16,-168562433],5543:[1,"qx_yiyuan",[]],5544:[5,"",11,1803325951,16,-168562433],5545:[1,"qx_youzheng",[]],5546:[1,"qx_youzheng",[]],5547:[1,"qx_youzheng",[]],5548:[5,"",11,1803325951,16,-168562433],5549:[5,"",11,1803325951,16,-168562433],555:[2,-16928257,4,2,2,[],4,0],5550:[5,"",11,1803325951,16,-168562433],5551:[1,"qx_yuanxi",[]],5552:[1,"qx_yuanxi",[]],5553:[1,"qx_yuanxi_T",[]],5554:[1,"qx_yuanxi_T",[]],5555:[5,"",11,911770111,16,-168562433],5556:[5,"",11,911770111,16,-168562433],5557:[5,"",11,911770111,16,-168562433],5558:[5,"",11,911770111,16,-168562433],5559:[1,"qx_yuanxi_T",[]],556:[2,-16928257,6,2,2,[],4,0],5560:[1,"qx_yuanxi_T",[]],5561:[5,"",11,911770111,16,-168562433],5562:[5,"",11,911770111,16,-168562433],5563:[1,"qx_zhineng",[]],5564:[1,"qx_zhineng",[]],5565:[1,"qx_zhineng",[]],5566:[5,"",11,1803325951,16,-168562433],5567:[5,"",11,1803325951,16,-168562433],5568:[5,"",11,1803325951,16,-168562433],5569:[1,"qx_zhineng",[]],557:[2,-16928257,8,2,2,[],4,0],5570:[1,"qx_zhineng",[]],5571:[5,"",11,1803325951,16,-168562433],5572:[5,"",11,1803325951,16,-168562433],5573:[1,"qx_zhongcan",[]],5574:[1,"qx_zhongcan",[]],5575:[1,"qx_zhongcan",[]],5576:[5,"",11,911770111,16,-168562433],5577:[5,"",11,911770111,16,-168562433],5578:[5,"",11,911770111,16,-168562433],5579:[1,"qx_zhongxiaoxue",[]],558:[2,-16928257,12,2,2,[],4,0],5580:[1,"qx_zhongxiaoxue",[]],5581:[1,"qx_zhongxiaoxue_T",[]],5582:[1,"qx_zhongxiaoxue_T",[]],5583:[5,"",11,1756294143,16,-168562433],5584:[5,"",11,1756294143,16,-168562433],5585:[5,"",11,1756294143,16,-168562433],5586:[5,"",12,1756294143,16,-168562433],5587:[1,"qx_zhongxiaoxue",[]],5588:[1,"qx_zhongxiaoxue",[]],5589:[1,"qx_zhongxiaoxue_T",[]],559:[2,-559873,1,2,2,[],2,0],5590:[1,"qx_zhongxiaoxue_T",[]],5591:[5,"",11,1756294143,16,-168562433],5592:[5,"",11,1756294143,16,-168562433],5593:[5,"",11,1756294143,16,-168562433],5594:[5,"",12,1756294143,16,-168562433],5595:[1,"qx_zhongxiaoxue",[]],5596:[1,"qx_zhongxiaoxue",[]],5597:[1,"qx_zhongxiaoxue_T",[]],5598:[1,"qx_zhongxiaoxue_T",[]],5599:[5,"",11,1756294143,16,-168562433],56:[5,"",11,1280068863,16,-1],560:[2,-559873,1,2,2,[],2,0],5600:[5,"",11,1756294143,16,-168562433],5601:[5,"",11,1756294143,16,-168562433],5602:[5,"",12,1756294143,16,-168562433],5603:[2,-101058049,1,2,2,[],0,0],5604:[2,-101058049,1,2,2,[],0,0],5605:[2,-101058049,1,2,2,[],0,0],5606:[2,-101058049,1,2,2,[],0,0],5607:[2,-101058049,1,2,2,[],0,0],5608:[2,-101058049,1,2,2,[],0,0],5609:[2,-101058049,1,2,2,[],0,0],561:[2,-559873,2,2,2,[],2,0],5610:[2,-101058049,1,2,2,[],0,0],5611:[2,-101058049,1,2,2,[],0,0],5612:[2,-101058049,1,2,2,[],0,0],5613:[2,-101058049,1,2,2,[],0,0],5614:[2,-101058049,1,2,2,[],0,0],5615:[2,-101058049,1,2,2,[],0,0],5616:[2,-101058049,1,2,2,[],0,0],5617:[2,-101058049,1,2,2,[],0,0],5618:[2,-101058049,1,2,2,[],0,0],5619:[2,-101058049,1,2,2,[],0,0],562:[2,-559873,4,2,2,[],2,0],5620:[2,-101058049,1,2,2,[],0,0],5621:[2,-101058049,1,2,2,[],0,0],5622:[2,-101058049,1,2,2,[],0,0],5623:[2,-101058049,1,2,2,[],0,0],5624:[2,-101058049,1,2,2,[],0,0],5625:[2,-101058049,1,2,2,[],0,0],5626:[2,-101058049,1,2,2,[],0,0],5627:[2,-101058049,1,2,2,[],0,0],5628:[2,-101058304,1,2,2,[],0,0],5629:[2,-101058049,1,2,2,[],0,0],563:[2,-559873,4,2,2,[],2,0],5630:[2,-101058049,1,2,2,[],0,0],5631:[2,-101058049,1,2,2,[],0,0],5632:[2,-101058049,1,2,2,[],0,0],5633:[3,-589505498,[]],5634:[4,-572662350,-101190438,.5,[2,-808464385,1,0,1,[],0,0],2,8],5635:[4,-572662350,-101190438,1,[2,-808464385,1,0,1,[],0,0],2,8],5636:[3,-1361646081,[2,-1361646081,1,0,0,[],0,0]],5637:[3,-1209929729,[2,-1209929729,1,0,0,[],0,0]],5638:[3,-1394871297,[2,-1394871297,1,0,0,[],0,0]],5639:[3,-1209929729,[2,-1209929729,1,0,0,[],0,0]],564:[2,-559873,6,2,2,[],2,0],5640:[3,-1075593473,[2,-1075593473,1,0,0,[],0,0]],5641:[3,-671885825,[2,-671885825,1,0,0,[],0,0]],5642:[3,-671885825,[2,-671885825,1,0,0,[],0,0]],5643:[3,-671885825,[2,-671885825,1,0,0,[],0,0]],5644:[3,-488447233,[2,-488447233,1,0,0,[],0,0]],5645:[3,-405221889,[2,-405221889,1,0,0,[],0,0]],5646:[3,-1243171841,[2,-1243171841,1,0,0,[],0,0]],5647:[3,-1327452417,[2,-1327452417,1,0,0,[],0,0]],5648:[3,-874067457,[2,-874067457,1,0,0,[],0,0]],5649:[3,-1007828225,[2,-1007828225,1,0,0,[],0,0]],565:[2,-559873,10,2,2,[],2,0],5650:[3,-84752385,[2,-84752385,1,0,0,[],0,0]],5651:[3,-420352257,[2,-420352257,1,0,0,[],0,0]],5652:[1,"gangkou_matou",[]],5653:[1,"gangkou_matou",[]],5654:[1,"gangkou_matou",[]],5655:[1,"gangkou_matou",[]],5656:[1,"gangkou_matou",[]],5657:[5,"",11,1414088447,16,-168562433],5658:[5,"",11,1414088447,16,-168562433],5659:[5,"",16,777089791,18,-1716005889],566:[2,-559873,12,2,2,[],2,0],5660:[5,"",18,777089791,18,-1716005889],5661:[5,"",20,777089791,18,-1716005889],5662:[5,"",22,777089791,18,-1716005889],5663:[1,"jq_churukou",[]],5664:[1,"jq_churukou",[]],5665:[1,"jq_churukou_T",[]],5666:[1,"jq_churukou_T",[]],5667:[5,"",11,1533836799,16,-168562433],5668:[5,"",11,1533836799,16,-168562433],5669:[1,"jq_churukou",[]],567:[2,-559873,16,2,2,[],2,0],5670:[1,"jq_churukou",[]],5671:[1,"jq_churukou",[]],5672:[5,"",11,1533836799,16,-168562433],5673:[5,"",11,1533836799,16,-168562433],5674:[1,"jq_shoupiaochu",[]],5675:[1,"jq_shoupiaochu",[]],5676:[1,"jq_shoupiaochu_T",[]],5677:[1,"jq_shoupiaochu_T",[]],5678:[5,"",11,1533836799,16,-168562433],5679:[5,"",11,1533836799,16,-168562433],568:[2,-559873,16,2,2,[],2,0],5680:[1,"jq_shoupiaochu",[]],5681:[1,"jq_shoupiaochu",[]],5682:[1,"jq_shoupiaochu",[]],5683:[5,"",11,1533836799,16,-168562433],5684:[5,"",11,1533836799,16,-168562433],5685:[1,"jq_tingchechang",[]],5686:[1,"jq_tingchechang",[]],5687:[1,"jq_tingchechang_T",[]],5688:[1,"jq_tingchechang_T",[]],5689:[1,"jq_fuwuzhongxin",[]],569:[2,-2201857,1,2,2,[],1,0],5690:[1,"jq_fuwuzhongxin_T",[]],5691:[1,"jq_fuwuzhongxin_T",[]],5692:[5,"",11,1533836799,16,-168562433],5693:[5,"",11,1533836799,16,-168562433],5694:[5,"",11,1533836799,16,-168562433],5695:[1,"jq_youchuan",[]],5696:[1,"jq_youchuan_T",[]],5697:[1,"jq_youchuan_T",[]],5698:[5,"",11,1414088447,16,-168562433],5699:[5,"",11,1414088447,16,-168562433],57:[5,"",11,255,16,-1],570:[2,-2201857,1,2,2,[],1,0],5700:[5,"",11,1414088447,16,-168562433],5701:[1,"jq_chengchedian",[]],5702:[1,"jq_chengchedian_T",[]],5703:[1,"jq_chengchedian_T",[]],5704:[5,"",11,1414088447,16,-168562433],5705:[5,"",11,1414088447,16,-168562433],5706:[5,"",11,1414088447,16,-168562433],5707:[1,"jq_zixingche",[]],5708:[1,"jq_zixingche_T",[]],5709:[1,"jq_zixingche_T",[]],571:[2,-2201857,2,2,2,[],1,0],5710:[5,"",11,1414088447,16,-168562433],5711:[5,"",11,1414088447,16,-168562433],5712:[5,"",11,1414088447,16,-168562433],5713:[1,"jq_cesuo",[]],5714:[1,"jq_cesuo",[]],5715:[1,"jq_cesuo",[]],5716:[5,"",14,777089791,18,-1716005889],5717:[5,"",16,777089791,18,-1716005889],5718:[5,"",18,777089791,18,-1716005889],5719:[5,"",20,777089791,18,-1716005889],572:[2,-2201857,3,2,2,[],1,0],5720:[5,"",22,777089791,18,-1716005889],5721:[1,"jq_churukou",[]],5722:[1,"jq_churukou",[]],5723:[1,"jq_churukou",[]],5724:[1,"jq_churukou_T",[]],5725:[1,"jq_churukou_T",[]],5726:[5,"",11,1533836799,16,-168562433],5727:[5,"",11,1533836799,16,-168562433],5728:[1,"jq_churukou",[]],5729:[1,"jq_churukou",[]],573:[2,-2201857,4,2,2,[],1,0],5730:[1,"jq_churukou",[]],5731:[5,"",11,1533836799,16,-168562433],5732:[5,"",11,1533836799,16,-168562433],5733:[1,"jq_shoupiaochu",[]],5734:[1,"jq_shoupiaochu",[]],5735:[1,"jq_shoupiaochu",[]],5736:[1,"jq_shoupiaochu_T",[]],5738:[1,"jq_shoupiaochu_T",[]],5739:[5,"",11,1533836799,16,-168562433],574:[2,-2201857,6,2,2,[],1,0],5740:[5,"",11,1533836799,16,-168562433],5741:[1,"jq_churukou",[]],5742:[1,"jq_churukou",[]],5743:[1,"jq_churukou",[]],5744:[5,"",11,1533836799,16,-168562433],5745:[5,"",11,1533836799,16,-168562433],5746:[1,"jq_tingchechang",[]],5747:[1,"jq_tingchechang",[]],5748:[1,"jq_tingchechang",[]],5749:[1,"jq_tingchechang_T",[]],575:[2,-2201857,10,2,2,[],1,0],5750:[1,"jq_tingchechang_T",[]],5751:[1,"jq_fuwuzhongxin",[]],5752:[1,"jq_fuwuzhongxin_T",[]],5753:[1,"jq_fuwuzhongxin_T",[]],5754:[5,"",11,1533836799,16,-168562433],5755:[5,"",11,1533836799,16,-168562433],5756:[5,"",11,1533836799,16,-168562433],5757:[1,"jq_youchuan",[]],5758:[1,"jq_youchuan_T",[]],5759:[1,"jq_youchuan_T",[]],576:[2,-2201857,12,2,2,[],1,0],5760:[5,"",11,1414088447,16,-168562433],5761:[5,"",11,1414088447,16,-168562433],5762:[5,"",11,1414088447,16,-168562433],5763:[1,"jq_chengchedian",[]],5764:[1,"jq_chengchedian_T",[]],5765:[1,"jq_chengchedian_T",[]],5766:[5,"",11,1414088447,16,-168562433],5767:[5,"",11,1414088447,16,-168562433],5768:[5,"",11,1414088447,16,-168562433],5769:[1,"jq_zixingche",[]],577:[2,-2201857,16,2,2,[],1,0],5770:[1,"jq_zixingche_T",[]],5771:[1,"jq_zixingche_T",[]],5772:[5,"",11,1414088447,16,-168562433],5773:[5,"",11,1414088447,16,-168562433],5774:[5,"",11,1414088447,16,-168562433],5775:[1,"jq_cesuo",[]],5776:[1,"jq_cesuo",[]],5777:[1,"jq_cesuo",[]],5778:[1,"jq_churukou",[]],5779:[1,"jq_churukou",[]],578:[2,-2201857,16,2,2,[],1,0],5780:[1,"jq_churukou_T",[]],5781:[1,"jq_churukou_T",[]],5782:[5,"",11,1533836799,16,-168562433],5783:[1,"jq_churukou",[]],5784:[1,"jq_churukou",[]],5785:[5,"",11,1533836799,16,-168562433],5786:[1,"jq_shoupiaochu",[]],5787:[1,"jq_shoupiaochu",[]],5788:[1,"jq_shoupiaochu_T",[]],5789:[1,"jq_shoupiaochu_T",[]],579:[2,-2201857,1,2,2,[],1,0],5790:[5,"",11,1533836799,16,-168562433],5791:[1,"jq_shoupiaochu",[]],5792:[1,"jq_shoupiaochu",[]],5793:[5,"",11,1533836799,16,-168562433],5794:[1,"jq_tingchechang",[]],5795:[1,"jq_tingchechang",[]],5796:[1,"jq_tingchechang_T",[]],5797:[1,"jq_tingchechang_T",[]],5798:[1,"jq_guoshanche",[]],5799:[1,"jq_guoshanche",[]],58:[5,"",12,255,16,-1],580:[2,-2201857,1,2,2,[],1,0],5800:[5,"",11,1414088447,16,-168562433],5801:[5,"",11,1414088447,16,-168562433],5802:[1,"jq_tiaolouji",[]],5803:[1,"jq_tiaolouji",[]],5804:[5,"",11,1414088447,16,-168562433],5805:[5,"",11,1414088447,16,-168562433],5806:[1,"jq_xuanzhuanmuma",[]],5807:[1,"jq_xuanzhuanmuma",[]],5808:[5,"",11,1414088447,16,-168562433],5809:[5,"",11,1414088447,16,-168562433],581:[2,-2201857,3,2,2,[],1,0],5810:[1,"jq_fuwuzhongxin_T",[]],5811:[1,"jq_fuwuzhongxin_T",[]],5812:[5,"",11,1533836799,16,-168562433],5813:[5,"",11,1533836799,16,-168562433],5814:[1,"jq_youchuan_T",[]],5815:[1,"jq_youchuan_T",[]],5816:[5,"",11,1414088447,16,-168562433],5817:[5,"",11,1414088447,16,-168562433],5818:[1,"jq_chengchedian_T",[]],5819:[1,"jq_chengchedian_T",[]],582:[2,-2201857,5,2,2,[],1,0],5820:[5,"",11,1414088447,16,-168562433],5821:[5,"",11,1414088447,16,-168562433],5822:[1,"jq_zixingche_T",[]],5823:[1,"jq_zixingche_T",[]],5824:[5,"",11,1414088447,16,-168562433],5825:[5,"",11,1414088447,16,-168562433],5826:[1,"jq_cesuo",[]],5827:[1,"jq_cesuo",[]],5828:[5,"",11,777089791,18,-1716005889],5829:[5,"",12,777089791,18,-1716005889],583:[2,-2201857,5,2,2,[],1,0],5830:[5,"",14,777089791,18,-1716005889],5831:[5,"",16,777089791,18,-1716005889],5832:[5,"",18,777089791,18,-1716005889],5833:[5,"",20,777089791,18,-1716005889],5834:[5,"",22,777089791,18,-1716005889],5835:[1,"jq_churukou",[]],5836:[1,"jq_churukou",[]],5837:[1,"jq_churukou",[]],5838:[1,"jq_churukou",[]],5839:[1,"jq_churukou_T",[]],584:[2,-2201857,6,2,2,[],1,0],5840:[1,"jq_churukou_T",[]],5841:[5,"",11,1533836799,16,-168562433],5842:[5,"",11,1533836799,16,-168562433],5843:[1,"jq_churukou",[]],5844:[1,"jq_churukou",[]],5845:[1,"jq_churukou",[]],5846:[1,"jq_churukou",[]],5847:[1,"jq_churukou",[]],5848:[1,"jq_churukou",[]],5849:[5,"",11,1533836799,16,-168562433],585:[2,-2201857,7,2,2,[],1,0],5850:[5,"",11,1533836799,16,-168562433],5851:[1,"jq_shoupiaochu",[]],5852:[1,"jq_shoupiaochu",[]],5853:[1,"jq_shoupiaochu",[]],5854:[1,"jq_shoupiaochu",[]],5855:[1,"jq_shoupiaochu_T",[]],5856:[1,"jq_shoupiaochu_T",[]],5857:[5,"",11,1533836799,16,-168562433],5858:[5,"",11,1533836799,16,-168562433],5859:[1,"jq_shoupiaochu",[]],586:[2,-2201857,12,2,2,[],1,0],5860:[1,"jq_shoupiaochu",[]],5861:[1,"jq_shoupiaochu",[]],5862:[1,"jq_shoupiaochu",[]],5863:[1,"jq_shoupiaochu",[]],5864:[1,"jq_shoupiaochu",[]],5865:[5,"",11,1533836799,16,-168562433],5866:[5,"",11,1533836799,16,-168562433],5867:[1,"jq_tingchechang",[]],5868:[1,"jq_tingchechang",[]],5869:[1,"jq_tingchechang",[]],587:[2,-2201857,14,2,2,[],1,0],5870:[1,"jq_tingchechang",[]],5871:[1,"jq_tingchechang_T",[]],5872:[1,"jq_tingchechang_T",[]],5873:[1,"jq_fuwuzhongxin",[]],5874:[1,"jq_fuwuzhongxin",[]],5875:[1,"jq_fuwuzhongxin",[]],5876:[1,"jq_fuwuzhongxin_T",[]],5877:[1,"jq_fuwuzhongxin_T",[]],5878:[5,"",11,1533836799,16,-168562433],5879:[5,"",11,1533836799,16,-168562433],588:[2,-2201857,16,2,2,[],1,0],5880:[5,"",11,1533836799,16,-168562433],5881:[5,"",11,1533836799,16,-168562433],5882:[5,"",11,1533836799,16,-168562433],5883:[1,"jq_youchuan",[]],5884:[1,"jq_youchuan",[]],5885:[1,"jq_youchuan",[]],5886:[1,"jq_youchuan_T",[]],5887:[1,"jq_youchuan_T",[]],5888:[5,"",11,1414088447,16,-168562433],5889:[5,"",11,1414088447,16,-168562433],589:[2,-2201857,1,2,2,[],1,0],5890:[5,"",11,1414088447,16,-168562433],5891:[5,"",11,1414088447,16,-168562433],5892:[5,"",11,1414088447,16,-168562433],5893:[1,"jq_chengchedian",[]],5894:[1,"jq_chengchedian",[]],5895:[1,"jq_chengchedian",[]],5896:[1,"jq_chengchedian_T",[]],5897:[1,"jq_chengchedian_T",[]],5898:[5,"",11,1414088447,16,-168562433],5899:[5,"",11,1414088447,16,-168562433],59:[5,"",13,255,16,-1],590:[2,-2201857,1,2,2,[],1,0],5900:[5,"",11,1414088447,16,-168562433],5901:[5,"",11,1414088447,16,-168562433],5902:[5,"",11,1414088447,16,-168562433],5903:[1,"jq_zixingche",[]],5904:[1,"jq_zixingche",[]],5905:[1,"jq_zixingche",[]],5906:[1,"jq_zixingche_T",[]],5907:[1,"jq_zixingche_T",[]],5908:[5,"",11,1414088447,16,-168562433],5909:[5,"",11,1414088447,16,-168562433],591:[2,-2201857,3,2,2,[],1,0],5910:[5,"",11,1414088447,16,-168562433],5911:[5,"",11,1414088447,16,-168562433],5912:[5,"",11,1414088447,16,-168562433],5913:[1,"jq_cesuo",[]],5914:[1,"jq_cesuo",[]],5915:[1,"jq_cesuo",[]],5916:[1,"jq_cesuo",[]],5917:[1,"jq_cesuo",[]],5918:[5,"",11,777089791,18,-1716005889],5919:[5,"",12,777089791,18,-1716005889],592:[2,-2201857,5,2,2,[],1,0],5920:[5,"",14,777089791,18,-1716005889],5921:[5,"",16,777089791,18,-1716005889],5922:[5,"",18,777089791,18,-1716005889],5923:[5,"",20,777089791,18,-1716005889],5924:[5,"",22,777089791,18,-1716005889],5925:[1,"jq_churukou",[]],5926:[1,"jq_churukou",[]],5927:[1,"jq_churukou",[]],5928:[1,"jq_churukou",[]],5929:[1,"jq_churukou_T",[]],593:[2,-2201857,5,2,2,[],1,0],5930:[1,"jq_churukou_T",[]],5931:[5,"",11,1533836799,16,-168562433],5932:[5,"",11,1533836799,16,-168562433],5933:[1,"jq_churukou",[]],5934:[1,"jq_churukou",[]],5935:[1,"jq_churukou",[]],5936:[1,"jq_churukou",[]],5937:[1,"jq_churukou",[]],5938:[1,"jq_churukou",[]],5939:[5,"",11,1533836799,16,-168562433],594:[2,-2201857,6,2,2,[],1,0],5940:[5,"",11,1533836799,16,-168562433],5941:[1,"jq_shoupiaochu",[]],5942:[1,"jq_shoupiaochu",[]],5943:[1,"jq_shoupiaochu",[]],5944:[1,"jq_shoupiaochu",[]],5945:[1,"jq_shoupiaochu_T",[]],5946:[1,"jq_shoupiaochu_T",[]],5947:[5,"",11,1533836799,16,-168562433],5948:[5,"",11,1533836799,16,-168562433],5949:[1,"jq_shoupiaochu",[]],595:[2,-2201857,7,2,2,[],1,0],5950:[1,"jq_shoupiaochu",[]],5951:[1,"jq_shoupiaochu",[]],5952:[1,"jq_shoupiaochu",[]],5953:[1,"jq_shoupiaochu",[]],5954:[1,"jq_shoupiaochu",[]],5955:[5,"",11,1533836799,16,-168562433],5956:[5,"",11,1533836799,16,-168562433],5957:[1,"jq_tingchechang",[]],5958:[1,"jq_tingchechang",[]],596:[2,-2201857,12,2,2,[],1,0],5960:[1,"jq_tingchechang",[]],5961:[1,"jq_tingchechang",[]],5962:[1,"jq_tingchechang_T",[]],5963:[1,"jq_tingchechang_T",[]],5964:[1,"jq_fuwuzhongxin",[]],5965:[1,"jq_fuwuzhongxin",[]],5966:[1,"jq_fuwuzhongxin_T",[]],5967:[1,"jq_fuwuzhongxin_T",[]],5968:[5,"",11,1533836799,16,-168562433],5969:[5,"",11,1533836799,16,-168562433],597:[2,-2201857,14,2,2,[],1,0],5970:[5,"",11,1533836799,16,-168562433],5971:[5,"",11,1533836799,16,-168562433],5972:[1,"jq_youchuan",[]],5973:[1,"jq_youchuan",[]],5974:[1,"jq_youchuan_T",[]],5975:[1,"jq_youchuan_T",[]],5976:[5,"",11,1414088447,16,-168562433],5977:[5,"",11,1414088447,16,-168562433],5978:[5,"",11,1414088447,16,-168562433],5979:[5,"",11,1414088447,16,-168562433],598:[2,-2201857,16,2,2,[],1,0],5980:[1,"jq_chengchedian",[]],5981:[1,"jq_chengchedian",[]],5982:[1,"jq_chengchedian_T",[]],5983:[1,"jq_chengchedian_T",[]],5984:[5,"",11,1414088447,16,-168562433],5985:[5,"",11,1414088447,16,-168562433],5986:[5,"",11,1414088447,16,-168562433],5987:[5,"",11,1414088447,16,-168562433],5988:[1,"jq_zixingche",[]],5989:[1,"jq_zixingche",[]],599:[2,-101058049,1,2,2,[],16,0],5990:[1,"jq_zixingche_T",[]],5991:[1,"jq_zixingche_T",[]],5992:[5,"",11,1414088447,16,-168562433],5993:[5,"",11,1414088447,16,-168562433],5994:[5,"",11,1414088447,16,-168562433],5995:[5,"",11,1414088447,16,-168562433],5996:[1,"jq_cesuo",[]],5997:[1,"jq_cesuo",[]],5998:[1,"jq_cesuo",[]],5999:[1,"jq_cesuo",[]],6:[2,-1497178369,2,2,2,[],0,0],60:[5,"",14,255,16,-1],600:[2,-101058049,1,2,2,[],16,0],6000:[3,-286396929,[]],6001:[3,-437852929,[]],6002:[3,-690367489,[]],6003:[3,-892353025,[]],6004:[3,-1111246593,[]],6005:[3,-1296454657,[]],6006:[3,-1532191489,[]],6007:[3,-1734242305,[]],6008:[3,-1868855809,[]],6009:[3,-2003599873,[]],601:[2,-101058049,4,2,2,[],16,0],6010:[3,2139845887,[]],6011:[3,2005166847,[]],6012:[3,1904043263,[]],6013:[3,1752456447,[]],6014:[3,1651332351,[]],6015:[3,1533431551,[]],6016:[3,1415531007,[]],6017:[3,1365002495,[]],6018:[2,-791229953,1,2,2,[],0,0],6019:[2,-959725057,1,2,2,[],0,0],602:[2,-101058049,6,2,2,[],16,0],6020:[2,-1195461889,1,2,2,[],0,0],6021:[2,-1279611393,1,2,2,[],0,0],6022:[2,-1498636033,1,2,2,[],0,0],6023:[2,-1700621569,1,2,2,[],0,0],6024:[2,-1986822401,1,2,2,[],0,0],6025:[2,-2121566721,1,2,2,[],0,0],6026:[2,2055565055,1,2,2,[],0,0],6027:[2,1988192767,1,2,2,[],0,0],6028:[2,1786207743,1,2,2,[],0,0],6029:[2,1651398143,1,2,2,[],0,0],603:[2,-101058049,10,2,2,[],16,0],6030:[2,1533431295,1,2,2,[],0,0],6031:[2,1449216767,1,2,2,[],0,0],6032:[2,1348158975,1,2,2,[],0,0],6033:[2,1331250687,1,2,2,[],0,0],6034:[2,1247035903,1,2,2,[],0,0],6035:[2,-437918209,1,2,2,[],0,0],6036:[2,-791229953,1,2,2,[],0,0],6037:[2,-959725057,1,2,2,[],0,0],6038:[2,-1195461889,1,2,2,[],0,0],6039:[2,-1347048705,1,2,2,[],0,0],604:[2,-101058049,10,2,2,[],16,0],6040:[2,-1582983681,1,2,2,[],0,0],6041:[2,-1784771329,1,2,2,[],0,0],6042:[2,-1986822401,1,2,2,[],0,0],6043:[2,-2121566721,1,2,2,[],0,0],6044:[2,2055565055,1,2,2,[],0,0],6045:[2,1988192767,1,2,2,[],0,0],6046:[2,1786207743,1,2,2,[],0,0],6047:[2,1651398143,1,2,2,[],0,0],6048:[2,1533431295,1,2,2,[],0,0],6049:[2,1449216767,1,2,2,[],0,0],605:[2,-16928257,1,2,2,[],8,0],6050:[2,1348158975,1,2,2,[],0,0],6051:[2,1247035903,1,2,2,[],0,0],6052:[2,1145978111,1,2,2,[],0,0],6053:[1,"jiaotang_T",[]],6054:[1,"jiaotang_T",[]],6055:[1,"guji_T",[]],6056:[1,"guji_T",[]],6057:[1,"hill_T",[]],6058:[1,"hill_T",[]],6059:[3,-1480531713,[2,-1480531713,2,0,0,[],0,0]],606:[2,-16928257,1,2,2,[],8,0],6060:[3,-1480531713,[2,-1480531713,2,0,0,[],0,0]],6061:[3,-1480531713,[2,-1480531713,2,0,0,[],0,0]],6062:[3,-1480531713,[2,-1480531713,2,0,0,[],0,0]],6063:[3,-1480531713,[2,-1480531713,2,0,0,[],0,0]],6064:[3,-438120449,[]],6065:[3,-438120449,[]],6066:[3,-438120449,[]],6067:[3,-438120449,[]],6068:[3,-438120449,[]],6069:[3,-287319553,[]],607:[2,-16928257,2,2,2,[],8,0],6070:[3,-471405313,[]],6071:[3,-353964801,[]],6072:[3,-403836929,[]],6073:[3,-219554817,[]],6074:[3,-320413441,[]],6075:[3,-387129345,[]],6076:[3,-286923265,[]],6077:[3,-471079425,[]],6078:[3,-353180929,[]],6079:[3,-319691777,[]],608:[2,-16928257,2,2,2,[],8,0],6080:[3,-302980097,[]],6081:[5,"",15,-1872556801,17,-151588865],6082:[5,"",16,-1872556801,17,-151588865],6083:[5,"",17,-1872556801,17,-151588865],6084:[5,"",19,-1872556801,17,-151588865],6085:[5,"",19,-1872556801,17,-151588865],6086:[2,-1,4,2,2,[],1,0],6087:[2,-1,4,2,2,[],1,0],6088:[2,-1,4,2,2,[],1,0],6089:[2,-1,4,2,2,[],1,0],609:[2,-16928257,2,2,2,[],8,0],6090:[2,-256,4,2,2,[],1,0],6091:[2,-256,5,2,2,[],1,0],6092:[2,-256,7,2,2,[],1,0],6093:[2,-8388353,2,2,2,[],1,0],6094:[2,-8388353,2,2,2,[],1,0],6095:[2,-8388353,2,2,2,[],1,0],6096:[2,-8388353,2,2,2,[],1,0],6097:[2,-8388608,2,2,2,[],1,0],6098:[2,-8388608,3,2,2,[],1,0],6099:[2,-8388608,5,2,2,[],1,0],61:[5,"",11,255,16,-1],610:[2,-16928257,2,2,2,[],8,0],6100:[5,"",11,-8388353,16,-1],6101:[5,"",11,-8388353,16,-1],6102:[5,"",12,-8388353,16,-1],6103:[5,"",14,-8388353,16,-1],6104:[2,-52,4,2,2,[],1,0],6105:[2,-52,5,2,2,[],1,0],6106:[2,-77,7,2,2,[],1,0],6107:[2,-8388404,2,2,2,[],1,0],6108:[2,-8388404,3,2,2,[],1,0],6109:[2,-8388429,5,2,2,[],1,0],611:[2,-16928257,5,2,2,[],8,0],6110:[3,-8388404,[2,0,1,0,0,[],0,0]],6111:[3,-8388429,[2,0,1,0,0,[],0,0]],6112:[2,-101058049,2,2,2,[],1,0],6113:[2,-101058049,4,2,2,[],1,0],6114:[2,-101058049,6,2,2,[],1,0],6115:[2,-101058049,3,2,2,[],1,0],6116:[2,-101058049,5,2,2,[],1,0],6117:[2,-101058049,7,2,2,[],1,0],6118:[2,-101058049,2,2,2,[],1,0],6119:[2,-101058049,3,2,2,[],1,0],612:[2,-16928257,8,2,2,[],8,0],6120:[2,-101058049,5,2,2,[],1,0],6121:[2,-101058049,5,2,2,[],1,0],6122:[2,-101058049,2,2,2,[],1,0],6123:[2,-101058049,3,2,2,[],1,0],6124:[2,-101058049,5,2,2,[],1,0],6125:[2,-101058049,5,2,2,[],1,0],6126:[2,-101058049,2,2,2,[],1,0],6127:[2,-101058049,3,2,2,[],1,0],6128:[2,-101058049,5,2,2,[],1,0],6129:[2,-101058049,5,2,2,[],1,0],613:[2,-16928257,10,2,2,[],8,0],6130:[2,-101058049,4,2,2,[],1,0],6131:[2,-101058049,6,2,2,[],1,0],6132:[2,-101058049,8,2,2,[],1,0],6133:[2,-101058049,8,2,2,[],1,0],6134:[2,-101058049,4,2,2,[],1,0],6135:[2,-101058049,6,2,2,[],1,0],6136:[2,-101058049,8,2,2,[],1,0],6137:[2,-101058049,8,2,2,[],1,0],6138:[2,-101058049,4,2,2,[],1,0],6139:[2,-101058049,6,2,2,[],1,0],614:[2,-16928257,1,2,2,[],4,0],6140:[2,-101058049,10,2,2,[],1,0],6141:[2,-101058049,10,2,2,[],1,0],6142:[2,-16928257,5,2,2,[],1,0],6143:[2,-16928257,8,2,2,[],1,0],6144:[2,-16928257,10,2,2,[],1,0],6145:[2,-16928257,4,2,2,[],1,0],6146:[2,-16928257,6,2,2,[],1,0],6147:[2,-16928257,10,2,2,[],1,0],6148:[2,-559873,8,2,2,[],1,0],6149:[2,-559873,10,2,2,[],1,0],615:[2,-16928257,1,2,2,[],4,0],6150:[2,-559873,12,2,2,[],1,0],6151:[2,-2201857,10,2,2,[],1,0],6152:[2,-2201857,12,2,2,[],1,0],6153:[2,-2201857,14,2,2,[],1,0],6154:[2,-2201857,14,2,2,[],1,0],6155:[2,-16928257,3,2,2,[],1,0],6156:[2,-16928257,5,2,2,[],1,0],6157:[2,-16928257,7,2,2,[],1,0],6158:[2,-16928257,3,2,2,[],1,0],6159:[2,-16928257,5,2,2,[],1,0],616:[2,-16928257,2,2,2,[],4,0],6160:[2,-16928257,7,2,2,[],1,0],6161:[2,-559873,4,2,2,[],1,0],6162:[2,-559873,6,2,2,[],1,0],6163:[2,-559873,8,2,2,[],1,0],6164:[2,-2201857,4,2,2,[],1,0],6165:[2,-2201857,6,2,2,[],1,0],6166:[2,-2201857,8,2,2,[],1,0],6167:[2,-16928257,4,2,2,[],1,0],6168:[2,-16928257,6,2,2,[],1,0],6169:[2,-16928257,8,2,2,[],1,0],617:[2,-16928257,2,2,2,[],4,0],6170:[2,-16928257,8,2,2,[],1,0],6171:[2,-16928257,4,2,2,[],1,0],6172:[2,-16928257,6,2,2,[],1,0],6173:[2,-16928257,8,2,2,[],1,0],6174:[2,-16928257,8,2,2,[],1,0],6175:[2,-559873,4,2,2,[],1,0],6176:[2,-559873,4,2,2,[],1,0],6177:[2,-559873,4,2,2,[],1,0],6178:[2,-559873,6,2,2,[],1,0],6179:[2,-2201857,5,2,2,[],1,0],618:[2,-16928257,2,2,2,[],4,0],6180:[2,-2201857,5,2,2,[],1,0],6181:[2,-2201857,7,2,2,[],1,0],6182:[2,-2201857,7,2,2,[],1,0],6183:[2,-16928257,6,2,2,[],1,0],6184:[2,-16928257,8,2,2,[],1,0],6185:[2,-16928257,12,2,2,[],1,0],6186:[2,-16928257,6,2,2,[],1,0],6187:[2,-16928257,8,2,2,[],1,0],6188:[2,-16928257,12,2,2,[],1,0],6189:[2,-559873,8,2,2,[],1,0],619:[2,-16928257,3,2,2,[],4,0],6190:[2,-559873,10,2,2,[],1,0],6191:[2,-559873,14,2,2,[],1,0],6192:[2,-2201857,10,2,2,[],1,0],6193:[2,-2201857,10,2,2,[],1,0],6194:[2,-2201857,16,2,2,[],1,0],6195:[2,-2201857,16,2,2,[],1,0],6196:[2,-16928257,6,2,2,[],1,0],6197:[2,-16928257,8,2,2,[],1,0],6198:[2,-16928257,12,2,2,[],1,0],6199:[2,-16928257,6,2,2,[],1,0],62:[5,"",12,255,16,-1],620:[2,-16928257,4,2,2,[],4,0],6200:[2,-16928257,8,2,2,[],1,0],6201:[2,-16928257,12,2,2,[],1,0],6202:[2,-559873,10,2,2,[],1,0],6203:[2,-559873,12,2,2,[],1,0],6204:[2,-559873,16,2,2,[],1,0],6205:[2,-559873,16,2,2,[],1,0],6206:[2,-2201857,10,2,2,[],1,0],6207:[2,-2201857,12,2,2,[],1,0],6208:[2,-2201857,16,2,2,[],1,0],6209:[2,-2201857,16,2,2,[],1,0],621:[2,-16928257,6,2,2,[],4,0],6210:[2,-20748801,4,2,2,[],1,0],6211:[2,-20748801,6,2,2,[],1,0],6212:[2,-20748801,8,2,2,[],1,0],6213:[2,-20748801,4,2,2,[],1,0],6214:[2,-20748801,6,2,2,[],1,0],6215:[2,-20748801,8,2,2,[],1,0],
6216:[2,-2201857,4,2,2,[],1,0],6217:[2,-2201857,6,2,2,[],1,0],6218:[2,-2201857,8,2,2,[],1,0],6219:[2,-2201857,10,2,2,[],1,0],622:[2,-16928257,10,2,2,[],4,0],6220:[2,-2201857,14,2,2,[],1,0],6221:[2,-2201857,16,2,2,[],1,0],6222:[2,-2201857,16,2,2,[],1,0],6223:[2,-20748801,12,2,2,[],1,0],6224:[2,-20748801,14,2,2,[],1,0],6225:[2,-20748801,18,2,2,[],1,0],6226:[2,-20748801,18,2,2,[],1,0],6227:[2,-1,4,2,2,[],1,0],6228:[2,-1,4,2,2,[],1,0],6229:[2,-1,4,2,2,[],1,0],623:[2,-559873,1,2,2,[],2,0],6230:[2,-1,4,2,2,[],1,0],6231:[2,-256,4,2,2,[],1,0],6232:[2,-256,5,2,2,[],1,0],6233:[2,-256,7,2,2,[],1,0],6234:[2,-413135105,2,2,2,[],1,0],6235:[2,-413135105,2,2,2,[],1,0],6236:[2,-413135105,2,2,2,[],1,0],6237:[2,-413135105,2,2,2,[],1,0],6238:[2,-413135360,2,2,2,[],1,0],6239:[2,-413135360,3,2,2,[],1,0],624:[2,-559873,1,2,2,[],2,0],6240:[2,-413135360,5,2,2,[],1,0],6241:[5,"",11,-413135105,16,-1],6242:[5,"",11,-413135105,16,-1],6243:[5,"",12,-413135105,16,-1],6244:[5,"",14,-413135105,16,-1],6245:[2,-52,4,2,2,[],1,0],6246:[2,-52,5,2,2,[],1,0],6247:[2,-77,7,2,2,[],1,0],6248:[2,-413135156,2,2,2,[],1,0],6249:[2,-413135156,3,2,2,[],1,0],625:[2,-559873,1,2,2,[],2,0],6250:[2,-413135181,5,2,2,[],1,0],6251:[2,-1,4,2,2,[],1,0],6252:[2,-1,4,2,2,[],1,0],6253:[2,-1,4,2,2,[],1,0],6254:[2,-1,4,2,2,[],1,0],6255:[2,-256,4,2,2,[],1,0],6256:[2,-256,5,2,2,[],1,0],6257:[2,-256,7,2,2,[],1,0],6258:[2,13369599,2,2,2,[],1,0],6259:[2,13369599,2,2,2,[],1,0],626:[2,-559873,1,2,2,[],2,0],6260:[2,13369599,2,2,2,[],1,0],6261:[2,13369599,2,2,2,[],1,0],6262:[2,13369344,2,2,2,[],1,0],6263:[2,13369344,3,2,2,[],1,0],6264:[2,13369344,5,2,2,[],1,0],6265:[5,"",11,13369599,16,-1],6266:[5,"",11,13369599,16,-1],6267:[5,"",12,13369599,16,-1],6268:[5,"",14,13369599,16,-1],6269:[2,-52,4,2,2,[],1,0],627:[2,-559873,2,2,2,[],2,0],6270:[2,-52,5,2,2,[],1,0],6271:[2,-77,7,2,2,[],1,0],6272:[2,13369548,2,2,2,[],1,0],6273:[2,13369548,3,2,2,[],1,0],6274:[2,13369523,5,2,2,[],1,0],6275:[2,-1,4,2,2,[],1,0],6276:[2,-1,4,2,2,[],1,0],6277:[2,-1,4,2,2,[],1,0],6278:[2,-1,4,2,2,[],1,0],6279:[2,-256,4,2,2,[],1,0],628:[2,-559873,6,2,2,[],2,0],6280:[2,-256,5,2,2,[],1,0],6281:[2,-256,7,2,2,[],1,0],6282:[2,-622780417,2,2,2,[],1,0],6283:[2,-622780417,2,2,2,[],1,0],6284:[2,-622780417,2,2,2,[],1,0],6285:[2,-622780417,2,2,2,[],1,0],6286:[2,-622780672,2,2,2,[],1,0],6287:[2,-622780672,3,2,2,[],1,0],6288:[2,-622780672,5,2,2,[],1,0],6289:[5,"",11,-622780417,16,-1],629:[2,-559873,8,2,2,[],2,0],6290:[5,"",11,-622780417,16,-1],6291:[5,"",12,-622780417,16,-1],6292:[5,"",14,-622780417,16,-1],6293:[2,-52,4,2,2,[],1,0],6294:[2,-52,5,2,2,[],1,0],6295:[2,-77,7,2,2,[],1,0],6296:[2,-1,4,2,2,[],1,0],6297:[2,-1,4,2,2,[],1,0],6298:[2,-1,4,2,2,[],1,0],6299:[2,-1,4,2,2,[],1,0],63:[5,"",13,255,16,-1],630:[2,-559873,10,2,2,[],2,0],6300:[2,-256,4,2,2,[],1,0],6301:[2,-256,5,2,2,[],1,0],6302:[2,-256,7,2,2,[],1,0],6303:[2,-190469889,2,2,2,[],1,0],6304:[2,-190469889,2,2,2,[],1,0],6305:[2,-190469889,2,2,2,[],1,0],6306:[2,-190469889,2,2,2,[],1,0],6307:[2,-190470144,2,2,2,[],1,0],6308:[2,-190470144,3,2,2,[],1,0],6309:[2,-190470144,5,2,2,[],1,0],631:[2,-559873,12,2,2,[],2,0],6310:[5,"",11,-190469889,16,-1],6311:[5,"",11,-190469889,16,-1],6312:[5,"",12,-190469889,16,-1],6313:[5,"",14,-190469889,16,-1],6314:[2,-52,4,2,2,[],1,0],6315:[2,-52,5,2,2,[],1,0],6316:[2,-77,7,2,2,[],1,0],6317:[2,-1,4,2,2,[],1,0],6318:[2,-1,4,2,2,[],1,0],6319:[2,-1,4,2,2,[],1,0],632:[2,-2201857,1,2,2,[],1,0],6320:[2,-1,4,2,2,[],1,0],6321:[2,-256,4,2,2,[],1,0],6322:[2,-256,5,2,2,[],1,0],6323:[2,-256,7,2,2,[],1,0],6324:[2,2025596927,2,2,2,[],1,0],6325:[2,2025596927,2,2,2,[],1,0],6326:[2,2025596927,2,2,2,[],1,0],6327:[2,2025596927,2,2,2,[],1,0],6328:[2,2025596672,2,2,2,[],1,0],6329:[2,2025596672,3,2,2,[],1,0],633:[2,-2201857,1,2,2,[],1,0],6330:[2,2025596672,5,2,2,[],1,0],6331:[5,"",11,2025596927,16,-1],6332:[5,"",11,2025596927,16,-1],6333:[5,"",12,2025596927,16,-1],6334:[5,"",14,2025596927,16,-1],6335:[2,-52,4,2,2,[],1,0],6336:[2,-52,5,2,2,[],1,0],6337:[2,-77,7,2,2,[],1,0],6338:[2,-1,4,2,2,[],1,0],6339:[2,-1,4,2,2,[],1,0],634:[2,-2201857,1,2,2,[],1,0],6340:[2,-1,4,2,2,[],1,0],6341:[2,-1,4,2,2,[],1,0],6342:[2,-256,4,2,2,[],1,0],6343:[2,-256,5,2,2,[],1,0],6344:[2,-256,7,2,2,[],1,0],6345:[2,7388415,2,2,2,[],1,0],6346:[2,7388415,2,2,2,[],1,0],6347:[2,7388415,2,2,2,[],1,0],6348:[2,7388415,2,2,2,[],1,0],6349:[2,7388160,2,2,2,[],1,0],635:[2,-2201857,2,2,2,[],1,0],6350:[2,7388160,3,2,2,[],1,0],6351:[2,7388160,5,2,2,[],1,0],6352:[5,"",11,7388415,16,-1],6353:[5,"",11,7388415,16,-1],6354:[5,"",12,7388415,16,-1],6355:[5,"",14,7388415,16,-1],6356:[2,-52,4,2,2,[],1,0],6357:[2,-52,5,2,2,[],1,0],6358:[2,-77,7,2,2,[],1,0],6359:[2,-1,4,2,2,[],1,0],636:[2,-2201857,2,2,2,[],1,0],6360:[2,-1,4,2,2,[],1,0],6361:[2,-1,4,2,2,[],1,0],6362:[2,-1,4,2,2,[],1,0],6363:[2,-256,4,2,2,[],1,0],6364:[2,-256,5,2,2,[],1,0],6365:[2,-256,7,2,2,[],1,0],6366:[2,-1014222337,2,2,2,[],1,0],6367:[2,-1014222337,2,2,2,[],1,0],6368:[2,-1014222337,2,2,2,[],1,0],6369:[2,-1014222337,2,2,2,[],1,0],637:[2,-2201857,3,2,2,[],1,0],6370:[2,-1014222592,2,2,2,[],1,0],6371:[2,-1014222592,3,2,2,[],1,0],6372:[2,-1014222592,5,2,2,[],1,0],6373:[5,"",11,-1014222337,16,-1],6374:[5,"",11,-1014222337,16,-1],6375:[5,"",12,-1014222337,16,-1],6376:[5,"",14,-1014222337,16,-1],6377:[2,-52,4,2,2,[],1,0],6378:[2,-52,5,2,2,[],1,0],6379:[2,-77,7,2,2,[],1,0],638:[2,-2201857,8,2,2,[],1,0],6380:[2,-1,4,2,2,[],1,0],6381:[2,-1,4,2,2,[],1,0],6382:[2,-1,4,2,2,[],1,0],6383:[2,-1,4,2,2,[],1,0],6384:[2,-256,4,2,2,[],1,0],6385:[2,-256,5,2,2,[],1,0],6386:[2,-256,7,2,2,[],1,0],6387:[2,-191231233,2,2,2,[],1,0],6388:[2,-191231233,2,2,2,[],1,0],6389:[2,-191231233,2,2,2,[],1,0],639:[2,-2201857,10,2,2,[],1,0],6390:[2,-191231233,2,2,2,[],1,0],6391:[2,-191231488,2,2,2,[],1,0],6392:[2,-191231488,3,2,2,[],1,0],6393:[2,-191231488,5,2,2,[],1,0],6394:[5,"",11,-191231233,16,-1],6395:[5,"",11,-191231233,16,-1],6396:[5,"",12,-191231233,16,-1],6397:[5,"",14,-191231233,16,-1],6398:[2,-52,4,2,2,[],1,0],6399:[2,-52,5,2,2,[],1,0],64:[5,"",14,255,16,-1],640:[2,-2201857,12,2,2,[],1,0],6400:[2,-77,7,2,2,[],1,0],6401:[2,-1,4,2,2,[],1,0],6402:[2,-1,4,2,2,[],1,0],6403:[2,-1,4,2,2,[],1,0],6404:[2,-1,4,2,2,[],1,0],6405:[2,-256,4,2,2,[],1,0],6406:[2,-256,5,2,2,[],1,0],6407:[2,-256,7,2,2,[],1,0],6408:[2,-570401793,2,2,2,[],1,0],6409:[2,-570401793,2,2,2,[],1,0],641:[2,-2201857,14,2,2,[],1,0],6410:[2,-570401793,2,2,2,[],1,0],6411:[2,-570401793,2,2,2,[],1,0],6412:[2,-570402048,2,2,2,[],1,0],6413:[2,-570402048,3,2,2,[],1,0],6414:[2,-570402048,5,2,2,[],1,0],6415:[5,"",11,-570401793,16,-1],6416:[5,"",11,-570401793,16,-1],6417:[5,"",12,-570401793,16,-1],6418:[5,"",14,-570401793,16,-1],6419:[2,-52,4,2,2,[],1,0],642:[2,-2201857,14,2,2,[],1,0],6420:[2,-52,5,2,2,[],1,0],6421:[2,-77,7,2,2,[],1,0],6422:[2,-1,4,2,2,[],1,0],6423:[2,-1,4,2,2,[],1,0],6424:[2,-1,4,2,2,[],1,0],6425:[2,-1,4,2,2,[],1,0],6426:[2,-256,4,2,2,[],1,0],6427:[2,-256,5,2,2,[],1,0],6428:[2,-256,7,2,2,[],1,0],6429:[2,-486527489,2,2,2,[],1,0],643:[2,-101058049,1,2,2,[],16,0],6430:[2,-486527489,2,2,2,[],1,0],6431:[2,-486527489,2,2,2,[],1,0],6432:[2,-486527489,2,2,2,[],1,0],6433:[2,-486527744,2,2,2,[],1,0],6434:[2,-486527744,3,2,2,[],1,0],6435:[2,-486527744,5,2,2,[],1,0],6436:[5,"",11,-486527489,16,-1],6437:[5,"",11,-486527489,16,-1],6438:[5,"",12,-486527489,16,-1],6439:[5,"",14,-486527489,16,-1],644:[2,-101058049,2,2,2,[],16,0],6440:[2,-52,4,2,2,[],1,0],6441:[2,-52,5,2,2,[],1,0],6442:[2,-77,7,2,2,[],1,0],6443:[2,-1,4,2,2,[],1,0],6444:[2,-1,4,2,2,[],1,0],6445:[2,-1,4,2,2,[],1,0],6446:[2,-1,4,2,2,[],1,0],6447:[2,-256,4,2,2,[],1,0],6448:[2,-256,5,2,2,[],1,0],6449:[2,-256,7,2,2,[],1,0],645:[2,-101058049,3,2,2,[],16,0],6450:[2,-122282753,2,2,2,[],1,0],6451:[2,-122282753,2,2,2,[],1,0],6452:[2,-122282753,2,2,2,[],1,0],6453:[2,-122282753,2,2,2,[],1,0],6454:[2,-122283008,2,2,2,[],1,0],6455:[2,-122283008,3,2,2,[],1,0],6456:[2,-122283008,5,2,2,[],1,0],6457:[5,"",11,-122282753,16,-1],6458:[5,"",11,-122282753,16,-1],6459:[5,"",12,-122282753,16,-1],646:[2,-101058049,5,2,2,[],16,0],6460:[5,"",14,-122282753,16,-1],6461:[2,-52,4,2,2,[],1,0],6462:[2,-52,5,2,2,[],1,0],6463:[2,-77,7,2,2,[],1,0],6464:[2,-1,4,2,2,[],1,0],6465:[2,-1,4,2,2,[],1,0],6466:[2,-1,4,2,2,[],1,0],6467:[2,-1,4,2,2,[],1,0],6468:[2,-256,4,2,2,[],1,0],6469:[2,-256,5,2,2,[],1,0],647:[2,-101058049,7,2,2,[],16,0],6470:[2,-256,7,2,2,[],1,0],6471:[2,-139058945,2,2,2,[],1,0],6472:[2,-139058945,2,2,2,[],1,0],6473:[2,-139058945,2,2,2,[],1,0],6474:[2,-139058945,2,2,2,[],1,0],6475:[2,-139059200,2,2,2,[],1,0],6476:[2,-139059200,3,2,2,[],1,0],6477:[2,-139059200,5,2,2,[],1,0],6478:[5,"",11,-139058945,16,-1],6479:[5,"",11,-139058945,16,-1],648:[2,-16928257,1,2,2,[],8,0],6480:[5,"",12,-139058945,16,-1],6481:[5,"",14,-139058945,16,-1],6482:[2,-52,4,2,2,[],1,0],6483:[2,-52,5,2,2,[],1,0],6484:[2,-77,7,2,2,[],1,0],6485:[2,-622780468,2,2,2,[],1,0],6486:[2,-622780468,3,2,2,[],1,0],6487:[2,-622780493,5,2,2,[],1,0],6488:[2,-190469940,2,2,2,[],1,0],6489:[2,-190469940,3,2,2,[],1,0],649:[2,-16928257,1,2,2,[],8,0],6490:[2,-190469965,5,2,2,[],1,0],6491:[2,2025596876,2,2,2,[],1,0],6492:[2,2025596876,3,2,2,[],1,0],6493:[2,2025596851,5,2,2,[],1,0],6494:[2,7388364,2,2,2,[],1,0],6495:[2,7388364,3,2,2,[],1,0],6496:[2,7388339,5,2,2,[],1,0],6497:[2,-1014222388,2,2,2,[],1,0],6498:[2,-1014222388,3,2,2,[],1,0],6499:[2,-1014222413,5,2,2,[],1,0],65:[5,"",15,235802367,16,-1],650:[2,-16928257,1,2,2,[],8,0],6500:[2,-191231284,2,2,2,[],1,0],6501:[2,-191231284,3,2,2,[],1,0],6502:[2,-191231309,5,2,2,[],1,0],6503:[2,-570401844,2,2,2,[],1,0],6504:[2,-570401844,3,2,2,[],1,0],6505:[2,-570401869,5,2,2,[],1,0],6506:[2,-486527540,2,2,2,[],1,0],6507:[2,-486527540,3,2,2,[],1,0],6508:[2,-486527565,5,2,2,[],1,0],6509:[2,-122282804,2,2,2,[],1,0],651:[2,-16928257,2,2,2,[],8,0],6510:[2,-122282804,3,2,2,[],1,0],6511:[2,-122282829,5,2,2,[],1,0],6512:[2,-139058996,2,2,2,[],1,0],6513:[2,-139058996,3,2,2,[],1,0],6514:[2,-139059021,5,2,2,[],1,0],6515:[1,"ditie_beijing_00",[]],6516:[1,"ditie_taibei_0",[]],6517:[1,"ditie_taibei_0",[]],6518:[1,"ditie_taibei_1",[]],6519:[1,"ditie_taibei_2",[]],652:[2,-16928257,3,2,2,[],8,0],6520:[1,"ditie_beijing_00",[]],6521:[1,"trans_taibei_0",[]],6522:[1,"trans_taibei_0",[]],6523:[1,"trans_taibei_1",[]],6524:[1,"trans_taibei_2",[]],6525:[1,"ditie_beijing_00",[]],6526:[1,"ditie_gaoxiong_0",[]],6527:[1,"ditie_gaoxiong_0",[]],6528:[1,"ditie_gaoxiong_1",[]],6529:[1,"ditie_gaoxiong_2",[]],653:[2,-16928257,5,2,2,[],8,0],6530:[1,"ditie_beijing_00",[]],6531:[1,"trans_gaoxiong_0",[]],6532:[1,"trans_gaoxiong_0",[]],6533:[1,"trans_gaoxiong_1",[]],6534:[1,"trans_gaoxiong_2",[]],6535:[2,25582079,2,2,2,[],1,0],6536:[2,25582079,2,2,2,[],1,0],6537:[2,25582079,2,2,2,[],1,0],6538:[2,25582079,2,2,2,[],1,0],6539:[2,25581824,2,2,2,[],1,0],654:[2,-16928257,7,2,2,[],8,0],6540:[2,25581824,3,2,2,[],1,0],6541:[2,25581824,5,2,2,[],1,0],6542:[5,"",11,25582079,16,-1],6543:[5,"",11,25582079,16,-1],6544:[5,"",12,25582079,16,-1],6545:[5,"",14,25582079,16,-1],6546:[2,-52,4,2,2,[],1,0],6547:[2,-52,5,2,2,[],1,0],6548:[2,-77,7,2,2,[],1,0],6549:[2,25582028,2,2,2,[],1,0],655:[2,-16928257,1,2,2,[],4,0],6550:[2,25582028,3,2,2,[],1,0],6551:[2,25582003,5,2,2,[],1,0],6552:[2,-1,4,2,2,[],1,0],6553:[2,-1,4,2,2,[],1,0],6554:[2,-1,4,2,2,[],1,0],6555:[2,-1,4,2,2,[],1,0],6556:[2,-256,4,2,2,[],1,0],6557:[2,-256,5,2,2,[],1,0],6558:[2,-256,7,2,2,[],1,0],6559:[1,"yeshi",[]],656:[2,-16928257,1,2,2,[],4,0],6560:[1,"yeshi",[]],6561:[1,"yeshi",[]],6562:[1,"yeshi",[]],6563:[1,"yeshi",[]],6564:[1,"yeshi",[]],6565:[1,"yeshi",[]],6566:[1,"yeshi",[]],6567:[5,"",11,1414088447,16,-168562433],6568:[5,"",11,1414088447,16,-168562433],6569:[5,"",11,1414088447,16,-168562433],657:[2,-16928257,1,2,2,[],4,0],6570:[5,"",11,1414088447,16,-168562433],6571:[5,"",11,1414088447,16,-168562433],6572:[5,"",11,1414088447,16,-168562433],6573:[5,"",11,1414088447,16,-168562433],6574:[5,"",11,1414088447,16,-168562433],6575:[1,"tuijian",[]],6576:[1,"tuijian",[]],6577:[5,"",12,858993663,16,-1],6578:[5,"",13,858993663,16,-1],6579:[5,"",11,858993663,16,-1],658:[2,-16928257,3,2,2,[],4,0],6580:[5,"",10,858993663,16,-1],6581:[1,"important_city",[]],6582:[1,"secondary_city",[]],6583:[5,"",11,-1869573889,16,-1],6584:[5,"",12,-1869573889,16,-1],6585:[3,-1042499073,[2,-1042499073,1,0,0,[],0,0]],6586:[2,-1365210369,1,2,2,[8,4],1,0],6587:[2,-1365210369,2,2,2,[8,4],1,0],659:[2,-16928257,4,2,2,[],4,0],66:[5,"",15,235802367,16,-1],660:[2,-16928257,6,2,2,[],4,0],661:[2,-16928257,8,2,2,[],4,0],662:[2,-559873,1,2,2,[],2,0],663:[2,-559873,1,2,2,[],2,0],664:[2,-559873,1,2,2,[],2,0],665:[2,-559873,2,2,2,[],2,0],666:[2,-559873,3,2,2,[],2,0],667:[2,-559873,4,2,2,[],2,0],668:[2,-559873,6,2,2,[],2,0],669:[2,-559873,8,2,2,[],2,0],67:[5,"",11,1280068863,16,-1],670:[2,-2201857,1,2,2,[],1,0],671:[2,-2201857,1,2,2,[],1,0],672:[2,-2201857,2,2,2,[],1,0],673:[2,-2201857,4,2,2,[],1,0],674:[2,-2201857,6,2,2,[],1,0],675:[2,-2201857,8,2,2,[],1,0],676:[2,-20748801,1,2,2,[],0,0],677:[2,-20748801,1,2,2,[],0,0],678:[2,-20748801,1,2,2,[],0,0],679:[2,-20748801,2,2,2,[],0,0],68:[5,"",11,858993663,16,-1],680:[2,-20748801,4,2,2,[],0,0],681:[2,-20748801,6,2,2,[],0,0],682:[2,-20748801,8,2,2,[],0,0],683:[2,-2201857,1,2,2,[],0,0],684:[2,-2201857,1,2,2,[],0,0],685:[2,-2201857,1,2,2,[],0,0],686:[2,-2201857,2,2,2,[],0,0],687:[2,-2201857,4,2,2,[],0,0],688:[2,-2201857,6,2,2,[],0,0],689:[2,-2201857,8,2,2,[],0,0],69:[5,"",12,858993663,16,-1],690:[2,-101058049,1,2,2,[],16,0],691:[2,-101058049,2,2,2,[],16,0],692:[2,-101058049,3,2,2,[],16,0],693:[2,-101058049,5,2,2,[],16,0],694:[2,-101058049,7,2,2,[],16,0],695:[2,-16928257,1,2,2,[],8,0],696:[2,-16928257,1,2,2,[],8,0],697:[2,-16928257,1,2,2,[],8,0],698:[2,-16928257,1,2,2,[],8,0],699:[2,-16928257,3,2,2,[],8,0],7:[2,-1365210369,1,2,2,[],0,0],70:[5,"",13,255,16,-1],700:[2,-16928257,4,2,2,[],8,0],701:[2,-16928257,8,2,2,[],8,0],702:[2,-16928257,1,2,2,[],4,0],703:[2,-16928257,1,2,2,[],4,0],704:[2,-16928257,1,2,2,[],4,0],705:[2,-16928257,1,2,2,[],4,0],706:[2,-16928257,3,2,2,[],4,0],707:[2,-16928257,4,2,2,[],4,0],708:[2,-16928257,6,2,2,[],4,0],709:[2,-16928257,8,2,2,[],4,0],71:[2,-303174145,1,2,2,[],16,0],710:[2,-16928257,8,2,2,[],4,0],711:[2,-559873,1,2,2,[],2,0],712:[2,-559873,1,2,2,[],2,0],713:[2,-559873,1,2,2,[],2,0],714:[2,-559873,1,2,2,[],2,0],715:[2,-559873,2,2,2,[],2,0],716:[2,-559873,4,2,2,[],2,0],717:[2,-559873,6,2,2,[],2,0],718:[2,-2201857,1,2,2,[],1,0],719:[2,-2201857,1,2,2,[],1,0],72:[2,-454761217,3,2,2,[],16,0],720:[2,-2201857,1,2,2,[],1,0],721:[2,-2201857,1,2,2,[],1,0],722:[2,-2201857,2,2,2,[],1,0],723:[2,-2201857,4,2,2,[],1,0],724:[2,-2201857,5,2,2,[],1,0],725:[2,-2201857,7,2,2,[],1,0],726:[2,-2201857,7,2,2,[],1,0],727:[2,-303174145,1,0,2,[],1,0],728:[2,-454761217,3,0,2,[],1,0],729:[2,-454761217,3,0,2,[],1,0],73:[2,-454761217,3,2,2,[],16,0],730:[2,-758265345,4,0,2,[],1,0],731:[2,-758265345,6,0,2,[],1,0],732:[2,-758265345,8,0,2,[],1,0],733:[2,-455423489,3,0,2,[],1,0],734:[2,-455423489,3,0,2,[],1,0],735:[2,-455423489,3,0,2,[],1,0],736:[2,-455423489,3,0,2,[],1,0],737:[2,-843149313,3,0,2,[],1,0],738:[2,-843149313,4,0,2,[],1,0],739:[2,-843149313,5,0,2,[],1,0],74:[2,-758265345,4,2,2,[],16,0],740:[2,-843149313,7,0,2,[],1,0],741:[2,-843149313,9,0,2,[],1,0],742:[2,-455423489,3,0,2,[],1,0],743:[2,-455423489,3,0,2,[],1,0],744:[2,-455423489,3,0,2,[],1,0],745:[2,-455423489,3,0,2,[],1,0],746:[2,-843149313,3,0,2,[],1,0],747:[2,-843149313,4,0,2,[],1,0],748:[2,-843149313,5,0,2,[],1,0],749:[2,-843149313,7,0,2,[],1,0],75:[2,-758265345,6,2,2,[],16,0],750:[2,-843149313,9,0,2,[],1,0],751:[2,-237677057,3,0,2,[],1,0],752:[2,-237677057,3,0,2,[],1,0],753:[2,-237677057,3,0,2,[],1,0],754:[2,-237677057,3,0,2,[],1,0],755:[2,-237677057,3,0,2,[],1,0],756:[2,-237677057,3,0,2,[],1,0],757:[2,-237677057,5,0,2,[],1,0],758:[2,-237677057,6,0,2,[],1,0],759:[2,-237677057,8,0,2,[],1,0],76:[2,-758265345,8,2,2,[],16,0],760:[2,-237677057,10,0,2,[],1,0],761:[2,-559393793,3,0,2,[],1,0],762:[2,-559393793,3,0,2,[],1,0],763:[2,-559393793,3,0,2,[],1,0],764:[2,-559393793,3,0,2,[],1,0],765:[2,-559393793,4,0,2,[],1,0],766:[2,-559393793,5,0,2,[],1,0],767:[2,-559393793,6,0,2,[],1,0],768:[2,-559393793,8,0,2,[],1,0],769:[2,-559393793,10,0,2,[],1,0],77:[2,-455423489,3,2,2,[],8,0],770:[2,-593543425,3,0,2,[],1,0],771:[2,-593543425,3,0,2,[],1,0],772:[2,-593543425,3,0,2,[],1,0],773:[2,-593543425,3,0,2,[],1,0],774:[2,-593543425,4,0,2,[],1,0],775:[2,-593543425,5,0,2,[],1,0],776:[2,-593543425,6,0,2,[],1,0],777:[2,-593543425,8,0,2,[],1,0],778:[2,-593543425,10,0,2,[],1,0],779:[2,-559393793,3,0,2,[],1,0],78:[2,-455423489,3,2,2,[],8,0],780:[2,-559393793,3,0,2,[],1,0],781:[2,-559393793,3,0,2,[],1,0],782:[2,-559393793,3,0,2,[],1,0],783:[2,-559393793,4,0,2,[],1,0],784:[2,-559393793,5,0,2,[],1,0],785:[2,-559393793,6,0,2,[],1,0],786:[2,-559393793,8,0,2,[],1,0],787:[2,-559393793,10,0,2,[],1,0],788:[2,-303174145,1,0,2,[],1,0],789:[2,-454761217,1,0,2,[],1,0],79:[2,-455423489,3,2,2,[],8,0],790:[2,-454761217,3,0,2,[],1,0],791:[2,-758265345,4,0,2,[1,6],1,0],792:[2,-758265345,5,0,2,[1,6],1,0],793:[2,-758265345,7,0,2,[1,10],1,0],794:[2,-303174145,1,0,2,[],1,0],795:[2,-454761217,4,0,2,[],1,0],796:[2,-454761217,5,0,2,[],1,0],797:[2,-758265345,6,0,2,[],1,0],798:[2,-758265345,8,0,2,[],1,0],799:[2,-758265345,10,0,2,[],1,0],8:[2,-1365210369,2,2,2,[],0,0],80:[2,-455423489,3,2,2,[],8,0],800:[2,-455423489,3,0,2,[],1,0],801:[2,-455423489,3,0,2,[],1,0],802:[2,-455423489,4,0,2,[],1,0],803:[2,-455423489,4,0,2,[],1,0],804:[2,-843149313,6,0,2,[],1,0],805:[2,-843149313,6,0,2,[],1,0],806:[2,-843149313,8,0,2,[],1,0],807:[2,-843149313,10,0,2,[],1,0],808:[2,-843149313,14,0,2,[],1,0],809:[2,-455423489,3,0,2,[],1,0],81:[2,-843149313,3,2,2,[],8,0],810:[2,-455423489,3,0,2,[],1,0],811:[2,-455423489,4,0,2,[],1,0],812:[2,-455423489,4,0,2,[],1,0],813:[2,-843149313,4,0,2,[],1,0],814:[2,-843149313,6,0,2,[],1,0],815:[2,-843149313,8,0,2,[],1,0],816:[2,-843149313,10,0,2,[],1,0],817:[2,-843149313,14,0,2,[],1,0],818:[2,-237677057,3,0,2,[],1,0],819:[2,-237677057,3,0,2,[],1,0],82:[2,-843149313,5,2,2,[],8,0],820:[2,-237677057,3,0,2,[],1,0],821:[2,-237677057,4,0,2,[],1,0],822:[2,-237677057,5,0,2,[],1,0],823:[2,-237677057,6,0,2,[],1,0],824:[2,-237677057,8,0,2,[],1,0],825:[2,-237677057,10,0,2,[],1,0],826:[2,-237677057,12,0,2,[],1,0],827:[2,-237677057,16,0,2,[],1,0],828:[2,-559393793,3,0,2,[],1,0],829:[2,-559393793,3,0,2,[],1,0],83:[2,-843149313,7,2,2,[],8,0],830:[2,-559393793,4,0,2,[],1,0],831:[2,-559393793,5,0,2,[],1,0],832:[2,-559393793,6,0,2,[],1,0],833:[2,-559393793,8,0,2,[],1,0],834:[2,-559393793,10,0,2,[],1,0],835:[2,-559393793,12,0,2,[],1,0],836:[2,-559393793,14,0,2,[],1,0],837:[2,-559393793,18,0,2,[],1,0],838:[2,-559393793,1,0,2,[],1,0],839:[2,-559393793,4,0,2,[],1,0],84:[2,-843149313,9,2,2,[],8,0],840:[2,-559393793,5,0,2,[],1,0],841:[2,-559393793,6,0,2,[],1,0],842:[2,-559393793,8,0,2,[],1,0],843:[2,-559393793,10,0,2,[],1,0],844:[2,-237677057,1,0,2,[],1,0],845:[2,-237677057,4,0,2,[],1,0],846:[2,-237677057,5,0,2,[],1,0],847:[2,-237677057,6,0,2,[],1,0],848:[2,-237677057,8,0,2,[],1,0],849:[2,-237677057,10,0,2,[],1,0],85:[2,-455423489,3,2,2,[],4,0],850:[2,-455423489,1,0,2,[],1,0],851:[2,-843149313,4,0,2,[],1,0],852:[2,-843149313,5,0,2,[],1,0],853:[2,-843149313,6,0,2,[],1,0],854:[2,-843149313,8,0,2,[],1,0],855:[2,-843149313,10,0,2,[],1,0],856:[2,-455423489,1,0,2,[],1,0],857:[2,-843149313,4,0,2,[],1,0],858:[2,-843149313,5,0,2,[],1,0],859:[2,-843149313,6,0,2,[],1,0],86:[2,-455423489,3,2,2,[],4,0],860:[2,-843149313,8,0,2,[],1,0],861:[2,-843149313,10,0,2,[],1,0],862:[2,-303174145,1,0,2,[],1,0],863:[2,-454761217,4,0,2,[],1,0],864:[2,-454761217,5,0,2,[],1,0],865:[2,-758265345,6,0,2,[],1,0],866:[2,-758265345,8,0,2,[],1,0],867:[2,-758265345,10,0,2,[],1,0],868:[2,-559393793,1,0,2,[],1,0],869:[2,-559393793,4,0,2,[],1,0],87:[2,-455423489,3,2,2,[],4,0],870:[2,-559393793,5,0,2,[],1,0],871:[2,-559393793,6,0,2,[],1,0],872:[2,-559393793,8,0,2,[],1,0],873:[2,-559393793,10,0,2,[],1,0],874:[2,-237677057,1,0,2,[],1,0],875:[2,-237677057,4,0,2,[],1,0],876:[2,-237677057,5,0,2,[],1,0],877:[2,-237677057,6,0,2,[],1,0],878:[2,-237677057,8,0,2,[],1,0],879:[2,-237677057,10,0,2,[],1,0],88:[2,-455423489,3,2,2,[],4,0],880:[2,-455423489,1,0,2,[],1,0],881:[2,-843149313,4,0,2,[],1,0],882:[2,-843149313,5,0,2,[],1,0],883:[2,-843149313,6,0,2,[],1,0],884:[2,-843149313,8,0,2,[],1,0],885:[2,-843149313,10,0,2,[],1,0],886:[2,-455423489,1,0,2,[],1,0],887:[2,-843149313,4,0,2,[],1,0],888:[2,-843149313,5,0,2,[],1,0],889:[2,-843149313,6,0,2,[],1,0],89:[2,-843149313,3,2,2,[],4,0],890:[2,-843149313,8,0,2,[],1,0],891:[2,-843149313,10,0,2,[],1,0],892:[2,-303174145,1,0,2,[],1,0],893:[2,-454761217,4,0,2,[],1,0],894:[2,-454761217,5,0,2,[],1,0],895:[2,-758265345,6,0,2,[],1,0],896:[2,-758265345,8,0,2,[],1,0],897:[2,-758265345,10,0,2,[],1,0],898:[2,-559393793,4,0,2,[],1,0],899:[2,-559393793,4,0,2,[],1,0],9:[2,-1365210369,1,2,2,[4,3],1,0],90:[2,-843149313,5,2,2,[],4,0],900:[2,-559393793,6,0,2,[],1,0],901:[2,-559393793,7,0,2,[],1,0],902:[2,-559393793,8,0,2,[],1,0],903:[2,-559393793,9,0,2,[],1,0],904:[2,-559393793,10,0,2,[],1,0],905:[2,-559393793,15,0,2,[],1,0],906:[2,-559393793,17,0,2,[],1,0],907:[2,-559393793,19,0,2,[],1,0],908:[2,-593543425,4,0,2,[],1,0],909:[2,-593543425,4,0,2,[],1,0],91:[2,-843149313,7,2,2,[],4,0],910:[2,-593543425,5,0,2,[],1,0],911:[2,-593543425,6,0,2,[],1,0],912:[2,-593543425,7,0,2,[],1,0],913:[2,-593543425,8,0,2,[],1,0],914:[2,-593543425,9,0,2,[],1,0],915:[2,-593543425,14,0,2,[],1,0],916:[2,-593543425,16,0,2,[],1,0],917:[2,-593543425,20,0,2,[],1,0],918:[2,-559393793,3,0,2,[],1,0],919:[2,-559393793,4,0,2,[],1,0],92:[2,-843149313,9,2,2,[],4,0],920:[2,-559393793,4,0,2,[],1,0],921:[2,-559393793,5,0,2,[],1,0],922:[2,-559393793,6,0,2,[],1,0],923:[2,-559393793,7,0,2,[],1,0],924:[2,-559393793,8,0,2,[],1,0],925:[2,-559393793,12,0,2,[],1,0],926:[2,-559393793,16,0,2,[],1,0],927:[2,-559393793,18,0,2,[],1,0],928:[2,-303174145,1,0,2,[],1,0],929:[2,-454761217,1,0,2,[],1,0],93:[2,-237677057,3,0,2,[],2,0],930:[2,-454761217,4,0,2,[],1,0],931:[2,-758265345,5,0,2,[],1,0],932:[2,-758265345,6,0,2,[],1,0],933:[2,-758265345,7,0,2,[],1,0],934:[2,-303174145,1,0,2,[],1,0],935:[2,-454761217,4,0,2,[],1,0],936:[2,-454761217,5,0,2,[],1,0],937:[2,-758265345,6,0,2,[],1,0],938:[2,-758265345,8,0,2,[],1,0],939:[2,-758265345,10,0,2,[],1,0],94:[2,-237677057,3,0,2,[],2,0],940:[2,-455423489,3,0,2,[],1,0],941:[2,-455423489,3,0,2,[],1,0],942:[2,-455423489,4,0,2,[],1,0],943:[2,-455423489,6,0,2,[],1,0],944:[2,-843149313,6,0,2,[],1,0],945:[2,-843149313,6,0,2,[],1,0],946:[2,-843149313,8,0,2,[],1,0],947:[2,-843149313,10,0,2,[],1,0],948:[2,-843149313,14,0,2,[],1,0],949:[2,-455423489,3,0,2,[],1,0],95:[2,-237677057,3,0,2,[],2,0],950:[2,-455423489,3,0,2,[],1,0],951:[2,-455423489,4,0,2,[],1,0],952:[2,-455423489,4,0,2,[],1,0],953:[2,-843149313,4,0,2,[],1,0],954:[2,-843149313,6,0,2,[],1,0],955:[2,-843149313,8,0,2,[],1,0],956:[2,-843149313,10,0,2,[],1,0],957:[2,-843149313,14,0,2,[],1,0],958:[2,-237677057,3,0,2,[],1,0],959:[2,-237677057,3,0,2,[],1,0],96:[2,-237677057,3,0,2,[],2,0],960:[2,-237677057,4,0,2,[],1,0],961:[2,-237677057,4,0,2,[],1,0],962:[2,-237677057,6,0,2,[],1,0],963:[2,-237677057,6,0,2,[],1,0],964:[2,-237677057,8,0,2,[],1,0],965:[2,-237677057,12,0,2,[],1,0],966:[2,-237677057,14,0,2,[],1,0],967:[2,-237677057,18,0,2,[],1,0],968:[2,-559393793,3,0,2,[],1,0],969:[2,-559393793,3,0,2,[],1,0],97:[2,-237677057,3,0,2,[],2,0],970:[2,-559393793,4,0,2,[],1,0],971:[2,-559393793,5,0,2,[],1,0],972:[2,-559393793,6,0,2,[],1,0],973:[2,-559393793,7,0,2,[],1,0],974:[2,-559393793,8,0,2,[],1,0],975:[2,-559393793,12,0,2,[],1,0],976:[2,-559393793,14,0,2,[],1,0],977:[2,-559393793,18,0,2,[],1,0],978:[2,-303174145,1,0,2,[],1,0],979:[2,-454761217,3,0,2,[],1,0],98:[2,-237677057,3,2,2,[],2,0],980:[2,-454761217,3,0,2,[],1,0],981:[2,-758265345,6,0,2,[],1,0],982:[2,-758265345,8,0,2,[],1,0],983:[2,-758265345,12,0,2,[],1,0],984:[2,-455423489,3,0,2,[],1,0],985:[2,-455423489,3,0,2,[],1,0],986:[2,-455423489,4,0,2,[],1,0],987:[2,-455423489,4,0,2,[],1,0],988:[2,-843149313,4,0,2,[],1,0],989:[2,-843149313,4,0,2,[],1,0],99:[2,-237677057,6,2,2,[],2,0],990:[2,-843149313,7,0,2,[],1,0],991:[2,-843149313,10,0,2,[],1,0],992:[2,-843149313,12,0,2,[],1,0],993:[2,-455423489,3,0,2,[],1,0],994:[2,-455423489,3,0,2,[],1,0],995:[2,-455423489,4,0,2,[],1,0],996:[2,-455423489,4,0,2,[],1,0],997:[2,-843149313,4,0,2,[],1,0],998:[2,-843149313,5,0,2,[],1,0],999:[2,-843149313,6,0,2,[],1,0]},window.parseDataWithMbr=function(t){for(var e=0,i=t.length;e<i;e++){for(var n=t[e][1],o=0,a=0,r=n[0]/10,s=n[1]/10,l=n[0]/10,h=n[1]/10,c=0,d=n.length/2;c<d;c++)o+=n[2*c]/10,a+=n[2*c+1]/10,n[2*c]=o,n[2*c+1]=a,o<r&&(r=o),a<s&&(s=a),o>l&&(l=o),a>h&&(h=a);t[e][7]=[r,s,l,h]}return t},BMap.VectorDrawUtils={fillRoundRect:function(t,e,i,n,o,a){var r=a&&a.radius?a.radius:5,s=a&&a.fillStyle?a.fillStyle:"#817FD1";e-=2,i-=3,n+=4,o+=4,t.save(),t.fillStyle=s,t.beginPath(),t.moveTo(e+r,i),t.lineTo(e+n-r,i),t.arc(e+n-r,i+r,r,3*Math.PI/2,2*Math.PI,!1),t.lineTo(e+n,i+o-r),t.arc(e+n-r,i+o-r,r,0,Math.PI/2,!1),t.lineTo(e+r,i+o),t.arc(e+r,i+o-r,r,Math.PI/2,Math.PI,!1),t.lineTo(e,i+r),t.arc(e+r,i+r,r,Math.PI,3*Math.PI/2,!1),t.fill(),t.restore()},drawPolygon3D:function(t,e,i,n,o,a,r,s,l){e.length<6||(n=n*Math.PI/180,o=o*Math.PI/180,this._drawAround(t,e,i,n,o,a,s,l),this._drawTop(t,e,i,n,o,r,s,l))},_drawAround:function(t,e,i,n,o,a,r,s){t.strokeStyle=r,t.lineWidth=s,t.fillStyle=a;for(var l=0,h=e.length;l<h;l+=2){var c=e[l],d=e[l+1],u=e[l+2],p=e[l+3],_=0,g=0,m=0,f=0;t.beginPath(),t.moveTo(c,d),t.lineTo(u,p),n>=0&&o>=0?(_=u+i*Math.sin(Math.abs(n)),m=c+i*Math.sin(Math.abs(n)),g=p+i*Math.sin(Math.abs(o)),f=d+i*Math.sin(Math.abs(o))):n>=0&&o<=0?(_=u+i*Math.sin(Math.abs(n)),m=c+i*Math.sin(Math.abs(n)),g=p-i*Math.sin(Math.abs(o)),f=d-i*Math.sin(Math.abs(o))):n<=0&&o>=0?(_=u-i*Math.sin(Math.abs(n)),m=c-i*Math.sin(Math.abs(n)),g=p+i*Math.sin(Math.abs(o)),f=d+i*Math.sin(Math.abs(o))):(_=u-i*Math.sin(Math.abs(n)),m=c-i*Math.sin(Math.abs(n)),g=p-i*Math.sin(Math.abs(o)),f=d-i*Math.sin(Math.abs(o))),t.lineTo(_,g),t.lineTo(m,f),t.stroke(),t.fill()}},_drawTop:function(t,e,i,n,o,a,r,s){var l=0,h=0;n>=0&&o>=0?(l=i*Math.sin(Math.abs(n)),h=-i*Math.sin(Math.abs(o))):n>=0&&o<=0?(l=i*Math.sin(Math.abs(n)),h=i*Math.sin(Math.abs(o))):n<=0&&o>=0?(l=-i*Math.sin(Math.abs(n)),h=-i*Math.sin(Math.abs(o))):(l=-i*Math.sin(Math.abs(n)),h=i*Math.sin(Math.abs(o))),t.beginPath(),t.moveTo(e[0]+l,e[1]-h);for(var c=2,d=e.length;c<d;c+=2)t.lineTo(e[c]+l,e[c+1]-h);t.strokeStyle=r,t.lineWidth=s,t.fillStyle=a,t.stroke(),t.fill()},calcArrowPts:function(t,e,i){var n=3.5*Math.pow(i,.8),o=e[1]-t[1],a=e[0]-t[0],r=1.8*Math.sqrt(a*a+o*o),s=e[0]+a/r*n,l=e[1]+o/r*n,h=Math.atan2(o,a)+Math.PI,c=[-1,-1],d=[-1,-1];return c[0]=s+n*Math.cos(h-.6),c[1]=l+n*Math.sin(h-.6),d[0]=s+n*Math.cos(h+.6),d[1]=l+n*Math.sin(h+.6),[c,d,e]},drawArrow:function(t,e,i){var n=e.length;if(n>2){var o,a=0,r=0;switch(t.beginPath(),t.moveTo(e[0],e[1]),n){case 4:o=this.calcArrowPts([e[0],e[1]],[e[2],e[3]],i),a=e[2],r=e[3],t.lineTo(a,r);break;case 6:o=this.calcArrowPts([e[2],e[3]],[e[4],e[5]],i);var s=(e[0]+e[2])/2,l=(e[1]+e[3])/2,h=(e[2]+e[4])/2,c=(e[3]+e[5])/2;a=e[4],r=e[5],t.bezierCurveTo(s,l,h,c,a,r);break;default:o=this.calcArrowPts([e[2],e[3]],[e[n-2],e[n-1]],i),a=e[n-2],r=e[n-1],t.bezierCurveTo(e[2],e[3],e[4],e[5],a,r)}t.stroke();var d=o[0],u=o[1],p=o[2];t.beginPath(),t.moveTo(a,r),t.lineTo(d[0],d[1]),t.lineTo(u[0],u[1]),t.lineTo(p[0],p[1]),t.closePath(),t.fill()}},drawSimpleDashedLine:function(t,e,i,n,o,a,r,s,l){t.beginPath(),t.lineWidth=n,t.strokeStyle=s,t.lineJoin="round",t.moveTo(e[0],e[1]);for(var h=2,c=e.length;h<c;h+=2)t.lineTo(e[h],e[h+1]);t.stroke(),t.beginPath(),t.lineWidth=o,t.strokeStyle=l;for(var d=!0,h=0,c=e.length;h<c-2;h+=2){var u=e[h],p=e[h+1],_=e[h+2],g=e[h+3],m=_-u,f=g-p,v=0!==m?f/m:f>0?1e15:-1e15,y=Math.sqrt(m*m+f*f),b=i;for(t.moveTo(u,p);y>=.1;){b>y&&(b=y);var x=Math.sqrt(b*b/(1+v*v));m<0&&(x=-x),u+=x,p+=v*x,t[d?"lineTo":"moveTo"](u,p),y-=b,d=!d}}t.stroke()},drawDashedLine:function(t,e,i,n,o,a,r,s,l){for(var h=e.length,a=parseInt(r/i)%2==0?a:a==s?l:s,r=(i-r%i)%i,c=0,d=0;d<h-2;d+=2){var u=e[d],p=e[d+1],_=e[d+2],g=e[d+3];c+=Math.sqrt((_-u)*(_-u)+(g-p)*(g-p))}if(!(c<r)){t.beginPath(),t.lineWidth=n,t.strokeStyle=s,t.lineJoin="round",t.moveTo(e[0],e[1]);for(var m=2;m<h;m+=2)t.lineTo(e[m],e[m+1]);t.stroke();for(var f=[],v=[],m=0;m<h-2;m+=2){var u=e[m],p=e[m+1],_=e[m+2],g=e[m+3],y=Math.sqrt((_-u)*(_-u)+(g-p)*(g-p));if(r<=y){var b=a==s?l:s,x=0==r?a:b,w=parseInt((y-r)/i),P=(y-i*w-r).toFixed(1),M=i*(_-u)/y,T=i*(g-p)/y,C=x==l?0:1,S=u+r*(_-u)/y,E=p+r*(g-p)/y;if(t.lineJoin="round",t.lineWidth=o,0!=r&&a==l){if(t.beginPath(),t.strokeStyle=a,0==f.length)t.moveTo(u,p);else{t.moveTo(f[0],v[0]);for(var I=0;I<f.length;I++)t.lineTo(f[1],v[1]);t.lineTo(u,p)}t.lineTo(S,E),t.stroke()}for(var d=0,L=0;L<w;L++)if(L%2==C){t.beginPath(),t.strokeStyle=l;var A=S+M*L,B=E+T*L;t.moveTo(A,B),t.lineTo(A+M,B+T),t.stroke()}var R=w%2==0&&x==l||w%2!=0&&x==s,r=i-P;f[d]=S+M*L,v[d]=E+T*L,a=R?l:s}else{var r=r-y;f[++d]=_,v[++d]=g}m==h-2&&0!=P&&(t.beginPath(),t.strokeStyle=a,t.moveTo(f,v),t.lineTo(_,g),t.stroke())}}},getRGBA:function(t){return"rgba("+((t>>>=0)>>24&255)+","+(t>>16&255)+","+(t>>8&255)+","+(255&t)/256+")"},getFontStyle:function(t){return 2&t?"italic":""},isHalo:function(t){return!!(16&t)},isFillBackGround:function(t){return!!(4&t)},getLineCap:function(t){return["butt","square","round"][t]},getLineJoin:function(t){return["miter","bevel","round"][t]}},baidu.extend(TileMgr.prototype,{_asyncLoadTiles:function(){var t=this,e=t.map;t._addOtherEvt(e),t.loadTiles(0)},initVectorIndoorMap:function(t){var e=this;e.vectorTileMgr=new VectorIndoorTileMgr(e);var i=new VectorIndoorTileLayer(e.map,e.vectorTileMgr,t.opts);e.vectorTileMgr.addTileLayer(i),e.asyncLoaded=!0},loadTiles:function(t){var e=this,i=e.map;e.lastZoom=i.getZoom(),e.loaded||(e.initMapTypeTiles(),e.loaded=!0),e.moveGridTiles()},initialize:function(){var t=this,e=t.map;e.addEventListener("loadcode",function(){t.loadTiles()}),e.addEventListener("addtilelayer",function(e){t.addTileLayer(e)}),e.addEventListener("removetilelayer",function(e){t.removeTileLayer(e)}),e.addEventListener("setmaptype",function(e){t.setMapType(e)}),e.addEventListener("zoomstartcode",function(e){t._zoom()}),t.map.addEventListener("setcustomstyles",function(e){t.setMapStyle(e.target),t.moveGridTiles(!0)}),e.addEventListener("initindoorlayer",function(e){t.initVectorIndoorMap(e)}),e.addEventListener("settiletype",function(e){BMap.tileDir!==e.target&&(BMap.tileType=BMap.tileDir=e.target,"GCJ02"===e.target&&(BMap.tileType="WGS84"),t.moveGridTiles(!0))}),t._addOtherEvt(e)},_addOtherEvt:function(t){var e=this;t.addEventListener("mousewheel",function(t){e.mouseWheel(t)}),t.addEventListener("dblclick",function(t){e.dblClick(t)}),t.addEventListener("rightdblclick",function(t){e.dblClick(t)}),t.addEventListener("minuspress",function(t){e.keypress(t)}),t.addEventListener("pluspress",function(t){e.keypress(t)}),t.addEventListener("moving",function(t){e.moveGridTiles()}),t.addEventListener("resize",function(t){e.moveGridTiles()}),e.map.addEventListener("setcustomstyles",function(t){e._removeAvatarDivs()}),t.addEventListener("onvectorloaded",function(i){t.vectorMapEnabled()&&(e._removeAvatarDivs(),e._vectorLayerContainer.style.visibility="")})},_initVectorMapEnv:function(t){var e=this;e.vectorMap=new window.VectorLayer(e.map.config.mapStyle),e.map.addTileLayer(e.vectorMap)},addTileLayer:function(t){var e=this,i=t.target;e.map.vectorMapEnabled();if(i.vectorLayer&&this.map.addTileLayer(i.vectorLayer),i.isVectorLayer){for(var n=0;n<e.vectorLayers.length;n++)if(e.vectorLayers[n]===i)return;ModuleMgr.load("vector",function(){i.initialize(e.map,e._vectorLayerContainer),e.vectorLayers.push(i)},!0)}else{for(var n=0;n<e.tileLayers.length;n++)if(e.tileLayers[n]===i)return;e.tileLayers.push(i),i.initialize(this.map,this._normalLayerContainer),e.map.loaded&&e.moveGridTiles()}},removeTileLayer:function(t){var e=this,i=t.target;e.map.vectorMapEnabled();if(i.vectorLayer&&this.map.removeTileLayer(i.vectorLayer),i.isVectorLayer){
for(var n=0,o=e.vectorLayers.length;n<o;n++)i===e.vectorLayers[n]&&e.vectorLayers.splice(n,1);i.remove()}else{var a=(i.mapType,e.mapTiles),r=e.bufferTiles;for(var s in r){var l=s.split("-")[1];l===i.guid+""&&delete r[s]}for(var s in a){var l=s.split("-")[1];l===i.guid+""&&delete a[s]}for(var n=0,o=e.tileLayers.length;n<o;n++)i===e.tileLayers[n]&&e.tileLayers.splice(n,1);i.remove(),e.moveGridTiles()}},mouseWheel:function(t){var e=this.map;e.mercatorCenter;if(e.config.enableWheelZoom){var i=e.zoomLevel+(!0===t.trend?1:-1),n=e._getProperZoom(i);if(!n.exceeded){e.dispatchEvent(new BaseEvent("onzoomstart")),e.lastLevel=e.zoomLevel,e.zoomLevel=n.zoom;var o=t.pixel,a=this._getMercatorCenter(o);zoomUnits=e.getMapType().getZoomUnits(e.getZoom()),e.mercatorCenter=new PointN(a.lng+(e.width/2-o.x)*zoomUnits,a.lat-(e.height/2-o.y)*zoomUnits),e.centerPoint=e.projection.mercatorToLngLat(e.mercatorCenter,e.currentCity),this.zoom(o)}}},dblClick:function(t){var e=this.map;if(e.config.enableDblclickZoom){var i=t.pixel,n=1,o=i,a=new Size(0,0);"onrightdblclick"===t.type&&(n=-1,o=new Pixel(e.width/2,e.height/2));var r=e.zoomLevel+n,s=e._getProperZoom(r);if(s.exceeded){if(1===n){var l=e._pixelToPoint(i);e.panTo(l)}}else{e.dispatchEvent(new BaseEvent("onzoomstart")),e.lastLevel=e.zoomLevel,e.zoomLevel=s.zoom;e.mercatorCenter;if(1===n){e.mercatorCenter=this._getMercatorCenter(i),e.centerPoint=e.projection.mercatorToLngLat(e.mercatorCenter,e.currentCity);var h=e.getMapType().getZoomUnits(e.lastLevel)/e.getMapType().getZoomUnits(s.zoom)*.5;a.width=i.x-Math.round(e.width/2)*h,a.height=i.y-Math.round(e.height/2)*h}this.zoom(o,a)}if(isMobile()){var c=e.getInfoWindow();!!c&&c.hide()}}},keypress:function(t){var e=this.map;if(!e.config.enableContinuousZoom)return void("onpluspress"===t.type?e.zoomIn():e.zoomOut());if(!this._zTimeLine){var i=e.zoomLevel+("onpluspress"===t.type?1:-1),n=e._getProperZoom(i);if(!n.exceeded){e.dispatchEvent(new BaseEvent("onzoomstart"));var o=new Pixel(e.width/2,e.height/2);if(e.lastLevel=e.zoomLevel,e.zoomLevel=n.zoom,e.getInfoWindow()){o=e._pointToPixel(e.getInfoWindow().getPosition(),e.lastLevel);var a=e._pixelToPoint(o,e.lastLevel);e._updateCenterPoint(e.width/2-o.x,e.height/2-o.y,a,!0)}this.zoom(o)}}},_getMercatorCenter:function(t){var e=this.map,i=e.mercatorCenter,n=e.getMapType().getZoomUnits(e.lastLevel);return new PointN(i.lng+n*(t.x-e.width/2),i.lat-n*(t.y-e.height/2))},zoom:function(t,e){var i=this,n=i.map,o=n.zoomLevel,a=n.config.vectorMapLevel,r=o>a;o<n.lastLevel&&(o===a||o===a-1)&&(r=!0);var s=e?e.width:0,l=e?e.height:0,n=this.map,h=n.config,i=this,c={x:t.x-parseInt(r?i.vectorBaseDiv.style.left:i.tilesDiv.style.left,10)-n.offsetX,y:t.y-parseInt(r?i.vectorBaseDiv.style.top:i.tilesDiv.style.top,10)-n.offsetY};n.overlayDiv&&baidu.dom.hide(n.overlayDiv);i._normalLayerContainer.style.visibility="hidden",i._vectorLayerContainer&&(i._vectorLayerContainer.style.visibility="hidden"),this._showAvatarDivs(r),i._mapTypeLayerContainer.style.visibility="hidden";var d=[],u=n.zoomLevel-n.lastLevel;i._diff?n.zoomLevel-n.lastLevel>0?i._diff++:i._diff--:i._diff=u,this._zTimeLine&&0===this._zTimeLine.schedule&&(this._zTimeLine.stop(),this._zTimeLine=null,u=i._diff),(!e||0===e.width&&0===e.height)&&h.enableContinuousZoom&&n.temp.zoomer.action(t,u>0);var p=Math.pow(2,u),_=this.zoomsDiv,g=_.style;if(g.visibility="",n.config.enableCustomLayer){this._indoorLayerContainer.style.visibility="visible",g.visibility="hidden";var m=isAndroid23More();if(baidu.platform.isAndroid&&!m)return void n.dispatchEvent(new BaseEvent("onzoomend"));if(o===n.lastLevel)return;var f=o>n.lastLevel;if(!0===i.isZooming)return;i.isZooming=!0;var v=n.platform.style,y=n.offsetX,b=n.offsetY,x=n.width,w=n.height,P=t?t.x-y:x/2-y,M=t?t.y-b:w/2-b;v.WebkitTransformOrigin=P+"px "+M+"px";var e=new Size(0,0);new Animation({duration:300,transition:Transitions.easeInOutQuad,fps:30,render:function(t){var i=f?1+t:1-t/2;v.WebkitTransformOrigin=P+"px "+M+"px",v.WebkitTransform="translate3d("+-e.width*t+"px, "+-e.height*t+"px,0px) scale("+i+")"},finish:function(){n.overlayDiv&&setTimeout(function(){baidu.dom.show(n.overlayDiv)},100),n.dispatchEvent(new BaseEvent("onzoomend")),v.WebkitTransform="",i.isZooming=!1}})}else{for(var T=_.children.length,C=T-1;C>-1;C--){var S={},E=_.children[C].style;S.top=parseInt(E.top)||0,S.left=parseInt(E.left)||0,S.width=parseInt(E.width),S.height=parseInt(E.height),S.dw=S.width*p-S.width,S.dh=S.height*p-S.height,S.dx=(S.left-c.x)*p-(S.left-c.x),S.dy=(S.top-c.y)*p-(S.top-c.y),d[C]=S,E.display="block"}_._ol=parseInt(_.style.left),_._ot=parseInt(_.style.top),this._zTimeLine&&(this._zTimeLine.stop(),this._zTimeLine=null),this._zTimeLine=new Animation({fps:20,duration:h.enableContinuousZoom?h.zoomerDuration:1,transition:Transitions.easeInQuad,render:function(t){if(!(t<.1)){for(var e=d.length-1;e>-1;e--){var i=d[e];if(_.children[e]){var n=_.children[e].style;n.top=Math.round(i.top+i.dy*t)+"px",n.left=Math.round(i.left+i.dx*t)+"px",n.width=Math.ceil(i.width+i.dw*t)+"px",n.height=Math.ceil(i.height+i.dh*t)+"px"}}(s||l)&&(g.left=_._ol-s*t+"px",g.top=_._ot-l*t+"px")}},finish:function(){i.moveGridTiles(),n.overlayDiv&&(baidu.browser.ie&&baidu.browser.ie<8||"BackCompat"===document.compatMode?baidu.dom.show(n.overlayDiv):setTimeout(function(){baidu.dom.show(n.overlayDiv)},100)),i._normalLayerContainer.style.visibility="",i._mapTypeLayerContainer.style.visibility="",delete i._diff,n.dispatchEvent(new BaseEvent("onzoomend")),setTimeout(function(){i._vectorLayerContainer&&(i._vectorLayerContainer.style.visibility=""),i._removeAvatarDivs()},10),_=null,i._zTimeLine=null}})}},setMapType:function(t){var e=this,i=e.map;i.addEventListener("tilesloaded",function(){setTimeout(function(){e._removeAvatarDivs()},200),i.removeEventListener("tilesloaded",arguments.callee)});for(var n in this.mapTiles)this.hideTile(this.mapTiles[n]);for(var n in this.bufferTiles)this.hideTile(this.bufferTiles[n]);for(var o=this.mapTypeLayers,a=0,r=o.length;a<r;a++)o[a].remove();delete this.tilesDiv,this.mapTypeLayers=[],this.bufferTiles=this.mapTiles={},this.initMapTypeTiles(),this.moveGridTiles()},_showAvatarDivs:function(t){var e=this.map;if(t=t||!1,this.zoomsDiv)this.zoomsDiv.parentNode&&!this._zTimeLine&&(this.zoomsDiv.parentNode.removeChild(this.zoomsDiv),this.zoomsDiv=null,this.zoomsDiv=t?this.vectorBaseDiv.cloneNode(!0):this.tilesDiv.cloneNode(!0));else if(t){this.zoomsDiv=this.vectorBaseDiv.cloneNode();for(var i=this.vectorBaseDiv.childNodes,n=0,o=i.length;n<o;n++){var a=i[n].cloneNode(!0);a.style.display="none";var r=a.getContext("2d");r.drawImage(i[n],0,0),this.zoomsDiv.appendChild(a)}}else this.zoomsDiv=this.tilesDiv.cloneNode(!0);var s=this.zoomsDiv,l=s.style;l.display="",l.zIndex=l.zIndex-100,e.platform.insertBefore(s,e.platform.firstChild)},_removeAvatarDivs:function(){var t=this;t.zoomsDiv&&(purge(t.zoomsDiv),t.zoomsDiv.parentNode&&(t.zoomsDiv.parentNode.removeChild(t.zoomsDiv),t.zoomsDiv.innerHTML="",t.zoomsDiv=null))}}),window._tile=2,window._vectordrawlib=1,VectorLayer.prototype=new TileLayer,VectorLayer.prototype.initialize=function(t){if(!this.loaded){this.loaded=!0;var e=this;if(e.map=t,e.tileMgr=e.map.tileMgr,e.map=t,e.detectClickZoomResult=!1,e.curClickIcon=null,e.curPoiType="df",e._opts.poiElements&&e._opts.poiElements.name&&(e.curPoiType=e.poiElementHash[e._opts.poiElements.name]),e.curStyle=e._opts.style||"normal",e.styleStr=e._opts.styleStr||null,e.DELAY=200,e.timer=null,e.clicks=0,e.vectorBaseDiv=this.tileMgr._createDiv(0),e.vectorPoiDiv=this.tileMgr._createDiv(10),e.tileMgr._vectorLayerContainer.appendChild(this.vectorBaseDiv),e.tileMgr._vectorLayerContainer.appendChild(this.vectorPoiDiv),e.tileMgr.vectorBaseDiv=e.vectorBaseDiv,e.tileMgr.vectorPoiDiv=this.vectorPoiDiv,e.vectorDrawLib=new BMap.VectorDrawLib,e.curBaseFeature="",e._opts.features&&(e.curBaseFeature=e.getBaseFeatureName(e._opts.features)),e.vectorDrawLib.colorType=e.curStyle,e.bindEvents(),e.curStyle&&"normal"!==e.curStyle||e.styleStr&&e.styleStr.length>0){var i=function(){e.map.addEventListener("click",function(t){if(1!==++e.clicks)return clearTimeout(e.timer),e.clicks=0,!1;e.timer=setTimeout(function(){e.vectorClick(t),e.clicks=0},e.DELAY)}),e.vectorBaseDiv.innerHTML="",e.vectorPoiDiv.innerHTML="",e.drawVectorLayer(!0)};e.setFeatureType(e.curStyle,e.styleStr,i)}else e.drawVectorLayer(),e.map.addEventListener("click",function(t){if(1!==++e.clicks)return clearTimeout(e.timer),e.clicks=0,!1;t.overlay||(e.timer=setTimeout(function(){e.vectorClick(t),e.clicks=0},e.DELAY))});e.map.config.enableMapClick&&isMobile()&&void 0==e._mobileInfoWin&&(e._mobileInfoWin=new BMap.MobileInfoWindow(e.map),e.map.addOverlay(e._mobileInfoWin))}},baidu.extend(VectorLayer.prototype,{bindEvents:function(){var t=this;setTimeout(function(){t.map.addEventListener("poilayervisiblechange",function(e){t.changePoiVisible(e)}),t.map.addEventListener("moveend",function(e){t.drawVectorLayer()}),t.map.addEventListener("zoomend",function(e){t.removePreStress(),t.detectClickZoomResult=!1,t.drawVectorLayer(!0)}),t.map.addEventListener("onresize",function(e){t.drawVectorLayer()}),isDesktop()&&(t.map.addEventListener("onmoving",function(){t.drawVectorLayer()}),t.map.addEventListener("onmaptypechange",function(e){t.drawVectorLayer()})),t.map.addEventListener("mousemove",function(e){t.map.vectorMapEnabled()&&t.detectMouseMove(e)})},1),t.map.addEventListener("setcustomstyles",function(e){t.configPersonalMap(e.target)})},getBaseFeatureName:function(t){for(var e=this,i="",n=0,o=t.length;n<o;n++)i=i+this.baseElementHash[t[n]]+",";return i&&(e.vectorDrawLib.baseElements=i),i},setFeatureType:function(t,e,i){if(this.map.vectorMapEnabled()){var n,o=this,a=BMap.apiUrl+"custom/";e&&e.length>0?(n="setStyle_"+e.length,a+="mapstyle?styles="+encodeURIComponent(e)):(n="setStyle_"+t,a+="getstyle?customid="+t),n+=this.map.guid,a+="&callback="+n+"&udt=20150116",window[n]=function(e,a){var r=baidu.extend({},o.vectorDrawLib._arrFeatureStyles);o.vectorDrawLib.arrFeatureStyles=baidu.extend(r,e);var s=BMap.VectorDrawUtils.getRGBA(o.vectorDrawLib.arrFeatureStyles[3181][1]);o.map.config.backColor=s,o.map.getContainer().style.backgroundColor=s,i(t),o.map.dispatchEvent(new BaseEvent("onsetmapstylesuccess",a)),delete window[n]},DataMgr.request(a,!1)}},setBaseElement:function(t){if(this.map.vectorMapEnabled()){for(var e=this,i="",n=0,o=t.length;n<o;n++)i=i+(this.baseElementHash[t[n]]||"")+",";if(i!=e.curBaseFeature||""!=!i){""==i&&(i="no"),e.curBaseFeature=i,e.vectorDrawLib.baseElements=i;var a={bg:e.getCanvasObjs(e.vectorBaseDiv),poi:e.getCanvasObjs(e.vectorPoiDiv)};e.vectorDrawLib.drawAllLayer(a,e.tileMgr,e.curPoiType)}}},setPoiElement:function(t){var e=this;if(t.name&&this.poiElementHash[t.name]){var i=this.poiElementHash[t.name];if(1==t.styles.visibility&&e.curPoiType!==i&&e.curBaseFeature.indexOf("pts")>-1){if(e.curPoiType=i,e.vectorPoiDiv)for(var n=[],o=[],a=e.vectorPoiDiv.childNodes,r=0,s=a.length;r<s;r++){var l=a[r].id.split("_"),h=[l[1],l[2]];n.push(h),o.push(a[r])}e.vectorDrawLib.drawPoiLayer(n,o,e.curPoiType,e.tileMgr,null)}}},setFeatureStyle:function(t){var e=this,i=function(t){e.curStyle=t,e.removePreStress(),e.vectorDrawLib.colorType=e.curStyle;var i=e.vectorDrawLib.firstViewRes;for(var n in i)delete i[n];"df"!==e.curPoiType&&e.grayBackGround(),e.reDrawVectorLayer()};e.setFeatureType(t.style,t.styleStr,i)},reDrawPoiLayer:function(t){var e=this,i=[],n=[],o=t,a=o.clickFea;e.curPoiType,o.type;if(e.curClickIcon=a,o.type){var r=baidu.g(a.tileId),s=a.tileId;if(e.curPoiType==o.type){var l=Math.pow(2,18-e.map.zoomLevel);e.wipePreStress(),e.preClickIcon[s]={canvas:r,fea:a.fea},e.findIconInvolvedTiles(a,l);var h=this.preClickIcon;for(var c in h){var d=baidu.g(c).getContext("2d"),u=h[c].fea;e.vectorDrawLib.drawFeature(d,u,l,!0)}return}e.removePreStress(),e.curPoiType=o.type,e.preClickIcon[s]={canvas:r,fea:a.fea},e.findIconInvolvedTiles(a,l)}else{if(e.unGrayBackGround(),"df"==e.curPoiType)return;e.removePreStress(),e.curPoiType="df"}if(e.vectorPoiDiv)for(var p=e.vectorPoiDiv.childNodes,_=0,g=p.length;_<g;_++){var m=p[_].id.split("_"),f=[m[m.length-3],m[m.length-2]];i.push(f),n.push(p[_])}e.bindRedrawEvent||(e.map.addEventListener("onclickicondrawed",function(t){var i=t.tarPoi.id;e.detectClickZoomResult=!0,e.preClickIcon&&e.preClickIcon[i]&&(e.preClickIcon[i].fea=t.tarPoi.fea)}),e.bindRedrawEvent=!0),"df"==e.curPoiType?e.unGrayBackGround():e.grayBackGround(),e.vectorDrawLib.drawPoiLayer(i,n,e.curPoiType,e.tileMgr,a)},wipePreStress:function(){var t=this,e=this.preClickIcon,i=Math.pow(2,18-t.map.zoomLevel);for(var n in e){var o=e[n].canvas.getContext("2d"),a=e[n].fea;t.vectorDrawLib.drawFeature(o,a,i,!1)}for(var r in e)delete e[r]},removePreStress:function(){var t=this.preClickIcon;try{for(var e in t)delete t[e]}catch(t){}},findIconInvolvedTiles:function(t,e){var i=t.tileId.split("_"),n=i.length,o=parseInt(i[n-3]),a=parseInt(i[n-2]),r=parseInt(i[n-1]),s=o-1,l=o+1,h=a-1,c=a+1,d=this.map.guid.replace(/^TANGRAM_/,""),u=baidu.g(d+"_poi_"+s+"_"+a+"_"+r),p=baidu.g(d+"_poi_"+l+"_"+a+"_"+r),_=baidu.g(d+"_poi_"+o+"_"+h+"_"+r),g=baidu.g(d+"_poi_"+o+"_"+c+"_"+r),m=baidu.g(d+"_poi_"+s+"_"+h+"_"+r),f=baidu.g(d+"_poi_"+s+"_"+c+"_"+r),v=baidu.g(d+"_poi_"+l+"_"+h+"_"+r),y=baidu.g(d+"_poi_"+l+"_"+c+"_"+r);u&&this.checkAroundCanvas(u,t.fea),p&&this.checkAroundCanvas(p,t.fea),_&&this.checkAroundCanvas(_,t.fea),g&&this.checkAroundCanvas(g,t.fea),m&&this.checkAroundCanvas(m,t.fea),f&&this.checkAroundCanvas(f,t.fea),v&&this.checkAroundCanvas(v,t.fea),y&&this.checkAroundCanvas(y,t.fea)},checkAroundCanvas:function(t,e){var i=this._checkIconInVtd(t._vtd,e[5].u);i&&(this.preClickIcon[t.id]={canvas:t,fea:i})},_checkIconInVtd:function(t,e){try{if(t.length)for(var i=0,n=t.length;i<n;i++){var o=t[i];if(o[5]&&o[5].u&&o[5].u==e)return o}}catch(t){}},changePoiVisible:function(t){var e=this;if(0==t.visible)e.tileMgr._vectorLayerContainer.removeChild(this.vectorPoiDiv),e.curPoiType="";else{e.tileMgr._vectorLayerContainer.appendChild(this.vectorPoiDiv);var i=e.tileMgr.getTilesInfo(this.vectorPoiDiv);e.vectorDrawLib.drawPoiLayer(i.tileXY,i.tileCanvas,e.curPoiType,e.tileMgr)}},drawVectorLayer:function(t){var e=this;e.map.getZoom();if(this.map.vectorMapEnabled()){e.vectorBaseDiv.style.display="block",e.vectorPoiDiv.style.display="block",e.unifyDrawFinish(e.vectorBaseDiv,e.vectorPoiDiv),e.tileMgr.currentViewCvsIds={};var i=e.tileMgr.getTilesInfo(e.vectorBaseDiv,"bg");poiVectorObj=e.tileMgr.getTilesInfo(e.vectorPoiDiv,"poi");for(var n in e.preClickIcon)baidu.g(n)||delete e.preClickIcon[n];var o={bg:i,poi:poiVectorObj,isZoomMap:!!t};e.vectorDrawLib.drawAllLayer(o,e.tileMgr,this.curPoiType)}else{var a=e.vectorBaseDiv,r=e.vectorPoiDiv;a.style.display="none",r.style.display="none";for(var s=a.childNodes.length,l=s-1;l>=0;l--){var h=a.childNodes[l];a.removeChild(h),h=null}for(var s=r.childNodes.length,l=s-1;l>=0;l--){var h=r.childNodes[l];r.removeChild(h),h=null}}},getCanvasObjs:function(t){if(t){for(var e=[],i=t.childNodes,n=0,o=i.length;n<o;n++){var a=i[n].id.split("_");e.push([a[a.length-3],a[a.length-2],i[n]])}return e}},reDrawVectorLayer:function(t){if(this.map.vectorMapEnabled()){var e=this,i={bg:e.getCanvasObjs(e.vectorBaseDiv),poi:e.getCanvasObjs(e.vectorPoiDiv)};e.vectorDrawLib.drawAllLayer(i,e.tileMgr,this.curPoiType)}},unifyDrawFinish:function(t,e){var i=!1;if(t)for(var n=t.childNodes,o=0,a=n.length;o<a;o++)if(1==n[o]._drawFinished){i=!0;break}if(!i)for(var r=e.childNodes,s=0,a=r.length;s<a;s++)r[s]._drawFinished=!1},vectorClick:function(t){var e=this;if(e.map.config.enableMapClick){var i=this.detectClickable(t);if(e.map.config.beforeClickIcon)return void e.map.config.beforeClickIcon(i);e.openInfoWindow(i)}},openInfoWindow:function(t){t?(isDesktop()&&this._desktopVectorClick(t),isMobile()&&this._mobileInfoWin&&this._mobileInfoWin.switchTo(t)):isMobile()&&this._mobileInfoWin&&this._mobileInfoWin.hide()},detectMouseMove:function(t){if(this.map.config.enableMapClick){this.detectClickable(t)?(this.map.platform.style.cursor="pointer",this.map.temp.isVectorPOI=!0):(this.map.temp.isVectorPOI=!1,this.map.platform.style.cursor!=this.map.config.defaultCursor&&0==this.map.temp.curSpots.length&&(this.map.platform.style.cursor=this.map.config.defaultCursor))}},_desktopVectorClick:function(t){var e=t.uid;if(e){var i={qt:"inf",uid:e,operate:"mapclick",clicktype:"vector"};SearchRequestMgr.request(function(t){},i)}},_cbGetInfBack:function(t,e,i){var n=this;if(e&&e.content){var o=e.content,a=o.pano||0,r=n.map.pixelToPoint(i.point);if(!s)var s={};s.isFromMPC=!0;var l=o.addr,h=o.street_id||"";1!=o.poiType&&3!=o.poiType||(l=SUtil.unique(l.split(";")).join("; "));var c=o.tel;c&&(c=c.replace(/,/g,", "));o.ext&&o.ext.detail_info&&o.ext.detail_info.origin_id&&o.ext.detail_info.origin_id;var d=(n._getCateInfo(o.cla),create("div",{style:"font-size:12px;padding:5px 0;overflow:hidden;*zoom:1;"})),u=(o.ext,"padding:0;margin:0;line-height:18px;font-size:12px;color:#4d4d4d;"),p=!1;if(a)if(n.map.height<360)p=!0;else{var _=[];_.push("<div class='panoInfoBox' id='panoInfoBox' title='"+o.name+"外景' title='查看全景' >");var g=BMap.url.proto+BMap.url.domain.pano[0]+"/pr/?qt=poiprv&uid="+h+"&width=323&height=101&quality=80&fovx=200";_.push("<img filter = 'pano_thumnail_img' class='pano_thumnail_img' width=323 height=101 border='0' alt='"+o.name+"外景' src='"+g+"' id='pano_"+t+"'/>"),_.push("<div filter = 'panoInfoBoxTitleBg' class='panoInfoBoxTitleBg'></div><a href='javascript:void(0)' filter='panoInfoBoxTitleContent' class='panoInfoBoxTitleContent' >进入全景&gt;&gt;</a>"),_.push("</div>"),d.innerHTML=_.join("")}if(l){var m=create("p",{style:u});m.innerHTML="地址："+l,d.appendChild(m)}if(c){var f=create("p",{style:u});f.innerHTML="电话："+c,d.appendChild(f)}if(o.tag){var v=create("p",{style:u+"color:#7f7f7f;"});v.innerHTML="标签："+o.tag,d.appendChild(v)}var y="http://api.map.baidu.com/place/detail?uid="+t+"&output=html&source=jsapi&operate=mapclick&clicktype=vector",b="<div style='height:26px;'><a href='"+y+"' target='_blank' style='font-size:14px;color:#4d4d4d;font-weight:bold;text-decoration:none;' onmouseover='this.style.textDecoration=\"underline\";this.style.color=\"#3d6dcc\"' onmouseout ='this.style.textDecoration=\"none\";this.style.color=\"#4d4d4d\"'>"+o.name+"</a>";b+="<a href='"+y+"' target='_blank' style='font-size:12px;color:#3d6dcc;margin-left:5px;text-decoration:none;' onmouseover='this.style.textDecoration=\"underline\"' onmouseout ='this.style.textDecoration=\"none\"'>详情&raquo;</a>",b+="</div>";var x=new InfoWindow(d,{width:322,enableSearchTool:!0,title:b,enableParano:p});p&&(x.street_id=h),x.addEventListener("open",function(){var t=baidu.g("panoInfoBox");if(t){var e=o.street_id||"";n.delegate("click",function(t,i){_addStat(STAT.VECTOR_LAYER_CLICK_VECTOR_LAYER_AFTER_INFO_WINDOW_OPEN),n._cbGetCopyTime(e)},t,"pano_thumnail_img|panoInfoBoxTitleBg|panoInfoBoxTitleContent")}}),this.map.openInfoWindow(x,r)}},_cbGetCopyTime:function(t){var e=BMap.getServerUrl("pano","scape/")[0],i=this,n=(new Date).getTime(),o="Pano"+n;BMap[o]=function(t){var e=i.map.getPanorama(),n=t.content[0];e.setId(n.poiinfo.PID),e.show(),e.setPov({heading:n.poiinfo.Dir,pitch:n.poiinfo.Pitch})},n=(new Date).getTime(),e+="?qt=poi&udt=20131021&uid="+t+"&t="+n+"&fn=BMap."+o,DataMgr.request(e,!1)},_getCateInfo:function(t){for(var e=[],i=0,n=t.length;i<n;i++)e.push(t[i][1]),i<n-1&&e.push(", ");return e.join("")},detectClickable:function(t){for(var e=this.vectorPoiDiv.getElementsByTagName("canvas"),i=t.offsetX,n=t.offsetY,o=void 0,a=void 0,r=(this.map.getSize(),this.map.getMapType().getTileSize()),s=0,l=e.length;s<l;s++){var h=(parseInt(e[s].style.left),parseInt(e[s].style.top),this.getOffset(e[s]));if(i>h.left&&i<=h.left+r&&n>h.top&&n<=h.top+r){o=e[s];break}}if(void 0==o||void 0==o._vtd)return!1;a=o._vtd;for(var c=0,l=a.length;c<l;c++){var d=a[c],u=d[0],p=d[1],_=this.vectorDrawLib.arrFeatureStyles[d[3]]||window.arrFeatureStyles[d[3]],g=this.vectorDrawLib.arrFeatureStyles[d[4]]||window.arrFeatureStyles[d[4]],m=_[0],f=this.vectorDrawLib.getMergeStyle(_,g),v=f[1],y=d[5]||{};if(void 0==v||"empty"==v)return!1;if(2!=m&&3!=m&&4!=m&&v.length>0&&y.u){parseInt(o.style.left),parseInt(o.style.top);if(iconX=p[0]+h.left,iconY=p[1]+h.top,t.offsetX>=iconX-15&&t.offsetX<=iconX+15&&t.offsetY>=iconY-15&&t.offsetY<=iconY+15)return{type:d[5].c||"",name:u,uid:y.u||"",point:{x:iconX,y:iconY},clickFea:{tileId:o.id,tile:o,fea:d}}}}return!1},isUseHack:function(){return/M040/i.test(navigator.userAgent)},getOffset:function(t){for(var e=t.offsetLeft,i=t.offsetTop,t=t.offsetParent;t&&t!=this.map.getContainer();)e+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{top:i,left:e}},configPersonalMap:function(t){if(this.map.vectorMapEnabled()){this.map.getMapType()._opts.maxZoom=19;var e=this;e.personalOpt=t;var i=this.personalOpt;for(var n in i)switch(n){case"style":case"styleStr":e.setFeatureStyle(i);break;case"features":e.setBaseElement(i[n]);break;case"poiElements":e.setPoiElement(i[n])}}},grayBackGround:function(t){var e=this;e.unGrayBackGround(),"dark"==e.curStyle?baidu.dom.addClass(e.vectorBaseDiv,"light_gray_background"):baidu.dom.addClass(e.vectorBaseDiv,"gray_background")},unGrayBackGround:function(t){var e=this;baidu.dom.removeClass(e.vectorBaseDiv,"gray_background"),baidu.dom.removeClass(e.vectorBaseDiv,"light_gray_background")},delegate:function(t,e,i,n){var o=this;i.matchs||(i.matchs=[],i.handle={}),i.matchs.push({filter:n,fn:e}),i.handle[t]||(i.addEventListener(t,function(t){for(var e=t.target;e!=i;)o.each(i.matchs,function(i,n){new RegExp(n.filter).test(e.getAttribute("filter"))&&n.fn.call(e,t,e.getAttribute("filter"))}),e=e.parentNode},!1),i.handle[t]=!0)},each:function(t,e){for(var i=0,n=t.length;i<n;i++)e(i,t[i])}}),window.VectorLayer=VectorLayer;var STYLE_TYPE_POLYLINE=2,STYLE_TYPE_POLYGON=3,STYLE_TYPE_TEXT=5,VDL=function(){this.isInitConfig=!1,this.iconURLs=[BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[1]+"/"],this.vectorDataURLs=[BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[0]+"/gvd/?",BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[1]+"/gvd/?",BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[2]+"/gvd/?",BMap.url.proto+BMap.url.domain.TILE_ONLINE_URLS[3]+"/gvd/?"],this.tileMgr=null,this.defaultPoiData={},this.map=null,this.drawedCount=0,this.totalCount=0,this.baseElements=null,this.colorType=null,this.arrFeatureStyles=window.arrFeatureStyles,this._arrFeatureStyles=baidu.extend({},window.arrFeatureStyles),this.colorTypeHash={dark:{backColor:"#2D2D2D",textColor:"#bfbfbf",iconUrl:"vector/dicons"},normal:{backColor:"#F3F1EC",textColor:"#c61b1b",iconUrl:"vector/nicons_hd"},light:{backColor:"#EBF8FC",textColor:"#017fb4",iconUrl:"vector/licons"}},this.wndSize=null,this.firstViewRes={},this.isFirstLoadVector=!0,this.clickPoiObj=null,this.clickInTile=!1,this.blackUA=/.*GT-I9300.*Version\/\d+.*Safari\/\d+\.\d+$/gi.test(navigator.userAgent)||/baiduboxapp/gi.test(navigator.userAgent)};VDL.prototype={drawAllLayer:function(t,e,i){this.stTime=(new Date).getTime();var n=t.bg,o=t.poi;this.tileCount=n.length,this.drawedCount=0,this.totalCount=n.length,this.clearCacheData(),this.isInitConfig||(this.isInitConfig=!0,this.map=e.map,this.tileMgr=e,this.ratio=this.map.config.devicePixelRatio,this.totalCount>0&&(this.tileSize=parseInt(n[0][2].style.width,10))),this.wndSize=this.map.getSize(),this.statCount=0,this.poiType=i;var a=this.map.zoomLevel;if(this.map.centerPoint,this.resolution=Math.pow(2,18-a),this.__arrStat?this.__arrStat.length=0:this.__arrStat=[],this.isFirstLoadVector,this.map.dispatchEvent(new BaseEvent("onvectorbegin")),this.tileCount<=o.length)for(var r=0,s=this.totalCount;r<s;r++)n[r][2]._drawFinished=!1,o[r][2]._drawFinished=!1,n[r][2].__startTime=(new Date).getTime(),o[r][2].__startTime=(new Date).getTime(),this.parseDataAndDraw(n[r][0],n[r][1],n[r][2],a,o[r][2]||null,i,t.isZoomMap);else for(var r=0,s=o.length;r<s;r++)n[r][2]._drawFinished=!1,o[r][2]._drawFinished=!1,n[r][2].__startTime=(new Date).getTime(),o[r][2].__startTime=(new Date).getTime(),this.parseDataAndDraw(n[r][0],n[r][1],n[r][2],a,o[r][2]||null,i,t.isZoomMap)},clearCacheData:function(){for(var t in this.defaultPoiData)delete this.defaultPoiData[t]},drawPoiLayer:function(t,e,i,n,o){this.clickInTile=!1,this.__arrStat?this.__arrStat.length=0:this.__arrStat=[],this.stTime=(new Date).getTime();var a=this.map.zoomLevel,r=this.map.getCenter(),s=new Point(r.lng,r.lat);this.poiType=i,this.clickPoiObj=o;for(var l=0,h=t.length;l<h;l++){e[l].__startTime=(new Date).getTime();var c=t[l][0],d=t[l][1],u="_"+parseInt(c+""+d+a).toString(36);if("df"==i&&this.defaultPoiData[u]){var p=this.defaultPoiData[u];e[l]._vtd=p,this.eraseData(e[l]),this.drawFeatures(p,e[l],a,null,s,a)}else this.parseDataAndDraw(c,d,e[l],a,null,i)}},drawMap:function(t,e){this.stTime=(new Date).getTime(),this.statCount=0,this.drawedCount=0,this.totalCount=t.length,this.isInitConfig||(this.isInitConfig=!0,this.tileMgr=e,this.map=e.map,this.ratio=this.map.config.devicePixelRatio,this.totalCount>0&&(this.tileSize=parseInt(t[0][2].style.width,10)));var i=this.map.zoomLevel;this.resolution=Math.pow(2,18-i),this.wndSize=this.map.getSize();for(var n=0,o=this.totalCount;n<o;n++){var a=t[n][2],r=t[n][0],s=t[n][1];a.__startTime=(new Date).getTime(),a._drawFinished=!1,this.parseDataAndDraw(r,s,a,i)}},parseDataAndDraw:function(t,e,i,n,o,a){var r=this,s=r.vectorDataURLs,l=Math.abs(parseInt(t,10)+parseInt(e,10))%s.length,h="x="+t+"&y="+e+"&z="+n,c=r.map.guid.replace(/^TANGRAM_/,""),d="undefined"!=typeof TVC?TVC.api_for_mobile.vector:{},u=d.version?d.version:"002",p=d.updateDate?d.updateDate:"20150601",_="";c+=t<0?"_":"",c+=e<0?"$":"";var g=c+parseInt(Math.abs(t)+""+Math.abs(e)+n,10).toString(36);if(i&&o)if(r.baseElements)if("no"==r.baseElements){if(_="&layers=&features="+r.baseElements,i._vtd=null,o._vtd=null,this.blackUA){var m=i.getContext("2d"),f=o.getContext("2d");m.canvas.width=m.canvas.width,f.canvas.width=f.canvas.width,m=null,f=null}else r.eraseData(i),r.eraseData(o);r.totalCount=0}else if(r.baseElements.indexOf("pts")>-1)if("pts,"==r.baseElements){if(i._vtd=null,this.blackUA){var v=i.getContext("2d");v.canvas.width=v.canvas.width,v=null}else r.eraseData(i);_="&layers="+a}else{r.totalCount<2*r.tileCount&&(r.totalCount=2*r.totalCount);for(var y=r.baseElements.split(","),b="",x=0,w=y.length;x<w;x++)"pts"!=y[x]&&""!=y[x]&&(b=y[x]+","+b);_="&layers=bg,"+a+"&features="+b,y=null,b=null}else{if(o._vtd=null,this.blackUA){var v=o.getContext("2d");v.canvas.width=v.canvas.width,v=null}else r.eraseData(o);_="&layers=bg&features="+r.baseElements}else _="&layers=bg,"+a;else _="&layers="+a;var P=(s[l]?s[0]:s[l])+"qt=lgvd&"+h+"&styles=pl"+_+"&f=mwebapp&v="+u+"&udt="+p+"&fn=BMap."+g,M=r.map.getCenter(),T=new Point(M.lng,M.lat),C=r.map.getZoom();BMap[g]=function(t){var e=t.content;if(e){i.__downLoadTime=(new Date).getTime(),o&&(o.__downLoadTime=(new Date).getTime());var a=r.map,s=a.getCenter(),l=a.getZoom();if(!s.equals(T)||l!=C)return void delete BMap[g];var h={};for(var c in e)"df"==c&&(r.defaultPoiData[g]=e[c]),h[c]=e[c];for(var d in h)h[d]=parseData(h[d]),"bg"==d?i.__parseDataTime=(new Date).getTime():o?o.__parseDataTime=(new Date).getTime():i.__parseDataTime=(new Date).getTime();for(var u in h)"bg"==u?(i._vtd=h[u],i&&r.eraseData(i),r.drawFeatures(h[u],i,n,null,T,C)):null!==o?(o._vtd=h[u],r.eraseData(o),r.drawFeatures(h[u],o,n,null,T,C)):(i._vtd=h[u],i&&r.eraseData(i),r.drawFeatures(h[u],i,n,null,T,C))}delete BMap[g]},DataMgr.request(P)},eraseData:function(t){var e=this,i=t.getContext("2d"),n=e.tileSize*e.ratio;this.blackUA||(i.save(),i.clearRect(0,0,n,n),i.restore())},getTilePosition:function(t,e){var i=this,n=i.tileSize*i.resolution,o=t*n,a=(e+1)*n;return i.map.pointToPixel(new Point(o,a))},isSeparateRect:function(t,e){return!1},drawBackGround:function(t,e,i){t.fillStyle=i,t.fillRect(0,0,e,e)},drawFeatures:function(t,e,i,n,o,a){e.area_start_time=(new Date).getTime();var r=e.getContext("2d"),s=0;this.blackUA?(r.canvas.width=r.canvas.width,r.scale(this.ratio,this.ratio)):this.ratio>1&&!e._scale&&(r.scale(this.ratio,this.ratio),e._scale=!0),r.textBaseline="bottom",e.id.indexOf("bg")>-1&&this.map.config.backColor&&this.drawBackGround(r,this.tileSize,this.map.config.backColor);for(var l=this,h=l.isFirstLoadVector,c=t.length,d=0,u=this.arrFeatureStyles;d<c;d++){var p=t[d];if(m=u[p[3]]||window.arrFeatureStyles[p[3]],f=u[p[4]]||window.arrFeatureStyles[p[4]],p.style0=m,p.style1=f,m[0]!=STYLE_TYPE_POLYGON)break;h?l.isSeparateRect(p[7],n)||(s++,l.drawFeature(r,p,null,a)):(s++,l.drawFeature(r,p,null,a))}e.area_end_time=(new Date).getTime();var _=l.map.getCenter(),i=l.map.getZoom();if(_.equals(o)&&i==a){e.road_start_time=(new Date).getTime();for(var g=[];d<c;d++){var p=t[d],m=u[p[3]]||window.arrFeatureStyles[p[3]],f=u[p[4]]||window.arrFeatureStyles[p[4]];if(p.style0=m,p.style1=f,i>=17&&m[5]&&m[5].length>0&&1==m[5][0]&&6==m[5][1]&&f&&f.length>0&&(m[5].length=0,m[6]=0,f[6]=0),m[0]!=STYLE_TYPE_POLYLINE)break;s++,g.push(p)}l.renderRoad(r,g,i,l.resolution),e.road_end_time=(new Date).getTime();var _=l.map.getCenter(),i=l.map.getZoom();if(_.equals(o)&&i==a){for(e.other_start_time=(new Date).getTime();d<c;d++){var p=t[d],m=u[p[3]]||window.arrFeatureStyles[p[3]],f=u[p[4]]||window.arrFeatureStyles[p[4]];if(p.style0=m,p.style1=f,p[5]&&p[5].u&&l.clickPoiObj&&p[5].c==l.clickPoiObj.fea[5].c){if(l.clickInTile=!0,"df"!==l.clickPoiObj.fea[5].c?l.drawFeature(r,p,l.resolution,!0,a):p[5].u==l.clickPoiObj.fea[5].u?l.drawFeature(r,p,l.resolution,!0,a):l.drawFeature(r,p,l.resolution,!1,a),p[5].u==l.clickPoiObj.fea[5].u){var v=new BaseEvent("onclickicondrawed"),y=e.id,b=l.compareFeaLoc(p[1],l.clickPoiObj.fea[1]);v.tarPoi={id:y,fea:p,equal:b},l.map.dispatchEvent(v)}}else l.drawFeature(r,p,l.resolution,!1,a);s++}e._drawFinished=!0,l.removeZoomMapCvs(),r=null,t=null;var x=(new Date).getTime();e.other_end_time=x,e.__drawTime=x;var w=e.__downLoadTime-e.__startTime,P=e.__parseDataTime-e.__downLoadTime;if(__drawTime=e.__drawTime-e.__parseDataTime,l.__arrStat.push({id:e.id,downLoadTime:w,parseDataTime:P,drawTime:__drawTime,restRate:s+"/"+d,areaTime:e.area_end_time-e.area_start_time,roadTime:e.road_end_time-e.road_start_time,otherTime:e.other_end_time-e.other_start_time,timeline:{start:e.__startTime,downLoadComplete:e.__downLoadTime,parseComplete:e.__parseDataTime,drawComplete:e.__drawTime}}),l.statCount++,1==l.statCount&&l.map.dispatchEvent(new BaseEvent("onfirstvectorloaded")),l.totalCount==l.drawedCount){if(h){l.isFirstLoadVector=!1;for(var M,T=0,C=0,S=0,E=0,I=0,d=0;M=l.__arrStat[d];d++)T+=M.parseDataTime,C+=M.drawTime,S+=M.areaTime,E+=M.roadTime,I+=M.otherTime;l.map.getSize(),BMap._alog("cus.fire","time",{z_vectorfirstdrawtime:C})}var L=(new Date).getTime(),A=L-l.stTime,v=new BaseEvent("onvectorloaded");v.tileCount=l.totalCount,v.timeSpan=A,v.statInfo=l.__arrStat,l.map.dispatchEvent(v),l.map.dispatchEvent(new BaseEvent("ontilesloaded"))}}}},removeZoomMapCvs:function(){this.drawedCount++,this.totalCount-this.drawedCount<=2&&this.map.dispatchEvent(new BaseEvent("onallvectorloaded"))},compareFeaLoc:function(t,e){var i=!1;if(t.length&&e.length&&t.length==e.length){for(var n=0,o=t.length;n<o&&t[n]===e[n];n++);n==o&&(i=!0)}return i},drawFeature:function(t,e,i,n,o){switch(e.style0[0]){case STYLE_TYPE_POLYGON:this.drawPolygon(t,e,o);break;case STYLE_TYPE_POLYLINE:this.drawPolyline(t,e[1],e.style0,e.style1,e[2],i);break;case 4:this.draw3DPolygon(t,e);break;default:this.drawIconAndText(t,e,n)}},drawPolygon:function(t,e,i){var n=e.style0,o=n[2],a=n[1],r=e[1];t.fillStyle=BMap.VectorDrawUtils.getRGBA(a),t.beginPath(),t.moveTo(r[0],r[1]);for(var s=2,l=r.length;s<l;s+=2)t.lineTo(r[s],r[s+1]);t.closePath(),t.fill(),o.length>0&&(t.strokeStyle=t.fillStyle,t.lineWidth=i>=12?3:o[3],t.stroke())},drawPolyline:function(t,e,i,n,o,a){if(i||n){var r=BMap.VectorDrawUtils.getRGBA,s=BMap.VectorDrawUtils.getLineCap,l=BMap.VectorDrawUtils.getLineJoin;if(this.isDashedLine(i,n)){var h=o,c=!!(n&&n[5]&&n[5].length>0)
;return firstColor=backColor=c?BMap.VectorDrawUtils.getRGBA(i[1]):"rgba(0, 0, 0, 0)",backLineWidth=i[2],foreLineWidth=c?n[2]:i[2],intervalLen=c?n[5][0]:i[5][0],intervalColor=BMap.VectorDrawUtils.getRGBA(c?n[1]:i[1]),h=Math.round(h/a),void BMap.VectorDrawUtils.drawDashedLine(t,e,intervalLen,backLineWidth,foreLineWidth,firstColor,h,backColor,intervalColor)}if(1==i[7])return t.strokeStyle=r(i[1]),t.fillStyle=t.strokeStyle,t.lineWidth=i[2],t.lineCap=s(i[3]),t.lineJoin=l(i[4]),void BMap.VectorDrawUtils.drawArrow(t,e,t.lineWidth);t.beginPath(),t.moveTo(e[0],e[1]);for(var d=2,u=e.length;d<u;d+=2)t.lineTo(e[d],e[d+1]);t.strokeStyle=r(i[1]),t.lineCap=s(i[3]),t.lineJoin=l(i[4]),t.lineWidth=i[2],t.stroke(),n&&(t.strokeStyle=r(n[1]),t.lineWidth=n[2],t.lineCap=s(n[3]),t.lineJoin=l(n[4]),t.stroke())}},draw3DPolygon:function(t,e){var i=e[1],n=e.style0,o=BMap.VectorDrawUtils.getRGBA,a=o(n[1]),r=o(n[2]),s=n[3],l=e[2]*s,h=n[4],c=o(h[1]),d=h[2],u=n[5],p=n[6];l=0,p=0,BMap.VectorDrawUtils.drawPolygon3D(t,i,l,u,p,a,r,c,d)},drawIconAndText:function(t,e,i){t.save();var n=e[1],o=e[0],a=e[2],r=this.getMergeStyle(e.style0,e.style1),s=r[1],l=0;if(void 0===s||"number"==typeof s)return void t.restore();var h=s.indexOf("biaopai")>-1;if(s.indexOf("ditie"),s.length>0){var c=this.iconURLs,d=s.length%c.length,u="undefined"!=typeof TVC?TVC.api_for_mobile.vectorIcon:{},p=u.version?u.version:"002",_=u.updateDate?u.updateDate:"201500601",g=this.iconURLs[d]+this.colorTypeHash.normal.iconUrl+"/"+s+".png?v="+p+"&udt="+_,m=new Image,f=n[0],v=n[1];n.length>2&&(l+=2);var y=this;if(h)!function(t,e,i,n,o,a,r,s,l,h,c){m.onload=function(){var d=this.width,u=this.height,p=t-d/4,_=e-u/4;i.drawImage(this,p,_,this.width/2,this.height/2),y.drawText(i,n,o,a,r,s,l,h,c),m.onload=null,delete m.onload,m=null}}(f,v,t,n,r,a,o,s,l,h,i),m.src=g;else{var b=y.firstViewRes[s];if(b)t.drawImage(b,f-b.width/4,v-b.height/4,b.width/2,b.height/2);else{var x=y.isFirstLoadVector;!function(e,i,n){m.onload=function(){var o=e-this.width/4,a=i-this.height/4;t.drawImage(this,o,a,this.width/2,this.height/2),n&&(y.firstViewRes[s]=m),m.onload=null,delete m.onload,m=null}}(f,v,x),m.src=g}}}!h&&r[2]&&r[2].length>0&&this.drawText(t,n,r,a,o,s,l,h,i),t.restore()},drawText:function(t,e,i,n,o,a,r,s,l){var h=BMap.VectorDrawUtils.getRGBA,c=i[2];if(o&&c.length>0){var d=[],u=c[2],p=c[3],_=c[4],g=BMap.VectorDrawUtils.getFontStyle(_),m=c[5];d.push(g),d.push(u+"px"),s||d.push("Helvetica Neue,Arial,Hiragino Sans GB,黑体,sans-serif"),t.font=d.join(" "),t.fillStyle=l?"#c61b1b":h(p);var f=BMap.VectorDrawUtils.isHalo(_);f&&(t.strokeStyle=h(m),t.lineWidth=s?.5:2);for(var v=a.indexOf("biaopai_xiandao")>-1,y=o.split("\\"),b=0,x=y.length,w=e.length;b<x&&r<w;b++){var P=e[r],M=e[r+1],o=y[b],T=t.measureText(o).width,C=u;r+=2,n>10&&n<350&&this.transformTxt(t,P,M,n);var S=1;if(BMap.VectorDrawUtils.isFillBackGround(_)&&(BMap.VectorDrawUtils.fillRoundRect(t,P-T/2,M-C/2,T,C,{fillStyle:h(m)}),S=0),v)t.save(),t.scale(.9,.9),f&&t.strokeText(y[b],(P-T/2+1)/.9,(M+C/2+1)/.9),t.fillText(y[b],(P-T/2+1)/.9,(M+C/2+1)/.9),t.restore();else{var E=s?2:S;f&&t.strokeText(y[b],P-T/2,M+C/2+E),t.fillText(y[b],P-T/2,M+C/2+E)}}}},getMergeStyle:function(t,e){var i=[1,"",[]];return t&&(t[0]==STYLE_TYPE_TEXT?i[2]=t:i=t),e&&(e[0]==STYLE_TYPE_TEXT?i[2]=e:i[1]=e[1]),i},transformTxt:function(t,e,i,n){var o=n/180*Math.PI;cv=Math.cos(o),sv=Math.sin(o),xx=cv,yy=cv,xy=sv,yx=-sv,x0=e-e*cv-i*sv,y0=i+e*sv-i*cv,t.transform(xx,yx,xy,yy,x0,y0)},renderRoad:function(t,e,i,n){if(i<=16)for(var o=0,a=e.length;o<a;){for(var r=e[o],s=this.getRoadLevel(r.style0,r.style1),l=o+1;l<a;l++){var h=e[l],c=this.getRoadLevel(h.style0,h.style1);if(s!=c)break}for(var d=o;d<l;d++){var u=e[d],p=u[1],_=u.style0,g=u.style1;this.isDashedLine(_,g)?u.isDashed=!0:this.drawPolyline(t,p,_,!1)}for(var d=o;d<l;d++){var u=e[d];u.isDashed?this.drawPolyline(t,u[1],u.style0,u.style1,u[2],n):this.drawPolyline(t,u[1],u.style1,!1)}o=l}else{for(var o=0,a=e.length;o<a;o++){var r=e[o],_=r.style0,g=r.style1,m=!!(1&_[6]);g&&!m&&(m=!!(1&g[6])),m?r.isZLevel=!0:this.drawPolyline(t,r[1],_,!1)}for(var o=0,a=e.length;o<a;o++){var r=e[o],_=r.style0,g=r.style1;r.isZLevel?this.drawPolyline(t,r[1],_,g,r[2],n):this.drawPolyline(t,r[1],g,!1)}}},getRoadLevel:function(t,e){if(!e)return 0;var i=t[6],n=e[6];if(1==i||1==n)return 1;switch(i){case 2:return 2==n?1:0;case 4:case 6:case 8:case 10:return n>=4&&n<=10?1:0;default:return 0}},isDashedLine:function(t,e){return!!(t&&t.length>0&&t[5].length>0)||!!(e&&e.length>0&&e[5].length>0)},resetTotalCount:function(){}},BMap.VectorDrawLib=VDL,window._vectordrawlib=2,window._vector=1,baidu.extend(VectorCloudLayer.prototype,{initialize:function(t,e){TileLayer.prototype.initialize.call(this,t,e),this.sids={},this._initVars(t),this._addEvents(),this._drawCloudLayer()},remove:function(){var t=this,e=this._map;TileLayer.prototype.remove.call(this),e&&(e.removeEventListener("zoomend",t.zoomendHandler),e.removeEventListener("moveend",t.moveendHandler),e.removeEventListener("resize",t.resizeHandler),e.removeEventListener("hotspotclick",t.hotSpotClickHandler),e.clearHotspots(this._opts.hotspotName))},_initVars:function(t){this._map=t,this._vectorDiv=this.tilesDiv,this.ratio=this._map.config.devicePixelRatio,this.tileSizeMargin=62,t.clearHotspots(this._opts.hotspotName);for(var e in this.hotSpotTile)delete this.hotSpotTile[e]},_addEvents:function(){var t=this,e=this._map;t.zoomendHandler=function(e){t._drawCloudLayer(e)},t.moveendHandler=function(e){t._drawCloudLayer(e)},t.resizeHandler=function(e){t._drawCloudLayer(e)},t.hotSpotClickHandler=function(e){if(e.spots.length>0){var i=e.spots[0].getUserData(),n=i.uid;t._requestDetailData(n)}},e.addEventListener("zoomend",t.zoomendHandler),e.addEventListener("moveend",t.moveendHandler),e.addEventListener("resize",t.resizeHandler),e.addEventListener("hotspotclick",t.hotSpotClickHandler)},_requestDetailData:function(t){var e=this,i=(1e5*Math.random()).toFixed(0);!BMap._rd&&(BMap._rd={}),BMap._rd["_cbk"+i]=function(t){e._detaiDataCbk(t),delete BMap._rd["_cbk"+i]};var n=e.detailURL;this._opts.geotableId&&(n=e.detailURLV2);var o=n+t+"?scope=2&ak="+this._opts.ak+"&callback=BMap._rd._cbk"+i;this._opts.geotableId&&(o+="&geotable_id="+this._opts.geotableId),DataMgr.request(o)},_detaiDataCbk:function(t){var e=t.content;if(this._opts.geotableId&&(e=t.contents[0]),t&&0==t.status&&e){var i={poiId:e.uid||"",databoxId:e.databox_id||"",title:this._opts.geotableId?e.title:e.name,address:this._opts.geotableId?e.address:e.addr,phoneNumber:e.tel||"",postcode:e.zip||"",provinceCode:1*e.province_id||-1,province:e.province||"",cityCode:1*e.city_id||-1,city:e.city||"",districtCode:1*e.district_id||-1,district:e.district||"",point:this._opts.geotableId?new Point(e.location[0],e.location[1]):new Point(e.longitude,e.latitude),tags:e.tag&&e.tag.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"").split(/\s+/),typeId:1*e.cla||-1,extendedData:e.ext||{}},n=new BaseEvent("onhotspotclick");n.customPoi=i,n.content=e,this.tileLayer&&this.tileLayer.dispatchEvent(n),this.dispatchEvent(n)}},_drawCloudLayer:function(t){var e=this._map,i=e.getZoom(),n=e.tileMgr,o=n.getTilesInfo(this._vectorDiv,"yun",this.tileSizeMargin);if(e.vectorMapEnabled()){this.isInitConfig||(this.isInitConfig=!0,o.length>0&&(this.tileSize=e.getMapType().getTileSize(),this.ctxSize=this.tileSize+this.tileSizeMargin)),this.resolution=Math.pow(2,18-i),this.numLoading=o.length;for(var a=0,r=o.length;a<r;a++)this._parseDataAndDraw(o[a][0],o[a][1],o[a][2])}},_parseDataAndDraw:function(t,e,i){var n=this,o=n.map,a=o.getCenter(),r=new Point(a.lng,a.lat),s=o.getZoom(),l=TILES_YUN_HOST[Math.abs(t+e)%TILES_YUN_HOST.length],h=l+"/data?grids="+t+"_"+e+"_"+s+"&q="+this._opts.q+"&tags="+this._opts.tags+"&filter="+this._opts.filter+"&sortby="+this._opts.sortby+"&ak="+this._opts.ak+"&age="+this._opts.age;this._opts.geotableId?h+="&geotable_id="+this._opts.geotableId:h+="&databox_id="+this._opts.databoxId,i._drawFinished=!1,DataMgr.request(h,function(o){var a=0==o.status?o.content[0].data:[],l=n.map,h=l.getCenter(),c=l.getZoom();h.equals(r)&&c==s&&(n._drawFeatures(a,i,t,e,s),0==--n.numLoading&&n.tileLayer.dispatchEvent("oncustomlayerloaded"))})},_drawFeatures:function(t,e,i,n,o){var a=e.getContext("2d");this.ratio>1&&!e._scale&&(a.scale(this.ratio,this.ratio),e._scale=!0),e._translate||(e._translate=!0,a.translate(this.tileSizeMargin/2,this.tileSizeMargin/2));for(var r="hotSpotTile_"+i+"_"+n+"_"+o,s=0,l=t.length;s<l;s++)this.drawDataByCtx(a,t[s],i,n,r,e)},drawDataByCtx:function(t,e,i,n,o,a){var r=this,s=e[0],l=e[1],h=e[2],c=e[3],r=this,d=this.tileSize,u=this.resolution,p=i*u*d,_=(n+1)*u*d;/^POINT\((.*)\)$/.test(h);var g=RegExp.$1,m=g.split(","),f=m[0],v=m[1],y=(f-p)/u,b=(_-v)/u,x=new Image;x.onload=function(){var e=this.width,i=this.height,n=y-e/2,h=b-i;if(t.drawImage(this,n,h),!r.hotSpotTile[o]){var c={userData:{name:s,uid:l},offsets:[i,e/2,0,e/2]},d=new Hotspot(MercatorProjection.convertMC2LL(new Point(f,v)),c);r._map.addHotspot(d,r._opts.hotspotName)}setTimeout(function(){r.hotSpotTile[o]=!0,a._drawFinished=!0},1e3),delete this.onload},this.getStyleBySid(c,function(t){""==c&&(c="sid1"),t&&t.content&&t.content[c]&&""!=t.content[c]?x.src="data:image/png;base64,"+t.content[c]:x.src=MapConfig.imgPath+"madian.png"})},refreshLayer:function(){if(this.tilesDiv){for(var t=this.tilesDiv,e=0,i=t.childNodes.length;e<i;e++)t.childNodes[e]._drawFinished=!1;this._map.clearHotspots(this._opts.hotspotName);for(var n in this.hotSpotTile)delete this.hotSpotTile[n];this._drawCloudLayer()}},getStyleBySid:function(t,e){var i=this,n=this._opts.databoxId,o=this._opts.styleId,a=this._opts.ak;if(""==t&&(t="sid1"),this.sids[t]&&this.sids[t].data)e(this.sids[t].data);else{this.sids[t]||(this.sids[t]={},this.sids[t].callbacks=[]),this.sids[t].callbacks.push(e);var r=BMap.apiUrl+"style/poi/rangestyle?method=getstyle";this._opts.geotableId&&(n=this._opts.geotableId),r+="&databox="+n+"&sid="+t+"&ak="+a,o&&(r+="&self_id="+o),this.sids[t].isSended||(setTimeout(function(){DataMgr.request(r,function(e){var n=i.sids[t].callbacks;i.sids[t].data=e;for(var o=0;o<n.length;o++)n[o](e);i.sids[t].callbacks.length=0})},10),i.sids[t].isSended=!0)}}}),baidu.extend(VectorTrafficLayer.prototype,{initialize:function(t,e){TileLayer.prototype.initialize.call(this,t,e),this._initVars(t),this.cusTrafficObj=null,this._addEvents(),this._drawTrafficLayer();var i=this;this.interval=setInterval(function(){i._drawTrafficLayer()},12e4)},reload:function(t){var e=this;e.cusTrafficObj=t,e._drawTrafficLayer()},remove:function(){var t=this,e=this._map;TileLayer.prototype.remove.call(this),e.removeEventListener("zoomend",t.zoomendHandler),e.removeEventListener("moveend",t.moveendHandler),e.removeEventListener("resize",t.resizeHandler),clearInterval(this.interval)},_initVars:function(t){this._map=t,this._vectorDiv=this.tilesDiv,this.ratio=this._map.config.devicePixelRatio,this.tileSizeMargin=0},_addEvents:function(){var t=this,e=this._map;t.zoomendHandler=function(e){t._drawTrafficLayer(e)},t.moveendHandler=function(e){t._drawTrafficLayer(e)},t.resizeHandler=function(e){t._drawTrafficLayer(e)},e.addEventListener("zoomend",t.zoomendHandler),e.addEventListener("moveend",t.moveendHandler),e.addEventListener("resize",t.resizeHandler)},_drawTrafficLayer:function(t){var e=this._map,i=e.tileMgr,n=i.getTilesInfo(this._vectorDiv,"traffic",this.tileSizeMargin);this.isInitConfig||(this.isInitConfig=!0,n.length>0&&(this.tileSize=e.getMapType().getTileSize(),this.ctxSize=this.tileSize+this.tileSizeMargin));for(var o=0,a=n.length;o<a;o++)this._parseDataAndDraw(n[o][0],n[o][1],n[o][2])},_parseDataAndDraw:function(t,e,i){var n=this,o=n.map,a=o.getCenter(),r=new Point(a.lng,a.lat),s=o.getZoom(),l=this.trafficURL+"x="+t+"&y="+e+"&z="+s;n.cusTrafficObj&&(l+=n.queryParams(n.cusTrafficObj,"&")),i._drawFinished=!1,DataMgr.ajax({url:l,success:function(o){var a=n.map,l=a.getCenter(),h=a.getZoom();l.equals(r)&&h==s&&0===o.status&&n._drawFeatures(o.result.trafficData,i,t,e,s)}})},_drawFeatures:function(t,e,i,n,o){var a=e.getContext("2d"),r=(this.getRGBA,this.getLineCap),s=this.getLineJoin;this.ratio>1&&!e._scale&&(a.scale(this.ratio,this.ratio),e._scale=!0),e._translate||(e._translate=!0,a.translate(this.tileSizeMargin/2,this.tileSizeMargin/2));for(var l=0,h=t.length;l<h;l++){var c=t[l],d=c[1],u=this.arrFeatureStyles[c[3]],p=(this.arrFeatureStyles[c[4]],d[0]/10),_=d[1]/10;a.beginPath(),a.moveTo(p,_);for(var g=2,m=d.length;g<m;g+=2)p+=d[g]/10,_+=d[g+1]/10,a.lineTo(p,_);a.strokeStyle=u[1],c[3]>=15&&c[3]<=19&&(a.strokeStyle="rgba(186, 0, 0, 1)"),a.lineWidth=u[2]-1,a.lineCap=r(u[3]),a.lineJoin=s(u[4]),a.stroke()}e._drawFinished=!0},getRGBA:function(t){return"rgba("+((t>>>=0)>>24&255)+","+(t>>16&255)+","+(t>>8&255)+","+(255&t)/256+")"},getLineCap:function(t){return["butt","square","round"][t]},getLineJoin:function(t){return["miter","bevel","round"][t]},queryParams:function(t,e){e=e||"";var i=[];for(var n in t){var o=t[n];["",void 0,null].includes(o)||(o.constructor===Array?o.forEach(function(t){i.push(encodeURIComponent(n)+"[]="+encodeURIComponent(t))}):i.push(encodeURIComponent(n)+"="+encodeURIComponent(o)))}return i.length?e+i.join("&"):""}}),baidu.extend(BuildingLayer.prototype,{_asyncLoadCode:function(){this.initialize(this._map,this._container)},initialize:function(t,e){this._map=t,this._container=e,this._map&&this._container&&(this._initVars(),this._initBuildingCanvas(),this._addEvents(),this._drawBuildingLayer())},remove:function(){var t=this,e=this._map;this._container.removeChild(this._canvas),e.removeEventListener("zoomend",t.zoomendHandler),e.removeEventListener("moving",t.movingHandler),e.removeEventListener("moveend",t.moveendHandler),e.removeEventListener("resize",t.resizeHandler)},_initVars:function(){var t=this,e=t._map,i=e.config.devicePixelRatio,n=e.getMapType(),o=n.getTileSize(),a=e.getSize(),r=a.width,s=a.height,l=r*i,h=s*i;t._tilesData={},t.tileSize=o,t.ratio=i,t.mapWidth=r,t.mapHeight=s,t.ctxWidth=l,t.ctxHeight=h},_initBuildingCanvas:function(){var t=this._map,e=this._container,i=document.createElement("canvas"),n=i.style;n.position="absolute",n.zIndex=5,n.left=-t.offsetX+"px",n.top=-t.offsetY+"px",n.width=this.mapWidth+"px",n.height=this.mapHeight+"px",i.setAttribute("width",this.ctxWidth),i.setAttribute("height",this.ctxHeight),e.appendChild(i),this._canvas=i,this._ctx=i.getContext("2d");var o=this.ratio;o>1&&!i._scale&&(this._ctx.scale(o,o),i._scale=!0)},_addEvents:function(){var t=this,e=t._map,i=t.ratio,n=function(){t._canvas.style.left=-e.offsetX+"px",t._canvas.style.top=-e.offsetY+"px"},o=function(){var n=e.getSize(),o=n.width,a=n.height,r=o*i,s=a*i;t._canvas.style.width=o+"px",t._canvas.style.height=a+"px",t._canvas.setAttribute("width",r),t._canvas.setAttribute("height",s),t.mapWidth=o,t.mapHeight=a,t.ctxWidth=r,t.ctxHeight=s};t.zoomendHandler=function(e){var i=this.getZoom();t._canvas.style.display=i<18?"none":"block",n(),t._drawBuildingLayer(e)},t.movingHandler=function(e){var i=(new Date).getTime();i-t.lastDrawBuildingTime<100||(t.lastDrawBuildingTime=i,n(),t._drawBuildingLayer(e))},t.moveendHandler=function(e){n(),t._drawBuildingLayer(e)},t.resizeHandler=function(e){o(),n(),t._drawBuildingLayer(e)},e.addEventListener("zoomend",t.zoomendHandler),e.addEventListener("moving",t.movingHandler),e.addEventListener("moveend",t.moveendHandler),e.addEventListener("resize",t.resizeHandler)},_drawBuildingLayer:function(t){var e=this._map,i=e.getZoom();if(!(i<18)){var n=e.tileMgr,o=n.getCurViewColRow(),a=o[0],r=o[1],s=o[2],l=o[3],h=!t;for(var c in this._tilesData)for(var d=a;d<s;d++)for(var u=r;u<l;u++)c==d+"_"+u+"_"+i&&(this._tilesData[c]._inCurrentView=!0);for(var c in this._tilesData)this._tilesData[c]._inCurrentView?delete this._tilesData[c]._inCurrentView:(this._tilesData[c]=null,delete this._tilesData[c]);this._ctx.clearRect(0,0,this.ctxWidth,this.ctxHeight);for(var d=a;d<s;d++)for(var u=r;u<l;u++){var p=d+"_"+u+"_"+i,_=this._tilesData[p];_?this._drawFeatures(_,d,u,i,h):this._parseDataAndDraw(d,u,i,h)}}},_parseDataAndDraw:function(t,e,i,n){var o=this,a=o._map,r=o.buildingDataURLs,s=(t+e)%r.length,l="x="+t+"&y="+e+"&z="+i,h=a.guid.replace(/^TANGRAM_/,""),c=h+"building"+parseInt(t+""+e+i).toString(36),d=r[s]+"qt=hjpgvd&"+l+"&styles=pl&layers=bg&features=bd&f=mwebapp&v=001&udt=20130501&fn=BMap."+c,u=a.getCenter(),p=new Point(u.lng,u.lat),_=a.getZoom();BMap[c]=function(r){var s=r.content;if(s){var l=a.getCenter(),h=a.getZoom();if(!l.equals(p)||h!=_)return void delete BMap[c];var d=window.parseDataWithMbr(s);d&&(o._drawFeatures(d,t,e,i,n),o._tilesData[t+"_"+e+"_"+i]=d)}delete BMap[c]},DataMgr.request(d)},_drawFeatures:function(t,e,i,n,o){var a=this;o&&a._opts.firstScreenAnimation?a._drawBuildingsWithAnimation(t,e,i,n):a._drawBuildings(t,e,i,n,1)},_drawBuildingsWithAnimation:function(t,e,i,n){var o=this;t._ani=new Animation({fps:50,duration:200,render:function(a){o._drawBuildings(t,e,i,n,a)},finish:function(){t._ani=null}})},_drawBuildings:function(t,e,i,n,o){var a=this,r=a._map,s=a.mapWidth,l=a.mapHeight,h=r.getMapType(),c=h.getZoomUnits(n),d=r.mercatorCenter,u=a.tileSize,p=e*u-d.lng/c,_=(-1-i)*u+d.lat/c,g=a._ctx,m=t.length,f=0,v=window.arrFeatureStyles;for(g.save(),g.translate(p+s/2,_+l/2);f<m;f++){var y=t[f],b=v[y[3]];if(v[y[4]],4==b[0]){var x=y[1],w=b[3],P=y[2]*w*6*o,M=y[7],T=(M[0]+M[2])/2,C=(M[1]+M[3])/2,S=p+T,E=_+C,I=S/(s/2)*90,L=E/(l/2)*90;window.VectorDrawUtils.drawPolygon3D(g,x,P,I,L,"rgba(212,205,197,1)","rgba(235,233,228,1)","rgba(170,170,170,1)",1)}}g.restore()}}),baidu.extend(PanoramaTrafficLayer.prototype,{initialize:function(t,e){TileLayer.prototype.initialize.call(this,t,e),this._initVars(t),this._addEvents(),this._drawTrafficLayer();var i=this;this.interval=setInterval(function(){i._drawTrafficLayer()},6e4)},remove:function(){var t=this,e=this._map;TileLayer.prototype.remove.call(this),e.removeEventListener("zoomend",t.zoomendHandler),e.removeEventListener("moveend",t.moveendHandler),e.removeEventListener("resize",t.resizeHandler),clearInterval(this.interval)},_initVars:function(t){this._map=t,this._vectorDiv=this.tilesDiv,this.ratio=this._map.config.devicePixelRatio,this.tileSizeMargin=0},_addEvents:function(){var t=this,e=this._map;t.zoomendHandler=function(e){t._drawTrafficLayer(e)},t.moveendHandler=function(e){t._drawTrafficLayer(e)},t.resizeHandler=function(e){t._drawTrafficLayer(e)},e.addEventListener("zoomend",t.zoomendHandler),e.addEventListener("moveend",t.moveendHandler),e.addEventListener("resize",t.resizeHandler)},_drawTrafficLayer:function(t){var e=this._map,i=e.tileMgr,n=i.getTilesInfo(this._vectorDiv,"traffic",this.tileSizeMargin);this.isInitConfig||(this.isInitConfig=!0,n.length>0&&(this.tileSize=e.getMapType().getTileSize(),this.ctxSize=this.tileSize+this.tileSizeMargin));for(var o=0,a=n.length;o<a;o++)this._parseDataAndDraw(n[o][0],n[o][1],n[o][2])},_parseDataAndDraw:function(t,e,i){var n=this,o=n.map,a=o.getCenter(),r=new Point(a.lng,a.lat),s=o.getZoom();i._drawFinished=!1,DataMgr.ajax({url:this.trafficURL+"?x="+t+"&y="+e+"&z="+s,success:function(o){var a=n.map,l=a.getCenter(),h=a.getZoom();l.equals(r)&&h==s&&o.content&&o.content.tf&&n._drawFeatures(o.content.tf.roads,i,t,e,s)}})},_drawFeatures:function(t,e,i,n,o){var a=e.getContext("2d"),r=(this.getRGBA,this.getLineCap),s=this.getLineJoin;this.ratio>1&&!e._scale&&(a.scale(this.ratio,this.ratio),e._scale=!0),e._translate||(e._translate=!0,a.translate(this.tileSizeMargin/2,this.tileSizeMargin/2));for(var l=0,h=t.length;l<h;l++){var c=t[l],d=c.road,u=[2,"#0075c7",4,0,0,[],0,0],p=d[0]/10,_=d[1]/10;a.beginPath(),a.moveTo(p,_);for(var g=2,m=d.length;g<m;g+=2)p+=d[g]/10,_+=d[g+1]/10,a.lineTo(p,_);a.strokeStyle=u[1],a.lineWidth=3,a.lineCap=r(u[3]),a.lineJoin=s(u[4]),a.stroke()}e._drawFinished=!0},getRGBA:function(t){return"rgba("+((t>>>=0)>>24&255)+","+(t>>16&255)+","+(t>>8&255)+","+(255&t)/256+")"},getLineCap:function(t){return["butt","square","round"][t]},getLineJoin:function(t){return["miter","bevel","round"][t]}}),window._vector=2,window._clayer=1,baidu.extend(CustomLayer.prototype,{CUSTOM_DATA_LIST:{},CUSTOM_DATA_ID_LIST:[],SPOT_ON_ID:"",MOUSE_ON_TILE_ID:"",SUBMITTED_TILE_ID:"",CUSTOM_ICON:null,CUSTOM_MARKER:null,CUSTOM_LABEL:null,CURRENT_HOTSPOT_INFO:[],STATUS_SUCCESS:0,MOUSEMOVE_EVENT:function(){},HOTSPOT_OVER_EVENT:function(){},HOTSPOT_OUT_EVENT:function(){},_asyncSearch:function(){this._addMouseEvent()},initialize:function(t,e){TileLayer.prototype.initialize.call(this,t,e),this.CUSTOM_DATA_LIST={},this.CUSTOM_DATA_ID_LIST=[],this._map=t,this._addMouseEvent()},isTransparentPng:function(){return!0},remove:function(){TileLayer.prototype.remove.call(this),this._removeMouseEvent()},_addMouseEvent:function(){var t=this,e=t._map;e&&(this.MOUSEMOVE_EVENT=function(e){t._mouseMoveEvent(e)},this.HOTSPOT_OVER_EVENT=function(e){t._hotspotOverEvent(e)},this.HOTSPOT_OUT_EVENT=function(e){t._hotspotOutEvent(e)},e.addEventListener("mousemove",this.MOUSEMOVE_EVENT),e.addEventListener("onhotspotover",this.HOTSPOT_OVER_EVENT),e.addEventListener("onhotspotout",this.HOTSPOT_OUT_EVENT),e.addEventListener("onzoomstart",this.HOTSPOT_OUT_EVENT))},_removeMouseEvent:function(){var t=this,e=t._map;e&&(e.removeEventListener("mousemove",this.MOUSEMOVE_EVENT),e.removeEventListener("onhotspotover",this.HOTSPOT_OVER_EVENT),e.removeEventListener("onhotspotout",this.HOTSPOT_OUT_EVENT))},_mouseMoveEvent:function(t){var e=this,i=e._map,n=i.getMapType();if(i.getZoom()<this.minZoom||i.vectorMapEnabled())return void e._removeHotspots();var o=n.getProjection(),a=o.lngLatToPoint(t.point),r=n.getTileSize(),s=new Pixel(Math.floor(a.x*Math.pow(2,i.getZoom()-18)),Math.floor(a.y*Math.pow(2,i.getZoom()-18))),l=new Pixel(Math.floor(s.x/r),Math.floor(s.y/r)),h=l.x+"_"+l.y+"_"+i.getZoom();if(this.MOUSE_ON_TILE_ID=h,this.CUSTOM_DATA_LIST[h]){if(this.SPOT_ON_ID!=h){e._removeHotspots(),e._addHotspots(this.CUSTOM_DATA_LIST[h]),this.SPOT_ON_ID=h;for(var c=-1,d=0,u=this.CUSTOM_DATA_ID_LIST.length;d<u;d++)if(h==this.CUSTOM_DATA_ID_LIST[d]){c=d;break}c>=0&&(this.CUSTOM_DATA_ID_LIST.splice(c,c),this.CUSTOM_DATA_ID_LIST.push(h))}}else if(this.SUBMITTED_TILE_ID!=h){this.SUBMITTED_TILE_ID=h;var p=TILES_YUN_HOST[parseInt(Math.random()*TILES_YUN_HOST.length)],_=e._options,g=p+"/data?grids="+h+"&q="+_.q+"&tags="+_.tags+"&filter="+_.filter+"&sortby="+_.sortby+"&ak="+_.ak+"&page_size="+_.pointDensity+"&age="+_.age;e._geotableId?g+="&geotable_id="+e._geotableId:e._databoxId&&(g+="&databox_id="+e._databoxId);var m=(1e5*Math.random()).toFixed(0);!BMap._rd&&(BMap._rd={}),BMap._rd["_cbk"+m]=function(t){e._getTilesInfoBack(t),delete BMap._rd["_cbk"+m]},g+="&callback=BMap._rd._cbk"+m,DataMgr.request(g)}},_getTilesInfoBack:function(t){var e=this,i=e._map,n=t.content;if(t.status==this.STATUS_SUCCESS&&n&&!(n.length<1)){for(var o=[],a=n[0].data,r=i.getMapType().getProjection(),s=(e._options.hotspotBound,0),l=a.length;s<l;s++){var h=a[s][2].replace(CustomLayer._rpoint,"").split(","),c=r.mercatorToLngLat(new PointN(h[0],h[1]));o.push({pt:c,userdata:{name:a[s][0]||"name",size:a[s][4]?a[s][4].split("|"):[10,13],uid:a[s][1]||"",sid:a[s][3]||"sid1"}})}var d=n[0].grid.join("_");if(this.CUSTOM_DATA_LIST[d]=o,this.CUSTOM_DATA_ID_LIST.push(d),this.CUSTOM_DATA_ID_LIST.length>30){var u=this.CUSTOM_DATA_ID_LIST.shift();delete this.CUSTOM_DATA_LIST[u],delete u}this.SPOT_ON_ID!=this.MOUSE_ON_TILE_ID&&(e._removeHotspots(),this.CUSTOM_DATA_LIST[this.MOUSE_ON_TILE_ID]&&(e._addHotspots(this.CUSTOM_DATA_LIST[this.MOUSE_ON_TILE_ID]),this.SPOT_ON_ID=this.MOUSE_ON_TILE_ID))}},_addHotspots:function(t){for(var e=this._map,i=0,n=t.length;i<n;i++){var o=t[i].userdata.size,a=o[0]/2,r=o[1]/2,s=[r,a,r,a],l=new Hotspot(t[i].pt,{offsets:s,userData:t[i].userdata});e.addHotspot(l,this._options.hotspotName)}},_removeHotspots:function(){this._map.clearHotspots(this._options.hotspotName)},_hotspotOverEvent:function(t){if(t.spots&&!(t.spots.length<1)&&t.spots[0].tag==this._options.hotspotName){this.CURRENT_HOTSPOT_INFO=t.spots;var e=this,i=this.CURRENT_HOTSPOT_INFO[0].getUserData().size[0],n="",o=e._map,a=e._options.labelStyle;if(this.CURRENT_HOTSPOT_INFO.length>0&&(n=this.CURRENT_HOTSPOT_INFO[0].getUserData().name),this.CUSTOM_MARKER)this.CUSTOM_MARKER.setPosition(this.CURRENT_HOTSPOT_INFO[0].getPosition()),this.CUSTOM_LABEL.setContent(n),this.CUSTOM_LABEL.setOffset(new Size(i,0)),this.CUSTOM_MARKER.show(),n?this.CUSTOM_LABEL.show():this.CUSTOM_LABEL.hide();else{var r=this.CURRENT_HOTSPOT_INFO[0].getUserData().size,s=(this.CURRENT_HOTSPOT_INFO[0].getUserData().sid,this._geotableId||this._databoxId);this.CUSTOM_ICON=new Icon(MapConfig.imgPath+"blank.gif",new Size(r[0],r[1]),{anchor:new Size(r[0]/2+1,r[1]/2+1)}),this._getPoiIcon(s,"",function(){e.CUSTOM_MARKER&&e.CUSTOM_MARKER.setIcon(e.CUSTOM_ICON)}),this.CUSTOM_MARKER=new Marker(this.CURRENT_HOTSPOT_INFO[0].getPosition(),{icon:this.CUSTOM_ICON,enableMassClear:!1}),o.addOverlay(this.CUSTOM_MARKER),this.CUSTOM_LABEL=new Label(n,{offset:new Size(i,0)}),this.CUSTOM_LABEL.setStyle({backgroundColor:a.backgroundColor,borderColor:a.borderColor}),this.CUSTOM_MARKER.setLabel(this.CUSTOM_LABEL),n?this.CUSTOM_LABEL.show():this.CUSTOM_LABEL.hide(),this.CUSTOM_MARKER.addEventListener("onclick",function(){if(!(e.CURRENT_HOTSPOT_INFO.length<1)&&e.CURRENT_HOTSPOT_INFO[0].getUserData().uid){var t=e._options,i=t.hostForDetail;e._geotableId&&(i=t.hostForDetailV2);var n=i+e.CURRENT_HOTSPOT_INFO[0].getUserData().uid+"?scope=2&ak="+t.ak;e._geotableId&&(n+="&geotable_id="+e._geotableId);var o=(1e5*Math.random()).toFixed(0);!BMap._rd&&(BMap._rd={}),BMap._rd["_cbk"+o]=function(t){e._getPoiDetailBack(t),delete BMap._rd["_cbk"+o]},n+="&callback=BMap._rd._cbk"+o,DataMgr.request(n)}})}}},_getPoiDetailBack:function(t){var e=this,i=t.content;if(e._geotableId&&(i=t.contents[0]),t&&t.status==this.STATUS_SUCCESS&&i){var n={poiId:i.uid||"",databoxId:i.databox_id||"",title:this._geotableId?i.title:i.name,address:this._geotableId?i.address:i.addr,phoneNumber:i.tel||"",postcode:i.zip||"",provinceCode:1*i.province_id||-1,province:i.province||"",cityCode:1*i.city_id||-1,city:i.city||"",districtCode:1*i.district_id||-1,district:i.district||"",point:this._geotableId?new PointN(i.location[0],i.location[1]):new PointN(i.longitude,i.latitude),tags:i.tag&&i.tag.replace(CustomLayer._rtrim,"").split(CustomLayer._rspace),typeId:1*i.cla||-1,extendedData:i.ext||{}},o=new baidu.lang.Event("onhotspotclick");o.customPoi=n,o.content=i,this.dispatchEvent(o)}},_hotspotOutEvent:function(t){this.CUSTOM_MARKER&&this.CUSTOM_MARKER.hide(),this.CUSTOM_LABEL&&this.CUSTOM_LABEL.hide()},_getPoiIcon:function(t,e,i){var n=this,o=CUSTOM_POI_ICONURL+"?method=getstyle&databox="+t+"&sid="+e,a=(1e5*Math.random()).toFixed(0);n.CUSTOM_ICON&&n.CUSTOM_ICON.databoxid==t&&n.CUSTOM_ICON.sid==e||(!BMap._rd&&(BMap._rd={}),BMap._rd["_cbk"+a]=function(t){var e="";0==t.status&&(e="data:image/png;base64,"+t.content.sid1),e.length>0&&(n.CUSTOM_ICON.setImageUrl(e),i&&i(t)),delete BMap._rd["_cbk"+a]},o+="&callback=BMap._rd._cbk"+a,DataMgr.request(o))}}),window._clayer=2,window._marker=1,baidu.extend(OverlayInternal.prototype,{initialize:function(t){if(this.map=t,this._addDom(),this._bind(),this._menu&&this._menu.initialize(this.map,this),baidu.lang.Class.call(this,this.guid),this.domElement)return this.domElement.guid=this.guid,this._visible||baidu.dom.hide(this.domElement),this.domElement},_bind:function(){function t(t,e){var n=t.srcElement||t.target,o=t.clientX||t.pageX,a=t.clientY||t.pageY;if(t&&e&&o&&a&&n){var r=baidu.dom.getPosition(i.container),s=getScroll();return e.pixel=e.pixel=new Pixel(o-r.left+s[1],a-r.top+s[0]),e.point=i.pixelToPoint(e.pixel),e.pointN=i._pixelToPoint(e.pixel),e}return e}if(this.domElement){var e=this,i=this.map;baidu.on(this.domElement,"mouseover",function(i){e._dragstarted||e.dispatchEvent(t(i,new BaseEvent("onmouseover").inherit(i)))}),baidu.on(this.domElement,"mouseout",function(i){e._dragstarted||e.dispatchEvent(t(i,new BaseEvent("onmouseout").inherit(i)))}),e._config.clickable&&(baidu.on(this.domElement,"touchstart",function(t){e._bind._touchStartPos=new Pixel(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}),baidu.on(this.domElement,"touchend",function(i){var n=getCurrentTime(),o=new Pixel(i.changedTouches[0].clientX,i.changedTouches[0].clientY);if(Math.abs(o.x-e._bind._touchStartPos.x)>10||Math.abs(o.y-e._bind._touchStartPos.y)>10)return void(e._bind._touchStartPos=null);e.dispatchEvent(t(i,new BaseEvent("onclick").inherit(i))),n-e._dblclickTime<e.map.config.clickInterval&&e.dispatchEvent(t(i,new BaseEvent("ondblclick").inherit(i))),e._dblclickTime=n}),isMobile()||baidu.on(this.domElement,"click",function(i){for(var n=i.srcElement||i.target;n;){if(n===e.domElement){e instanceof Marker&&!(e instanceof Marker&&(!e._lastPt||e._lastPt&&e.getPosition().equals(e._lastPt)))||e.dispatchEvent(t(i,new BaseEvent("onclick").inherit(i)));break}if(e.map&&e.map.infoWindowDoms&&n===e.map.infoWindowDoms.popDom)break;n=n.parentNode}}),baidu.on(this.domElement,"dblclick",function(i){e.dispatchEvent(t(i,new BaseEvent("ondblclick").inherit(i))),stopAndPrevent(i)}),(!baidu.browser.firefox||baidu.browser.firefox<4)&&baidu.on(this.domElement,"contextmenu",function(i){e.dispatchEvent(t(i,new BaseEvent("onrightclick").inherit(i)))})),baidu.on(this.domElement,"mousedown",function(i){e instanceof Marker&&(e._lastPt=e.getPosition()),e.dispatchEvent(t(i,new BaseEvent("onmousedown").inherit(i)))}),baidu.on(this.domElement,"mouseup",function(i){e.dispatchEvent(t(i,new BaseEvent("onmouseup").inherit(i))),baidu.browser.firefox>=4&&2===i.button&&e._config.clickable&&e.dispatchEvent(t(i,new BaseEvent("onrightclick").inherit(i)))})}},hide:function(){!1!==this._visible&&(this._visible=!1,Overlay.prototype.hide.call(this),this.infoWindow&&this.infoWindow.overlay&&this.infoWindow.overlay===this&&this.closeInfoWindow())},show:function(){!0!==this._visible&&(this._visible=!0,Overlay.prototype.show.call(this))},setConfig:function(t){if(t)for(var e in t)typeof this._config[e]==typeof t[e]&&(this._config[e]=t[e])},setZIndex:function(t){var e=this;e.zIndex=t,e._updateDomZIndex()},_updateDomZIndex:function(){var t,e=this;if(isDefined(e.zIndex))t=e.zIndex;else if(t=0,e.map&&e.getPosition()){var i=e.getPosition()?e.getPosition().lat:0;t=Overlay.getZIndex(i)+(e._config.baseZIndex||0)}e.domElement&&(e.domElement.style.zIndex=t)},addContextMenu:function(t){this._menu=t,this.map&&t.initialize(this.map,this)},removeContextMenu:function(){this._menu.remove(),this._menu=null}}),exportSymbol(OverlayInternalP,{show:OverlayInternalP.show,hide:OverlayInternalP.hide,addContextMenu:OverlayInternalP.addContextMenu,removeContextMenu:OverlayInternalP.removeContextMenu});var DEFAULT_ICON_HD=new Icon(MapConfig.imgPath+"marker_red_hd.png",new Size(23,25),{anchor:new Size(10,25),infoWindowAnchor:new Size(10,0),imageSize:new Size(23,25)});Marker.TOP_ZINDEX=Overlay.getZIndex(-90)+1e6,Marker.DRAG_ZINDEX=Marker.TOP_ZINDEX+1e6,Marker._getAnimationName=function(t){if(Marker._cssAniNames[t])return Marker._cssAniNames[t];var e=Marker._cssAniNames[t]=["BMap_"+Math.round(1e4*Math.random()),"BMap_"+Math.round(1e4*Math.random())],i=MarkerAnimations[t],n=Marker._styleElement;return n||(n=Marker._styleElement=create("style",{type:"text/css"}),document.getElementsByTagName("head")[0].appendChild(n)),n.textContent+=Marker._generateAniCSS(i.iconAnis,e[0])+Marker._generateAniCSS(i.shadowAnis,e[1]),Marker._cssAniNames[t]},Marker._generateAniCSS=function(t,e){var i=["@-webkit-keyframes "+e+" {\\n"];return baidu.array.each(t,function(t){i.push(100*t.percent,"% { "),i.push("-webkit-transform: translate(",t.translate[0],"px,",t.translate[1],"px); "),i.push("-webkit-animation-timing-function: ",t.timingFunc,"; "),i.push("}\\n")}),i.push("}\\n"),i.join("")},Marker._addDragCrossImg=function(t,e){if(!Marker._dragCrossImg&&(Marker._dragCrossImg=create("img",{src:MapConfig.imgPath+"drag_cross.png",width:13,height:9}),Marker._dragCrossImg.style.position="absolute",6==baidu.browser.ie)){
delete Marker._dragCrossImg;var i=Marker._dragCrossImg=create("div"),n=i.style;n.position="absolute",n.width="13px",n.height="9px",n.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=image,src="'+MapConfig.imgPath+'drag_cross.png")'}var n=Marker._dragCrossImg.style;n.left=t.width-6+"px",n.top=t.height-5+"px",e.appendChild(Marker._dragCrossImg)},Marker._removeDragCrossImg=function(){Marker._dragCrossImg&&Marker._dragCrossImg.parentNode&&Marker._dragCrossImg.parentNode.removeChild(Marker._dragCrossImg)},Marker._cssAniNames=[],Marker._aniEndHandler=function(){this.style.WebkitAnimation=""},baidu.extend(Marker.prototype,{initialize:function(t){return this._initParam(),OverlayInternal.prototype.initialize.call(this,t),this._visible||baidu.dom.hide(this.siblingElement),this.point=this.map?gcjToBd09(this.point,this.map.config.coordsType):this.point,this.setPosition(this.point),this.setIcon(this._config.icon),this.setShadow(this._config.shadow),this.setRotation(this._config.rotation),this._config.label&&this._cfgLabelEvent&&this._config.label.addEventListener("remove",this._cfgLabelEvent),this.setLabel(this._config.label),this.setTitle(this._config.title),this._initDrag(),this.domElement},_initParam:function(){this._init||(this._init=!0,this.domElement=null,this.shadowElement=null,this.siblingElement=null,this.iconDom=null,this._isDragging=!1)},_addDom:function(){var t=this.map.getPanes();this.domElement=beforeEndHTML(t.markerMouseTarget,this._msTargetRender()),this.siblingElement=beforeEndHTML(t.markerPane,this._markerRender()),this.siblingElement.guid=this.guid},_msTargetRender:function(){var t=['<span class="BMap_Marker BMap_noprint" unselectable="on" '];return t.push(this._config.title?'title="'+this._config.title+'"':'"'),t.push(' style="position:absolute;padding:0;margin:0;border:0;width:0;height:0;-moz-user-select:none;'),t.push(this._config.clickable?"cursor:pointer;":""),t.push("background:url("+MapConfig.imgPath+"blank.gif);"),t.push("width:"+this._config.icon.size.width+"px;"),t.push("height:"+this._config.icon.size.height+"px;"),t.push('"></span>'),t.join("")},_markerRender:function(){var t=['<span class="BMap_Marker" unselectable="on" '];return t.push('style="position:absolute;padding:0;margin:0;border:0;'),t.push('width:0;height:0;-moz-user-select:none"></span>'),t.join("")},_shadowRender:function(){var t=['<span unselectable="on" '];return t.push('style="position:absolute;padding:0;margin:0;border:0;'),t.push('width:0;height:0;-moz-user-select:none"></span>'),t.join("")},draw:function(){if(this.domElement){var t=this._getPixPos();this.domElement.style.left=t[0].x+"px",this.domElement.style.top=t[0].y+"px",this.siblingElement&&(this.siblingElement.style.left=t[0].x+"px",this.siblingElement.style.top=t[0].y+"px"),this.shadowElement&&(this.shadowElement.style.left=t[1].x+"px",this.shadowElement.style.top=t[1].y+"px"),null!=this.infoWindow&&this.infoWindow.isOpen()&&this.infoWindow.setPosition(),this._updateDomZIndex()}},_getPixPos:function(){var t=this._config.offset||new Size(0,0),e=this._config.icon.anchor||new Size(0,0),i=this.map.pointToOverlayPixel(this.getPosition()),n=this.map.worldSize(this.map.getZoom());this.getPosition().lng<0&&(i.x+=n),this._config.left&&(i.x-=2*n),this._config.right&&(i.x-=n);var o=new Pixel(i.x+t.width-e.width,i.y+t.height-e.height),a=[o];if(this._config.shadow){var r=this._config.shadow.anchor||new Size(0,0),s=new Pixel(i.x+t.width-r.width,i.y+t.height-r.height);a[1]=s}return a},_draw:function(){this.map?(this.domElement=this.initialize(this.map),this._animation&&(this.setAnimation(this._animation),delete this._animation)):delete this._animation},remove:function(){if(this.setAnimation(null),this.siblingElement&&this.siblingElement.parentNode&&this.siblingElement.parentNode.removeChild(this.siblingElement),this.shadowElement&&this.shadowElement.parentNode&&this.shadowElement.parentNode.removeChild(this.shadowElement),this.infoWindow&&this.infoWindow.overlay&&this.infoWindow.overlay===this&&(this.closeInfoWindow(),this.infoWindow=null),this.siblingElement=null,this.shadowElement=null,this.iconDom=null,this.shadowDom=null,this._config.label){var t=this._config.label;t.removeEventListener("remove",this._cfgLabelEvent),baidu.lang.decontrol(t.guid),t.setMarker(null),t.domElement=null,t=this._config.label=null}OverlayInternal.prototype.remove.call(this)},hide:function(){OverlayInternal.prototype.hide.call(this),this.domElement&&baidu.dom.hide(this.domElement),this.siblingElement&&baidu.dom.hide(this.siblingElement),this.shadowElement&&baidu.dom.hide(this.shadowElement)},show:function(){OverlayInternal.prototype.show.call(this),this.domElement&&baidu.dom.show(this.domElement),this.siblingElement&&baidu.dom.show(this.siblingElement),this.shadowElement&&baidu.dom.show(this.shadowElement)},setIcon:function(t){if((t instanceof Icon||t instanceof Symbol)&&(this._config.icon=t,this.map&&this.domElement&&this.siblingElement)){this.map;try{this.iconDom&&(this.siblingElement.removeChild(this.iconDom),this.iconDom=null),this.domElement.style.width=t.size.width+"px",this.domElement.style.height=t.size.height+"px"}catch(t){}if(this._config.icon){var e=this.iconDom=create(t instanceof Icon?"div":"canvas"),i=e.style;i.position="absolute",i.padding=i.margin="0",i.width=t.size.width+"px",i.height=t.size.height+"px",i.overflow="hidden",t instanceof Symbol?(e.width=t.size.width,e.height=t.size.height,t._draw(e)):(e.innerHTML=t.getHTML(),e.galleryImg=!1),this.siblingElement.appendChild(this.iconDom)}this.draw()}},setShadow:function(t){if(t instanceof Icon&&(this._config.shadow=t,this.map&&this.domElement&&this.siblingElement)){this.shadowElement||(this.shadowElement=beforeEndHTML(this.map.getPanes().markerShadow,this._shadowRender())),this.map;try{this.shadowDom&&(this.shadowElement.removeChild(this.shadowDom),this.shadowDom=null),this.shadowElement.style.width=t.size.width+"px",this.shadowElement.style.height=t.size.height+"px"}catch(t){}if(this._config.shadow){var e=this.shadowDom=create("div"),i=e.style;i.position="absolute",i.padding=i.margin="0",i.width=t.size.width+"px",i.height=t.size.height+"px",i.overflow="hidden",e.innerHTML=t.getHTML(),e.galleryImg=!1,this.shadowElement.appendChild(this.shadowDom)}this.draw()}},setLabel:function(t){if(t&&t instanceof Label){var e=this;ModuleMgr.load("marker",function(){e._setLabel(t)},!0)}},_setLabel:function(t){if(t instanceof Label){this._config.label=t;var e=this;if(this._config.label._binded||(this._config.label._binded=!0,this._cfgLabelEvent=function(){e._config.label=null},this._config.label.addEventListener("remove",this._cfgLabelEvent)),this.map){t._i(this.map),t.domElement?this.siblingElement.appendChild(t.domElement):(t.domElement=beforeEndHTML(this.domElement,t.render()),t.domElement.guid=t.guid);var i=t.domElement.style;i.left=t._config.offset.width+"px",i.top=t._config.offset.height+"px",t.setMarker(this)}}},_initDrag:function(){function t(t,e){return e.pixel=e.pixel=t.pixel,e.point=e.point=t.point,e}function e(t){var e=t.clientX,i=t.clientY;return t.changedTouches&&(e=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY),new Pixel(e,i)}if(this.domElement&&!this.domElement._binded){this.domElement._binded=!0;var i=this.map,n=this,o=0,a=0,r=0,s={x:0,y:0};this.dragStart=function(t){if(n._config.enableDragging&&2!=t.button){n._isDragging=!0;var s=i.pointToPixel(n.point),l=e(t);o=l.x-s.x,a=l.y-s.y,r=getCurrentTime(),n.map&&n.map.temp&&(n.map.temp._draggingMarker=n),baidu.on(n.map.platform,"mousemove",n.dragIng),baidu.on(n.map.platform,"mouseup",n.dragEnd),baidu.on(n.map.platform,"touchmove",n.dragIng),baidu.on(n.map.platform,"touchend",n.dragEnd),n.domElement&&n.domElement.setCapture&&n.domElement.setCapture(),n.domElement.style.cursor=n._config.draggingCursor,"touchstart"==t.type&&stopBubble(t)}},this.dragIng=function(r){if(n._isDragging){var l=e(r),h=new Pixel(l.x-o,l.y-a);if(s=h,n._draggingMovePixel=h,n._config.restrictDraggingArea&&h.x>15&&h.x<n.map.width-15&&h.y>30&&h.y<n.map.height-15||!n._config.restrictDraggingArea){var c=n.map.pixelToPoint(h),d=n.map._pixelToPoint(h),u={pixel:h,point:c,pointN:d};n._panByX=n._panByY=0,h.x<=20||h.x>=n.map.width-20||h.y<=50||h.y>=n.map.height-10?(h.x<=20?n._panByX=8:h.x>=n.map.width-20&&(n._panByX=-8),h.y<=50?n._panByY=8:h.y>=n.map.height-10&&(n._panByY=-8),n._draggingMoveTimer||(n._draggingMoveTimer=setInterval(function(){i.panBy(n._panByX,n._panByY,{noAnimation:!0});var t=i.pixelToPoint(n._draggingMovePixel);n.setPosition(t)},30))):(n._draggingMoveTimer&&(clearInterval(n._draggingMoveTimer),n._draggingMoveTimer=null),n.setPosition(c)),n._dragstarted||(n.dispatchEvent(t(u,new BaseEvent("ondragstart"))),n._dragstarted=!0,n._config.raiseOnDrag&&(n.setAnimation(3),Marker._addDragCrossImg(n._config.icon.anchor,n.siblingElement))),n.dispatchEvent(t(u,new BaseEvent("ondragging")))}}},this.dragEnd=function(e){n.domElement&&n.domElement.releaseCapture&&n.domElement.releaseCapture(),n._isDragging=!1,n.map&&n.map.temp&&(n.map.temp._draggingMarker=null),baidu.un(document,"mousemove",n.dragIng),baidu.un(document,"mouseup",n.dragEnd),baidu.un(document,"touchmove",n.dragIng),baidu.un(document,"touchend",n.dragEnd),o=a=0,n._draggingMoveTimer&&(clearInterval(n._draggingMoveTimer),n._draggingMoveTimer=null),getCurrentTime()-r>=100&&(s.x>2||s.y>2)&&(n._dragstarted=!1,n.dispatchEvent(t({pixel:n.map.pointToPixel(n.getPosition()),point:n.getPosition(),pointN:n._getPosition()},new BaseEvent("ondragend"))),n._config.raiseOnDrag&&(n.setAnimation(4),Marker._removeDragCrossImg()),s.x=s.y=0),n._updateDomZIndex(),n.domElement&&(n.domElement.style.cursor=n._config.clickable?"pointer":"")},baidu.on(this.domElement,"mousedown",this.dragStart),baidu.on(this.domElement,"touchstart",this.dragStart)}},setPosition:function(t){var t=this.map?gcjToBd09(t,this.map.config.coordsType):t;(t instanceof Point||t instanceof PointN)&&(this.point=this._config.point=new PointN(t.lng,t.lat),this.draw())},_updateDomZIndex:function(){var t,e=this;1==e._isDragging?t=Marker.DRAG_ZINDEX:1==e._config.isTop?t=Marker.TOP_ZINDEX+(e._addi||0):isDefined(e.zIndex)?t=e.zIndex:(t=0,e.map&&e._getPosition()&&(t=Overlay.getZIndex(e._getPosition().lat)+e._config.baseZIndex)),e.domElement&&(e.domElement.style.zIndex=t),e.siblingElement&&(e.siblingElement.style.zIndex=t)},setTop:function(t,e){this._config.isTop=!!t,t&&(this._addi=e||0),this._updateDomZIndex()},setTitle:function(t){this._config.title=t+"",this.domElement&&(this.domElement.title=this._config.title)},setOffset:function(t){t instanceof Size&&(this._config.offset=t,this.setPosition(this.getPosition()))},setAnimation:function(t){var e=this;ModuleMgr.load("markeranimation",function(){e._setAnimation(t)},!0)},_setAnimation:function(t){if(this.iconDom){this._clearAnimation(null!=t);var e=MarkerAnimations[t];if(e){var i=!!e&&e.options.useJS;!isMobile()||i?this._execJSAnimation(t):this._execCSSAnimation(t)}}},_clearAnimation:function(t){if(this._clearCSSAni(this.iconDom),this._clearCSSAni(this.shadowDom),t)this._aniObj&&(this._aniObj.stop(),this._aniObj=null),this.iconDom.style.top=this.iconDom.style.left="0px",this.shadowDom&&(this.shadowDom.style.top=this.shadowDom.style.left="0px");else if(this._aniObj){var e=this;this._aniObj.setFinishCallback(function(){e._aniObj=null})}},_execCSSAnimation:function(t){var e=MarkerAnimations[t],i=Marker._getAnimationName(t);this._setCSSAniStyle(this.iconDom,i[0],e),this._setCSSAniStyle(this.shadowDom,i[1],e)},_clearCSSAni:function(t){t&&(t.style.WebkitAnimation="",baidu.un(t,"webkitAnimationEnd",Marker._aniEndHandler))},_setCSSAniStyle:function(t,e,i){t&&(baidu.on(t,"webkitAnimationEnd",Marker._aniEndHandler),t.style.WebkitAnimation=e+" "+i.options.duration+"ms"+(i.options.loop==Animation.INFINITE?" infinite":""))},_execJSAnimation:function(t){var e,i=this.iconDom.style,n=!1;this.shadowDom&&(n=!0,e=this.shadowDom.style);var o=MarkerAnimations[t],a=this,r=o.iconAnis.length,s=o.options.duration,l=a._aniObj=new Animation({duration:0,delay:Animation.INFINITE}),h=o.iconAnis,c=o.shadowAnis;i.top=h[0].translate[1]+"px",n&&(e.left=c[0].translate[0]+"px",e.top=c[0].translate[1]+"px");for(var d=1;d<r;d++)!function(){var t=[h[d].translate[0]-h[d-1].translate[0],h[d].translate[1]-h[d-1].translate[1]],e=[h[d-1].translate[0],h[d-1].translate[1]];if(n)var i=[c[d].translate[0]-c[d-1].translate[0],c[d].translate[1]-c[d-1].translate[1]],u=[c[d-1].translate[0],c[d-1].translate[1]];var p=Transitions[h[d-1].timingFunc],_=function(){};d==r-1&&(_=o.options.loop!=Animation.INFINITE?function(){a._aniObj=null}:function(){a._aniObj.start()}),l.add(new Animation({duration:(o.iconAnis[d].percent-h[d-1].percent)*s,fps:40,delay:Animation.INFINITE,transition:p,render:function(o){a.iconDom&&(a.iconDom.style.top=e[1]+Math.round(o*t[1])+"px"),n&&a.shadowDom&&(a.shadowDom.style.left=u[0]+Math.round(o*i[0])+"px",a.shadowDom.style.top=u[1]+Math.round(o*i[1])+"px")},finish:_}))}();l.start()},setRotation:function(t){if(t&&(this._config.rotation=t,this.map&&this.domElement&&this.siblingElement)){this.map;try{if(this.iconDom){var e=this.iconDom,i=e.style;i.webkitTransform="rotate("+this._config.rotation+"deg)",i.mozTransform="rotate("+this._config.rotation+"deg)",i.transform="rotate("+this._config.rotation+"deg)";var n=Math.cos(this._config.rotation/180*Math.PI),o=-Math.sin(this._config.rotation/180*Math.PI),a=Math.sin(this._config.rotation/180*Math.PI),r=Math.cos(this._config.rotation/180*Math.PI);i.filter="progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand',M11="+n+",M12= "+o+",M21= "+a+",M22="+r+")",i.msFilter="progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand',M11="+n+",M12= "+o+",M21= "+a+",M22="+r+")",i.webkitTransformOrigion="bottom 50%",i.mozTransformOrigion="bottom 50%",i.transformOrigion="bottom 50%"}if(this.shadowDom){var s=this.shadowDom,i=s.style;i.webkitTransform="rotate("+this._config.rotation+"deg)",i.mozTransform="rotate("+this._config.rotation+"deg)",i.transform="rotate("+this._config.rotation+"deg)";var n=Math.cos(this._config.rotation/180*Math.PI),o=-Math.sin(this._config.rotation/180*Math.PI),a=Math.sin(this._config.rotation/180*Math.PI),r=Math.cos(this._config.rotation/180*Math.PI);i.filter="progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand',M11="+n+",M12= "+o+",M21= "+a+",M22="+r+")",i.msFilter="progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand',M11="+n+",M12= "+o+",M21= "+a+",M22="+r+")",i.WebkitTransformOrigion="bottom 50%",i.mozTransformOrigion="bottom 50%",i.transformOrigion="bottom 50%"}}catch(t){}}}}),exportSymbol(MarkerP,{setIcon:MarkerP.setIcon,setPosition:MarkerP.setPosition,setOffset:MarkerP.setOffset,setLabel:MarkerP.setLabel,setTitle:MarkerP.setTitle,setTop:MarkerP.setTop,setAnimation:MarkerP.setAnimation,setShadow:MarkerP.setShadow,show:MarkerP.show,hide:MarkerP.hide,remove:MarkerP.remove,setRotation:MarkerP.setRotation,getRotation:MarkerP.getRotation}),Icon.prototype.getHTML=function(){var t="",e="",i=this.imageUrl,n=this.imageOffset,o=this.imageSize;if(6==baidu.browser.ie&&i.toLowerCase().indexOf(".png")>0){var e=["<div"];this.printImageUrl&&e.push(' class="BMap_noprint"'),e.push(' style="width: 1px; height: 1px;'),e.push("; left:"+n.width+"px"),e.push("; top:"+n.height+"px"),e.push("; filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=image,src='"+i+"')"),e.push('; position:absolute;"></div>'),this.printImageUrl&&(e.push('<img class="BMap_noscreen" style="display: block; border:none;margin-left:'+n.width+"px;"),e.push("margin-top:"+n.height+'px;" src="'+this.printImageUrl+'" />')),t=e.join("")}else e=['<img src="',i,'" style="display: block; border:none;margin-left:'+n.width+"px","; margin-top:"+n.height+"px","; "],o&&e.push("; width:"+o.width+"px; height:"+o.height+"px;"),e.push('" />'),t=e.join("");return t},baidu.extend(Label.prototype,{_addDom:function(){var t=this._config,e=this.content,i=create("label",{class:"BMapLabel",unselectable:"on"});t.title&&(i.title=t.title);var n=i.style;return n.position="absolute",n.MozUserSelect="none",0==t.width||"auto"==t.width?n.display="inline":(n.width=t.width+"px",n.display="block",n.overflow="hidden"),"true"==t.clickable?n.cursor="pointer":baidu.browser.ie||(n.cursor="inherit"),i.innerHTML=e,this.map.getPanes().labelPane.appendChild(i),this.domElement=i,this.setStyle(t.styles),i},setPosition:function(t){var t=this.map?gcjToBd09(t,this.map.config.coordsType):t;(t instanceof Point||t instanceof PointN)&&!this.getMarker()&&(this.point=this._config.position=new PointN(t.lng,t.lat),this.draw())},draw:function(){if(this.domElement&&this.getPosition()&&!this.getMarker()){var t=this._config.offset||new Size(0,0),e=this.map.pointToOverlayPixel(this.getPosition()),i=this.map.worldSize(this.map.getZoom());this._config.left&&(e.x-=i),this._config.right&&(e.x+=i),this.domElement.style.left=e.x+t.width+"px",this.domElement.style.top=e.y+t.height+"px",this._updateDomZIndex()}},_draw:function(){this.map&&!this._marker&&(this.domElement=this.initialize(this.map),this.draw())},setContent:function(t){this.content=t,this.domElement&&(this.domElement.innerHTML=t)},setOpacity:function(t){if(t>=0&&t<=1&&(this._config.opacity=t),this.domElement){var e=this.domElement.style;e.opacity=t,e.filter="alpha(opacity="+100*t+")"}},setOffset:function(t){t instanceof Size&&(this._config.offset=new Size(t.width,t.height),this.getMarker()&&this.domElement?(this.domElement.style.left=t.width+"px",this.domElement.style.top=t.height+"px"):this.draw())},setStyle:function(t){if(t=t||{},this._config.styles=baidu.extend(this._config.styles,t),this.domElement)for(var e in t)try{this.domElement.style[e]=t[e]}catch(t){}},setTitle:function(t){this._config.title=t+"",this.domElement&&(this.domElement.title=this._config.title)}}),exportSymbol(LabelP,{setStyle:LabelP.setStyle,setContent:LabelP.setContent,setPosition:LabelP.setPosition,setOffset:LabelP.setOffset,setTitle:LabelP.setTitle}),window._marker=2,window._symbol=1;var SHAPE_OBJECT={14:"m-0.00573,-10c-5.51975,0 -9.99427,4.47453 -9.99427,9.99428c0,5.51974 4.47452,9.99425 9.99427,9.99425c5.51972,0 9.99426,-4.47452 9.99426,-9.99425c0,-5.51975 -4.47453,-9.99428 -9.99426,-9.99428zm0,17.92491c-4.37412,0 -7.93132,-3.55788 -7.93132,-7.93063c0,-4.37345 3.5572,-7.93134 7.93132,-7.93134c4.37411,0 7.93062,3.55721 7.93062,7.93134c0,4.37412 -3.55789,7.93063 -7.93062,7.93063zm-0.00068,-15.4088c-0.38027,0 -0.68696,0.30807 -0.68696,0.68765l0,6.34078l-4.15752,1.81815c-0.34794,0.15266 -0.50611,0.55837 -0.35344,0.90632c0.11278,0.25787 0.36445,0.4119 0.6292,0.4119c0.09214,0 0.18635,-0.01857 0.27575,-0.05845l4.55635,-1.99279c0.00344,-0.00137 0.00619,-0.00275 0.00894,-0.00412l0.00275,-0.00138c0.01032,-0.00413 0.01581,-0.01376 0.02545,-0.01719c0.07151,-0.03576 0.13821,-0.07771 0.19185,-0.1341c0.02337,-0.02338 0.03644,-0.05364 0.05431,-0.08045c0.03301,-0.04401 0.06946,-0.08733 0.0894,-0.14028c0.0165,-0.04126 0.01787,-0.08596 0.02613,-0.12997c0.00894,-0.04469 0.02614,-0.08389 0.02614,-0.1286l0,-6.7905c0,-0.37889 -0.30807,-0.68697 -0.68833,-0.68697z",13:"m-0.00706,-9.5c-5.24281,0 -9.49294,4.25065 -9.49294,9.49294c0,5.24331 4.25014,9.49294 9.49294,9.49294c5.24281,0 9.49294,-4.24964 9.49294,-9.49294c0,-5.2423 -4.25013,-9.49294 -9.49294,-9.49294zm3.08857,3.85997c0.61044,0 1.10279,0.96873 1.10279,2.16271s-0.49384,2.1647 -1.10279,2.1647c-0.60844,0 -1.10228,-0.96873 -1.10228,-2.16372s0.49434,-2.16369 1.10228,-2.16369zm-6.28628,0c0.60844,0 1.10228,0.96873 1.10228,2.16271s-0.49284,2.1647 -1.10228,2.1647s-1.10277,-0.96873 -1.10277,-2.16372s0.49383,-2.16369 1.10277,-2.16369zm3.21167,12.16493c-1.87667,0 -3.63373,-1.14814 -5.14663,-3.14239c1.56571,1.02156 3.27993,1.59064 5.07786,1.59064c1.90905,0 3.72343,-0.63985 5.36539,-1.78497c-1.54429,2.11685 -3.35767,3.33672 -5.29662,3.33672l-0.00001,0z",12:"m9.27295,5.92958l-2.64443,-4.57961c-0.79727,-1.37992 -2.10131,-3.63983 -2.8986,-5.01973l-2.64441,-4.57858c-0.79782,-1.38093 -2.10186,-1.38093 -2.89913,0l-2.64335,4.57858c-0.79728,1.3799 -2.10188,3.63981 -2.89916,5.01973l-2.64387,4.57961c-0.79728,1.38101 -0.14472,2.50988 1.44983,2.50988l16.37221,0c1.59561,0 2.24711,-1.12887 1.45091,-2.50988l0,0zm-8.88166,0.70811l-1.56837,0l0,-1.50484l1.56837,0l0,1.50484zm-0.07527,-2.61447l-1.41621,0l-0.14044,-6.44231l1.68427,0l-0.12761,6.44231l0,0z",11:"m8.08295,-6.56414l-3.59319,0l0,-1.43586l-8.98155,0l0,1.43586l-3.59321,0c-1.0569,0 -1.915,0.85509 -1.915,1.91159l0,9.92258c0,1.05357 0.8581,1.91158 1.915,1.91158l16.16796,0c1.05692,0 1.91501,-0.85801 1.91501,-1.91158l0,-9.92258c0,-1.0565 -0.85809,-1.91159 -1.91501,-1.91159l0,0zm-8.08397,12.66884c-3.20143,0 -5.80643,-2.60031 -5.80643,-5.79596c0,-3.19569 2.605,-5.79891 5.80643,-5.79891s5.80789,2.60322 5.80789,5.79891c0,3.19565 -2.60794,5.79596 -5.80789,5.79596zm0,-9.6804c-2.15036,0 -3.89142,1.7394 -3.89142,3.88444c0,2.14503 1.74252,3.8844 3.89142,3.8844c2.1489,0 3.89141,-1.73937 3.89141,-3.8844c0,-2.14503 -1.74105,-3.88444 -3.89141,-3.88444z",10:"m0,-10c-0.20885,0 -0.39491,0.08583 -0.55177,0.24149c-0.15674,0.15536 -0.28646,0.37838 -0.39429,0.65665c-0.21586,0.55655 -0.34853,1.33844 -0.42114,2.27477c-0.07231,0.93446 -0.08474,2.02273 -0.05447,3.18765c-2.58175,1.05925 -7.81787,3.24648 -8.23854,3.73474c-0.56001,0.65029 -0.37908,1.3954 -0.15331,1.89002l8.608,-1.75235c0.18202,2.28374 0.4407,4.5455 0.66615,6.31771c-0.8418,0.24646 -2.41323,0.73303 -2.73754,1.03474c-0.4469,0.41562 -0.4469,1.75793 -0.4469,1.75793l3.52318,-0.28665c0.08286,0.57874 0.13486,0.9163 0.13486,0.9163l0.00511,0.03042l0.02778,0l0.06486,0l0.02778,0l0.00511,-0.03042c0,0 0.05185,-0.33756 0.13486,-0.9163l3.52424,0.28665c0,0 0,-1.34231 -0.44688,-1.75793c-0.32446,-0.30172 -1.89697,-0.7895 -2.73847,-1.0358c0.22484,-1.76681 0.4832,-4.02001 0.66507,-6.29634l8.50712,1.73203c0.22561,-0.49462 0.40765,-1.23973 -0.15237,-1.89002c-0.41538,-0.48221 -5.52504,-2.62071 -8.1386,-3.69423c0.03119,-1.17999 0.01971,-2.28285 -0.05353,-3.22816l0,-0.00233c-0.07263,-0.93523 -0.20545,-1.71635 -0.42114,-2.27244c-0.10784,-0.27827 -0.23634,-0.50114 -0.3932,-0.65665c-0.15689,-0.15567 -0.34293,-0.24149 -0.55195,-0.24149l0,0l0,0l0,0l0.00001,0l0,0l-0.00003,0.00001z",3:"m-10,0l10,-10l10,10l-10,10l-10,-10z",5:"M0,0 L-5,-15 0,-10 5,-15 z",6:"M0,0 L5,15 0,10 -5,15z",7:"M-5,-15 L0,0 5,-15",8:"M-5,15 L0,0 5,15",9:"m0,-24c-4.4183,0 -8,3.58167 -8,8c0,1.42102 0.3816,2.75 1.0312,3.90601c0.1079,0.19202 0.221,0.38098 0.3438,0.56299l6.625,11.53101l6.625,-11.53101c0.102,-0.151 0.19,-0.31097 0.281,-0.46899l0.063,-0.09399c0.649,-1.15601 1.031,-2.48499 1.031,-3.90601c0,-4.41833 -3.582,-8 -8,-8zm0,4c2.209,0 4,1.79089 4,4c0,2.20898 -1.791,4 -4,4c-2.2091,0 -4,-1.79102 -4,-4c0,-2.20911 1.7909,-4 4,-4z"};baidu.extend(Symbol.prototype,{_buildPath:function(){var t=this,e=t._rawPath;switch(SHAPE_OBJECT[e]&&(e=SHAPE_OBJECT[e]),e){case BMap_Symbol_SHAPE_CIRCLE:var i=t._calSize(2),n=i,o=t.style.scale,a=t._anchor;return this.size=new Size(i,n),this.anchor=new Size(i/2+a.width*o,n/2+a.height*o),void(t.path=BMap_Symbol_SHAPE_CIRCLE);case BMap_Symbol_SHAPE_RECTANGLE:var i=t._calSize(4),n=t._calSize(2),a=t._anchor,r=t.style.strokeWeight?t.style.strokeWeight:t.style.scale,o=t.style.scale;this.size=new Size(i,n);this._originOffset=new Size(Math.floor(-r/2),Math.floor(-r/2));return this.anchor=new Size(i/2+a.width*o,n/2+a.height*o),void(t.path=BMap_Symbol_SHAPE_RECTANGLE);case BMap_Symbol_SHAPE_STAR:var i=t._calSize(20),n=i,a=t._anchor,o=t.style.scale;return this.size=new Size(i,n),this.anchor=new Size(i/2+a.width*o,n/2+a.height*o),void(t.path=BMap_Symbol_SHAPE_STAR);default:var e=new BMap.CanvablePath(e),s=e.bounds(),l=t.style.rotation*Math.PI/180,r=t.style.strokeWeight?t.style.strokeWeight:t.style.scale,o=t.style.scale,a=t._anchor,h=new Size(Math.floor(s.x1*o-r/2),Math.floor(s.y1*o-r/2)),c={topleft:new Pixel(Math.floor(s.x1*o-r/2)-o*a.width,Math.floor(s.y1*o-r/2)-o*a.height),bottomleft:new Pixel(Math.floor(s.x1*o-r/2)-o*a.width,Math.ceil(s.y2*o-r/2)-o*a.height),topright:new Pixel(Math.ceil(s.x2*o+r/2)-o*a.width,Math.floor(s.y1*o-r/2)-o*a.height),bottomright:new Pixel(Math.ceil(s.x2*o+r/2)-o*a.width,Math.ceil(s.y2*o+r/2)-o*a.height)},d={},u=[],p=[];0===c.topleft.x||Math.atan(c.topleft.y/c.topleft.x);for(var _ in c){var g=Math.cos(l)*c[_].x-Math.sin(l)*c[_].y,m=Math.sin(l)*c[_].x+Math.cos(l)*c[_].y;d[_]=new Pixel(g,m),u.push(g),p.push(m)}xmax=Math.max.apply(Math,u),ymax=Math.max.apply(Math,p),xmin=Math.min.apply(Math,u),ymin=Math.min.apply(Math,p);this.size=new Size(Math.ceil(xmax-xmin),Math.ceil(ymax-ymin)),this.anchor=new Size(-xmin,-ymin),this._originOffset=new Size(xmin-d.topleft.x,ymin-d.topleft.y),this._innerOffset=new Pixel(h.width,h.height);return this._rotationAngle=l,void(t.path=e)}},_calSize:function(t){return this.style.strokeWeight?t*this.style.scale+this.style.strokeWeight%3+this.style.strokeWeight:t*this.style.scale+this.style.scale+this.style.scale%2},_draw:function(t){var e,i=this,n=this.style.scale;switch(size=this.size,this._iconDom=t,t.getContext&&t.getContext("2d")?(e=this._ctx=t.getContext("2d"),e.fillStyle=baidu.colorConverter.convert2rgba(i.style.fillColor,i.style.fillOpacity),e.strokeStyle=baidu.colorConverter.convert2rgba(i.style.strokeColor,i.style.strokeOpacity)):(e=new BMap.VMLContext(t),e.fillStyle={color:baidu.colorConverter.all2hex(i.style.fillColor),alpha:i.style.fillOpacity},e.strokeStyle={color:baidu.colorConverter.all2hex(i.style.strokeColor),alpha:i.style.strokeOpacity}),e.lineCap="round",e.lineJoin="round",e.lineWidth=i.style.strokeWeight||n,i._originOffset&&e.translate(-i._originOffset.width,-i._originOffset.height),i._rotationAngle&&e.rotate(i._rotationAngle),i._innerOffset&&e.translate(-i._innerOffset.x,-i._innerOffset.y),i.path){case BMap_Symbol_SHAPE_CIRCLE:e.arc(size.width/2,size.height/2,n,0,2*Math.PI);break;case BMap_Symbol_SHAPE_RECTANGLE:e.rect(0,0,4*n,2*n);break;case BMap_Symbol_SHAPE_STAR:e.beginPath();for(var o=size.width/2,a=10*n,r=2*Math.PI/10,s=11;0!=s;s--){var l=a*(s%2+1)/2,h=r*s;e.lineTo(l*Math.sin(h)+o,l*Math.cos(h)+o)}e.closePath();break;default:e.lineWidth=e.lineWidth/n,e.scale(n,n),i.path.draw(e)}e.fill(),e.stroke()},setPath:function(t){this._rawPath=t,this._buildPath()},setAnchor:function(t){this._anchor=this.style.anchor=t,this._buildPath()},setRotation:function(t){this.style.rotation=t,this._buildPath()},setScale:function(t){this.style.scale=t,this._buildPath()},setStrokeWeight:function(t){this.style.strokeWeight=t,this._buildPath()}}),window._symbol=2,window._vmlcontext=1;var Z=10,Z2=Z/2,VMLcontextPrototype=VMLContext.prototype;VMLcontextPrototype.clearRect=function(){this.element_.innerHTML=""},VMLcontextPrototype.beginPath=function(){this.currentPath_=[]},VMLcontextPrototype.moveTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},VMLcontextPrototype.lineTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},VMLcontextPrototype.bezierCurveTo=function(t,e,i,n,o,a){var r=this.getCoords_(o,a);bezierCurveTo(this,this.getCoords_(t,e),this.getCoords_(i,n),r)},VMLcontextPrototype.quadraticCurveTo=function(t,e,i,n){var o=this.getCoords_(t,e),a=this.getCoords_(i,n),r={x:this.currentX_+2/3*(o.x-this.currentX_),y:this.currentY_+2/3*(o.y-this.currentY_)};bezierCurveTo(this,r,{x:r.x+(a.x-this.currentX_)/3,y:r.y+(a.y-this.currentY_)/3},a)},VMLcontextPrototype.arc=function(t,e,i,n,o,a){i*=Z;var r=a?"at":"wa",s=t+Math.cos(n)*i-Z2,l=e+Math.sin(n)*i-Z2,h=t+Math.cos(o)*i-Z2,c=e+Math.sin(o)*i-Z2;s!=h||a||(s+=.125);var d=this.getCoords_(t,e),u=this.getCoords_(s,l),p=this.getCoords_(h,c);this.currentPath_.push({type:r,x:d.x,y:d.y,radius:i,xStart:u.x,yStart:u.y,xEnd:p.x,yEnd:p.y})},VMLcontextPrototype.rect=function(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()},VMLcontextPrototype.stroke=function(t){var e=[],i=t?this.fillStyle:this.strokeStyle,n=i.color,o=i.alpha;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*Z," ",10*Z,'"',' stroked="',!t,'"',' path="');for(var a={x:null,y:null},r={x:null,y:null},s=0;s<this.currentPath_.length;s++){var l=this.currentPath_[s];switch(l.type){case"moveTo":l,e.push(" m ",Math.round(l.x),",",Math.round(l.y));break;case"lineTo":e.push(" l ",Math.round(l.x),",",Math.round(l.y));break;case"close":e.push(" x "),l=null;break;case"bezierCurveTo":e.push(" c ",Math.round(l.cp1x),",",Math.round(l.cp1y),",",Math.round(l.cp2x),",",Math.round(l.cp2y),",",Math.round(l.x),",",Math.round(l.y));break;case"at":case"wa":e.push(" ",l.type," ",Math.round(l.x-this.arcScaleX_*l.radius),",",Math.round(l.y-this.arcScaleY_*l.radius)," ",Math.round(l.x+this.arcScaleX_*l.radius),",",Math.round(l.y+this.arcScaleY_*l.radius)," ",Math.round(l.xStart),",",Math.round(l.yStart)," ",Math.round(l.xEnd),",",Math.round(l.yEnd))}l&&((null==a.x||l.x<a.x)&&(a.x=l.x),(null==r.x||l.x>r.x)&&(r.x=l.x),(null==a.y||l.y<a.y)&&(a.y=l.y),(null==r.y||l.y>r.y)&&(r.y=l.y))}if(e.push(' ">'),t)e.push('<g_vml_:fill color="',n,'" opacity="',o,'" />');else{var h=this.lineScale_*this.lineWidth;h<1&&(o*=h);var c;switch(this.lineCap){case"butt":c="flat";case"round":c="round";case"square":default:c="square"}e.push("<g_vml_:stroke",' opacity="',o,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',c,'"',' weight="',h,'px"',' color="',n,'" />')}e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},VMLcontextPrototype.fill=function(){this.stroke(!0)},VMLcontextPrototype.closePath=function(){this.currentPath_.push({type:"close"})},VMLcontextPrototype.getCoords_=function(t,e){var i=this.m_;return{x:Z*(t*i[0][0]+e*i[1][0]+i[2][0])-Z2,y:Z*(t*i[0][1]+e*i[1][1]+i[2][1])-Z2}},VMLcontextPrototype.save=function(){var t={};copyState(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=matrixMultiply(createMatrixIdentity(),this.m_)},VMLcontextPrototype.restore=function(){copyState(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},VMLcontextPrototype.translate=function(t,e){setM(this,matrixMultiply([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},VMLcontextPrototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t);setM(this,matrixMultiply([[e,i,0],[-i,e,0],[0,0,1]],this.m_),!1)},VMLcontextPrototype.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,setM(this,matrixMultiply([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},VMLcontextPrototype.transform=function(t,e,i,n,o,a){setM(this,matrixMultiply([[t,e,0],[i,n,0],[o,a,1]],this.m_),!0)},VMLcontextPrototype.setTransform=function(t,e,i,n,o,a){setM(this,[[t,e,0],[i,n,0],[o,a,1]],!0)},BMap.VMLContext=VMLContext,window._vmlcontext=2,window._canvablepath=1,CanvablePath.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},CanvablePath.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},CanvablePath.Point=function(t,e){this.x=t,this.y=e},CanvablePath.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},CanvablePath.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],i=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=i},CanvablePath.BoundingBox=function(t,e,n,o){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,i,n,o,a){
var r=t+2/3*(i-t),s=e+2/3*(n-e),l=r+1/3*(o-t),h=s+1/3*(a-e);this.addBezierCurve(t,e,r,l,s,h,o,a)},this.addBezierCurve=function(t,e,n,o,a,r,s,l){var h=[t,e],c=[n,o],d=[a,r],u=[s,l];for(this.addPoint(h[0],h[1]),this.addPoint(u[0],u[1]),i=0;i<=1;i++){var p=function(t){return Math.pow(1-t,3)*h[i]+3*Math.pow(1-t,2)*t*c[i]+3*(1-t)*Math.pow(t,2)*d[i]+Math.pow(t,3)*u[i]},_=6*h[i]-12*c[i]+6*d[i],g=-3*h[i]+9*c[i]-9*d[i]+3*u[i],m=3*c[i]-3*h[i];if(0!=g){var f=Math.pow(_,2)-4*m*g;if(!(f<0)){var v=(-_+Math.sqrt(f))/(2*g);0<v&&v<1&&(0==i&&this.addX(p(v)),1==i&&this.addY(p(v)));var y=(-_-Math.sqrt(f))/(2*g);0<y&&y<1&&(0==i&&this.addX(p(y)),1==i&&this.addY(p(y)))}}else{if(0==_)continue;var b=-m/_;0<b&&b<1&&(0==i&&this.addX(p(b)),1==i&&this.addY(p(b)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,o)},BMap.CanvablePath=CanvablePath,window._canvablepath=2,window._groundoverlay=1,baidu.extend(GroundOverlay.prototype,{_draw:function(){if(this.map){this.domElement||this._addDom();var t=this.map.getZoom();if(t<this._config.displayOnMinLevel||t>this._config.displayOnMaxLevel)return void this.hide();var e=this._config.bounds.getSouthWest(),i=this._config.bounds.getNorthEast(),n={x:this.map.pointToOverlayPixel(e).x,y:this.map.pointToOverlayPixel(i).y},o={x:this.map.pointToOverlayPixel(i).x,y:this.map.pointToOverlayPixel(e).y},a=o.x-n.x,r=o.y-n.y;this.domElement.style.left=n.x+"px",this.domElement.style.top=n.y+"px",this.domElement.style.width=a+"px",this.domElement.style.height=r+"px",this.show()}},draw:function(){this._draw()},_addDom:function(){if(!this.domElement){this.domElement=document.createElement("div");var t=this.domElement.style;t.cssText="position: absolute; -moz-user-select: none; overflow: hidden;",t.zIndex=Overlay.getZIndex(this._config.bounds.getSouthWest().lat),(this._config.opacity||0===this._config.opacity)&&(t.opacity=this._config.opacity,t.filter="alpha(opacity="+100*parseInt(this._config.opacity,10)+")"),this._imgElement=document.createElement("img"),this._imgElement.style.width="100%",this._config.stretch&&(this._imgElement.style.height="100%"),this.domElement.appendChild(this._imgElement);var e=this;this._imgElement.onload=function(t){e._imgElementWidth=e._imgElement.naturalWidth||e._imgElement.width,e._imgElementHeight=e._imgElement.naturalHeight||e._imgElement.height},this._config.imageURL&&(this._imgElement.src=this._config.imageURL),this.map.getPanes().labelPane.appendChild(this.domElement);var e=this;baidu.on(this.domElement,"click",function(t){e.dispatchEvent(new BaseEvent("click"),t)}),baidu.on(this.domElement,"dblclick",function(t){e.dispatchEvent(new BaseEvent("dblclick"),t)})}},setBounds:function(t){this._config.bounds=t,this.map&&this._draw(),this.domElement.style.zIndex=Overlay.getZIndex(this._config.bounds.getSouthWest().lat)},getBounds:function(){return this._config.bounds},setOpacity:function(t){this._config.opacity=t,this.domElement.style.opacity=t,this.domElement.style.filter="alpha(opacity="+100*parseInt(t,10)+")"},getOpacity:function(t){return this._config.opacity},setImageURL:function(t){this._config.imageURL=t,this._imgElement&&(this._imgElement.src=t)},getImageURL:function(){return this._config.imageURL},setDisplayOnMinLevel:function(t){this._config.displayOnMinLevel=t},getDisplayOnMinLevel:function(){return this._config.displayOnMinLevel},setDisplayOnMaxLevel:function(t){this._config.displayOnMaxLevel=t},getDisplayOnMaxLevel:function(){return this._config.displayOnMaxLevel}}),GroundOverlay.prototype.setBounds=GroundOverlay.prototype.setBounds,GroundOverlay.prototype.getBounds=GroundOverlay.prototype.getBounds,GroundOverlay.prototype.setOpacity=GroundOverlay.prototype.setOpacity,GroundOverlay.prototype.getOpacity=GroundOverlay.prototype.getOpacity,GroundOverlay.prototype.setImageURL=GroundOverlay.prototype.setImageURL,GroundOverlay.prototype.getImageURL=GroundOverlay.prototype.getImageURL,GroundOverlay.prototype.setDispalyOnMinLevel=GroundOverlay.prototype.setDispalyOnMinLevel,GroundOverlay.prototype.setDispalyOnMaxLevel=GroundOverlay.prototype.setDispalyOnMaxLevel,window._groundoverlay=2,window._pointcollection=1,baidu.extend(PointCollection.prototype,{initialize:function(t){var e=this;e.map=this._map=t,e.canvasElement=document.createElement("canvas"),e.canvasElement.style.cssText="position: absolute; left: 0; top: 0;",e.domElement=e.canvasElement;var i=e.map.getSize();return e.canvasElement.width=i.width,e.canvasElement.height=i.height,e.canvasElement.id="myCanvasElement",e.map.getPanes().mapPane.appendChild(e.canvasElement),e.shapeLayer=new ShapeLayer,e.draw(),e.map.addEventListener("click",function(t){var i=e.shapeLayer.getShapeInPosition(t.offsetX,t.offsetY);null!==i&&e.dispatchEvent("click",{point:i.point})}),e.shapeUnderCursor=null,e.map.addEventListener("mousemove",function(t){for(var i=e.map.getOverlays(),n=i.length,o=null,a=0;a<n&&!(i[a]instanceof BMap.PointCollection&&null!==(o=i[a].shapeLayer.getShapeInPosition(t.offsetX,t.offsetY)));a++);null===o?(null===e.shapeUnderCursor||(e.dispatchEvent("mouseout",{point:e.shapeUnderCursor.point}),e.shapeUnderCursor=null),e.canvasElement.style.cursor=""):(null===e.shapeUnderCursor?(e.dispatchEvent("mouseover",{point:o.point}),e.shapeUnderCursor=o):e.shapeUnderCursor===o||(e.dispatchEvent("mouseout",{point:e.shapeUnderCursor.point}),e.dispatchEvent("mouseover",{point:o.point}),e.shapeUnderCursor=o),e.canvasElement.style.cursor="pointer")}),e.canvasElement},draw:function(){var t=this;t.shapeLayer.clearShapes();var e=t.map.getSize();if(t.canvasElement.width=e.width,t.canvasElement.height=e.height,t.canvasElement.style.left=t.map.maskLayer.style.left,t.canvasElement.style.top=t.map.maskLayer.style.top,t._data.points&&t._data.points.length){t.canvasElement.getContext("2d").clearRect(0,0,t.canvasElement.width,t.canvasElement.height),consoleTime("遍历绘制麻点"),t.canvasElement.getContext("2d").beginPath();for(var i,n=0;i=t._data.points[n];n++){var o=t.map.pointToPixel(i);if(!(o.x<0||o.y<0||o.x>e.width||o.y>e.height)){var a;switch(t._config.shape){case BMAP_POINT_SHAPE_STAR:a=new ShapeStar;break;case BMAP_POINT_SHAPE_WATERDROP:a=new ShapeWaterdrop;break;case BMAP_POINT_SHAPE_SQUARE:a=new ShapeRectangle;break;case BMAP_POINT_SHAPE_RHOMBUS:a=new ShapeRhombus;break;case BMAP_POINT_SHAPE_CIRCLE:default:a=new ShapeCircle}switch(t._config.size){case BMAP_POINT_SIZE_TINY:"circle"!==a.type&&"star"!==a.type||a.setRadius(1),"rectangle"!==a.type&&"rhombus"!==a.type||(a.setWidth(2),a.setHeight(2));break;case BMAP_POINT_SIZE_SMALLER:"circle"!==a.type&&"star"!==a.type||a.setRadius(2),"rectangle"!==a.type&&"rhombus"!==a.type||(a.setWidth(4),a.setHeight(4));break;case BMAP_POINT_SIZE_SMALL:"circle"!==a.type&&"star"!==a.type||a.setRadius(4),"rectangle"!==a.type&&"rhombus"!==a.type||(a.setWidth(8),a.setHeight(8));break;case BMAP_POINT_SIZE_NORMAL:"circle"!==a.type&&"star"!==a.type||a.setRadius(5),"rectangle"!==a.type&&"rhombus"!==a.type||(a.setWidth(10),a.setHeight(10));break;case BMAP_POINT_SIZE_BIG:"circle"!==a.type&&"star"!==a.type||a.setRadius(8),"rectangle"!==a.type&&"rhombus"!==a.type||(a.setWidth(16),a.setHeight(16));break;case BMAP_POINT_SIZE_BIGGER:"circle"!==a.type&&"star"!==a.type||a.setRadius(10),"rectangle"!==a.type&&"rhombus"!==a.type||(a.setWidth(20),a.setHeight(20));break;case BMAP_POINT_SIZE_HUGE:"circle"!==a.type&&"star"!==a.type||a.setRadius(15),"rectangle"!==a.type&&"rhombus"!==a.type||(a.setWidth(30),a.setHeight(30));break;default:"circle"!==a.type&&"star"!==a.type||a.setRadius(5),"rectangle"!==a.type&&"rhombus"!==a.type||(a.setWidth(10),a.setHeight(10))}t._config.color&&("circle"!==a.type&&"star"!==a.type&&"rectangle"!==a.type&&"rhombus"!==a.type||a.setColor(t._config.color)),a.drawOnContext(t.canvasElement.getContext("2d"),o.x,o.y),a.point=i,t.shapeLayer.addShape(a)}}t.canvasElement.getContext("2d").fillStyle=t._config.color,t.canvasElement.getContext("2d").fill(),consoleTimeEnd("遍历绘制麻点")}},setPoints:function(t){var e=this;e._data.points=t,e.draw()},setStyles:function(t){var e=this;t.color&&(e._config.color=t.color),t.size&&(e._config.size=t.size),t.shape&&(e._config.shape=t.shape),e.draw()},clear:function(){var t=this;t._data.points=[],t.draw()},remove:function(){var t=this;t.clear(),t.canvasElement&&t.canvasElement.parentNode&&t.canvasElement.parentNode.removeChild(t.canvasElement),t.dispatchEvent(new BaseEvent("onremove"))}}),PointCollection.prototype.initialize=PointCollection.prototype.initialize,PointCollection.prototype.draw=PointCollection.prototype.draw,PointCollection.prototype.setPoints=PointCollection.prototype.setPoints,PointCollection.prototype.setStyles=PointCollection.prototype.setStyles,PointCollection.prototype.clear=PointCollection.prototype.clear,PointCollection.prototype.remove=PointCollection.prototype.remove,ShapeLayer.prototype.addShape=function(t){this.data.shapes.push(t)},ShapeLayer.prototype.clearShapes=function(){this.data.shapes=[]},ShapeLayer.prototype.getShapeInPosition=function(t,e){for(var i,n=this,o=0;i=n.data.shapes[o];o++){i.getWidth(),i.getHeight();if(t>i.position.x-i.getWidth()/2&&t<i.position.x+i.getWidth()/2&&e>i.position.y-i.getHeight()/2&&e<i.position.y+i.getHeight()/2)return i}return null},ShapeLayer.prototype.getShapesInPosition=function(t,e){},ShapeWaterdrop.redMarkImgElement=document.createElement("img"),ShapeWaterdrop.redMarkImgElementLoaded=!1,ShapeWaterdrop.redMarkImgElement.onload=function(){ShapeWaterdrop.redMarkImgElementLoaded=!0},ShapeWaterdrop.redMarkImgElement.src=BMap.apiUrlCdn+"images/point-collection/red-marker-10x13.png",ShapeWaterdrop.blueMarkImgElement=document.createElement("img"),ShapeWaterdrop.blueMarkImgElementLoaded=!1,ShapeWaterdrop.blueMarkImgElement.onload=function(){ShapeWaterdrop.blueMarkImgElementLoaded=!0},ShapeWaterdrop.blueMarkImgElement.src=BMap.apiUrlCdn+"images/point-collection/blue-marke-15x16.png",ShapeWaterdrop.prototype.drawOnContext=function(t,e,i){var n=this;if(!1===ShapeWaterdrop.redMarkImgElementLoaded)return void setTimeout(function(){n.drawOnContext(t,e,i)},10);n.context=t,n.position.x=e,n.position.y=i,t.save(),t.translate(e-ShapeWaterdrop.redMarkImgElement.width/2,i-ShapeWaterdrop.redMarkImgElement.height/2),t.drawImage(ShapeWaterdrop.redMarkImgElement,0,0,ShapeWaterdrop.redMarkImgElement.width,ShapeWaterdrop.redMarkImgElement.height,0,0,ShapeWaterdrop.redMarkImgElement.width,ShapeWaterdrop.redMarkImgElement.height),t.restore()},ShapeWaterdrop.prototype.activate=function(){var t=this;t.context&&(t.context.save(),t.context.translate(t.position.x-ShapeWaterdrop.blueMarkImgElement.width/2,t.position.y-ShapeWaterdrop.blueMarkImgElement.height/2),t.context.drawImage(ShapeWaterdrop.blueMarkImgElement,0,0,ShapeWaterdrop.blueMarkImgElement.width,ShapeWaterdrop.blueMarkImgElement.height,0,0,ShapeWaterdrop.blueMarkImgElement.width,ShapeWaterdrop.blueMarkImgElement.height),t.context.restore())},ShapeWaterdrop.prototype.deactivate=function(){var t=this;t.context&&(t.context.save(),t.context.translate(t.position.x-ShapeWaterdrop.redMarkImgElement.width/2,t.position.y-ShapeWaterdrop.redMarkImgElement.height/2),t.context.drawImage(ShapeWaterdrop.redMarkImgElement,0,0,ShapeWaterdrop.redMarkImgElement.width,ShapeWaterdrop.redMarkImgElement.height,0,0,ShapeWaterdrop.redMarkImgElement.width,ShapeWaterdrop.redMarkImgElement.height),t.context.restore())},ShapeWaterdrop.prototype.getPosition=function(){return this.position},ShapeWaterdrop.prototype.getWidth=function(){return ShapeWaterdrop.redMarkImgElement.width},ShapeWaterdrop.prototype.getHeight=function(){return ShapeWaterdrop.redMarkImgElement.height},ShapeCircle.prototype.drawOnContext=function(t,e,i){var n=this;n.position.x=e,n.position.y=i,t.save(),t.translate(e,i),t.beginPath(),t.fillStyle=n.config.color,t.arc(0,0,n.config.radius,0,2*Math.PI,!1),t.fill(),t.restore()},ShapeCircle.prototype.setRadius=function(t){this.config.radius=t},ShapeCircle.prototype.getRadius=function(t){return this.config.radius},ShapeCircle.prototype.setColor=function(t){this.config.color=t},ShapeCircle.prototype.getPosition=function(){return this.position},ShapeCircle.prototype.getWidth=function(){return 2*this.config.radius},ShapeCircle.prototype.getHeight=function(){return 2*this.config.radius},ShapeStar.prototype.drawOnContext=function(t,e,i){var n=this;n.position.x=e,n.position.y=i,t.save(),t.fillStyle=n.config.color,t.beginPath(),t.translate(e,i),t.moveTo(0,0-n.config.radius);for(var o=0;o<n.config.pointsNumber;o++)t.rotate(Math.PI/n.config.pointsNumber),t.lineTo(0,0-n.config.radius*n.config.fraction),t.rotate(Math.PI/n.config.pointsNumber),t.lineTo(0,0-n.config.radius);t.fill(),t.restore()},ShapeStar.prototype.setRadius=function(t){this.config.radius=t},ShapeStar.prototype.setColor=function(t){this.config.color=t},ShapeStar.prototype.getPosition=function(){return this.position},ShapeStar.prototype.getWidth=function(){return 2*this.config.radius},ShapeStar.prototype.getHeight=function(){return 2*this.config.radius},ShapeRectangle.prototype.drawOnContext=function(t,e,i){var n=this;n.position.x=e,n.position.y=i,t.save(),t.translate(e-n.config.width/2,i-n.config.height/2),t.fillStyle=n.config.color,t.fillRect(0,0,n.config.width,n.config.height),t.restore()},ShapeRectangle.prototype.setWidth=function(t){this.config.width=t},ShapeRectangle.prototype.getWidth=function(){return this.config.width},ShapeRectangle.prototype.setHeight=function(t){this.config.height=t},ShapeRectangle.prototype.getHeight=function(){return this.config.height},ShapeRectangle.prototype.setColor=function(t){this.config.color=t},ShapeRectangle.prototype.getPosition=function(){return this.position},ShapeRhombus.prototype.drawOnContext=function(t,e,i){var n=this;n.position.x=e,n.position.y=i,t.save(),t.fillStyle=n.config.color,t.translate(e-n.config.width/2,i-n.config.height/2),t.beginPath(),t.moveTo(0+.5*n.config.width,0),t.lineTo(0,0+.5*n.config.height),t.lineTo(0+.5*n.config.width,0+n.config.height),t.lineTo(0+n.config.width,0+.5*n.config.height),t.lineTo(0+.5*n.config.width,0),t.closePath(),t.fill(),t.restore()},ShapeRhombus.prototype.setWidth=function(t){this.config.width=t},ShapeRhombus.prototype.getWidth=function(){return this.config.width},ShapeRhombus.prototype.setHeight=function(t){this.config.height=t},ShapeRhombus.prototype.getHeight=function(){return this.config.height},ShapeRhombus.prototype.setColor=function(t){this.config.color=t},ShapeRhombus.prototype.getPosition=function(){return this.position},window._pointcollection=2,window._markeranimation=1,MarkerAnimations[1]={options:{duration:400},iconAnis:[{percent:0,translate:[0,-500],timingFunc:"ease-in"},{percent:.5,translate:[0,0],timingFunc:"ease-out"},{percent:.75,translate:[0,-20],timingFunc:"ease-in"},{percent:1,translate:[0,0],timingFunc:"ease-out"}],shadowAnis:[{percent:0,translate:[375,-375],timingFunc:"ease-in"},{percent:.5,translate:[0,0],timingFunc:"ease-out"},{percent:.75,translate:[15,-15],timingFunc:"ease-in"},{percent:1,translate:[0,0],timingFunc:"ease-out"}]},MarkerAnimations[2]={options:{duration:700,loop:Animation.INFINITE},iconAnis:[{percent:0,translate:[0,0],timingFunc:"ease-out"},{percent:.5,translate:[0,-20],timingFunc:"ease-in"},{percent:1,translate:[0,0],timingFunc:"ease-out"}],shadowAnis:[{percent:0,translate:[0,0],timingFunc:"ease-out"},{percent:.5,translate:[15,-15],timingFunc:"ease-in"},{percent:1,translate:[0,0],timingFunc:"ease-out"}]},MarkerAnimations[3]={options:{duration:200,useJS:!0},iconAnis:[{percent:0,translate:[0,0],timingFunc:"ease-in"},{percent:1,translate:[0,-20],timingFunc:"ease-out"}],shadowAnis:[{percent:0,translate:[0,0],timingFunc:"ease-in"},{percent:1,translate:[15,-15],timingFunc:"ease-out"}]},MarkerAnimations[4]={options:{duration:500,useJS:!0},iconAnis:[{percent:0,translate:[0,-20],timingFunc:"ease-in"},{percent:.5,translate:[0,0],timingFunc:"ease-out"},{percent:.75,translate:[0,-10],timingFunc:"ease-in"},{percent:1,translate:[0,-0],timingFunc:"ease-out"}],shadowAnis:[{percent:0,translate:[15,-15],timingFunc:"ease-in"},{percent:.5,translate:[0,0],timingFunc:"ease-out"},{percent:.75,translate:[8,-8],timingFunc:"ease-in"},{percent:1,translate:[0,0],timingFunc:"ease-out"}]},window._markeranimation=2,window._draw=1;var DrawerPrototype=Drawer.prototype;DrawerPrototype.setPalette=function(){},DrawerPrototype.addLine=function(){throw"addLine接口没有实现"},DrawerPrototype.setAttribute=function(){throw"setAttribute接口没有实现"},DrawerPrototype.setPath=function(){throw"setPath接口没有实现"},DrawerPrototype.getType=function(){return this._type},BMap.Drawer=Drawer,window._draw=2,window._drawbysvg=1,SvgDrawer.prototype=new BMap.Drawer;var svgDrawerPrototype=SvgDrawer.prototype;svgDrawerPrototype._createSvg=function(){var t=this._svg=create("svg",{},this.SVG_NS);t.setAttribute("version","1.1"),t.setAttribute("type","system"),t.style.position="absolute",this.setPalette(),this._map.getPanes().mapPane.appendChild(t);var e=isMobile()?"touchstart":"mousedown";return baidu.on(t,e,preventDefault),t},svgDrawerPrototype.setPalette=function(){if(this._svg){var t=this._svg,e=this._map,i=e.config.drawMargin,n=e.width+2*i,o=e.height+2*i,a=-e.offsetX-i,r=-e.offsetY-i;this.setAttribute(t,"x",n+"px"),this.setAttribute(t,"y",o+"px"),this.setAttribute(t,"viewBox",a+" "+r+" "+n+" "+o);var s=t.style;s.top=r+"px",s.left=a+"px",s.width=n+"px",s.height=o+"px"}},svgDrawerPrototype.getPalette=function(){return this._svg},svgDrawerPrototype.setAttribute=function(t,e,i,n){if(t){"strokestyle"==e&&(i="solid"==i?0:2*n);var o=i||"none";return t.setAttributeNS(null,this._getAttributeName(e),o),t}},svgDrawerPrototype._getAttributeName=function(t){return this._svgAttrName[t]||t},svgDrawerPrototype.addLine=function(){var t=create("path",{},this.SVG_NS);return this.setAttribute(t,"stroke-linejoin","round"),this.setAttribute(t,"stroke-linecap","round"),this.setAttribute(t,"fill-rule","evenodd"),this._svg.appendChild(t),t},svgDrawerPrototype.setPath=function(t,e){var i=this._getPathString(e)||"M -9999,-9999";this.setAttribute(t,"d",i)},svgDrawerPrototype._getPathString=function(t){if(0==t.length)return"";var e=[];return baidu.array.each(t,function(t){if(!(t.length<2)){e.push("M "+t[0].x+" "+t[0].y+" L");for(var i=1,n=t.length;i<n;i++)e.push(t[i].x),e.push(t[i].y)}}),e.join(" ")},BMap.SvgDrawer=SvgDrawer,window._drawbysvg=2,window._drawbyvml=1,VmlDrawer.colorMapping={orange:"#ffa500"},VmlDrawer.prototype=new BMap.Drawer;var VmlDrawerPrototype=VmlDrawer.prototype;VmlDrawerPrototype.setAttribute=function(t,e,i){if(t){0==e.indexOf("stroke")?t=t.getElementsByTagName("stroke")[0]:0==e.indexOf("fill")&&(t=t.getElementsByTagName("fill")[0]),e.indexOf("color")>0&&(i?(t.on=!0,VmlDrawer.colorMapping[i]&&(i=VmlDrawer.colorMapping[i])):t.on=!1),"strokestyle"==e&&(i="solid"==i?"solid":"4 2 1 2"),"strokeweight"==e&&(i+="px");t[this._getAttributeName(e)]=i||""}},VmlDrawerPrototype._getAttributeName=function(t){return this._vmlAttrName[t]||t},VmlDrawerPrototype.addLine=function(){var t=['<v:shape style="behavior:url(#default#VML);z-index:1;width:1px;height:1px;position:absolute;left:0;top:0;"','coordsize="1,1" coordorigin="0,0" filled="t" fillcolor="white">','<v:stroke style="behavior:url(#default#VML);" endcap="round" oned="true" />','<v:fill style="behavior:url(#default#VML)" />',"</v:shape>"].join("");return beforeEndHTML(this._map.getPanes().mapPane,t)},VmlDrawerPrototype.setPath=function(t,e){this.setAttribute(t,"path",this._getPathString(e)),6==baidu.browser.ie&&(t.style.display="none",t.style.display="")},VmlDrawerPrototype._getPathString=function(t){if(0==t.length)return"";var e=[];return baidu.array.each(t,function(t){if(!(t.length<2)){e.push("m "+t[0].x+" "+t[0].y+" l");for(var i=1,n=t.length;i<n;i++)e.push(t[i].x),e.push(t[i].y);e.push("e")}}),e.join(" ")||" "},BMap.VmlDrawer=VmlDrawer,window._drawbyvml=2,window._drawbycanvas=1,CanvasDrawer.prototype=new BMap.Drawer;var CanvasDrawerPrototype=CanvasDrawer.prototype;CanvasDrawerPrototype.addLine=function(){if(!this.canvas||this.canvas&&!isInDocument(this.canvas)){var t=this.canvas=create("canvas");this._map.getPanes().mapPane.appendChild(t),t.style.position="absolute";var e=t.getContext("2d");e.lineCap="round",e.lineJoin="round",e.save(),this._setCanvasPosition(this.canvas)}return this.canvas},CanvasDrawerPrototype.setPath=function(t,e,i){if(t&&0!==e[0].length){var n=t.getContext("2d");this.setPosition(t);var o=parseInt(t.style.top),a=parseInt(t.style.left);n.beginPath(),baidu.array.each(e,function(t){if(0!==t.length){n.moveTo(t[0].x-a,t[0].y-o);for(var e=1,i=t.length;e<i;e++)n.lineTo(t[e].x-a,t[e].y-o)}}),this._drawCanvas(t,i),"dashed"===i.strokeStyle&&this._drawDashedLines(n,e,a,o,i)}},CanvasDrawerPrototype._drawDashedLines=function(t,e,i,n,o){var a=this;t.beginPath(),baidu.array.each(e,function(e){if(0!==e.length){for(var r=[],s=0,l=e.length;s<l;s++)r.push({x:e[s].x-i,y:e[s].y-n});t.strokeStyle=o.strokeColor||"#3a6bdb";var h=a._getRGBAColor(t.strokeStyle,o.strokeOpacity),c={lineWidth:o.strokeWeight||5,interval:2*o.strokeWeight||10,lineLength:2*o.strokeWeight||10,strokeStyle:h};a._drawDashedLine(t,r,c)}})},CanvasDrawerPrototype._drawDashedLine=function(t,e,i){for(var i=i||{},n=i.interval||10,o=i.lineWidth||5,a=i.lineLength||10,r=i.strokeStyle||"#3a6bdb",s=e.length-1,l=0,h=a+n,c=0,d=0;d<s;d++){var u=e[d].x,p=e[d].y,_=e[d+1].x,g=e[d+1].y;c+=Math.sqrt((_-u)*(_-u)+(g-p)*(g-p))}if(c<a)return t.strokeStyle=r,t.lineWidth=o,t.lineJoin="round",t.lineCap="round",t.beginPath(),t.moveTo(e[0].x,e[0].y),t.lineTo(e[s].x,e[s].y),void t.stroke();for(var m=0;m<s;m++){var u=e[m].x,p=e[m].y,_=e[m+1].x,g=e[m+1].y,f=Math.sqrt((_-u)*(_-u)+(g-p)*(g-p))+l+a,v=h-Math.abs(l);if(l<=h){var y=parseInt(f/h),b=n*(_-u)/f,x=n*(g-p)/f;xMove=a*(_-u)/f,yMove=a*(g-p)/f,startX=u+v*(_-u)/f,startY=p+v*(g-p)/f,tailX=u+(a-Math.abs(l))*(_-u)/f,tailY=p+(a-Math.abs(l))*(g-p)/f,t.beginPath(),t.strokeStyle=r,t.lineJoin="round",t.lineCap="round",t.lineWidth=o,T?t.moveTo(T,C):t.moveTo(u,p),l<=0?(t.lineTo(u,p),t.lineTo(tailX,tailY),t.moveTo(startX,startY)):(t.lineTo(tailX,tailY),t.moveTo(startX,startY));for(var w=0,P=2*y;w<P;w++)if(w%2)startX+=b,startY+=x,t.moveTo(startX,startY);else{startX+=xMove,startY+=yMove;var M=_-startX;if(M*xMove<0)break;t.lineTo(startX,startY)}t.stroke()}l=parseInt(f-h*y)-a;var T=_-Math.abs(l)*(_-u)/f,C=g-Math.abs(l)*(g-p)/f;if(m===s-1&&l>0){t.beginPath(),t.strokeStyle=r;var S=_-l*(_-u)/f;leftY=g-l*(g-p)/f,l<=a?(t.moveTo(S,leftY),t.lineTo(_,g)):(t.moveTo(S,leftY),t.moveTo(S+xMove,leftY+yMove)),t.stroke()}}},CanvasDrawerPrototype._getRGBAColor=function(t,e){if(4===t.length)var i=parseInt(t.substr(1,1)+t.substr(1,1),16),n=parseInt(t.substr(2,1)+t.substr(2,1),16),o=parseInt(t.substr(3,1)+t.substr(3,1),16),a="rgba("+i+","+n+","+o+","+e+")";else var i=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),o=parseInt(t.substr(5,2),16),a="rgba("+i+","+n+","+o+","+e+")";return a},CanvasDrawerPrototype.setAttribute=function(t,e,i){if(t){var n=t.getContext("2d"),o=this._getAttributeName(e);try{n[o]=i}catch(t){}t.setAttribute("_"+e,i||""),n.save()}},CanvasDrawerPrototype._getAttributeName=function(t){return this._canvasAttrName[t]||t},CanvasDrawerPrototype._setCanvasPosition=function(t){var e=this._map,i=e.config.drawMargin,n=e.width+2*i,o=e.height+2*i,a=-e.offsetX-i,r=-e.offsetY-i,s=t.getContext("2d"),l={strokeStyle:s.strokeStyle,fillStyle:s.fillStyle,globalAlpha:s.globalAlpha,lineWidth:s.lineWidth,lineCap:"round",lineJoin:"round"};t.setAttribute("width",n),t.setAttribute("height",o);for(var h in l)s[h]=l[h];s.save();var c=t.style;c.top=r+"px",c.left=a+"px"},CanvasDrawerPrototype._clearCanvas=function(t){t.clearRect(0,0,9999,9999)},CanvasDrawerPrototype._drawCanvas=function(t,e){var i=t.getContext("2d");i.globalAlpha=t.getAttribute("_fillopacity"),0!==i.globalAlpha&&t.getAttribute("_fillcolor")&&i.fill(),i.globalAlpha=t.getAttribute("_strokeopacity"),0!==i.globalAlpha&&t.getAttribute("_strokecolor")&&"dashed"!==e.strokeStyle&&i.stroke()},CanvasDrawerPrototype.setPosition=function(t){var e=this._map,i=e.config.drawMargin,n=-e.offsetX-i,o=-e.offsetY-i,a=t.style;a.top=o+"px",a.left=n+"px"},BMap.CanvasDrawer=CanvasDrawer,window._drawbycanvas=2,window._poly=1,baidu.lang.inherits(Vertex,OverlayInternal,"Vertex"),baidu.extend(Vertex.prototype,{initialize:function(t){this.map=t;var e="";this.point=gcjToBd09(this.point,this.map.config.coodsType),e=this.type?"BMap_vectex BMap_vectex_nodeT":"BMap_vectex BMap_vectex_node";var i=this._div=this.domElement=document.createElement("div");return i.className=e,t.getPanes().vertexPane.appendChild(i),this._initDrag(),i},draw:function(){var t=this.map,e=t.pointToOverlayPixel(this.point);this._div.style.left=e.x-5+"px",this._div.style.top=e.y-5+"px"},setPosition:function(t){(t instanceof Point||t instanceof PointN)&&(this.point=this._config.point=this.map?gcjToBd09(t,this.map.config.coordsType):t,this.draw())},_getPosition:function(){return this.point},getPosition:function(){var t=this.map;return t?bd09ToGcj02(this.point,t.config.coordsType):this.point},_initDrag:function(){function t(t,e){return e.pixel=e.pixel=t.pixel,e.point=e.point=t.point,e.pointN=e.pointN=t.pointN,e}function e(t){var e=t.clientX,i=t.clientY;return t.changedTouches&&(e=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY),new Pixel(e,i)}if(this.domElement&&!this.domElement._binded){this.domElement._binded=!0;var i=this.map,n=this,o=0,a=0,r=0,s={x:0,y:0};this.dragStart=function(t){if(stopAndPrevent(t),2!=t.button){n._isDragging=!0;var s=i.pointToPixel(n.point),l=e(t);o=l.x-s.x,a=l.y-s.y,r=getCurrentTime(),n.map.temp._draggingMarker=n,baidu.on(document,"mousemove",n.dragIng),baidu.on(document,"mouseup",n.dragEnd),baidu.on(document,"touchmove",n.dragIng),baidu.on(document,"touchend",n.dragEnd),n.domElement&&n.domElement.setCapture&&n.domElement.setCapture(),n.domElement.style.cursor=n._config.draggingCursor,"touchstart"==t.type&&stopBubble(t)}},this.dragIng=function(r){if(n._isDragging){var l=e(r),h=new Pixel(l.x-o,l.y-a);s=h,n._draggingMovePixel=h;var c=n.map.pixelToPoint(h),d=n.map._pixelToPoint(h),u={pixel:h,point:c,pointN:d};n._panByX=n._panByY=0,h.x<=20||h.x>=n.map.width-20||h.y<=50||h.y>=n.map.height-10?(h.x<=20?n._panByX=8:h.x>=n.map.width-20&&(n._panByX=-8),h.y<=50?n._panByY=8:h.y>=n.map.height-10&&(n._panByY=-8),n._draggingMoveTimer||(n._draggingMoveTimer=setInterval(function(){i.panBy(n._panByX,n._panByY,{noAnimation:!0});var t=i.pixelToPoint(n._draggingMovePixel);n.setPosition(t)},30))):(n._draggingMoveTimer&&(clearInterval(n._draggingMoveTimer),n._draggingMoveTimer=null),n.setPosition(d)),n._dragstarted||(n.dispatchEvent(t(u,new BaseEvent("ondragstart"))),n._dragstarted=!0),n.dispatchEvent(t(u,new BaseEvent("ondragging")))}},this.dragEnd=function(e){n.domElement&&n.domElement.releaseCapture&&n.domElement.releaseCapture(),n._isDragging=!1,n.map.temp._draggingMarker=null,baidu.un(document,"mousemove",n.dragIng),baidu.un(document,"mouseup",n.dragEnd),baidu.un(document,"touchmove",n.dragIng),baidu.un(document,"touchend",n.dragEnd),o=a=0,n._draggingMoveTimer&&(clearInterval(n._draggingMoveTimer),n._draggingMoveTimer=null),getCurrentTime()-r>=100&&(s.x>2||s.y>2)&&(n._dragstarted=!1,n.dispatchEvent(t({pixel:n.map.pointToPixel(n.getPosition()),point:n.getPosition(),pointN:n._getPosition()},new BaseEvent("ondragend"))),s.x=s.y=0),n._updateDomZIndex(),n.domElement&&(n.domElement.style.cursor=n._config.clickable?"pointer":"")},this.delVertexMarker=function(e){stopAndPrevent(e),n.dispatchEvent(t({pixel:n.map.pointToPixel(n.getPosition()),point:n.getPosition()},new BaseEvent("ondelVertexMarker")))},baidu.on(this.domElement,"mousedown",this.dragStart),baidu.on(this.domElement,"touchstart",this.dragStart),baidu.on(this.domElement,"contextmenu",this.delVertexMarker)}}}),baidu.extend(IconSequence.prototype,{_calIconPosition:function(t){return this.repeat?this._calRepeatIconsPositions(t):this._calOffsetIconPosition(t)},_calRepeatIconsPositions:function(t){var e,i,n,o=this.repeat,a=[];if(this._relativeRepeat)for(e=Math.floor(1/this.repeat)+1,i=0;i<e;i++)a.push(calPosition(t,1-o*i,!0));else for(n=t._segPixelTotalLength[t._segPixelTotalLength.length-1],e=Math.floor(n/o)+1,i=0;i<e;i++)a.push(calPosition(t,n-i*o,!1));return a},_calOffsetIconPosition:function(t){return[calPosition(t,this._offset,this._relativeOffset)]},hide:function(){if(this._markers&&this._markers.length>0)for(var t=this._markers.length-1;t>=0;t--)this._markers[t].hide()},show:function(){if(this._markers&&this._markers.length>0)for(var t=this._markers.length-1;t>=0;t--)this._markers[t].show()}}),baidu.array.indexOf=function(t,e,i){var n=t.length;for(i|=0,i<0&&(i=Math.max(0,n+i));i<n;i++)if(i in t&&t[i]===e)return i;return-1},baidu.extend(Graph.prototype,{initialize:function(t){t&&this._graphMouseEvent&&t.addEventListener("onmousemove",this._graphMouseEvent);var e=OverlayInternal.prototype.initialize.call(this,t);return!0===this._config.enableEditing&&(this.clearVertexs(),this.addVertexs()),e},_addDom:function(){var t=this._drawer=DrawerSelector.getDrawer(this.map);this.domElement=t.addLine()},getDom:function(){return this.domElement},_bind:function(){function t(t,e){var i=t.srcElement||t.target,n=getScroll(),o=t.pageX?t.pageX:t.clientX+n[1],a=t.pageY?t.pageY:t.clientY+n[0];if(t&&e&&o&&a&&i){var r=baidu.lang.instance(i.guid).map,s=baidu.dom.getPosition(r.container);return e.pixel=new Pixel(o-s.left,a-s.top),e.point=r.pixelToPoint(e.pixel),e.pointN=r._pixelToPoint(e.pixel),e.pixel=e.pixel,e.point=e.point,e.pointN=e.pointN,e}return e}var e=this.domElement,i=this;"canvas"===DrawerSelector.getDrawer(this.map).getType()||isMobile()||(i._config.clickable&&(e.style.cursor="pointer",baidu.on(e,"click",function(e){i._msDownMapCenter&&i._msDownMapCenter.equals(i.map._getCenter())&&i.dispatchEvent(t(e,new BaseEvent("onclick").inherit(e)))}),baidu.on(e,"dblclick",function(e){i.dispatchEvent(t(e,new BaseEvent("ondblclick").inherit(e)))}),(!baidu.browser.firefox||baidu.browser.firefox<4)&&baidu.on(this.domElement,"contextmenu",function(e){i.dispatchEvent(t(e,new BaseEvent("onrightclick").inherit(e)))})),baidu.on(e,"mousedown",function(e){i.dispatchEvent(t(e,new BaseEvent("onmousedown").inherit(e))),i._msDownMapCenter=i.map._getCenter()}),baidu.on(e,"mouseup",function(e){i.dispatchEvent(t(e,new BaseEvent("onmouseup").inherit(e)))}),baidu.on(this.domElement,"mouseup",function(e){i.dispatchEvent(t(e,new BaseEvent("onmouseup").inherit(e))),baidu.browser.firefox>=4&&2===e.button&&i._config.clickable&&i.dispatchEvent(t(e,new BaseEvent("onrightclick").inherit(e)))})),e=null,this._binded||(this._binded=!0,this._graphMouseEvent=function(t){if(i.map&&!i.map.temp._draggingMarker){var e,n=t.point,o=i._getProximity(n),a=parseFloat(o.dist);a<i._config.mouseOverTolerance?(e=new BaseEvent(i._temp.ismouseover?"onmousemove":"onmouseover"),i._temp.ismouseout=!1,i._temp.ismouseover=!0):!i._temp.ismouseout&&i._temp.ismouseover&&(e=new BaseEvent("onmouseout"),i._temp.ismouseover=!1,i._temp.ismouseout=!0),e&&(i instanceof Polyline||"onmousemove"!==e.type||!0!==i._temp.ismouseover||!(0===a||a>i._config.mouseOverTolerance)?(e.point=e.point=this.overlayPixelToPoint(o.pixel),e.pixel=e.pixel=this.pointToPixel(e.point),e.pointN=e.pointN=this._overlayPixelToPoint(o.pixel)):(e.pixel=e.pixel=t.pixel,e.point=e.point=t.point,e.pointN=e.pointN=t.pointN),i.dispatchEvent(e))}},this.map.addEventListener("onmousemove",this._graphMouseEvent),this.addEventListener("mouseover",function(t){this.map}),this.addEventListener("mouseout",function(t){this.map}))},draw:function(t){if(this.domElement&&this._drawer){var e;if(this._config.geodesic){this.geodesicPoints=[];for(var i=null,n=0;n<this.points.length-1;n++){var o=this.calcGreatCirclePoints(this.points[n],this.points[n+1],i);i=o[o.length-1]&&o[o.length-1].mct,this.geodesicPoints=this.geodesicPoints.concat(o)}e=this._getDisplayPixelsGeoDesic(this.geodesicPoints)}else if(this._config.linkRight&&this.points.length>0){this.linkRightPoints=[]
;for(var i=null,n=0;n<this.points.length-1;n++){this.linkRightPoints.push({point:this.points[n],mct:i||MercatorProjection.convertLL2MC(this.points[n])});var a=i||MercatorProjection.convertLL2MC(this.points[n]),i=MercatorProjection.convertLL2MC(this.points[n+1]),r=getDistanceByMC(i,a);r>15437726&&(i.lng<a.lng?i.lng+=Map.WORLD_SIZE_MC:i.lng-=Map.WORLD_SIZE_MC),this.linkRightPoints.push({point:this.points[n+1],mct:i}),i=this.linkRightPoints[this.linkRightPoints.length-1].mct}e=this._getDisplayPixelsGeoDesic(this.linkRightPoints)}else e=this._getDisplayPixels(this.points);"canvas"===this._drawer._type&&this._setAttributes?(this._setAttributes(),this._drawer.setPath(this.domElement,e,this._config)):this._drawer.setPath(this.domElement,e),this instanceof Polyline&&this._config.icons&&this._drawIcons(t)}},_draw:function(){this.map&&(this.initialize(this.map),this.domElement.style.WebkitUserSelect="none",this.draw())},_getDisplayPixels:function(t){var e=this.map,i=[],n=e.getBounds(),o=this.getBounds();if(!n.intersects(o)||0===t.length||!this.domElement||!this.isVisible())return[i];if(!this._config.enableEditing){var a=this.getParseCacheIndex(e.getZoom());if(this._parseCache[a])t=this._parseCache[a];else{var r=simplify(t,this.getParseTolerance(e.getZoom()));t=this._parseCache[a]=r}}var s=this._config.use3DCoords;i.push(e.pointToOverlayPixel(t[0],null,s));for(var l=1,h=1,c=t.length;l<c;l++){var d=e.pointToOverlayPixel(t[l],null,s);d.equals(i[h-1])||(i.push(d),h++)}return[i]},_getLinkRightPixels:function(t){if(t&&t.length>0){for(var e=[],i=null,n=0;n<t.length-1;n++){e.push({point:t[n],mct:i||MercatorProjection.convertLL2MC(t[n])});var o=i||MercatorProjection.convertLL2MC(t[n]),i=MercatorProjection.convertLL2MC(t[n+1]);getDistanceByMC(i,o)>30037726&&(i.lng<o.lng?i.lng+=Map.WORLD_SIZE_MC:i.lng-=Map.WORLD_SIZE_MC),e.push({point:t[n+1],mct:i}),i=e[e.length-1].mct}return e}},getParseCacheIndex:function(t){return this._config.getParseCacheIndex?this._config.getParseCacheIndex(t):t<6?0:t<10?1:t<15?2:3},getParseTolerance:function(t){return this._config.getParseTolerance?this._config.getParseTolerance(t):Graph.parseTolerance[this.getParseCacheIndex(t)]},_setPath:function(t){this._parseCache.length=0;var e=Graph.getGraphPoints(t);this._userPoints=e.slice(0,e.length-1),this.points=e.slice(0),this._calcBounds(),this.draw(),this.dispatchEvent(new BaseEvent("onlineupdate"))},calcGreatCirclePoints:function(t,e,i){var n=[];n.push({point:t,mct:i||MercatorProjection.convertLL2MC(t)});var o=i||MercatorProjection.convertLL2MC(t);if(t.equals(e)||MercatorProjection.getDistanceByLL(t,e)<25e4){var i=MercatorProjection.convertLL2MC(e),a=getDistanceByMC(i,o);return a>30037726&&(i.lng<o.lng?i.lng+=Map.WORLD_SIZE_MC:i.lng-=Map.WORLD_SIZE_MC),i&&n.pop(),n.push({point:e,mct:i}),n}for(var r=MercatorProjection.getDistance(toRadian(t.lng),toRadian(t.lat),toRadian(e.lng),toRadian(e.lat)),s=Math.round(r/15e4),l=this.calcAngularDistance(t,e),h=0;h<s;h++){var c=this.calcMiddlePoint(t,e,h/s,l),d=MercatorProjection.convertLL2MC(c),a=getDistanceByMC(d,o);a>30037726&&(d.lng<o.lng?d.lng+=Map.WORLD_SIZE_MC:d.lng-=Map.WORLD_SIZE_MC),n.push({point:c,mct:d}),o=d}var i=MercatorProjection.convertLL2MC(e),a=getDistanceByMC(i,o);return a>30037726&&(i.lng<o.lng?i.lng+=Map.WORLD_SIZE_MC:i.lng-=Map.WORLD_SIZE_MC),n.push({point:e,mct:i}),n},setPath:function(t){this._setPath(t),!0===this._config.enableEditing&&(this.clearVertexs(),this.addVertexs())},setPositionAt:function(t,e){e&&this.points[t]&&(this._parseCache.length=0,this.points[t]=new Point(e.lng,e.lat),this._calcBounds(),!0===this._config.enableEditing&&(this.clearVertexs(),this.addVertexs()),this.draw(),this.dispatchEvent(new BaseEvent("onlineupdate")))},setStrokeColor:function(t){this._config&&(this._config.strokeColor=t),this._setDomAttribute("strokecolor",t)},setStrokeWeight:function(t){t>0&&(this._config.strokeWeight=t,this._setDomAttribute("strokeweight",t),"dashed"===this.getStrokeStyle()&&this.map&&"svg"===DrawerSelector.getDrawer(this.map).getType()&&this._setDomAttribute("strokestyle","dashed"))},setStrokeOpacity:function(t){void 0===t||t>1||t<0||(this._config.strokeOpacity=t,this.map&&this._setDomAttribute("strokeopacity",t))},setFillOpacity:function(t){t>1||t<0||(this._config.fillOpacity=t,this._setDomAttribute("fillopacity",t))},setStrokeStyle:function(t){"solid"!==t&&"dashed"!==t||(this._config.strokeStyle=t,this._setDomAttribute("strokestyle",t))},setFillColor:function(t){this._config.fillColor=t||"",this._setDomAttribute("fillcolor",t)},_setDomAttribute:function(t,e){this._drawer&&(this._drawer.setAttribute(this.domElement,t,e||"",this.getStrokeWeight()),this.dispatchEvent(new BaseEvent("onlineupdate")))},addVertexs:function(){var t=this;if(!t.vertexMarkers.length)for(var e=this.getVertexPoints(),i=function(e){t._onMarkerDragging(e)},n=function(e){t._onMarkerDragstart(e)},o=function(e){t._onMarkerDragend(e)},a=function(e){t._DelVertexMarker(e)},r=0,s=e.length;r<s;r++){var l=e[r],h=new Vertex(l.p,l.t);h.addEventListener("ondragging",i),h.addEventListener("ondragstart",n),h.addEventListener("ondragend",o),h.addEventListener("ondelVertexMarker",a),h.index=r,h.t=l.t,this.vertexMarkers.push(h),this.map&&this.map.addOverlay(h)}},clearVertexs:function(){for(var t;t=this.vertexMarkers.pop();)this.map.removeOverlay(t),t=void 0;this.vertexMarkers.length=0},getVertexPoints:function(){for(var t=[],e=0,i=this.points.length;e<i;e++){var n=this.points[e];if(t.push({p:n,t:0}),e<i-1){var o=this.points[e+1],a=new Point((n.lng+o.lng)/2,(n.lat+o.lat)/2);t.push({p:a,t:1})}}return this.vertexPoints=t,t},_onMarkerDragstart:function(t){this._editstate=!1},_onMarkerDragend:function(t){this._editstate=!1,this._temp.dashedLine&&(this.map.removeOverlay(this._temp.dashedLine),delete this._temp.dashedLine),this._temp.preTNode&&(this.map.removeOverlay(this._temp.preTNode),delete this._temp.preTNode),this._temp.nexTNode&&(this.map.removeOverlay(this._temp.nexTNode),delete this._temp.nexTNode);var e,i=t.currentTarget,n=t.pointN,o=i.index;if(o%2!=0){this._delVertex(o),this._addVertex(o,n,0);var a=gcjToBd09(this.vertexPoints[o-1].p,this.map.config.coordsType),r=gcjToBd09(this.vertexPoints[o+1].p,this.map.config.coordsType),s=this.getCenterPoint(a,n),l=this.getCenterPoint(n,r);this._addVertex(o,s,1),this._addVertex(o+2,l,1),o=Math.ceil(o/2),e=this.points.slice();var h=this.points.length-o,c=e.splice(o,h);e[e.length]=n,e=e.concat(c)}else{if(this.vertexPoints[o].p=n,o-2>=0){var a=gcjToBd09(this.vertexPoints[o-2].p,this.map.config.coordsType),s=this.getCenterPoint(a,n);this.vertexMarkers[o-1].show(),this.vertexMarkers[o-1].setPosition(s)}if(o+2<this.vertexPoints.length){var r=gcjToBd09(this.vertexPoints[o+2].p,this.map.config.coordsType),l=this.getCenterPoint(n,r);this.vertexMarkers[o+1].show(),this.vertexMarkers[o+1].setPosition(l)}this instanceof Polygon&&this.vertexPoints.length-1===o&&(this._delVertex(0),this._addVertex(0,n,0),this._delVertex(1),this._addVertex(1,this.getCenterPoint(gcjToBd09(this.vertexPoints[0].p,this.map.config.coordsType),gcjToBd09(this.vertexPoints[1].p,this.map.config.coordsType)),1),this.vertexMarkers[0].domElement.style.zIndex="-10000000"),o/=2,this.points.splice(o,1,n),this instanceof Polygon&&this.points.length-1===o&&this.points.splice(0,1,n),e=this.points}for(var d=0,u=this.vertexMarkers.length;d<u;d++)this.vertexMarkers[d].index=d;this.points=e,this._setPath(e)},_DelVertexMarker:function(t){if(0===t.target.type||0===t.target.t){var e=[];if(this.vertexPoints.length<6)return void alert("点位大于3,才能删除");0==t.target.index||t.target.index==this.vertexPoints.length-1?(this._delVertex(this.vertexPoints.length-1),this._delVertex(0)):this._delVertex(t.target.index),this.clearVertexs();for(var i=0;i<this.vertexPoints.length;i++)0===this.vertexPoints[i].t&&e.push(this.vertexPoints[i].p);this.points=e,this.points[0].lng==this.points[this.points.length-1].lng&&this.points[0].lat==this.points[this.points.length-1].lat&&this.points.splice(this.points.length-1,1),this.setPath(this.points)}else alert("只能删除实点")},_addVertex:function(t,e,i){var n=this;this.vertexPoints.splice(t,0,{p:e,t:i});var o=new Vertex(e,i);o.addEventListener("ondragging",function(t){n._onMarkerDragging(t)}),o.addEventListener("ondragstart",function(t){n._onMarkerDragstart(t)}),o.addEventListener("ondragend",function(t){n._onMarkerDragend(t)}),o.addEventListener("ondelVertexMarker",function(t){n._DelVertexMarker(t)}),o.index=t,o.t=i,this.vertexMarkers.splice(t,0,o),this.map.addOverlay(o)},_delVertex:function(t){this.map.removeOverlay(this.vertexMarkers[t]),this.vertexPoints.splice(t,1),this.vertexMarkers.splice(t,1)},getCenterPoint:function(t,e){return new PointN((t.lng+e.lng)/2,(t.lat+e.lat)/2)},_getProximity:function(t){var e,i,n,o,a,r,s,l=[],h=this.map.pointToOverlayPixel(t);l=this._getDisplayPixels(this.points)[0];var c=l.length;if(c>1){for(var d=1;d<c;d++){var u=l[d-1],p=l[d];if(u&&p){if(u.x!==p.x){var _=(p.y-u.y)/(p.x-u.x),g=p.y-_*p.x;s=Math.abs(_*h.x+g-h.y)/Math.sqrt(_*_+1)}else s=Math.abs(h.x-p.x);var m=Math.pow(p.y-u.y,2)+Math.pow(p.x-u.x,2),f=Math.pow(p.y-h.y,2)+Math.pow(p.x-h.x,2),v=Math.pow(u.y-h.y,2)+Math.pow(u.x-h.x,2),y=Math.pow(s,2);f-y+v-y>m&&(s=Math.sqrt(Math.min(f,v))),(null==e||e>s)&&(i=Math.sqrt(v-y)/Math.sqrt(m),n=Math.sqrt(f-y)/Math.sqrt(m),e=s,r=d),e=Math.min(e,s)}}if(!(this instanceof Polyline)){for(var b=0,x=0,w=this.points,d=0;d<c;d++)b=d===c-1?0:b+1,w[d].lat!==w[b].lat&&(t.lat>=w[d].lat&&t.lat<w[b].lat||t.lat>=w[b].lat&&t.lat<w[d].lat)&&t.lng<(w[b].lng-w[d].lng)*(t.lat-w[d].lat)/(w[b].lat-w[d].lat)+w[d].lng&&x++;e=Math.min(e,x%2>0?0:e)}i>1&&(i=1),n>1&&(i=0,n=1);var P=l[r-1].x-l[r].x,M=l[r-1].y-l[r].y;o=l[r-1].x-P*i,a=l[r-1].y-M*i}return{pixel:new Pixel(o,a),dist:e}},show:function(){OverlayInternal.prototype.show.call(this),this.draw(),!0===this._config.enableEditing&&this.addVertexs()},hide:function(){OverlayInternal.prototype.hide.call(this),!0===this._config.enableEditing&&this.clearVertexs()},remove:function(){Overlay.prototype.remove.call(this),!0===this._config.enableEditing&&this.clearVertexs()}}),exportSymbol(GraphP,{show:GraphP.show,hide:GraphP.hide,remove:GraphP.remove,setPath:GraphP.setPath,setPositionAt:GraphP.setPositionAt,setStrokeColor:GraphP.setStrokeColor,setStrokeWeight:GraphP.setStrokeWeight,setStrokeOpacity:GraphP.setStrokeOpacity,setFillOpacity:GraphP.setFillOpacity,setStrokeStyle:GraphP.setStrokeStyle,setFillColor:GraphP.setFillColor,getDom:GraphP.getDom}),baidu.extend(Polyline.prototype,{initialize:function(t){var e=this;Graph.prototype.initialize.call(this,t),this._segLength=[0],this._segDegree=[0],this._segTotalLength=[0];for(var i=1,n=e.points,o=n.length;i<o;i++){this._segLength[i]=MercatorProjection.getDistanceByLL(n[i],n[i-1]);var a=MercatorProjection.convertLL2MC(n[i-1]),r=MercatorProjection.convertLL2MC(n[i]);this._segDegree[i]=90-180*Math.atan2(r.lat-a.lat,r.lng-a.lng)/Math.PI,this._segTotalLength[i]=this._segTotalLength[i-1]+this._segLength[i]}return this._length=this._segTotalLength[o-1],this._setAttributes(),e._segPixelTotalLengthCache={},this.domElement},_setAttributes:function(){this.setFillColor(""),this.setStrokeColor(this._config.strokeColor),this.setStrokeWeight(this._config.strokeWeight),this.setStrokeStyle(this._config.strokeStyle),this.setStrokeOpacity(this._config.strokeOpacity)},_getDisplayPixelsGeoDesic:function(t){if(!t)return[];for(var e=this.map,i=[],n=0;n<t.length;n++)i.push(e.mctToOverlayPixel(t[n].mct));return[i].concat(this._addMultipleDrawPath(i,e.getZoom(),!0))},_addMultipleDrawPath:function(t,e,i){var n=this.map;e=e||n.getZoom();for(var o=[],a=[],r=i?n.worldSize(e):Map.WORLD_SIZE_MC,s=0;s<t.length;s++)o.push(new Pixel(t[s].x-r,t[s].y)),a.push(new Pixel(t[s].x+r,t[s].y));return[o,a]},_getDisplayPixels:function(t){var e=this.map,i=[],n=e.getBounds(),o=this.getBounds();if(!n.intersects(o)||0==t.length||!this.domElement||!this.isVisible())return[i];if(!(isMobile()&&t.length>5e3||this._config.enableEditing)){var a=this.getParseCacheIndex(e.getZoom());if(this._parseCache[a])t=this._parseCache[a];else{var r=simplify(t,this.getParseTolerance(e.getZoom()));t=this._parseCache[a]=r}}i.push(e.pointToOverlayPixel(t[0]));for(var s=1,l=1,h=t.length;s<h;s++){var c=e.pointToOverlayPixel(t[s]);c.equals(i[l-1])||(i.push(c),l++)}for(var d=[],u=e.offsetX,p=e.offsetY,_=e.config.drawMargin,g={minX:-u-_,minY:-p-_,maxX:-u+_+e.width,maxY:-p+_+e.height},s=0,h=i.length-1;s<h;s++){var m=i[s],f=i[s+1],v=cohenSutherlandLineClip(m,f,g);v&&d.push(v)}for(var y=[[]],s=0,h=d.length;s<h;s++)d[s].clip?(y[y.length-1].push(d[s].pixel0),y[y.length-1].push(d[s].pixel1),d[s+1]&&d[s+1].clip&&y.push([])):(y[y.length-1].push(d[s].pixel0),s==d.length-1&&y[y.length-1].push(d[s].pixel1));return y},hide:function(){if(Graph.prototype.hide.call(this),this._config.icons&&this._config.icons.length>0)for(var t=0,e=this._config.icons.length;t<e;t++)this._config.icons[t].hide()},show:function(){if(Graph.prototype.show.call(this),this._config.icons&&this._config.icons.length>0)for(var t=0,e=this._config.icons.length;t<e;t++)this._config.icons[t].show()},_drawIcons:function(t){var e=(new Date,this),i=e.getMap(),n=i.getZoom(),o=i.getBounds();if(icons=this._config.icons,displayPixels=Graph.prototype._getDisplayPixels.call(e,e.points),e._segPixelTotalLengthCache[n]&&e._segPixelTotalLengthCache[n].length>0)e._segPixelTotalLength=e._segPixelTotalLengthCache[n];else{for(var a=[0],r=1,s=displayPixels[0],l=s.length;r<l;r++)a[r]=a[r-1]+getDistanceByPixel(s[r],s[r-1]);e._segPixelTotalLengthCache[n]=a,e._segPixelTotalLength=a}for(var r=0;r<icons.length;r++){var h,c,d,u=icons[r],p=u.symbol;if(u._positionsCache[n]&&u._positionsCache[n].length>0?d=u._positionsCache[n]:u._positionsCache[n]=d=u._calIconPosition(e),1===d.length){if(!o.containsPoint(d[0].point))continue;u._markers[0]&&(i.removeOverlay(u._markers[0]),u._markers[0].remove()),u.fixedRotation||(7===p._type||5===p._type?p.setRotation(-180+this._segDegree[d[0].index]):p.setRotation(this._segDegree[d[0].index])),u._markers[0]=new Marker(d[0].point,{icon:p}),i.addOverlay(u._markers[0])}else if(d.length>1){var _,g=(new Date,[]),m={};if(t&&"onzoomend"===t.type){for(var f in u._markers)i.removeOverlay(u._markers[f]),u._markers[f].remove();u._markers=[]}else baidu.array.each(u._markers,function(t){o.containsPoint(t.getPosition())?(_=String(t.getPosition().lat)+String(t.getPosition().lng),m[_]=!0,g.push(t)):(i.removeOverlay(t),t.remove())}),u._markers=g;for(var f=0;f<d.length;f++){c=d[f].index,h=d[f].point;var v=String(h.lat)+String(h.lng);if(o.containsPoint(h)&&!m[v]){u.fixedRotation||(7===p._type||5===p._type?p.setRotation(-180+this._segDegree[c]):p.setRotation(this._segDegree[c]));var y=new Marker(h,{icon:p});u._markers.push(y),i.addOverlay(y)}}}}},_onMarkerDragging:function(t){this._editstate=!0;var e,i=t.currentTarget,n=t.pointN,o=i.index,a=this.vertexPoints,r=null,s=null;if(0==o){var l=gcjToBd09(a[o+2].p,this.map.config.coordsType);e=[n,l],r=new PointN((l.lng+n.lng)/2,(l.lat+n.lat)/2),this.vertexMarkers[o+1]&&this.vertexMarkers[o+1].hide()}else if(o==a.length-1){var h=gcjToBd09(a[o-2].p,this.map.config.coordsType);e=[h,n],r=new PointN((h.lng+n.lng)/2,(h.lat+n.lat)/2),this.vertexMarkers[o-1]&&this.vertexMarkers[o-1].hide()}else{var h=gcjToBd09(a[o-1].p,this.map.config.coordsType),l=gcjToBd09(a[o+1].p,this.map.config.coordsType);e=[h,n,l],i.t||(h=gcjToBd09(a[o-2].p,this.map.config.coordsType),l=gcjToBd09(a[o+2].p,this.map.config.coordsType),e=[h,n,l],r=new PointN((h.lng+n.lng)/2,(h.lat+n.lat)/2),s=new PointN((l.lng+n.lng)/2,(l.lat+n.lat)/2),this.vertexMarkers[o-1]&&this.vertexMarkers[o-1].hide(),this.vertexMarkers[o+1]&&this.vertexMarkers[o+1].hide())}if(this._temp.dashedLine)this._temp.dashedLine.setPath(e),this._temp.dashedLine.show();else{var c=new Polyline(e,{strokeStyle:"dashed",strokeColor:this._config.strokeColor,strokeWeight:this._config.strokeWeight,strokeOpacity:this._config.strokeOpacity,linkRight:this._config.linkRight});this.map.addOverlay(c),c.hide(),this._temp.dashedLine=c}new Icon(MapConfig.imgPath+"nodeT.gif",new Size(11,11),{offset:new Size(5,5)});!this._temp.preTNode&&r?(this._temp.preTNode=new Vertex(r,1),this.map.addOverlay(this._temp.preTNode)):r&&this._temp.preTNode.setPosition(r),!this._temp.nexTNode&&s?(this._temp.nexTNode=new Vertex(s,1),this.map.addOverlay(this._temp.nexTNode)):s&&this._temp.nexTNode.setPosition(s)}}),baidu.array.remove=function(t,e){for(var i=t.length;i--;)t[i]===e&&t.splice(i,1);return t},baidu.extend(Polygon.prototype,{initialize:function(t){return Graph.prototype.initialize.call(this,t),this.setStrokeColor(this._config.strokeColor),this.setStrokeWeight(this._config.strokeWeight),this.setStrokeStyle(this._config.strokeStyle),this.setFillColor(this._config.fillColor),this.setStrokeOpacity(this._config.strokeOpacity),this.setFillOpacity(this._config.fillOpacity),this.domElement},setPositionAt:function(t,e){this._userPoints[t]&&(this._parseCache.length=0,this._userPoints[t]=new Point(e.lng,e.lat),this.points[t]=new Point(e.lng,e.lat),0!=t||this.points[0].equals(this.points[this.points.length-1])||(this.points[this.points.length-1]=new Point(e.lng,e.lat)),this._calcBounds(),1==this._config.enableEditing&&(this.clearVertexs(),this.addVertexs()),this.draw(),this.dispatchEvent(new BaseEvent("onlineupdate")))},_setAttributes:function(){this.setStrokeColor(this._config.strokeColor),this.setStrokeWeight(this._config.strokeWeight),this.setStrokeStyle(this._config.strokeStyle),this.setFillColor(this._config.fillColor),this.setStrokeOpacity(this._config.strokeOpacity),this.setFillOpacity(this._config.fillOpacity)},containPoint:function(t){var e=this.points,i=!1;if(t instanceof Point||t instanceof PointN){if(this._bounds.containsPoint(t)){for(var n=t.lat,o=t.lng,a=0,r=e.length-1;a<e.length;r=a++){var s=e[a].lat,l=e[a].lng,h=e[r].lat,c=e[r].lng;l>o!=c>o&&n<(h-s)*(o-l)/(c-l)+s&&(i=!i)}return i}return!1}},_onMarkerDragging:function(t){this._editstate=!0;var e,i=t.currentTarget,n=t.point,o=i.index,a=this.vertexPoints,r=null,s=null;if(0==o){var l=bd09ToGcj02(a[a.length-2].p,this.map.config.coordsType),h=bd09ToGcj02(a[o+2].p,this.map.config.coordsType);e=[l,n,h],i.t||(r=new Point((l.lng+n.lng)/2,(l.lat+n.lat)/2),s=new Point((h.lng+n.lng)/2,(h.lat+n.lat)/2))}else if(o==a.length-1){var c=bd09ToGcj02(a[2].p,this.map.config.coordsType),d=bd09ToGcj02(a[o-2].p,this.map.config.coordsType);e=[d,n,c],i.t||(r=new Point((d.lng+n.lng)/2,(d.lat+n.lat)/2),s=new Point((c.lng+n.lng)/2,(c.lat+n.lat)/2))}else{var d=bd09ToGcj02(a[o-1].p,this.map.config.coordsType),h=bd09ToGcj02(a[o+1].p,this.map.config.coordsType);e=[d,n,h],i.t||(d=bd09ToGcj02(a[o-2].p,this.map.config.coordsType),h=bd09ToGcj02(a[o+2].p,this.map.config.coordsType),e=[d,n,h],r=new Point((d.lng+n.lng)/2,(d.lat+n.lat)/2),s=new Point((h.lng+n.lng)/2,(h.lat+n.lat)/2),this.vertexMarkers[o-1]&&this.vertexMarkers[o-1].hide(),this.vertexMarkers[o+1]&&this.vertexMarkers[o+1].hide())}if(this._temp.dashedLine)this._temp.dashedLine.setPath(e);else{var u=new Polyline(e,{strokeStyle:"dashed",strokeColor:this._config.strokeColor,strokeWeight:this._config.strokeWeight,strokeOpacity:this._config.strokeOpacity});this.map.addOverlay(u),this._temp.dashedLine=u}!this._temp.preTNode&&r?(this._temp.preTNode=new Vertex(r,1),this.map.addOverlay(this._temp.preTNode)):r&&this._temp.preTNode.setPosition(r),!this._temp.nexTNode&&s?(this._temp.nexTNode=new Vertex(s,1),this.map.addOverlay(this._temp.nexTNode)):s&&this._temp.nexTNode.setPosition(s)}}),exportSymbol(PolygonP,{setPositionAt:PolygonP.setPositionAt}),baidu.extend(Circle.prototype,{initialize:function(t){return Polygon.prototype.initialize.call(this,t),this.points=this._getPerimeterPoints(this.point,this.radius),this._calcBounds(),this.domElement},setCenter:function(t,e){t&&(this._parseCache.length=0,e||(this.vertexPoints=null),this.point=t,this.points=this._getPerimeterPoints(t,this.radius),this._calcBounds(),this.draw(),this.dispatchEvent(new BaseEvent("onlineupdate")))},setRadius:function(t,e){isNaN(t)||(this._parseCache.length=0,e||(this.vertexPoints=null),this.radius=Math.abs(t),this.points=this._getPerimeterPoints(this.point,this.radius),this._calcBounds(),this.draw(),this.dispatchEvent(new BaseEvent("onlineupdate")))},getParseTolerance:function(t){return this._config.getParseTolerance?this._config.getParseTolerance(t):Circle.parseTolerance[this.getParseCacheIndex(t)]},_onMarkerDragging:function(t){var e,i,n;this.map;this._editstate=!0;var o=t.currentTarget,a=o.index,r=this.vertexPoints,s=r[0].p,l=r[r.length-1].p;0==a?(i=o.getPosition(),n=l):(i=s,n=o.getPosition()),e=MercatorProjection.getDistanceByLL(gcjToBd09(i,this.map.config.coordsType),gcjToBd09(n,this.map.config.coordsType)),this.setRadius(e,!0),this.setCenter(i,!0)},_onMarkerDragend:function(t){this._editstate=!1;var e=t.currentTarget,i=e.index;this.vertexPoints[0]={p:this.point,t:0},1==i&&(this.vertexPoints[1]={p:e.point,t:0}),this.clearVertexs(),this.addVertexs()},getVertexPoints:function(){if(!this.vertexPoints){var t=[];t.push({p:this.point,t:0}),t.push({p:this.points[Math.floor(3*this.points.length/4)],t:0}),this.vertexPoints=t}return this.vertexPoints}}),exportSymbol(CircleP,{setCenter:CircleP.setCenter,setRadius:CircleP.setRadius}),CanvasDrawer.prototype=new BMap.Drawer;var CanvasDrawerPrototype=CanvasDrawer.prototype;CanvasDrawerPrototype.addLine=function(){if(!this.canvas||this.canvas&&!isInDocument(this.canvas)){var t=this.canvas=create("canvas");this._map.getPanes().mapPane.appendChild(t),t.style.position="absolute";var e=t.getContext("2d");e.lineCap="round",e.lineJoin="round",e.save(),this._setCanvasPosition(this.canvas)}return this.canvas},CanvasDrawerPrototype.setPath=function(t,e,i){if(t&&0!==e[0].length){var n=t.getContext("2d");this.setPosition(t);var o=parseInt(t.style.top),a=parseInt(t.style.left);n.beginPath(),baidu.array.each(e,function(t){if(0!==t.length){n.moveTo(t[0].x-a,t[0].y-o);for(var e=1,i=t.length;e<i;e++)n.lineTo(t[e].x-a,t[e].y-o)}}),this._drawCanvas(t,i),"dashed"===i.strokeStyle&&this._drawDashedLines(n,e,a,o,i)}},CanvasDrawerPrototype._drawDashedLines=function(t,e,i,n,o){var a=this;t.beginPath(),baidu.array.each(e,function(e){if(0!==e.length){for(var r=[],s=0,l=e.length;s<l;s++)r.push({x:e[s].x-i,y:e[s].y-n});t.strokeStyle=o.strokeColor||"#3a6bdb";var h=a._getRGBAColor(t.strokeStyle,o.strokeOpacity),c={lineWidth:o.strokeWeight||5,interval:2*o.strokeWeight||10,lineLength:2*o.strokeWeight||10,strokeStyle:h};a._drawDashedLine(t,r,c)}})},CanvasDrawerPrototype._drawDashedLine=function(t,e,i){for(var i=i||{},n=i.interval||10,o=i.lineWidth||5,a=i.lineLength||10,r=i.strokeStyle||"#3a6bdb",s=e.length-1,l=0,h=a+n,c=0,d=0;d<s;d++){var u=e[d].x,p=e[d].y,_=e[d+1].x,g=e[d+1].y;c+=Math.sqrt((_-u)*(_-u)+(g-p)*(g-p))}if(c<a)return t.strokeStyle=r,t.lineWidth=o,t.lineJoin="round",t.lineCap="round",t.beginPath(),t.moveTo(e[0].x,e[0].y),t.lineTo(e[s].x,e[s].y),void t.stroke();for(var m=0;m<s;m++){var u=e[m].x,p=e[m].y,_=e[m+1].x,g=e[m+1].y,f=Math.sqrt((_-u)*(_-u)+(g-p)*(g-p))+l+a,v=h-Math.abs(l);if(l<=h){var y=parseInt(f/h),b=n*(_-u)/f,x=n*(g-p)/f;xMove=a*(_-u)/f,yMove=a*(g-p)/f,startX=u+v*(_-u)/f,startY=p+v*(g-p)/f,tailX=u+(a-Math.abs(l))*(_-u)/f,tailY=p+(a-Math.abs(l))*(g-p)/f,t.beginPath(),t.strokeStyle=r,t.lineJoin="round",t.lineCap="round",t.lineWidth=o,T?t.moveTo(T,C):t.moveTo(u,p),l<=0?(t.lineTo(u,p),t.lineTo(tailX,tailY),t.moveTo(startX,startY)):(t.lineTo(tailX,tailY),t.moveTo(startX,startY));for(var w=0,P=2*y;w<P;w++)if(w%2)startX+=b,startY+=x,t.moveTo(startX,startY);else{startX+=xMove,startY+=yMove;var M=_-startX;if(M*xMove<0)break;t.lineTo(startX,startY)}t.stroke()}l=parseInt(f-h*y)-a;var T=_-Math.abs(l)*(_-u)/f,C=g-Math.abs(l)*(g-p)/f;if(m===s-1&&l>0){t.beginPath(),t.strokeStyle=r;var S=_-l*(_-u)/f;leftY=g-l*(g-p)/f,l<=a?(t.moveTo(S,leftY),t.lineTo(_,g)):(t.moveTo(S,leftY),t.moveTo(S+xMove,leftY+yMove)),t.stroke()}}},CanvasDrawerPrototype._getRGBAColor=function(t,e){if(4===t.length)var i=parseInt(t.substr(1,1)+t.substr(1,1),16),n=parseInt(t.substr(2,1)+t.substr(2,1),16),o=parseInt(t.substr(3,1)+t.substr(3,1),16),a="rgba("+i+","+n+","+o+","+e+")";else var i=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),o=parseInt(t.substr(5,2),16),a="rgba("+i+","+n+","+o+","+e+")";return a},CanvasDrawerPrototype.setAttribute=function(t,e,i){if(t){var n=t.getContext("2d"),o=this._getAttributeName(e);try{n[o]=i}catch(t){}t.setAttribute("_"+e,i||""),n.save()}},CanvasDrawerPrototype._getAttributeName=function(t){return this._canvasAttrName[t]||t},CanvasDrawerPrototype._setCanvasPosition=function(t){var e=this._map,i=e.config.drawMargin,n=e.width+2*i,o=e.height+2*i,a=-e.offsetX-i,r=-e.offsetY-i,s=t.getContext("2d"),l={strokeStyle:s.strokeStyle,fillStyle:s.fillStyle,globalAlpha:s.globalAlpha,lineWidth:s.lineWidth,lineCap:"round",lineJoin:"round"};t.setAttribute("width",n),t.setAttribute("height",o);for(var h in l)s[h]=l[h];s.save();var c=t.style;c.top=r+"px",c.left=a+"px"},CanvasDrawerPrototype._clearCanvas=function(t){t.clearRect(0,0,9999,9999)},CanvasDrawerPrototype._drawCanvas=function(t,e){var i=t.getContext("2d");i.globalAlpha=t.getAttribute("_fillopacity"),0!==i.globalAlpha&&t.getAttribute("_fillcolor")&&i.fill(),i.globalAlpha=t.getAttribute("_strokeopacity"),0!==i.globalAlpha&&t.getAttribute("_strokecolor")&&"dashed"!==e.strokeStyle&&i.stroke()},CanvasDrawerPrototype.setPosition=function(t){var e=this._map,i=e.config.drawMargin,n=-e.offsetX-i,o=-e.offsetY-i,a=t.style;a.top=o+"px",a.left=n+"px"},BMap.CanvasDrawer=CanvasDrawer;var DrawerSelector={getDrawer:function(t){switch(DrawerSelector["_"+t.guid]||(DrawerSelector["_"+t.guid]={}),t.config.drawer){case BMAP_SVG_DRAWER:return DrawerSelector.getSvgDrawer(t);case BMAP_VML_DRAWER:return DrawerSelector.getVmlDrawer(t);case BMAP_CANVAS_DRAWER:return DrawerSelector.getCanvasDrawer(t)}return isMobile()&&DrawerSelector.isSupportCanvas()&&t.config.drawer!==BMAP_SVG_DRAWER_FIRST?DrawerSelector.getCanvasDrawer(t):DrawerSelector.isSupportSvg()?DrawerSelector.getSvgDrawer(t):DrawerSelector.isSupportVml()?DrawerSelector.getVmlDrawer(t):DrawerSelector.isSupportCanvas()?DrawerSelector.getCanvasDrawer(t):void 0},getSvgDrawer:function(t){return DrawerSelector["_"+t.guid]._svgDrawer||(DrawerSelector["_"+t.guid]._svgDrawer=new BMap.SvgDrawer(t)),DrawerSelector["_"+t.guid]._svgDrawer},getVmlDrawer:function(t){return DrawerSelector["_"+t.guid]._vmlDrawer||(DrawerSelector["_"+t.guid]._vmlDrawer=new BMap.VmlDrawer(t)),DrawerSelector["_"+t.guid]._vmlDrawer},getCanvasDrawer:function(t){return DrawerSelector["_"+t.guid]._canvasDrawer||(DrawerSelector["_"+t.guid]._canvasDrawer=new BMap.CanvasDrawer(t)),DrawerSelector["_"+t.guid]._canvasDrawer},isSupportVml:function(){if(isDefined(DrawerSelector.supportVml))return DrawerSelector.supportVml;var t=isVml();return DrawerSelector.supportVml=t,t},isSupportSvg:function(){return isDefined(DrawerSelector.supportSvg)||(DrawerSelector.supportSvg=isSvg()),DrawerSelector.supportSvg},isSupportCanvas:function(){return isDefined(DrawerSelector.supportCanvas)||(DrawerSelector.supportCanvas=isCanvas()),DrawerSelector.supportCanvas}};BMap.DrawerSelector=DrawerSelector,SvgDrawer.prototype=new BMap.Drawer;var svgDrawerPrototype=SvgDrawer.prototype;svgDrawerPrototype._createSvg=function(){var t=this._svg=create("svg",{},this.SVG_NS);t.setAttribute("version","1.1"),t.setAttribute("type","system"),t.style.position="absolute",this.setPalette(),this._map.getPanes().mapPane.appendChild(t);var e=isMobile()?"touchstart":"mousedown";return baidu.on(t,e,preventDefault),t},svgDrawerPrototype.setPalette=function(){if(this._svg){var t=this._svg,e=this._map,i=e.config.drawMargin,n=e.width+2*i,o=e.height+2*i,a=-e.offsetX-i,r=-e.offsetY-i;this.setAttribute(t,"x",n+"px"),this.setAttribute(t,"y",o+"px"),this.setAttribute(t,"viewBox",a+" "+r+" "+n+" "+o);var s=t.style;s.top=r+"px",s.left=a+"px",s.width=n+"px",s.height=o+"px"}},svgDrawerPrototype.getPalette=function(){return this._svg},svgDrawerPrototype.setAttribute=function(t,e,i,n){if(t){"strokestyle"==e&&(i="solid"==i?0:2*n);var o=i||"none";return t.setAttributeNS(null,this._getAttributeName(e),o),t}},svgDrawerPrototype._getAttributeName=function(t){return this._svgAttrName[t]||t},svgDrawerPrototype.addLine=function(){var t=create("path",{},this.SVG_NS);return this.setAttribute(t,"stroke-linejoin","round"),this.setAttribute(t,"stroke-linecap","round"),this.setAttribute(t,"fill-rule","evenodd"),this._svg.appendChild(t),t},svgDrawerPrototype.setPath=function(t,e){var i=this._getPathString(e)||"M -9999,-9999";this.setAttribute(t,"d",i)},svgDrawerPrototype._getPathString=function(t){if(0==t.length)return"";var e=[];return baidu.array.each(t,function(t){if(!(t.length<2)){e.push("M "+t[0].x+" "+t[0].y+" L");for(var i=1,n=t.length;i<n;i++)e.push(t[i].x),e.push(t[i].y)}}),e.join(" ")},BMap.SvgDrawer=SvgDrawer,VmlDrawer.colorMapping={orange:"#ffa500"},VmlDrawer.prototype=new BMap.Drawer;var VmlDrawerPrototype=VmlDrawer.prototype;VmlDrawerPrototype.setAttribute=function(t,e,i){if(t){0==e.indexOf("stroke")?t=t.getElementsByTagName("stroke")[0]:0==e.indexOf("fill")&&(t=t.getElementsByTagName("fill")[0]),e.indexOf("color")>0&&(i?(t.on=!0,VmlDrawer.colorMapping[i]&&(i=VmlDrawer.colorMapping[i])):t.on=!1),"strokestyle"==e&&(i="solid"==i?"solid":"4 2 1 2"),"strokeweight"==e&&(i+="px");t[this._getAttributeName(e)]=i||""}},VmlDrawerPrototype._getAttributeName=function(t){return this._vmlAttrName[t]||t},VmlDrawerPrototype.addLine=function(){var t=['<v:shape style="behavior:url(#default#VML);z-index:1;width:1px;height:1px;position:absolute;left:0;top:0;"','coordsize="1,1" coordorigin="0,0" filled="t" fillcolor="white">','<v:stroke style="behavior:url(#default#VML);" endcap="round" oned="true" />','<v:fill style="behavior:url(#default#VML)" />',"</v:shape>"].join("");return beforeEndHTML(this._map.getPanes().mapPane,t)},VmlDrawerPrototype.setPath=function(t,e){this.setAttribute(t,"path",this._getPathString(e)),6==baidu.browser.ie&&(t.style.display="none",t.style.display="")},VmlDrawerPrototype._getPathString=function(t){if(0==t.length)return"";var e=[];return baidu.array.each(t,function(t){if(!(t.length<2)){e.push("m "+t[0].x+" "+t[0].y+" l");for(var i=1,n=t.length;i<n;i++)e.push(t[i].x),e.push(t[i].y);e.push("e")}}),e.join(" ")||" "},BMap.VmlDrawer=VmlDrawer,window._poly=2,window._infowindow=1,baidu.extend(InfoWindow.prototype,{initialize:function(t){var e=this.map=t.map;this.overlay=t,this.render(),this._bind(),this._config.enableMaximize?this.enableMaximize():this.disableMaximize(),this._isMyDom()&&(this._config.enableMessage,this.map.infoWindowDoms.phoneButton.style.display="none",this._config.enableParano?this.map.infoWindowDoms.panoButton.style.display="block":this.map.infoWindowDoms.panoButton.style.display="none"),this.setTitle(this._config.title),this.setContent(this.content,!0),this._config.ifMaxScene&&this.setMaxScene(!0),this.redraw(null,!0);var i=e.infoWindowDoms;i&&(i.marker=t instanceof Marker?t:null)},render:function(){var t=this.map,e=this,i=t.infoWindowDoms,n=e.IMG_PATH;if(!i){i=t.infoWindowDoms={},t.infoWindow=t.infoWindowDoms;var o=['<div class="BMap_shadow" style="position: absolute;display:none" type="infowindow_shadow">'];o.push('<div><img onmousedown="return false" style="margin-left: -323px; margin-top: 0px;" src="'+n+'iws3.png"/></div>'),o.push('<div><img onmousedown="return false" style="margin-left: -393px; margin-top: 0px;" src="'+n+'iws3.png"/></div>'),o.push('<div><img onmousedown="return false" style="margin-left: -1033px; margin-top: 0px;" src="'+n+'iws3.png"/></div>'),o.push('<div><img onmousedown="return false" style="margin-top: -30px;" src="'+n+'iws3.png"/></div>'),o.push('<div><img onmousedown="return false" style="margin-left: -360px; margin-top: -30px;" src="'+n+'iws3.png"/></div>'),o.push('<div><img onmousedown="return false" style="margin-top: -30px;" src="'+n+'iws3.png"/></div>'),
o.push('<div><img onmousedown="return false" style="margin-left: -14px; margin-top: -310px;" src="'+n+'iws3.png"/></div>'),o.push('<div><img onmousedown="return false" style="margin-left: -255px; margin-top: -310px;" src="'+n+'iws3.png"/></div>'),o.push('<div><img onmousedown="return false" style="margin-left: -440px; margin-top: -310px;" src="'+n+'iws3.png"/></div>'),o.push('<div><img onmousedown="return false" style="margin-left: -255px; margin-top: -310px;" src="'+n+'iws3.png"/></div>'),o.push('<div><img onmousedown="return false" style="margin-left: -754px; margin-top: -310px;" src="'+n+'iws3.png"/></div>'),o.push("</div>"),o.push('<div class="BMap_pop" style="box-sizing:content-box;position:absolute;display:none;cursor:default">'),o.push('<div><div style="box-sizing:content-box;background:#fff;border-top:1px solid #ababab;border-left:1px solid #ababab;width:30px;height:30px;"></div></div>'),o.push('<div class="BMap_top"></div>'),o.push('<div><div style="box-sizing:content-box;position:absolute;top:0;left:-6px;background:#fff;border-top:1px solid #ababab;border-right:1px solid #ababab;width:30px;height:30px;"></div></div>'),o.push('<div class="BMap_center"></div>'),o.push('<div><div style="box-sizing:content-box;position:absolute;top:-6px;left:0;background:#fff;border-bottom:1px solid #ababab;border-left:1px solid #ababab;width:30px;height:30px;"></div></div>'),o.push('<div class="BMap_bottom"></div>'),o.push('<div><div style="box-sizing:content-box;position:absolute;top:-6px;left:-6px;background:#fff;border-right:1px solid #ababab;border-bottom:1px solid #ababab;width:30px;height:30px;"></div></div>'),o.push('<div><img style="box-sizing:content-box;border:none;margin:0px;padding:0px;margin-left:-186px;margin-top:-691px;max-width:none; width:690px;height:786px;" src="'+n+'iw3.png"/></div>'),o.push('<div style="box-sizing:content-box;overflow-y:hidde;overflow-x:hidde;width:auto;height:auto;position:absolute;left:16px; top:16px;z-index:10;"></div>'),o.push("</div>"),i.popDom=beforeEndHTML(t.platform,o.join("")),i.shadowDom=i.popDom.previousSibling,i.popDivs=i.popDom.children,i.shadowDivs=i.shadowDom.getElementsByTagName("div"),i.contentMain=i.popDivs[8],i.titleDiv=beforeEndHTML(i.popDivs[8],'<div class="BMap_bubble_title" style="display:block;overflow:hidden;height:24px;line-height:24px;white-space:nowrap"></div>'),i.contentDiv=beforeEndHTML(i.popDivs[8],'<div class="BMap_bubble_content" style="display:block"></div>'),i.maxContentDiv=beforeEndHTML(i.popDivs[8],'<div class="BMap_bubble_max_content" style="display:none;position:relative"></div>');var a=10;isMobile()&&(a=15);var r='<img style="position:absolute;top:12px;width:'+a+"px;height:"+a+'px;-moz-user-select:none;cursor:pointer;z-index:10000;" src="'+n+'iw_close1d3.gif"/>';i.closeButton=beforeEndHTML(i.popDom,r);var s='<img style="position:absolute;top:12px;width:'+a+"px;height:"+a+'px;-moz-user-select:none;cursor:pointer;z-index:10000;display:none" src="'+n+'quanjing.png" title="进入全景"/>';i.panoButton=beforeEndHTML(i.popDom,s);var l='<img style="position:absolute;top:10px;width:9px;height:14px;-moz-user-select:none;cursor:pointer;z-index:10000;display:none;" src="'+n+'phone.png" title="发送到手机"/>';i.phoneButton=beforeEndHTML(i.popDom,l);var h='<img style="position:absolute;top:12px;width:'+a+"px;height:"+a+'px;-moz-user-select:none;cursor:pointer;z-index:10000;display:none" src="'+n+'iw_plus1d3.gif"/>';i.maxButton=beforeEndHTML(i.popDom,h);i.headerContent=beforeEndHTML(i.popDom,'<div style="position:absolute;top:0px;left:0;-moz-user-select:none;z-index:10000;"></div>'),this._mendIE6(i)}i.guid=i.popDom.guid=this.guid},_mendIE6:function(t){if(baidu.browser.ie&&!(baidu.browser.ie>6)){for(var e=t.popDom.getElementsByTagName("IMG"),i=0;i<e.length;i++)e[i].src.indexOf(".png")<0||(e[i].style.cssText+=";FILTER: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+e[i].src+",sizingMethod=crop)",e[i].src=this.IMG_PATH+"blank.gif");for(var n=t.shadowDom.getElementsByTagName("IMG"),i=0;i<n.length;i++)n[i].style.cssText+=";FILTER: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+n[i].src+",sizingMethod=crop)",n[i].src=this.IMG_PATH+"blank.gif"}},_bind:function(){var t=this,e=t.map,i=e.infoWindowDoms,n=i.closeButton,o=i.popDom,a=function(e){t.dispatchEvent(new BaseEvent("onclickclose")),t.overlay&&t.overlay.closeInfoWindow(),stopAndPrevent(e)};n.onclick=a;var r=["touchstart","touchmove","touchend","gesturestart","gesturechange","mousedown","mouseout","mouseover","click","mousewheel","keydown","selectstart"];baidu.array.each(r,function(t){baidu.on(o,t,stopBubble)}),baidu.on(o,"dblclick",stopAndPrevent),baidu.on(o,"contextmenu",stopAndPrevent),baidu.browser.firefox>=4&&baidu.on(o,"mouseup",function(t){2==t.button&&stopAndPrevent(t)}),window.addEventListener&&o.addEventListener("DOMMouseScroll",stopAndPrevent,!1);var s=function(i){_addStat(STAT.INFO_WINDOW_PHONE_CLICK,{operate:"phone_click"}),e.pop||(e.pop=new MessagePopup),e.addOverlay(e.pop),e.pop.getAddressByPoint(t),stopAndPrevent(i)},l=function(t){var i=BMap.url.proto+BMap.url.domain.iw_pano+"/scape/",n=(new Date).getTime(),o="Pano"+n;BMap[o]=function(t){var i=e.getPanorama(),n=t.content[0];i.setId(n.poiinfo.PID),i.show(),i.setPov({heading:n.poiinfo.Dir,pitch:n.poiinfo.Pitch})},n=(new Date).getTime(),i+="?qt=poi&udt=20131021&uid="+t+"&t="+n+"&fn=BMap."+o,DataMgr.request(i,!1)},h=function(){l(t.street_id),_addStat(STAT.INFO_WINDOW_PANORAMA_BUTTON_CLICK)};i.phoneButton.onclick=s,i.panoButton.onclick=h;var c=function(e){t.map.infoWindowDoms.maxButton;t.isWinMax?t.restore():t.maximize(),stopAndPrevent(e)};i.maxButton.onclick=c,isMobile()&&(baidu.on(n,"touchend",a),baidu.on(i.maxButton,"touchend",c)),o=n=i=null},_setWinSize:function(t,e){this.map.infoWindowDoms.headerContent.style.width=t+"px";var i=this._config;t=t||i.width,(e=e||i.height)<0&&(e=0);var n=i.offset.width,o=i.offset.height,a=[25,-1,25,-1,25,-1,25,34],r=[25,-1,25,-1,25,-1,25,50];a[1]=t-a[0]-a[2],baidu.browser.ie&&"CSS1Compat"!=document.compatMode?a[3]=t:a[3]=t-2,a[5]=t-a[4]-a[6],r[1]=r[0],r[3]=e-r[0]-r[4],baidu.browser.ie&&"CSS1Compat"!=document.compatMode?r[5]=r[4]:r[5]=r[4]-1;var s=[0,a[0],t-a[2],0,0,a[4],t-a[6],Math.ceil((t-a[7])/2)],l=[0,0,0,r[0],e-a[4],e-a[4],e-a[4],e-a[4]],h=(this._allPopLeft=n-Math.round((t-a[7])/2),this._allPopTop=o-e-24,Math.floor((e+r[7])/2.03)+30),c=[70,-1,70,-1,-1,-1,50,-1,140,-1,70],d=[30,30,30,25,25,25,60,60,60,60,60];c[7]=Math.round((t+80-(c[6]+c[8]+c[10])-50)/2),c[9]=c[7]+50;var u=c[6]+c[7]+c[8]+c[9]+c[10];c[1]=u-c[0]-c[2]-29,c[5]=c[3]=h-d[0]-d[6]+70,d[3]=d[4]=d[5]=h-d[0]-d[6],c[4]=c[0]+c[1]+c[2]+d[3]+29-c[5]-c[3];var p=[h-60-1,h-60-1+c[0],h-60-1+c[0]+c[1],29,29+c[3],29+c[3]+c[4],0,c[6],c[6]+c[7],c[6]+c[7]+c[8],c[6]+c[7]+c[8]+c[9]],_=[0,0,0,d[0],d[0],d[0],d[0]+d[3],d[0]+d[3],d[0]+d[3],d[0]+d[3],d[0]+d[3]];this._allShadowLeft=n-c[6]-c[7]-70,this._allShadowTop=o-h+30;var g=323-h+90;shadowRightImageLeft=740+g;var m=this.map.infoWindowDoms;if(m&&m.popDivs)for(var f=0;f<8;f++)m.popDivs[f].style.cssText=function(t){return"box-sizing:content-box;overflow: hidden; z-index: 1; position: absolute;              left:"+s[t]+"px;              top:"+l[t]+"px;              width:"+a[t]+"px;              height:"+r[t]+"px"}(f);if(m&&m.shadowDivs){for(var f=0;f<m.shadowDivs.length;f++)m.shadowDivs[f].style.cssText=function(t){return"box-sizing:content-box;overflow: hidden; z-index: 1; position: absolute;              left:"+p[t]+"px;              top:"+_[t]+"px;              width:"+c[t]+"px;              height:"+d[t]+"px;"}(f);g=g<0?0:g,m.shadowDivs[3].firstChild.style.marginLeft="-"+g+"px",m.shadowDivs[5].firstChild.style.marginLeft="-"+shadowRightImageLeft+"px"}this.setPosition()},setWidth:function(t){if(!(!(t*=1)&&0!=t||isNaN(t)||t<0)&&(0!=t&&(t<220&&(t=220),t>730&&(t=730)),this._config.width=t,this._isMyDom()&&this.isOpen())){var e=this;this.redraw(function(){e.setPanToWithDelay()})}},setHeight:function(t){if(!(!(t*=1)&&0!=t||isNaN(t)||t<0)){0!=t&&(t<60&&(t=60),t>650&&(t=650)),this._config.height=t;var e=this.map;if(this._isMyDom()&&this.isOpen()){0!=this._config.width&&(e.infoWindowDoms.contentDiv.style.width=this._config.width+"px");var i=this;this.redraw(function(){i.setPanToWithDelay()})}}},setMaxWidth:function(t){!(t*=1)&&0!=t||isNaN(t)||t<0||(0!=t&&(t<220&&(t=220),t>730&&(t=730)),this._config.maxWidth=t,this.isWinMax&&this.redraw())},setTitle:function(t){if(this._config.title=t,this._isMyDom()){var e=this.map,i=e.infoWindowDoms.titleDiv;t?(isString(t)?i.innerHTML=t:(i.innerHTML="",i.appendChild(t)),baidu.dom.show(i)):baidu.dom.hide(i);var n=this;this.redraw(function(){n.setPanToWithDelay()})}},setContent:function(t,e){if(this.content=t,this._isMyDom()&&!this.isWinMax){var i=this.map,n=i.infoWindowDoms.contentDiv,o=i.infoWindowDoms.maxContentDiv;if(isString(t)?n.innerHTML=t:(n.innerHTML="",n.appendChild(t)),this._config.enableSearchTool){var a=this.getSearchToolDom();n.appendChild(a)}if(0!=this._config.width&&(n.style.width=this._config.width+"px"),o.style.display="none",n.style.display="",!e){var r=this;this.redraw(function(){r.setPanToWithDelay()})}i.infoWindowDoms.headerContent.innerHTML=this._config.headerContent}},setMaxContent:function(t){t?this._config.maxContent=t:t=this._config.maxContent;var e=this.map;if(this._isMyDom()){var i=e.infoWindowDoms;i.maxContentDiv.innerHTML=t,this.isWinMax&&(i.contentDiv.style.display="none",i.maxContentDiv.style.display="")}},redraw:function(t,e){if(this._isMyDom()&&(e||this.isOpen())){var i=this,n=i.map.infoWindowDoms,o=0;t=t||function(){},"none"!=n.titleDiv.style.display&&(o=24);var a=7,r=20;if(isMobile()&&(a=5,r=20),this.isWinMax)d=i._config.maxWidth,setTimeout(function(){var e=o+n.maxContentDiv.scrollHeight;e=e>i.map.height?i.map.height-60:e,d=d<220?220:d,d=d>730?730:d,e=e<55?55:e,e=e>650?650:e,i._setWinSize(d+32,e+32),n.contentMain.style.width=d+"px",n.contentMain.style.height=e+"px",n.closeButton.style.left=d+a+"px",i._config.enableMessage?(n.maxButton.style.left=d-2*r+a+"px",n.phoneButton.style.left=d-r+a+"px"):n.maxButton.style.left=d-r+a+"px",i._config.enableParano&&(n.maxButton.style.left=d-3*r+a+"px",n.panoButton.style.left=d-2*r+a+"px"),n.contentMain.style.overflow="hidden",i._config.enableContentScroll&&(n.contentMain.style.overflow="auto"),i.dispatchEvent(new BaseEvent("onresize")),t()},1);else{var s=n.contentDiv.style,l=n.titleDiv.style,c=n.contentMain.style;s.width=c.width=l.width="auto",s.height=c.height=l.height="auto",s.whiteSpace="nowrap","none"==n.popDom.style.display&&this.show(),n.popDom.style.visibility="hidden",n.shadowDom.style.visibility="hidden";var d=n.contentMain.clientWidth||0;d=0==i._config.width?d:i._config.width,d=d>i.map.width?i.map.width-60:d,d=d<220?220:d,d=d>730?730:d,c.width=d+"px",h=n.contentMain.scrollHeight||0,h=0==i._config.height?h:i._config.height,i._setWinSize(d+32,h+32),setTimeout(function(){s.whiteSpace="",c.overflow="hidden",i._config.enableContentScroll&&(c.overflow="auto"),h=n.contentMain.scrollHeight||0,h=0==i._config.height?h:i._config.height,h=h>i.map.height-92?i.map.height-92:h,h=h<55?55:h,h=h>650?650:h,i._setWinSize(d+32,h+32),n.popDom.style.visibility="",n.shadowDom.style.visibility="",c.height=h+"px",n.closeButton.style.left=d+a+"px",i._config.enableMessage?(n.maxButton.style.left=d-2*r+a+"px",n.phoneButton.style.left=d-r+a+"px"):n.maxButton.style.left=d-r+a+"px",i._config.enableParano&&(n.maxButton.style.left=d-3*r+a+"px",n.panoButton.style.left=d-2*r+a+"px"),i.dispatchEvent(new BaseEvent("onresize")),t()},1)}}},setPosition:function(){if(this._isMyDom()){var t=this.map.infoWindowDoms,e=this.overlay,i=this.map.pointToOverlayPixel(e.getPosition()),n=e.getIcon(),o=new Pixel(i.x-n.anchor.width+n.infoWindowAnchor.width+e.getOffset().width,i.y-n.anchor.height+n.infoWindowAnchor.height+e.getOffset().height);void 0!=this._allPopLeft&&void 0!=this._allPopTop&&void 0!=this._allShadowLeft&&void 0!=this._allShadowTop&&(t.popDom.style.left=this._allPopLeft+o.x+"px",t.popDom.style.top=this._allPopTop+o.y+"px",t.shadowDom.style.left=this._allShadowLeft+o.x+"px",t.shadowDom.style.top=this._allShadowTop+o.y+"px")}},setPanToWithDelay:function(t){var e=this;setTimeout(function(){e.setPanTo()},t||200)},setPanTo:function(){if(this.overlay&&this.overlay.getPosition()&&this._config.enableAutoPan&&this._isMyDom()){var t=this.map,e=t.infoWindowDoms,i=e.popDivs,n=e.popDom;if(i&&n){var o=parseInt(i[3].style.width)+2,a=parseInt(i[1].style.height)+parseInt(i[3].style.height)+parseInt(i[7].style.height),r=parseInt(n.style.left)+this.map.offsetX,s=parseInt(n.style.top)+this.map.offsetY,l=new Pixel(r,s),h=new Pixel(o+r,a+s);if(0!=this._config.height&&document.all){t.temp.infoKey||(t.temp.infoKey=-1);var c=-t.temp.infoKey;t.temp.infoKey=-t.temp.infoKey}var c=0,d=0,u=this._config.margin[0],p=this._config.margin[1],_=this._config.margin[2],g=this._config.margin[3];l.x<g&&(c=-l.x+g),l.y<u&&(d=-l.y+u),h.x>t.width-p&&(c=t.width-h.x-p),h.y>t.height-_&&(d=t.height-h.y-_),this._loadCollisions();var m=this._config.collisions;l.x<m[0][0]&&l.y<m[0][1]&&(Math.abs(-l.x+m[0][0])<Math.abs(-l.y+m[0][1])?c=-l.x+m[0][0]:t.height-m[0][1]-m[3][1]<a?c=-l.x+m[0][0]:d=-l.y+m[0][1],t.width-m[0][0]-m[1][0]<o&&l.y<m[1][1]&&(d=-l.y+m[1][1])),h.x>t.width-m[1][0]&&l.y<m[1][1]&&(Math.abs(-h.x+t.width-m[1][0])<Math.abs(-l.y+m[1][1])&&t.width-m[0][0]-m[1][0]>=o?c=-h.x+t.width-m[1][0]:(d=-l.y+m[1][1],t.width-m[0][0]-m[1][0]<o&&t.width-m[0][0]<o&&(c=-l.x+m[0][0]))),l.x<m[3][0]&&h.y>t.height-m[3][1]&&(Math.abs(-l.x+m[3][0])<Math.abs(-h.y+t.height-m[3][1])&&(Math.abs(-l.x+m[3][0])<Math.abs(d)&&0!=d||0==d)&&t.width-m[3][0]>=o?c=-l.x+m[3][0]:d=-h.y+t.height-m[3][1],t.height-m[0][1]-m[3][1]<a&&l.x<m[0][0]&&(c=-l.x+m[0][0])),h.x>t.width-m[2][0]&&h.y>t.height-m[2][1]&&(Math.abs(-h.x+t.width-m[2][0])<Math.abs(-h.y+t.height-m[2][1])&&(Math.abs(-h.x+t.width-m[2][0])<Math.abs(d)&&0!=d||0==d)&&t.width-m[0][0]-m[1][0]>=o?c=-h.x+t.width-m[2][0]:(d=t.height-m[1][1]-m[2][1]>=a?-h.y+t.height-m[2][1]:-l.y+m[1][1],t.width-m[0][0]-m[2][0]<o&&(c=-l.x+m[0][0]))),0==c&&0==d||t.panBy(c,d)}}},_loadCollisions:function(){if(this.map)for(var t=(this.map,this.map.container),e=0,i=t.children.length;e<i;e++){var n,o,a=!(!isDefined(t.children[e]._anchor)||!t.children[e]._offset);if(t.children[e]._jsobj&&t.children[e]._jsobj instanceof Control&&1==t.children[e]._jsobj.blockInfoWindow)n=t.children[e];else{if(!a)continue;n=t.children[e]}var r,s,l=n.offsetWidth,h=n.offsetHeight,c=n._jsobj;if(!c||a){if(!isDefined(n._anchor)||!n._offset||"none"==getCurrentStyle(n).display||"hidden"==getCurrentStyle(n).visibility)continue;r=n._offset,s=n._anchor}else{if(0==c.isVisible())continue;r=c.getOffset(),s=c.getAnchor()}switch(s){case BMAP_ANCHOR_TOP_LEFT:o=0;break;case BMAP_ANCHOR_TOP_RIGHT:o=1;break;case BMAP_ANCHOR_BOTTOM_LEFT:o=3;break;case BMAP_ANCHOR_BOTTOM_RIGHT:o=2}var d=l+r.width+10,u=h+r.height+10,p=this._config.collisions[o];this._config.collisions[o]=[d>p[0]?d:p[0],u>p[1]?u:p[1]]}},enableMaximize:function(){this._config.enableMaximize=!0,this._isMyDom()&&(this.map.infoWindowDoms.maxButton.style.display="block")},disableMaximize:function(){this._config.enableMaximize=!1,this._isMyDom()&&(this.map.infoWindowDoms.maxButton.style.display="none")},show:function(){if(this._isMyDom()){var t=this.map.infoWindowDoms;if("none"==t.popDom.style.display){isObject(this.content)&&(t.contentDiv.appendChild(this.content),this._config.enableSearchTool&&t.contentDiv.appendChild(this.getSearchToolDom())),isObject(this._config.title)&&t.titleDiv.appendChild(this._config.title),baidu.dom.show(t.popDom),baidu.dom.show(t.shadowDom);var e=new BaseEvent("onopen");e.point=e.point=this.getPosition(),this.dispatchEvent(e),this.redraw()}}},hide:function(){if(!this._isMyDom())return!1;var t=this.map.infoWindowDoms;if("none"==t.popDom.style.display)return!1;if(0==this._config.onClosing())return!1;isObject(this.content)&&(t.contentDiv.removeChild(this.content),this._config.enableSearchTool&&t.contentDiv.removeChild(this.getSearchToolDom())),isObject(this._config.title)&&t.titleDiv.removeChild(this._config.title),baidu.dom.hide(t.popDom),baidu.dom.hide(t.shadowDom),this.isWinMax&&(this.isWinMax=!1,t.maxContentDiv.style.display="none",t.contentDiv.style.display="",t.maxButton.src=this.IMG_PATH+"iw_plus1d3.gif");var e=new BaseEvent("onclose");return e.point=e.point=this.getPosition(),this.dispatchEvent(e),this.map.temp._clickCloseBindTimer?(clearTimeout(this.map.temp._clickCloseBindTimer),this.map.temp._clickCloseBindTimer=null):(this.map.removeEventListener("click",this.map.temp._clickCloseHandler),this.map.temp._clickCloseBinded=!1),baidu.lang.decontrol(this.guid),!0},maximize:function(){if(this.map&&this.isOpen()&&this._config.enableMaximize&&!this.isWinMax&&this._isMyDom()){var t=this.map.infoWindowDoms.maxButton,e=this;e.isWinMax=!0,t.src=e.IMG_PATH+"iw_minus1d3.gif",e.setMaxContent(),e.map.infoWindowDoms.maxContentDiv.style.display="block",e.redraw(),e.dispatchEvent(new BaseEvent("onmaximize")),e.setPanToWithDelay()}},restore:function(){if(this.map&&this.isOpen()&&this.isWinMax&&this._isMyDom()){this.isWinMax=!1;var t=this;t.map.infoWindowDoms.maxButton.src=t.IMG_PATH+"iw_plus1d3.gif",t.setContent(this.content,!0),t.map.infoWindowDoms.maxContentDiv.style.display="none",t.redraw(),t.dispatchEvent(new BaseEvent("onrestore")),t.setPanToWithDelay()}},_revert:function(){if(this._isMyDom()){this.isWinMax=!1;var t=this.map.infoWindowDoms;t.titleDiv.innerHTML="",t.contentDiv.innerHTML="",t.maxContentDiv.innerHTML="",t.maxButton.src=this.IMG_PATH+"iw_plus1d3.gif"}},_setOverflow:function(){var t=this.map;if(this._isMyDom()){var e=t.infoWindowDoms,i=e.contentMain.style;e._overflowX=i.overflowX,e._overflowY=i.overflowY,i.overflowX="hidden",i.overflowY="hidden",this._config.enableContentScroll&&(i.overflowX="auto",i.overflowY="auto",e._overflowX=i.overflowX,e._overflowY=i.overflowY)}},_resetOverflow:function(){var t=this.map;if(this._isMyDom()&&t.infoWindowDoms._overflowX&&t.infoWindowDoms._overflowY){var e=t.infoWindowDoms,i=e.contentMain.style;i.overflowX=e._overflowX,i.overflowY=e._overflowY,delete e._overflowX,delete e._overflowY}},isOpen:function(){if(!this.map)return!1;var t=this.map.temp.infoWin;return!!t&&(!!this._isMyDom()&&(!t||t.overlay!==this.overlay||!this.map.infoWindowDoms||"none"!=this.map.infoWindowDoms.popDom.style.display))},setMaxScene:function(t){var e=this;if(this._isMyDom()){var i=e.map.infoWindowDoms;i.maxButton.style.display="block";var n=i.maxButton;!!t!=!!this.isWinMax&&(t?(e.isWinMax=!0,n.src=e.IMG_PATH+"iw_minus1d3.gif",e.setMaxContent(),i.maxContentDiv.style.display="block"):(e.isWinMax=!1,n.src=e.IMG_PATH+"iw_plus1d3.gif",e.setContent(this.content,!0),i.maxContentDiv.style.display="none"),this.redraw())}},_draw:function(){1==this._visible&&this.overlay&&this.overlay.openInfoWindow(this)},_isMyDom:function(){return this.map&&this.map.infoWindowDoms&&this.map.infoWindowDoms.guid==this.guid},getSearchToolDom:function(){return this.map.searchTool?this.map.searchTool.reset(this):this.map.searchTool=new SearchTool(this),this.map.searchTool.getDom()}}),OverlayInternal.prototype.openInfoWindow=function(t){var e=this.map;if(e&&this.domElement&&0!=this.isVisible()&&!(!t instanceof InfoWindow)){var i=e.temp;if(i.infoWin&&i.infoWin.overlay&&i.infoWin.overlay._fromMap&&e.closeInfoWindow(),i.infoWin===t&&i.infoWin.isOpen()&&i.infoWin.overlay===this)return void t.setPanToWithDelay();e.closeInfoWindow(),this.infoWindow=t,null==i.infoWin||i.infoWin!=t?(e.infoWindowDoms&&(e.infoWindowDoms.closeButton.onclick=null,e.infoWindowDoms.maxButton.onclick=null),i.infoWin=t,t.initialize(this)):t.redraw(null,!0),baidu.lang.Class.call(t,t.guid),i._clickCloseHandler||(i._clickCloseHandler=function(t){t.overlay||e.temp.infoWin&&e.temp.infoWin._config.enableCloseOnClick&&(e.closeInfoWindow(),e.removeEventListener("click",arguments.callee),i._clickCloseBinded=!1)}),i._clickCloseBinded||(i._clickCloseBindTimer=setTimeout(function(){e.addEventListener("click",i._clickCloseHandler),i._clickCloseBinded=!0,i._clickCloseBindTimer=null},200)),i._infoWin&&delete i._infoWin,t.overlay=this;var n=e.infoWindowDoms;this.map.getPanes().floatPane.appendChild(n.popDom),this.map.getPanes().floatShadow.appendChild(n.shadowDom),t.setPanToWithDelay(),this.dispatchEvent(new BaseEvent("oninfowindowopen"))}},OverlayInternal.prototype.closeInfoWindow=function(){if(this.map&&this.map.infoWindowDoms){var t=this;if(t.infoWindow&&t.infoWindow.guid==t.map.infoWindowDoms.guid)try{1==t.infoWindow.hide()&&(t.dispatchEvent(new BaseEvent("oninfowindowclose")),t.map.temp.infoWin=t.infoWindow=null)}catch(t){}}},exportSymbol(OverlayInternalP,{openInfoWindow:OverlayInternalP.openInfoWindow,closeInfoWindow:OverlayInternalP.closeInfoWindow}),exportSymbol(InfoWindowP,{redraw:InfoWindowP.redraw,setTitle:InfoWindowP.setTitle,setPosition:InfoWindowP.setPosition,setWidth:InfoWindowP.setWidth,setMaxWidth:InfoWindowP.setMaxWidth,setHeight:InfoWindowP.setHeight,setContent:InfoWindowP.setContent,setMaxContent:InfoWindowP.setMaxContent,enableMaximize:InfoWindowP.enableMaximize,disableMaximize:InfoWindowP.disableMaximize,isOpen:InfoWindowP.isOpen,show:InfoWindowP.show,hide:InfoWindowP.hide,maximize:InfoWindowP.maximize,restore:InfoWindowP.restore});var serviceHost=BMap.apiUrl;MessagePopup.prototype=new Overlay,baidu.extend(MessagePopup.prototype,{initialize:function(t){return this._map=t,this.container=this.generalDom(),this._map.getContainer().appendChild(this.container),this.initDom(),this.bind(),this.getRememberPhone(),this.addPhoneNum=0,this.container},draw:function(){},config:{sendURL:serviceHost+"ws/message?method=send",activateURL:serviceHost+"ws/message?method=activate",ckActivateURL:serviceHost+"ws/message?method=ckActivate",shortURL:BMap.url.proto+BMap.url.domain.message+"/?"},generalDom:function(){var t=document.createElement("div"),e=this._map.getSize(),i=0,n=0;e.width>450&&(n=(e.width-450)/2),e.height>260&&(i=(e.height-260)/2);var o="position:absolute;background:#fff;width:480px;height:260px;top:"+i+"px;left:"+n+"px;ovflow:hidden;";isMobile()&&(o+="-webkit-transform:translate(-"+e.width/4+"px,0px) scale(0.6);"),t.style.cssText=o;var a="line-height:18px;height:18px;font-size:12px;margin:0;border:none;padding:0;background:none;display:table-cell;",r=['<div style="height: 35px; background: #FCFCFC; position: relative; z-index: 20; font-size:12px; font-weight:bold; line-height:35px; padding-left:10px;">',"<span>发送到手机</span>",'<span id="BMapLib_sms_tip" style="display:none;color: red; padding-left:20px;">',"</span>","</div>",'<div id="BMapLib_sms_pnl_phone" style="display: block;position: relative; z-index: 10; padding: 10px 15px 10px 15px; border-top: solid 1px #F2F2F2; font-size:12px;">','<div id="pnl_phone_left" style="display: block;float: left; width: 263px; height: 172px; overflow-x: hidden; overflow-y: auto;">','<table border="0" style="border-spacing:0;border-collapse:collapse;border:none;display:table-cell;">',"<tr>",'<td style="'+a+'text-align:right; font-weight:normal;">发送方手机号&nbsp;</td>','<td style="'+a+'"><input type="text" bid="" id="BMapLib_phone_0" maxlength="11" style="ime-mode:disabled;width:90px;" /><span id="BMapLib_activateTip" style="padding-left:5px; color: red;"></span></td>',"</tr>",'<tr id="BMapLib_activateBox" style="display:none;">','<td style="'+a+'text-align:right; font-weight:normal;">激活码&nbsp;</td>','<td style="'+a+'"><input type="text" id="BMapLib_activate" style="ime-mode:disabled;width:35px;" maxlength="4"/><input type="button" value="获取" id="BMapLib_activate_btn" bid="activate" style="width:40px;"/><input type="button" value="59" id="BMapLib_time_surplus" disabled="disabled" style="width:105px;height:24px;display:none;"/>',"</tr>","<tr>",'<td style="'+a+'vertical-align:top;padding-top:4px;text-align:right; font-weight:normal;">接收方手机号&nbsp;</td>','<td style="'+a+'"><div><input type="text" id="BMapLib_phone_1" style="ime-mode:disabled;width:90px;" maxlength="11"/><input type="checkbox" id="BMapLib_is_remember_phone"/>记住此号</div>','<div id="BMapLib_add_phone_con"></div>','<div><a href="javascript:void(0)" id="BMapLib_add_phone_btn" bid="addPhone">新增</a></div>',"</td>","</tr>","<tr>",'<td style="'+a+'"></td>','<td style="'+a+'"><input type="text" id="BMapLib_ver_input"  maxlength="4" style="width:67px;border: 1px solid #a5acb2;vertical-align: middle;height:18px;" tabindex="5" placeholder="验证码"><img width="69" height="20" id="BMapLib_ver_image" style="border: 1px solid #d5d5d5;vertical-align:middle;margin-left: 5px;" alt="点击更换数字" title="点击更换数字"></td>',"</tr>","<tr>",'<td style="'+a+'"></td>','<td style="'+a+'"><input type="button" style="margin:5px;" value="免费发送到手机" bid="sendToPhoneBtn"/></td>',"</tr>","</table>","</div>",'<div id="pnl_phone_right" style="display: block;background:#f6f6f6; padding:10px; height:152px; overflow-x:hidden; overflow-y:auto;">','<div style="font-weight:bold; height:18px; line-height:18px; padding-bottom:5px;">短信内容：</div>','<div id="BMapLib_msgContent" style="font-size:12px: line-height:16px; word-break:break-all; 　　word-wrap:break-word;"></div>',"</div>",'<div style="clear:both;"></div>','<p id="BMapLib_sms_declare_phone" style="color: #707070;">我们保证不向任何第三方提供输入的手机号码</p>',"</div>",'<button style="padding:10px; background: url('+BMap.apiUrl+'/images/iw_close1d3.gif) no-repeat center center transparent; border: 0 none; cursor: pointer; height: 13px; position: absolute; right: 8px; top: 8px; width: 14px; z-index: 50;" bid="close"></button>','<div id="BMapLib_success_tip" style="display:none;font-size: 12px; text-align: center; padding: 50px 0 20px 0 ; color: red;">您的短信已经发送到您的手机，请注意查收!</div>'].join("");return t.innerHTML=r,t},initDom:function(){this.dom={sms_tip:baidu.g("BMapLib_sms_tip"),activate_btn:baidu.g("BMapLib_activate_btn"),fromphone:baidu.g("BMapLib_phone_0"),tophone:baidu.g("BMapLib_phone_1"),isRememberPhone:baidu.g("BMapLib_is_remember_phone"),sms_container:baidu.g("BMapLib_sms_pnl_phone"),success_tip:baidu.g("BMapLib_success_tip"),add_phone_con:baidu.g("BMapLib_add_phone_con"),add_phone_btn:baidu.g("BMapLib_add_phone_btn"),activateBox:baidu.g("BMapLib_activateBox"),activateTip:baidu.g("BMapLib_activateTip"),activate_input:baidu.g("BMapLib_activate"),time_surplus:baidu.g("BMapLib_time_surplus"),ver_image:baidu.g("BMapLib_ver_image"),ver_input:baidu.g("BMapLib_ver_input")}},showSurplusTime:function(){this.dom.time_surplus.style.display="",this.dom.activate_btn.style.display="none";this.countTimeDown(59)},countTimeDown:function(t){var e=this.dom.time_surplus,i=t<10?"0"+t:t;e.value="重新获取("+i+"秒)";var n=this;this.timeId&&clearTimeout(this.timeId),this.timeId=setTimeout(function(){n.countTimeDown(--t)},1e3),0==t&&(clearTimeout(this.timeId),e.style.display="none",this.dom.activate_btn.style.display="")},showTip:function(t){var e=t.error,i={PHONE_NUM_INVALID:"手机号码无效",SMS_SEND_SUCCESS:"发送到手机成功",AK_INVALID:"你所使用的key无效",INTERNAL_ERROR:"服务器错误",OVER_MAX_ACTIVATE_TIME:"今天已超过发送激活码最大次数",SMS_ACTIVATE_SUCCESS:"激活码已发送到您的手机，请注意查收！",ACTIVATE_FAIL:"手机激活码无效",SMS_LACK:"今天您还能往5个手机发送短信",PARAM_INVALID:"请填完所有选项",SEND_ACTIVATE_FAIL:"激活码发送失败",VCODE_VERITY_FAIL:"验证码校验失败"},n=i[e];if("SMS_LACK"==e){var o=t.res_sms;n="今天您还能往"+o+"个手机发送短信",this.addPhoneNum=o-1}n&&(this.dom.sms_tip.innerHTML=n,this.dom.sms_tip.style.display="inline"),this.renderImageVer(),"SMS_SEND_SUCCESS"==e&&(this.rememberPhone(),this.sendSuccess())},bind:function(){var t=this;baidu.on(this.container,"click",function(e){var i=e.target||e.srcElement;switch(i.getAttribute("bid")){case"close":t.closeActon();break;case"sendToPhoneBtn":t.sendAction();break;case"activate":t.activateAction();break;case"addPhone":t.addPhoneAction();break;case"deletePhone":t.deletePhoneAction(i)}});this.dom.fromphone,this.dom.tophone;baidu.on(this.container,"keypress",function(t){var e=t||window.event,i=e.which||e.keyCode,n=!1;return(i>=48&&i<=57||44==i||8==i)&&(n=!0),n}),baidu.on(this.dom.fromphone,"blur",function(){baidu.isPhone(t.dom.fromphone.value)?t.checkActivateAction():(t.dom.activateTip.innerHTML="",t.dom.activateBox.style.display="none")}),baidu.on(this.dom.activate_input,"blur",function(){baidu.isActivateCode(t.dom.activate_input.value)&&t.checkActivateAction()}),t.renderImageVer(),baidu.on(this.dom.ver_image,"click",function(){t.renderImageVer()})},renderImageVer:function(){var t=this;this.request(BMap.url.proto+BMap.url.domain.baidumap+"/maps/services/captcha?",{cbName:"cb"},function(e){t.vcode=e.content.vcode,t.dom.ver_image.src=BMap.url.proto+BMap.url.domain.baidumap+"/maps/services/captcha/image?vcode="+t.vcode})},checkActivateAction:function(){var t={phone:this.dom.fromphone.value,activate:this.dom.activate_input.value,cbName:"callback"},e=this;this.request(this.config.ckActivateURL,t,function(t){t&&0!=t.isactivate?(e.dom.activateBox.style.display="none",e.dom.activateTip.style.color="green",e.dom.activateTip.innerHTML="已激活"):(e.dom.activateBox.style.display="table-row",e.dom.activateTip.style.color="red",e.dom.activateTip.innerHTML="未激活")})},activateAction:function(){var t=this,e=AUTHENTIC_KEY,i={phone:this.dom.fromphone.value,ak:e,cbName:"callback"};baidu.isPhone(i.phone)?this.request(this.config.activateURL,i,function(e){e&&t.showTip(e),(e.error="SMS_ACTIVATE_SUCCESS")&&t.showSurplusTime()}):this.showTip({error:"PHONE_NUM_INVALID"})},closeActon:function(){this._map.removeOverlay(this)},getMessage:function(){},sendAction:function(){var t=this;if(this.validate()){tophoneStr=baidu.g("BMapLib_phone_1").value;for(var e=this.dom.add_phone_con.getElementsByTagName("input"),i=0,n=e.length;i<n;i++){if(!baidu.isPhone(e[i].value))return void this.showTip({error:"PHONE_NUM_INVALID"});tophoneStr+=","+e[i].value}var o=this._map.getKey(),a=this.messageContent;this.iw._config.message||(a=this.dom.fromphone.value+"分享一个位置给您，"+a),a=encodeURIComponent(a);var r={fromphone:this.dom.fromphone.value,tophone:tophoneStr,ak:o,activate:this.dom.activate_input.value,content:a,cbName:"callback",vcode:this.vcode,code_input:this.dom.ver_input.value};this.request(this.config.sendURL,r,function(e){e&&t.showTip(e)})}},validate:function(){var t=!0;return baidu.isPhone(this.dom.fromphone.value)&&baidu.isPhone(this.dom.tophone.value)||(t=!1,this.showTip({error:"PHONE_NUM_INVALID"})),t},getAddressByPoint:function(t){this.iw=t;var e=this.iw.getPosition(),i=this;(new Geocoder).getLocation(e,function(t){if(t&&t.addressComponents){var e=t.addressComponents;i.address=e.province+e.city+e.district+e.street+e.streetNumber,i.generalMessage()}})},generalMessage:function(){var t=baidu.g("BMapLib_msgContent"),e="",i=this.iw,n=i.getPosition(),o=i.getTitle(),a=i.getContent();o=baidu.lang.isString(o)?o.replace(/<\/?[^>]*>/g,""):o.innerHTML.replace(/<\/?[^>]*>/g,""),o=o.replace(/详情&raquo;/g,""),a=baidu.lang.isString(a)?a.replace(/<\/?[^>]*>/g,""):a.innerHTML.replace(/<\/?[^>]*>/g,""),i._config.message?e+=i._config.message:(this.userPhone&&(e+=this.userPhone+"分享一个位置给您，"),o&&(e+="名称为："+o+"，"),this.address&&(e+="大致位置在"+this.address+"，"));var r="http://api.map.baidu.com/marker?location="+n.lat+","+n.lng+"&title="+encodeURIComponent(o)+"&content="+encodeURIComponent(a)+"&output=html&operate=jsapi_message",s={url:encodeURIComponent(r),t:(new Date).getTime(),cbName:"callback"},l=this;this.request(this.config.shortURL,s,function(i){e+=" 查看地图 "+(i.url?i.url:r),l.messageContent=e,t.innerHTML=e})},rememberPhone:function(){if(this.dom.isRememberPhone.checked){var t=this.dom.tophone.value;baidu.cookie.set("BMapLib_phone",t,{path:"/",expires:2592e6})}else baidu.cookie.remove("BMapLib_phone",{path:"/"})},getRememberPhone:function(){var t=baidu.cookie.get("BMapLib_phone");t&&(this.dom.tophone.value=t,this.dom.isRememberPhone.checked=!0)},sendSuccess:function(){this.dom.sms_container.style.display="none",this.dom.success_tip.style.display="block";var t=this;setTimeout(function(){t._map.removeOverlay(t)},1500)},addPhoneAction:function(){if(this.addPhoneNum>=4);else{var t=document.createElement("div")
;t.innerHTML='<input type="text" style="ime-mode:disabled;width:90px;" maxlength="11"/><a href="javascript:void(0);" style="margin-left:5px;" bid="deletePhone">删除</a>',this.dom.add_phone_con.appendChild(t),this.addPhoneNum++}},deletePhoneAction:function(t){t.parentNode.parentNode.removeChild(t.parentNode),this.addPhoneNum--},request:function(t,e,i){var n=(1e5*Math.random()).toFixed(0);window.BMap["BMap_cbk"+n]=function(t){i&&i(t),delete window.BMap["BMap_cbk"+n]};for(var o in e)"cbName"!=o&&(t+="&"+o+"="+e[o]);t+="&"+e.cbName+"=BMap.BMap_cbk"+n,DataMgr.request(t)}}),baidu.lang.inherits(SearchTool,baidu.lang.Class,"SearchTool"),baidu.extend(SearchTool.prototype,{config:{imgPath:MapConfig.imgPath+"iw_bg.png",blank:MapConfig.imgPath+"blank.gif"},initialize:function(t){var e=this,i=(this.isOrigin=!0,t.map),n=this.dom=create("div",{style:"font-size:12px;"});this.localS=null,this.navS=null;var o="float:left;text-align:center;line-height:18px;padding:6px 0;border-left:1px solid #dadada;",a="height:22px;line-height:22px;padding:0;margin:0;border:1px solid #A5ACB2;",r="border:0;width:47px;height:25px;line-height:25px;margin:0 0 0 5px;vertical-align:bottom;background:url("+this.config.imgPath+") repeat-x 0 -87px;",s="margin-top: 4px;margin-right: 3px;-margin-right: 2px;white-space: nowrap;float: left;",l="color: #3d6dcc;text-decoration: none;margin-left: 6px;",h=this.nearTab=create("span",{style:o}),c=this.toHereTab=create("span",{style:o}),d=this.fromHereTab=create("span",{style:o});h.style.borderLeft="";var u="border:none;vertical-align:-3px;margin-right:5px;_vertical-align:0;";h.innerHTML="<img src='"+this.config.blank+"' style='"+u+"width:14px;height:14px;background:url("+this.config.imgPath+") no-repeat -30px -136px;'/>在附近找",c.innerHTML="<img src='"+this.config.blank+"' style='"+u+"width:10px;height:15px;background:url("+this.config.imgPath+") no-repeat -15px -136px;'/>到这里去",d.innerHTML="<img src='"+this.config.blank+"' style='"+u+"width:10px;height:15px;background:url("+this.config.imgPath+") no-repeat 0px -136px;'/>从这里出发",baidu.on(h,"click",function(){e.showTab("near")}),baidu.on(c,"click",function(){e.showTab("toHere")}),baidu.on(d,"click",function(){e.showTab("fromHere")});var p=create("div",{style:"margin-top:5px;overflow:hidden;background:url("+this.config.imgPath+") repeat-x 0 0;*zoom:1;"});p.appendChild(h),p.appendChild(c),p.appendChild(d);var _=this.searchContent=create("div",{style:"padding:10px 5px 0 5px;"});localSearchDiv=create("div",{style:s}),hotelLink=create("a",{style:s,filter:"query",style:l+"margin-left: 0"}),hotelLink.innerHTML="酒店",localSearchDiv.appendChild(hotelLink),caterLink=create("a",{style:s,filter:"query",style:l}),caterLink.innerHTML="餐馆",localSearchDiv.appendChild(caterLink),bankLink=create("a",{style:s,filter:"query",style:l}),bankLink.innerHTML="银行",localSearchDiv.appendChild(bankLink),hostpLink=create("a",{style:s,filter:"query",style:l}),hostpLink.innerHTML="医院",localSearchDiv.appendChild(hostpLink),busLink=create("a",{style:s,filter:"query",style:l}),busLink.innerHTML="公交站",localSearchDiv.appendChild(busLink),localSearchInput=create("input",{style:a+"width:85px;",type:"text"}),localSearchBtn=create("input",{style:r+"width:50px;",type:"button",value:"搜索"}),_.appendChild(localSearchDiv),_.appendChild(localSearchInput),_.appendChild(localSearchBtn);var g=i.vectorMapEnabled()?"vector":"tile";baidu.on(localSearchBtn,"click",function(){var t="http://api.map.baidu.com/place/search?query="+localSearchInput.value+"&location="+e.position.lat+","+e.position.lng+"&radius=1000&output=html&src=jsapi&operate=searchtool&clicktype"+g+"&region="+e.getCityName();window.open(t,"_blank")});var m=this.navContent=create("div",{style:"padding:10px 5px 0 5px;"});baidu.dom.hide(m),navSearchLabel=this.navSearchLabel=create("span",{style:"margin-right:5px;"}),navSearchLabel.innerHTML="起点",navSearchInput=create("input",{style:a+"width:125px;",type:"text"}),transitSearchBtn=create("input",{style:r,type:"button",value:"公交"}),drivingSearchBtn=create("input",{style:r,type:"button",value:"驾车"}),navBtn=create("input",{style:r,type:"button",value:"导航"}),m.appendChild(navSearchLabel),m.appendChild(navSearchInput),m.appendChild(transitSearchBtn),m.appendChild(drivingSearchBtn),baidu.on(transitSearchBtn,"click",function(){e.transitDrivingEvent("transit")}),baidu.on(drivingSearchBtn,"click",function(){e.transitDrivingEvent("driving")}),baidu.on(navBtn,"click",function(){window.open("http://wuxian.baidu.com/map/navi.html","_blank")}),n.appendChild(p),n.appendChild(_),n.appendChild(m),baidu.array.each([hostpLink,hotelLink,caterLink,busLink,bankLink],function(t){baidu.on(t,"mouseover",function(){baidu.g(this).style.textDecoration="underline",baidu.g(this).style.cursor="pointer"}),baidu.on(t,"mouseout",function(){baidu.g(this).style.textDecoration="none",baidu.g(this).style.cursor="defult"})}),baidu.array.each([hostpLink,hotelLink,caterLink,busLink,bankLink],function(i){baidu.on(i,"click",function(){_addStat(STAT.INFO_WINDOW_NEARYBY_BOTTON_CLICK);var i=e.map.vectorMapEnabled()?"vector":"tile",n=t.getPosition(),o="http://api.map.baidu.com/place/search?query="+this.innerHTML+"&location="+n.lat+","+n.lng+"&radius=1000&output=html&src=jsapi&operate=searchtool&clicktype"+i+"&region="+e.getCityName();window.open(o,"_blank")})}),this.reset(t),this.bindAutoComplete(t,localSearchInput,navSearchInput)},reset:function(t){this.map=t.map,this.infoWindow=t,this.position=t.getPosition(),this.showTab("near"),this.adjustWidth()},adjustWidth:function(){var t=this;setTimeout(function(){var e=t.infoWindow._config.width,i=Math.floor((e-2)/3);t.nearTab.style.width=i+"px",t.toHereTab.style.width=i+"px",t.fromHereTab.style.width=e-2-2*i+"px"},100)},bindAutoComplete:function(t,e,i){var n=this;t.addEventListener("open",function(o){null==n.localS&&(n.localS=new Autocomplete({input:e,location:t.map})),null==n.navS&&(n.navS=new Autocomplete({input:i,location:t.map}))})},getCityName:function(){return this.map.cityName},getDom:function(){return this.dom},transitDrivingEvent:function(t){var e,i,n=this.position.lat+","+this.position.lng,o=navSearchInput.value,a=this.getCityName(),r=this.infoWindow.getTitle();r&&(r=baidu.lang.isString(r)?r.replace(/<\/?[^>]*>/g,""):r.innerHTML.replace(/<\/?[^>]*>/g,""),r=r.replace(/详情&raquo;/g,""),n="name:"+r+"|latlng:"+n),this.isOrigin?(e=n,i=o):(e=o,i=n);var s=this.map.vectorMapEnabled()?"vector":"tile",l="http://api.map.baidu.com/direction?origin="+e+"&destination="+i+"&mode="+t+"&output=html&src=jsapi&operate=searchtool&clicktype"+s+"&region="+a;window.open(l,"_blank")},showTab:function(t){var e=this.nearTab,i=this.toHereTab,n=this.searchContent,o=this.navSearchLabel,a=this.navContent,r=this.fromHereTab;baidu.array.each([e,i,r],function(t){t.style.background="",t.style.cursor="pointer"});var s="url("+this.config.imgPath+") repeat-x 0 -44px",l=null;switch(t){case"near":l=e,baidu.dom.show(n),baidu.dom.hide(a);break;case"toHere":l=i,baidu.dom.hide(n),baidu.dom.show(a),o.innerHTML="起点",this.changeOrigin("destination");break;case"fromHere":l=r,baidu.dom.hide(n),baidu.dom.show(a),o.innerHTML="终点",this.changeOrigin("origin")}l.style.background=s},changeOrigin:function(t){this.isOrigin="origin"==t}}),window._infowindow=2,window._oppc=1,BMap.register(function(t){if(!t.config.isOverviewMap){var e=new Zoomer;beforeEndHTML(t.container,e.render(t.config.defaultCursor)),e._container=t.container.lastChild,t.temp.zoomer=e}}),Zoomer.prototype.render=function(t){var e=['<div id=zoomer style="position:absolute;z-index:0;top:0px;left:0px;overflow:hidden;visibility:hidden;cursor:'+t+'">'];return e.push('<div class="BMap_zoomer" style="top:0;left:0;"></div>'),e.push('<div class="BMap_zoomer" style="top:0;right:0;"></div>'),e.push('<div class="BMap_zoomer" style="bottom:0;left:0;"></div>'),e.push('<div class="BMap_zoomer" style="bottom:0;right:0;"></div>'),e.push("</div>"),e.join("")},Zoomer.prototype.action=function(t,e){if(!Zoomer._timeline){var i=this._container;if(i){var n=e,o=Math.ceil((n?60:120)/2),a=Math.max(15,o/(4/3)),r=i.style;r.width=2*o+"px",r.height=2*a+"px",r.visibility="visible";var s=i.children;n?(s[0].style.backgroundPosition="0 0",s[1].style.backgroundPosition="-7px 0",s[2].style.backgroundPosition="0 -7px",s[3].style.backgroundPosition="-7px -7px"):(s[0].style.backgroundPosition="-7px -7px",s[1].style.backgroundPosition="0 -7px",s[2].style.backgroundPosition="-7px 0",s[3].style.backgroundPosition="0 0"),s=null;var l=t.x-o,h=t.y-a;if(!isNaN(l)&&!isNaN(h)){r.left=l+"px",r.top=h+"px";var c=Math.ceil((n?120:60)/2),d=Math.max(15,c/(4/3));c-=o,d=Math.ceil(d-a);var u=this,p=u._container.style;Zoomer._timeline&&Zoomer._timeline.end(),Zoomer._timeline=new Animation({fps:20,duration:240,transition:Transitions.easeInQuad,delay:100,render:function(t){if(!(t<.1)){var e=Math.ceil(c*t),i=Math.ceil(d*t);p.width=2*(o+e)+"px",p.height=2*(a+i)+"px",p.left=l-e+"px",p.top=h-i+"px"}},finish:function(){Zoomer._timeline=!1,setTimeout(function(){r.visibility="hidden"},300)}})}}}},BMap.register(function(t){function e(t,e){var i=t.srcElement||t.target,n=t.offsetX||t.layerX||0,a=t.offsetY||t.layerY||0,r=null,s=null;for(1!==i.nodeType&&(i=i.parentNode);i&&i!==o.container;){if(i.guid&&(baidu.lang.instance(i.guid)instanceof OverlayInternal&&(r=baidu.lang.instance(i.guid)),baidu.lang.instance(i.guid)instanceof InfoWindow&&(s=baidu.lang.instance(i.guid))),0===i.clientWidth&&0===i.clientHeight&&i.offsetParent&&"TD"===i.offsetParent.nodeName||"http://www.w3.org/2000/svg"===i.namespaceURI){if("http://www.w3.org/2000/svg"===i.namespaceURI&&BMap.DrawerSelector){var l=BMap.DrawerSelector.getDrawer(o),h=l.getPalette();if(navigator.userAgent.indexOf("Opera")>-1&&"svg"!==i.tagName){var c=baidu.lang.instance(i.guid);if(c){var d=c.getBounds();n+=o.pointToPixel(d.getSouthWest()).x,a+=o.pointToPixel(d.getNorthEast()).y}break}if(baidu.browser.firefox>=39||baidu.browser.chrome>=51)var n=t.layerX||0,a=t.layerY||0;if(h&&!(window.ActiveXObject||"ActiveXObject"in window)&&(n+=parseFloat(h.style.left)+o.offsetX,a+=parseFloat(h.style.top)+o.offsetY),h&&(window.ActiveXObject||"ActiveXObject"in window)&&"svg"===i.nodeName.toLowerCase()&&(i.guid||(n+=parseFloat(h.style.left)+o.offsetX,a+=parseFloat(h.style.top)+o.offsetY)),(baidu.browser.ie>=9||navigator.userAgent.toLowerCase().indexOf("trident")>-1)&&"svg"!==i.nodeName.toLowerCase()){n+=o.offsetX,a+=o.offsetY;break}if(!baidu.browser.ie)break}}else n+=i.offsetLeft||0,a+=i.offsetTop||0;i=i.offsetParent}if((baidu.browser.chrome>=65||baidu.browser.firefox>=60)&&"ondeepzoommousewheel"===e.type){for(var u=t.clientX+window.scrollX,p=t.clientY+window.scrollY,_=o.getContainer(),g=_;g;)u-=g.offsetLeft,p-=g.offsetTop,g=g.offsetParent;n=u,a=p}return e.offsetX=n,e.offsetY=a,e.pixel=e.pixel=new Pixel(n,a),e.pointN=e.pointN=o._pixelToPoint(e.pixel),e.point=e.point=o.pixelToPoint(e.pixel),e.overlay=e.overlay=r,e.domEvent=t,e.infoWindow=s,e}function i(t){var i=o.temp,n=!i.mox&&!i.moy;if(i.rightDblclickTimer)clearTimeout(i.rightDblclickTimer),i.rightDblclickTimer=null,n&&(o.dispatchEvent(e(t,new BaseEvent("onrightclick").inherit(t))),o.currentOperation|=Operation.dblclick,o.dispatchEvent(e(t,new BaseEvent("onrightdblclick").inherit(t))),o.currentOperation^=Operation.dblclick);else{n&&o.dispatchEvent(e(t,new BaseEvent("onrightclick").inherit(t)));var a=e(t,new BaseEvent("onrightclickex").inherit(t));i.rightDblclickTimer=setTimeout(function(){i.rightDblclickTimer=null,n&&o.dispatchEvent(a)},o.config.clickInterval)}}function n(t){if(o.config.enableWheelZoom){var i=o.temp;i.dragAni&&(i.dragAni.stop(),i.dragAni=null,setTimeout(function(){o.dispatchEvent(new BaseEvent("onmoveend"))},1)),o.currentOperation|=Operation.mousewheel;var t=window.event||t;o.lastLevel=o.zoomLevel;var n=new BaseEvent("onmousewheel");n.trend=t.wheelDelta>=0||t.detail<0;var a=new Date;if(!0===n.trend&&o.zoomLevel===o.getMapType().getMaxZoom()||!1===n.trend&&o.zoomLevel===o.getMapType().getMinZoom()||a-r<220)return o.currentOperation^=Operation.mousewheel,void preventDefault(t);r=a,e(t,n.inherit(t)),o.dispatchEvent(n),o.currentOperation^=Operation.mousewheel,t.returnValue=!1,preventDefault(t)}}var o=t;t.platform;o.isVectorMap=t.vectorMapEnabled(),t.container.onselectstart=function(){return!1},baidu.on(o.platform,"mousemove",function(t){0===o.currentOperation&&o.dispatchEvent(e(t,new BaseEvent("onmousemove").inherit(t)))}),baidu.on(o.platform,"mousedown",function(t){if(o.config.enableMouseDown){var t=window.event||t;baidu.browser.ie||preventDefault(t);var i=o.temp;i.operating=!0;var n=t.srcElement||t.target;i.dragAni&&(i.dragAni.stop(),i.dragAni=null,o.dispatchEvent(new BaseEvent("onmoveend"))),i.tpx=t.clientX||t.pageX||0,i.tpy=t.clientY||t.pageY||0;for(var a=n;a&&a!==o.container;){if(baidu.dom.hasClass(a,"BMap_Marker")){i.operating=!1;var r=baidu.lang.instance(a.guid);if(r instanceof Marker&&!0===r._config.clickable||!0===r._config.enableDragging)return}a=a.parentNode}1!==n.nodeType&&(n=n.parentNode),baidu.browser.ie&&o.maskLayer.setCapture&&o.maskLayer.setCapture(),o.dispatchEvent(e(t,new BaseEvent("onmousedown").inherit(t))),!o.config.enableDragging||o.currentOperation&Operation.drag||2===t.button||(i.mx=i.tpx,i.my=i.tpy,i.pl=o.offsetX,i.pt=o.offsetY,o.currentOperation|=Operation.drag,0===o.temp.curSpots.length?o.platform.style.cursor=o.config.draggingCursor:o.platform.style.cursor="pointer")}}),baidu.on(document,"mousemove",function(t){var t=window.event||t,i=o.temp,n=t.clientX||t.pageX||0,a=t.clientY||t.pageY||0;(i.tpx||i.tpy)&&(i.mox=n-i.tpx,i.moy=a-i.tpy);var r=getCurrentTime(),s=r-i.lastLoadTileTime>40;if(!(r-i.lastDomMoveTime<18)&&(s&&(i.lastLoadTileTime=r),i.lastDomMoveTime=r,o.currentOperation&Operation.drag&&o.config.enableDragging)){var l=o.platform.style;l.cursor.replace(/"|\s/g,"")!==o.config.draggingCursor&&(l.cursor=o.config.draggingCursor),i._moved||(o.dispatchEvent(e(t,new BaseEvent("ondragstart").inherit(t))),o.dispatchEvent(new BaseEvent("onmovestart")),i.dragStartPos=new Pixel(n,a),i.dragStartTime=r),0===i.mx&&0===i.my&&o.temp.keyboardDrag&&(i.mx=n,i.my=a,i.pl=o.offsetX,i.pt=o.offsetY),n-i.mx==0&&a-i.my==0||(o.temp._moved=!0,o.dispatchEvent(e(t,new BaseEvent("ondragging").inherit(t))),o._setPlatformPosition(i.pl+n-i.mx,i.pt+a-i.my,null,s))}}),baidu.on(document,"mouseup",function(t){baidu.browser.ie&&o.maskLayer.releaseCapture&&o.maskLayer.releaseCapture();var i=o.temp;i.preEnableClickPan&&o.enableClickPan(!0);var t=window.event||t,n=t.clientX||t.pageX,a=t.clientY||t.pageY;if(o.currentOperation&Operation.drag&&o.config.enableDragging){if(o.currentOperation^=Operation.drag,0===i.curSpots.length?o.platform.style.cursor=o.config.defaultCursor:o.platform.style.cursor="pointer",o.temp._moved){var r=e(t,new BaseEvent("ondragend").inherit(t));o.dispatchEvent(r),o._processInertialDragging(new Pixel(n,a))}i._moved=!1}i.operating=!1,2===t.button&&(i.tpx=null,i.tpy=null,i.mox=0,i.moy=0),o.dispatchEvent(e(t,new BaseEvent("onmouseup").inherit(t)))}),baidu.browser.firefox>=4?(baidu.on(o.container,"mouseup",function(t){2===t.button&&i(t)}),baidu.on(o.container,"contextmenu",function(t){stopAndPrevent(t)})):baidu.on(o.container,"contextmenu",function(t){i(t),stopAndPrevent(t)});var a,r=new Date,s=t.config.enableDeepZoom;s&&(a=new DeepZoom(t),t.deepZoom=a),(baidu.browser.ie&&baidu.browser.ie<=9||o.isVectorMap)&&(a=null);var l=function(t){if(o.config.enableWheelZoom){var i=new BaseEvent("ondeepzoommousewheel");e(t,i.inherit(t)),a.wheel.call(a,i),preventDefault(t)}};baidu.on(o.container,"mousewheel",a?l:n),window.addEventListener&&o.container.addEventListener("DOMMouseScroll",a?l:n,!1),baidu.on(o.platform,"click",function(t){var i=new BaseEvent("onclick"),n=new BaseEvent("onclickex"),a=o.temp;if(e(t,i.inherit(t)),e(t,n.inherit(t)),!o.currentOperation){var r=!a.mox&&!a.moy;r&&o.dispatchEvent(i),a._clickTimer||(a._clickTimer=setTimeout(function(){a._clickTimer=null,r&&o.dispatchEvent(n)},o.config.clickInterval))}a.tpx=null,a.tpy=null,a.mox=0,a.moy=0}),baidu.on(o.platform,"dblclick",function(t){if(!o.currentOperation){o.currentOperation|=Operation.dblclick,baidu.browser.ie&&o.dispatchEvent(e(t,new BaseEvent("onclick").inherit(t)));var i=o.temp;i._clickTimer&&(clearTimeout(i._clickTimer),i._clickTimer=null),o.dispatchEvent(e(t,new BaseEvent("ondblclick").inherit(t))),o.currentOperation^=Operation.dblclick}}),baidu.on(document,"mousedown",function(e){var e=window.event||e,i=e.srcElement||e.target,n=o.temp;n.canKeyboard?n.canKeyboard=baidu.dom.contains(t.container,i):n.canKeyboard=baidu.dom.contains(t.platform,i)})}),Map.prototype._processInertialDragging=function(t){var e=this;if(!e.config.enableInertialDragging)return void e.dispatchEvent(new BaseEvent("onmoveend"));var i=e.temp,n=getCurrentTime();if(n-i.lastDomMoveTime>100)return e.dispatchEvent(new BaseEvent("onmoveend")),void(i._moved=!1);var o=i.dragStartPos,a=t,r=getDistanceByPixel(o,a),s=[a.x-o.x>0?1:-1,a.y-o.y>0?1:-1],l=(n-i.dragStartTime)/1e3,h=r/l/2,c=h/1.8,d=.4*c*h/1e3,u=Math.abs(o.x-a.x),p=Math.abs(o.y-a.y),_=0,g=0;if(0===p)_=u;else{var m=Math.abs(o.x-a.x)/Math.abs(o.y-a.y);g=Math.round(Math.sqrt(d*d/(1+m*m))),_=Math.round(m*g)}-1===s[0]&&(_=-_),-1===s[1]&&(g=-g),i.dragAni&&(i.dragAni.stop(),i.dragAni=null,e.dispatchEvent(new BaseEvent("onmoveend")));var f=h/1e3,v=e.offsetX,y=e.offsetY,b=!1;i.dragAni=new Animation({duration:c,fps:30,transition:function(t){var t=t*f/1.8;return f*t-.9*t*t},render:function(t){t=3.6*t/(f*f),b=!b,e._setPlatformPosition(v+Math.round(t*_),y+Math.round(t*g),null,b)},finish:function(){i.dragAni=null,e._setPlatformPosition(v+Math.round(_),y+Math.round(g)),e.dispatchEvent(new BaseEvent("onmoveend"))},onStop:function(t){i.dragAni=null,t=3.6*t/(f*f),e._setPlatformPosition(v+Math.round(t*_),y+Math.round(t*g)),setTimeout(function(){e.dispatchEvent(new BaseEvent("onmoveend"))},1)}})};var DZPrototype=DeepZoom.prototype;DZPrototype.bindEvent=function(){var t=this,e=t.map;t.maxZoom=e.config.maxZoom||19,t.minZoom=e.config.minZoom||3,e.addEventListener("onmaptypechange",function(i){t.maxZoom=e.config.maxZoom||19,t.minZoom=e.config.minZoom||3})},DZPrototype.wheel=function(t){var e=this,i=e.map,n=i.temp;e.maxZoom=i.config.maxZoom||19,e.minZoom=i.config.minZoom||3,n.dragAni&&(n.dragAni.stop(),n.dragAni=null,i.dispatchEvent(new BaseEvent("onmoveend")));var o=Math.floor(t.domEvent.timeStamp),a=o-this.lastWheelTime,r=t.domEvent.wheelDelta>=0,s=Math.abs(t.domEvent.deltaY),l=Math.abs(t.domEvent.wheelDelta),h=s;if(a>100&&(this.inDecayMode=!1,this.opMethod=getScrollMode(l,h,t.deltaMode),this.zoomCount=0,this.preZoomCount=null),"padScroll"===this.opMethod&&0===h&&0===a&&!1===this.inDecayMode&&(this.inDecayMode=!0),0!==a){if(this.lastWheelTime=o,"padScroll"===this.opMethod&&a<40){r?e.zoomCount+=.13:e.zoomCount-=.16;var c=t.domEvent.wheelDelta-this.lastWheelDelta,d=c-this.lastDiff,u=this.lastDiff;if(this.lastDiff=c,this.lastWheelDeltaAbs=l,this.lastWheelDelta=t.domEvent.wheelDelta,this.lastTrend=r,"boolean"==typeof this.lastTrend&&r!==this.lastTrend||"padScroll"===this.opMethod&&3===l&&!isNaN(d)&&Math.abs(c-u)>50)e.zoomAni&&(e.zoomAni.stop(),e.zoomAni=null);else if(0!==this.preZoomCount){if(!(c<0&&u>0||c>0&&u<0))return;h<5&&(this.inDecayMode=!1)}}this.preZoomCount=this.zoomCount;var p=t.domEvent.wheelDelta/120||-t.domEvent.detail/3;if(0===p&&baidu.browser.firefox&&(p=-t.domEvent.deltaY),0!==p){var _=p>=0?1:-1,g=Math.ceil(Math.abs(p))*_;"padPinch"===this.opMethod&&(g=t.domEvent.deltaY);var m=g>0?1:-1,f=i.getZoom();m<0&&(e.maxZoomWheelDir=-1),m>0&&(e.minZoomWheelDir=1);var v=e.maxZoom,y=e.minZoom;if(!(f>=v&&m>0&&1===e.maxZoomWheelDir||f<=y&&m<0&&-1===e.minZoomWheelDir)){"mouseWheel"!==this.opMethod&&(g*=.6),e.zoomCount+=g,"mouseWheel"===this.opMethod&&(e.zoomCount=e.limitZoomCount(e.zoomCount));var b=new Pixel(t.pixel.x,t.pixel.y);if("mouseWheel"!==this.opMethod){if(e.zoomAni||e.timer||0===e.zoomCount||!0===e.inDecayMode)return;return void(e.timer=setTimeout(function(){var t=Math.abs(e.zoomCount);if(t=Math.round(t),e.zoomCount=r?t:-t,e.zoomCount=e.limitZoomCount(e.zoomCount),0===e.zoomCount)return void(e.timer=null);e.zoomMap(b,new Size(0,0),e.zoomCount,m),e.timer=null},30))}e.zoomAni&&(e.zoomAni.stop(),e.zoomAni=null),e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){var t=new Size(0,0);e.zoomMap(b,t,e.zoomCount,m),e.timer=null},25)}}}},DZPrototype.limitZoomCount=function(t){var e=this,i=e.minZoom,n=e.maxZoom,o=this.map.getZoom();return t=Math.min(Math.max(t,-3),3),o+t>n?t=n-o:o+t<i&&(t=i-o),t},DZPrototype.zoomMap=function(t,e,i,n){var o,a,r,s=this,l=s.map,h=s.tileMgr,c=Math.pow(2,i),d=s.preZoomTimes,u=l.width,p=l.height,_=(t.x-u/2)/u,g=(t.y-p/2)/p,m=h.tilesDiv||h.mapTypeLayers[0].tilesDiv,f=(h._indoorLayerContainer,m.style),v=s.compatTransform;s.isDispatchZoomStart||(s.isDispatchZoomStart=!0,l.dispatchEvent(new BaseEvent("onzoomstart"))),l.overlayDiv&&baidu.dom.hide(l.overlayDiv);h.tileLayers;if(h._normalLayerContainer.style.visibility="hidden",h._vectorLayerContainer&&(h._vectorLayerContainer.style.visibility="hidden"),h._mapTypeLayerContainer.style.visibility="hidden",!s.deepZoomDiv){f[v]||(f[v]="translate3d(0,0,0)");var y=s.preDeepZoomDiv;y&&(y.parentNode&&y.parentNode.removeChild(y),s.preDeepZoomDiv=null),s.preDeepZoomDiv=s.deepZoomDiv=m.cloneNode(!0),l.platform.insertBefore(s.deepZoomDiv,l.platform.firstChild)}f.visibility="hidden";var b=s.deepZoomDiv.style,x=l.config.enableContinuousZoom;0===e.width&&e.height,s.zoomAni=new Animation({fps:60,duration:x?400:1,transition:Transitions.easeOutQuad,render:function(t){i>0?(o=d+t*(c-d),a=-u*(o-1)*_-e.width*t,r=-p*(o-1)*g-e.height*t,b[v]="translate3d("+a+"px, "+r+"px, 0) scale("+o+")"):(o=d-t*(d-c),a=u*(1-o)*_,r=p*(1-o)*g,b[v]="translate3d("+a+"px, "+r+"px, 0) scale("+o+")"),s.preZoomTimes=o},finish:function(){var e=l.getZoom(),n=Math.round(e+i);l.lastLevel=l.zoomLevel,l.zoomLevel=n;var o=h._getMercatorCenter(t),a=l.getMapType().getZoomUnits(l.getZoom());l.mercatorCenter=new Point(o.lng+(l.width/2-t.x)*a,o.lat-(l.height/2-t.y)*a),l.centerPoint=l.projection.mercatorToLngLat(l.mercatorCenter,l.currentCity),f.visibility="",h.moveGridTiles(),l.overlayDiv&&(baidu.browser.ie&&baidu.browser.ie<8||"BackCompat"===document.compatMode?baidu.dom.show(l.overlayDiv):setTimeout(function(){baidu.dom.show(l.overlayDiv)},100)),h._normalLayerContainer.style.visibility="",h._mapTypeLayerContainer.style.visibility="",l.dispatchEvent(new BaseEvent("onzoomend")),s.zoomCount=0,s.preZoomTimes=1,setTimeout(function(){s.removeZoomDiv()},100),s.removeZoomDiv(),s.zoomAni=null,s.maxZoomWheelDir=1,s.minZoomWheelDir=-1,s.isDispatchZoomStart=!1}})},DZPrototype.removeZoomDiv=function(){var t=this;t.deepZoomDiv&&(purge(t.deepZoomDiv),t.deepZoomDiv.parentNode&&(t.deepZoomDiv.parentNode.removeChild(t.deepZoomDiv),t.deepZoomDiv.innerHTML="",t.deepZoomDiv=null))},BMap.register(function(t){var e=t;baidu.on(document,"keydown",function(t){if(1==e.temp.stopArrow&&(e.temp.stopArrow=!1),e.config.enableKeyboard&&e.temp.canKeyboard){var t=window.event||t;switch(t.keyCode||t.which){case 43:case 189:case 109:e.temp.operating=!0,e.dispatchEvent(new BaseEvent("onminuspress"));break;case 43:case 61:case 187:case 107:e.temp.operating=!0,e.dispatchEvent(new BaseEvent("onpluspress"));break;case 33:e.temp.operating=!1,e.temp.stopArrow=!0,e.panBy(0,Math.round(.8*e.height)),stopAndPrevent(t);break;case 34:e.temp.operating=!1,e.temp.stopArrow=!0,e.panBy(0,-Math.round(.8*e.height)),stopAndPrevent(t);break;case 35:e.temp.operating=!1,e.temp.stopArrow=!0,e.panBy(-Math.round(.8*e.width),0),stopAndPrevent(t);break;case 36:e.temp.operating=!1,e.temp.stopArrow=!0,e.panBy(Math.round(.8*e.width),0),stopAndPrevent(t);break;case 37:e.temp.operating=!0,e.temp.arrow|=1,e._arrow(),stopAndPrevent(t);break;case 38:e.temp.operating=!0,e.temp.arrow|=2,e._arrow(),stopAndPrevent(t);break;case 39:e.temp.operating=!0,e.temp.arrow|=4,e._arrow(),stopAndPrevent(t);break;case 40:e.temp.operating=!0,e.temp.arrow|=8,e._arrow(),stopAndPrevent(t)}}}),baidu.on(document,"keyup",function(t){if(e.config.enableKeyboard){var t=window.event||t;switch(t.keyCode||t.which){case 37:e.temp.arrow=-2&e.temp.arrow,0!=e.temp.arrow&&e._arrow();break;case 38:e.temp.arrow=-3&e.temp.arrow,0!=e.temp.arrow&&e._arrow();break;case 39:e.temp.arrow=-5&e.temp.arrow,0!=e.temp.arrow&&e._arrow();break;case 40:e.temp.arrow=-9&e.temp.arrow,0!=e.temp.arrow&&e._arrow()}}e.temp.operating=!1}),Map.prototype._arrow=function(){if(!this._arrow.occurrent||this._arrow._lastArrow!=this.temp.arrow||1!=this.temp.stopArrow){var t=this,e=t.temp.arrow;if(t._arrow._lastArrow=e,t._arrow.interval=30,t._arrow.duration=999,t._arrow.dx=t._arrow.dy=0,1&e&&(t._arrow.dx=1),2&e&&(t._arrow.dy=1),4&e&&(t._arrow.dx=-1),8&e&&(t._arrow.dy=-1),1&e&&4&e&&(t._arrow.dx=0),2&e&&8&e&&(t._arrow.dy=0),!t._arrow.occurrent){t._arrow.occurrent=!0,t._arrow.time=getCurrentTime(),t._arrow.beginTime=t._arrow.time,t.dispatchEvent(new BaseEvent("onmovestart"));var i=new Animation({fps:t._arrow.interval,duration:t._arrow.duration,transition:Transitions.linear,render:function(e){var n=t._arrow,o=t.temp.arrow;t._arrow._lastArrow!=o&&(t._arrow._lastArrow=o,1&o&&(n.dx=1),2&o&&(n.dy=1),4&o&&(n.dx=-1),8&o&&(n.dy=-1),1&o&&4&o&&(n.dx=0),2&o&&8&o&&(n.dy=0)),1==t.temp.stopArrow&&(n.dx=0,n.dy=0);var a=getCurrentTime(),r=Math.pow((a-n.beginTime)/n.duration,2);t.temp.arrow||(n.occurrent=!1,i.terminative=!0,t._arrow.time=getCurrentTime(),setTimeout(function(){t.dispatchEvent(new BaseEvent("onmoveend"))},40));var s=a-n.time,l=n.dx*s*r>=0?Math.ceil(n.dx*s*r):Math.floor(n.dx*s*r),h=n.dy*s*r>=0?Math.ceil(n.dy*s*r):Math.floor(n.dy*s*r);0!=l&&0!=h&&(l=Math.round(.7*l),h=Math.round(.7*h)),n.time=a,t._setPlatformPosition(t.offsetX+l,t.offsetY+h)},finish:function(){t._arrow.time=getCurrentTime(),setTimeout(function(){t._arrowPan()},t._arrow.interval)}})}}},Map.prototype._arrowPan=function(){var t=this,e=t._arrow;if(t.temp.stopArrow&&(e.dx=0,e.dy=0),!t.temp.arrow)return e.occurrent=!1,void t.dispatchEvent(new BaseEvent("onmoveend"));var i=getCurrentTime(),n=i-e.time,o=Math.ceil(e.dx*n),a=Math.ceil(e.dy*n);e.time=i,t._setPlatformPosition(t.offsetX+o,t.offsetY+a),setTimeout(function(){t._arrowPan()},e.interval)}}),window._oppc=2,window._opmb=1;var isLongClick=!1,longClickTimer=null;BMap.register(function(t){t.config.doubleTouchInterval=500;var e,i,n=!1,o=!1,a=!1,r=(t.config.enableDragging,function(e,i){for(var n=new BaseEvent(e),o=i.target,a=null,r=null;o&&o!==t.container;){if(o.guid){var s=baidu.lang.instance(o.guid);s instanceof OverlayInternal&&"canvas"!==o.nodeName.toLowerCase()&&(a=s),s instanceof InfoWindow&&(r=s)}o=o.offsetParent}for(var l=i.changedTouches[0].pageX,h=i.changedTouches[0].pageY,c=t.container;c&&c!=document.body;)l-=c.offsetLeft,h-=c.offsetTop,c=c.offsetParent;return n.offsetX=l,n.offsetY=h,n.pixel=n.pixel=new Pixel(n.offsetX,n.offsetY),n.pointN=n.pointN=t._pixelToPoint(n.pixel),n.point=n.point=t.pixelToPoint(n.pixel),n.overlay=n.overlay=a,n.infoWindow=r,n}),s=function(o){n=!0,i=new BaseEvent("ontouch").inherit(o),e=new Pixel(o.changedTouches[0].clientX,o.changedTouches[0].clientY);var a=r("onclickex",o);setTimeout(function(){l(),t.dispatchEvent(a)},t.config.doubleTouchInterval),isLongClick||t.dispatchEvent(r("onclick",o))},l=function(){n&&(n=!1,e=null,o||t.dispatchEvent(i))},h=function(t){o=!0},c=function(){o=!1};baidu.on(t.getContainer(),"touchmove",function(e){t.config.enableDragging&&e.preventDefault()}),baidu.on(t.platform,"touchstart",function(e){isLongClick=!1,longClickTimer=setTimeout(function(){isLongClick=!0,t.dispatchEvent(r("onlongpress",e).inherit(e))},1e3),t.config.enableDragging&&stopAndPrevent(e),a=!1,t.dispatchEvent(r("ontouchstart",e).inherit(e)),t.config.enableDragging&&preventDefault(e)}),baidu.on(t.platform,"touchmove",function(e){t.config.enableDragging&&stopAndPrevent(e),a=!0,t.dispatchEvent(r("ontouchmove",e).inherit(e))}),baidu.on(t.platform,"touchend",function(i){if(clearTimeout(longClickTimer),t.config.enableDragging&&preventDefault(i),!a)if(n){h(),isLongClick||t.dispatchEvent(r("onclick",i));var o=new Pixel(i.changedTouches[0].clientX,i.changedTouches[0].clientY),d=getDistanceByPixel(e,o);d<20?(t.dispatchEvent(r("ondblclick",i)),t.dispatchEvent(new BaseEvent("ondbltouch").inherit(i))):t.dispatchEvent(r("ontouchend",i).inherit(i)),l(),c()}else s(i);t.dispatchEvent(r("ontouchend",i).inherit(i))}),baidu.on(t.platform,"gesturestart",function(e){e.preventDefault(),t.dispatchEvent(new BaseEvent("ongesturestart").inherit(e))}),baidu.on(t.platform,"gesturechange",function(e){e.preventDefault(),t.dispatchEvent(new BaseEvent("ongesturechange").inherit(e))}),baidu.on(t.platform,"gestureend",function(e){e.preventDefault(),t.dispatchEvent(new BaseEvent("ongestureend").inherit(e))})}),BMap.register(function(t){function e(t){for(var e,i=[],n=0,o=t.touches.length;n<o;n++)e=t.touches[n],i.push({x:e.pageX,y:e.pageY});return i}function i(t,e){if(2==t.length&&2==e.length){var i=getDistanceByPixel(t[0],t[1]);return getDistanceByPixel(e[0],e[1])/i}return 1}var n={x:0,y:0,scale:1},o=[{x:0,y:0},{x:0,y:0}],a=0,r=0,s=!1,l=!1,h=!1,c=t.config.enableDragging,d=function(e,i){for(var n=t.container;n&&n!=document.body;)e-=n.offsetLeft,i-=n.offsetTop,n=n.offsetParent;return new Pixel(e,i)},u=function(e,i){var n=new BaseEvent(e),o=d(i.changedTouches[0].pageX,i.changedTouches[0].pageY);return n.offsetX=o.x,n.offsetY=o.y,n.pixel=new Pixel(n.offsetX,n.offsetY),n.point=t.pixelToPoint(n.pixel),n},p=null,_=function(e){if(!(e.changedTouches.length<2)){for(var i=e.target;i&&i!=t.container;){if(i.hashCode){var n=baidu.lang.instance(i.hashCode);n instanceof OverlayInternal&&"canvas"!=i.nodeName.toLowerCase()&&n,n instanceof InfoWindow&&n}i=i.offsetParent}for(var o=[],a=0;a<2;a++){for(var r=e.changedTouches[a].pageX,s=e.changedTouches[a].pageY,l=t.container;l&&l!=document.body;)r-=l.offsetLeft,s-=l.offsetTop,l=l.offsetParent;o[a]={x:r,y:s}}p=new Pixel((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2)}},g={},m=t.platform.style,f=function(){var e=(t.container,0),i=0;iOS5&&(e=0,i=0),t.config.enableDragging?m.WebkitTransformOrigin=(o[0].x+o[1].x)/2-t.offsetX-e+"px "+((o[0].y+o[1].y)/2-t.offsetY-i)+"px":c&&!t.config.enablePinchDragging?m.WebkitTransformOrigin=(o[0].x+o[1].x)/2-t.offsetX-e+"px "+((o[0].y+o[1].y)/2-t.offsetY-i)+"px":m.WebkitTransformOrigin=Math.round(t.width/2)+"px "+Math.round(t.height/2)+"px"},v=function(){baidu.platform.isAndroid?/Nexus/.test(navigator.userAgent)?c&&(m.left=t.offsetX+n.x+"px",m.top=t.offsetY+n.y+"px"):(c&&(m.left=t.offsetX+n.x*n.scale+"px",m.top=t.offsetY+n.y*n.scale+"px"),1!=n.scale&&(m.WebkitTransform=t.config.enablePinchToZoom?"scale("+n.scale+") ":"")):1===a?m.WebkitTransform=(c?"translate("+n.x*n.scale+"px, "+n.y*n.scale+"px) ":"")+(t.config.enablePinchToZoom?"scale("+n.scale+") ":""):2===a&&(m.WebkitTransform=(c&&t.config.enablePinchDragging?"translate("+n.x*n.scale+"px, "+n.y*n.scale+"px) ":"")+(t.config.enablePinchToZoom?"scale("+n.scale+") ":""))},y=function(t){t&&(m.WebkitTransform=""),n.x=0,n.y=0,n.scale=1,n.rotation=0,o[0].x=o[0].y=o[1].x=o[1].y=0,h=!1};t.addEventListener("touchstart",function(i){if(!(i.overlay instanceof Marker)){g.start=e(i);var r=i.targetTouches.length;a+=r,a>2&&(a=2);var s=t.temp;if(2==r&&(s._lenIsTwo=!0),s.dragAni&&s.dragAni.stop(),1==a){this.temp._startX=n.x,this.temp._startY=n.y;var l=d(i.targetTouches[0].pageX,i.targetTouches[0].pageY);o[0].x=l.x,o[0].y=l.y}else if(2==a){var l=d(i.touches[r-1].pageX,i.touches[r-1].pageY);o[1].x=l.x,o[1].y=l.y,c&&!t.config.enablePinchDragging&&t.disableDragging()}}}),t.addEventListener("touchmove",function(p){if(baidu.android>=4&&p.changedTouches.length>=2){g.move=e(p);var m=i(g.start,g.move);Math.abs(1-m)>0&&(n.scale=m,l=!0,clearTimeout(longClickTimer),f())}l&&_(p);var y=p.targetTouches.length,b=d(p.touches[0].pageX,p.touches[0].pageY);if(1==a&&2!=r&&(n.x+=b.x-o[0].x,n.y+=b.y-o[0].y,o[0].x=b.x,o[0].y=b.y,v(),h=!0),2==a){var x={x:o[0].x,y:o[0].y},w={x:o[1].x,y:o[1].y};if(h){for(var P=0;P<y;P++){
var M=d(p.touches[P].pageX,p.touches[P].pageY);getDistanceByPixel(M,new Pixel(o[0].x,o[0].y))<getDistanceByPixel(M,new Pixel(o[1].x,o[1].y))?(o[0].x=M.x,o[0].y=M.y):(o[1].x=M.x,o[1].y=M.y)}n.x+=(o[0].x-x.x+o[1].x-w.x)/2,n.y+=(o[0].y-x.y+o[1].y-w.y)/2,v()}else{var M=new Pixel(o[0].x,o[0].y);if(1==y&&(getDistanceByPixel(M,b)<30?(o[0].x=b.x,o[0].y=b.y):(h=!0,o[1].x=b.x,o[1].y=b.y)),2==y){var T=d(p.touches[1].pageX,p.touches[1].pageY);getDistanceByPixel(b,T)<30?(o[0].x=T.x,o[0].y=T.y):getDistanceByPixel(M,b)<getDistanceByPixel(M,T)?(o[0].x=b.x,o[0].y=b.y,o[1].x=T.x,o[1].y=T.y,h=!0):(o[1].x=b.x,o[1].y=b.y,o[0].x=T.x,o[0].y=T.y,h=!0)}}}if(1==a&&2==r){for(var P=0;P<y;P++){var M=d(p.touches[P].pageX,p.touches[P].pageY);getDistanceByPixel(M,new Pixel(o[0].x,o[0].y))<getDistanceByPixel(M,new Pixel(o[1].x,o[1].y))?(n.x+=M.x-o[0].x,n.y+=M.y-o[0].y,o[0].x=M.x,o[0].y=M.y):(n.x+=M.x-o[1].x,n.y+=M.y-o[1].y,o[1].x=M.x,o[1].y=M.y)}v()}if(1==a&&c){var C=this.temp;if(!C._moved){C._moved=!0;var S=u("ondragstart",p);t.dispatchEvent(S),t.dispatchEvent(new BaseEvent("onmovestart")),C.dragStartPos=S.pixel,C.dragStartTime=getCurrentTime(),s=!0}C.lastDomMoveTime=getCurrentTime(),t.dispatchEvent(new BaseEvent("ondragging"))}}),t.addEventListener("touchend",function(e){f(),r=a,this.temp._lenIsTwo?(a=e.targetTouches.length,delete this.temp._lenIsTwo):a--,-1==a&&(a=0),baidu.platform.isAndroid&&(a=0);var i=this;if(0==a){if(l){var h=0,d=t.getZoom();t.lastLevel=t.zoomLevel,i.config.enablePinchToZoom&&(h=Math.round(Math.log(n.scale)/Math.log(2)),d=Math.max(Math.min(t.getZoom()+h,t.config.maxZoom),t.config.minZoom));var _=t.getMapType().getZoomUnits(d),g=p;g||(g=new Pixel((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2));var m=function(e){var i=t.mercatorCenter,n=t.getMapType().getZoomUnits(t.lastLevel);return new Point(i.lng+n*(e.x-t.width/2),i.lat-n*(e.y-t.height/2))}(g),v=new Point(m.lng+(t.width/2-g.x)*_,m.lat-(t.height/2-g.y)*_),b=MercatorProjection.convertMC2LL(v),x=t.pointToPixel(b),w=new Pixel(x.x-n.x*n.scale/Math.pow(2,h),x.y-n.y*n.scale/Math.pow(2,h)),b=t.config.enableDragging?t.pixelToPoint(w):t.getCenter(),P=t.getInfoWindow();if(P){var M=P.getPosition();if(M){var T=t.pointToPixel(M,t.lastLevel);t._updateCenterPoint(t.width/2-T.x,t.height/2-T.y,t.pixelToPoint(T,t.lastLevel),!0)}}t.centerAndZoom(b,d),c&&t.enableDragging(),t.lastLevel!==d&&i.dispatchEvent(new BaseEvent("onzoomstart")),t.centerAndZoom(b,d)}if(n.x!=i.temp._startX||n.y!=i.temp._startY){if(s&&!l){var C=u("ondragend",e);t._processInertialDraggingForTouch(C,C.pixel,{x:n.x,y:n.y}),s=!1}y(l?!0:!1)}t.temp._moved=!1,l=!1,r=0}}),t.addEventListener("gesturechange",function(t){n.scale=t.scale,l=!0,clearTimeout(longClickTimer),f()})}),Map.prototype._processInertialDraggingForTouch=function(t,e,i){var n=this,o=n.platform.style;if(!n.config.enableInertialDragging)return window.setTimeout(function(){o.WebkitTransform=""},0),window.setTimeout(function(){n._setPlatformPosition(n.offsetX+i.x,n.offsetY+i.y)},0),void window.setTimeout(function(){n.dispatchEvent(new BaseEvent("onmoveend"))},0);var a=n.temp,r=getCurrentTime();if(r-a.lastDomMoveTime>140)return setTimeout(function(){o.WebkitTransform=""},0),setTimeout(function(){n._setPlatformPosition(n.offsetX+i.x,n.offsetY+i.y)},0),window.setTimeout(function(){n.dispatchEvent(new BaseEvent("onmoveend")),a._moved=!1},0),void window.setTimeout(function(){n.dispatchEvent(t)},0);var s=a.dragStartPos,l=e,h=getDistanceByPixel(s,l),c=[l.x-s.x>0?1:-1,l.y-s.y>0?1:-1],d=(r-a.dragStartTime)/1e3,u=h/d/2,p=u/1.6,_=.5*p*u/1e3,g=Math.abs(s.x-l.x),m=Math.abs(s.y-l.y),f=0,v=0;if(0==m)f=g;else{var y=Math.abs(s.x-l.x)/Math.abs(s.y-l.y);v=Math.round(Math.sqrt(_*_/(1+y*y))),f=Math.round(y*v)}-1==c[0]&&(f=-f),-1==c[1]&&(v=-v),a.dragAni&&a.dragAni.stop();var b=u/1e3,x=n.offsetX,w=n.offsetY;a.dragAni=new Animation({duration:p,fps:25,transition:function(t){var t=t*b/1.6;return b*t-.8*t*t},render:function(t){t=3.2*t/(b*b),baidu.platform.isAndroid?(o.left=n.offsetX+i.x+Math.round(t*f)+"px",o.top=n.offsetY+i.y+Math.round(t*v)+"px"):o.WebkitTransform="translate("+(i.x+Math.round(t*f))+"px ,"+(i.y+Math.round(t*v))+"px)"},finish:function(){a.dragAni=null,setTimeout(function(){o.WebkitTransform=""},0),setTimeout(function(){n._setPlatformPosition(x+i.x+Math.round(f),w+i.y+Math.round(v))},0),setTimeout(function(){n.dispatchEvent(new BaseEvent("onmoveend"))},0),window.setTimeout(function(){n.dispatchEvent(t)},0)},onStop:function(t){a.dragAni=null,t=3.2*t/(b*b),setTimeout(function(){o.WebkitTransform=""},0),setTimeout(function(){n._setPlatformPosition(x+i.x+Math.round(t*f),w+i.y+Math.round(t*v))},0),setTimeout(function(){n.dispatchEvent(new BaseEvent("onmoveend"))},0)}})};var iOS5=navigator.userAgent.indexOf("iPhone OS 5_")>-1;window._opmb=2,window._menu=1,baidu.object.extend(ContextMenu.prototype,{initialize:function(t,e){if(this._container)return!1;this._map=t,this._overlay=e||null,this._render();var i=this,n=t.config.defaultCursor;e&&e._config.clickable&&(n="pointer"),this._container.style.cursor=n,this._shadow&&(this._shadow.style.cursor=n),baidu.on(document,"mousedown",function(t){i._container&&i.hide()}),baidu.on(this._container,"click",function(t){i.hide(),stopBubble(t)});var o=this._opts.container;o||(o=t.container),this._overlay?this._overlay.addEventListener("rightclick",function(t){i._container&&i._showMenu(t)}):t.addEventListener("rightclickex",function(t){!i._container||t.overlay||t.infoWindow||i._showMenu(t)});for(var a=0,r=this._items.length;a<r;a++)"menuitem"==this._items[a]._type&&this._items[a].initialize(t,this),"divider"==this._items[a]._type&&(this._dividers[this._items[a]._dIndex].dom=beforeEndHTML(this._container,"<div class='BMap_cmDivider'></div>"));this._updateShadowSize()},_draw:function(){this._map&&(this.initialize(this._map,this._overlay),this._isOpen&&(this._isOpen=!1,this.show()))},remove:function(){this._container&&(this._container.parentNode.removeChild(this._container),this._container=null),this._shadow&&(this._shadow.parentNode.removeChild(this._shadow),this._shadow=null);for(var t=0,e=this._items.length;t<e;t++)"menuitem"==this._items[t]._type&&(this._items[t]._container=null);this._map=this._overlay=null},_render:function(){this._container=beforeEndHTML(this._map.container,"<div unselectable='on'></div>"),this._container.className="BMap_contextMenu";var t=this._container.style;return t.font="12px "+MapConfig.fontFamily,baidu.browser.ie<9?this._shadow=beforeEndHTML(this._map.container,"<div class='BMap_cmShadow'></div>"):t.boxShadow=t.MozBoxShadow=t.WebkitBoxShadow="1px 2px 6px #666",this._container},addItem:function(t){if(t&&"menuitem"==t._type&&""!=t._text&&!(t._width<=0)){for(var e=0,i=this._items.length;e<i;e++)if(this._items[e]===t)return;this._items.push(t),this._rItems.push(t),this._map&&(t.initialize(this._map,this),baidu.dom.addClass(t.getDom(),"BMap_cmLstItem"),this._items.length>1?"menuitem"==this._items[this._items.length-2]._type&&baidu.dom.removeClass(this._items[this._items.length-2].getDom(),"BMap_cmLstItem"):"menuitem"==this._items[0]._type&&baidu.dom.addClass(this._items[0].getDom(),"BMap_cmFstItem"),this._updateShadowSize())}},removeItem:function(t){if(t&&"menuitem"==t._type){for(var e=0,i=this._items.length;e<i;e++)this._items[e]===t&&(this._items[e].remove(),this._items.splice(e,1),i--);for(var e=0,i=this._rItems.length;e<i;e++)this._rItems[e]===t&&(this._rItems[e].remove(),this._rItems.splice(e,1),i--);this._container&&(this._items.length>0&&"menuitem"==this._items[this._items.length-1]._type&&baidu.dom.addClass(this._items[this._items.length-1].getDom(),"BMap_cmLstItem"),this._updateShadowSize())}},addSeparator:function(){if(this._items.push({_type:"divider",_dIndex:this._dividers.length}),this._dividers.push({dom:null}),this._container){this._dividers[this._dividers.length-1].dom=beforeEndHTML(this._container,"<div class='BMap_cmDivider'></div>"),this._updateShadowSize()}},removeSeparator:function(t){if(this._dividers[t]){this._dividers[t].dom&&this._dividers[t].dom.parentNode&&this._dividers[t].dom.parentNode.removeChild(this._dividers[t].dom);for(var e=0,i=this._items.length;e<i;e++)this._items[e]&&"divider"==this._items[e]._type&&this._items[e]._dIndex==t&&(this._items.splice(e,1),i--),this._items[e]&&"divider"==this._items[e]._type&&this._items[e]._dIndex>t&&this._items[e]._dIndex--;this._dividers.splice(t,1),this._updateShadowSize()}},setPosition:function(t,e){this._left=t,this._top=e,this._container.style.left=t+"px",this._container.style.top=e+"px",this._shadow&&(this._shadow.style.left=t+1+"px",this._shadow.style.top=e+2+"px")},show:function(){if(1!=this._isOpen&&0!=this._rItems.length){this._isOpen=!0,this._container&&(this._container.style.visibility="visible"),this._shadow&&(this._shadow.style.visibility="visible");var t=new BaseEvent("onopen");t.point=this.curPoint,t.pixel=this.curPixel,this.dispatchEvent(t)}},hide:function(){if(0!=this._isOpen){this._isOpen=!1,this._container&&(this._container.style.visibility="hidden"),this._shadow&&(this._shadow.style.visibility="hidden");var t=new BaseEvent("onclose");t.point=this.curPoint,t.pixel=this.curPixel,this.dispatchEvent(t)}},setCursor:function(t){t&&(this._opts.cursor=t,this._container&&(this._container.style.cursor=this._opts.cursor),this._shadow&&(this._shadow.style.cursor=this._opts.cursor))},_updateShadowSize:function(){this._container&&this._shadow&&(this._shadow.style.width=this._container.offsetWidth+"px",this._shadow.style.height=this._container.offsetHeight+"px")},_showMenu:function(t){if(0!=this._rItems.length){var e=this;e.curPixel=t.pixel,e.curPoint=e._map._pixelToPoint(e.curPixel);var i=e.getDom().offsetHeight,n=e.getDom().offsetWidth,o=t.pixel.x,a=t.pixel.y;t.pixel.x+n>this._map.width&&(o=t.pixel.x-n),t.pixel.y+i>this._map.height&&(a=t.pixel.y-i),e.setPosition(o,a),e.show()}}}),exportSymbol(ContextMenuP,{addItem:ContextMenuP.addItem,removeItem:ContextMenuP.removeItem,addSeparator:ContextMenuP.addSeparator,removeSeparator:ContextMenuP.removeSeparator}),baidu.object.extend(MenuItem.prototype,{initialize:function(t,e){return!this._container&&(this._map=t,this._contextmenu=e,e.getDom()&&(this._render(),this._bind(),this._enabled||(this._enabled=!0,this.disable())),!0)},remove:function(){this._container&&(this._container.parentNode.removeChild(this._container),this._container=null),this._contextmenu=null,this._map=null},_draw:function(){this._contextmenu&&this._map&&this.initialize(this._map,this._contextmenu)},_render:function(){var t=this._opts.iconUrl?"<div"+(this._opts.id?" id='"+this._opts.id+"'":"")+" unselectable='on'><div style='width: 17px;height: 17px;margin-right: 3px;display: inline-block;zoom: 1;*display: inline;vertical-align: middle;background: url("+this._opts.iconUrl+") no-repeat;'></div><span style='vertical-align: middle;'>"+this._text+"</span></div>":"<div"+(this._opts.id?" id='"+this._opts.id+"'":"")+" unselectable='on'><span>"+this._text+"</span></div>";this._container=beforeEndHTML(this._contextmenu.getDom(),t),this._opts.iconUrl?(this._iconContainer=this._container.firstChild,this._textContainer=this._container.lastChild):this._textContainer=this._container;var e=this._container.style;return e.padding="2px 6px",e.margin="0 2px",e.fontSize="14px",e.MozUserSelect="none",e.lineHeight="17px",e.width=this._opts.width+"px",this._enabled?(e.color="#000",e.cursor="pointer"):(e.color="#aaa",e.cursor=this._map.config.defaultCursor),this._container},_bind:function(){var t=this;baidu.on(this._container,"click",function(e){if(!t._enabled)return void stopBubble(e);t._callback&&t._callback.call&&t._callback.call(t,t._contextmenu.curPoint,t._contextmenu.curPixel,t._contextmenu._overlay)}),baidu.on(this._container,"mousedown",function(t){stopBubble(t)}),baidu.on(this._container,"mouseover",function(){t._enabled&&(t._container.style.color="#6688cc")}),baidu.on(this._container,"mouseout",function(){t._enabled&&(t._container.style.color="#000")})},setText:function(t){t&&(this._text=t+"",this._textContainer&&(this._textContainer.innerHTML="<span>"+this._text+"</span>"))},setIcon:function(t){if(t)if(this._opts.iconUrl=t,this._iconContainer){var e=this._iconContainer.style;e.background="url("+t+")"}else{var i="<div"+(this._opts.id?" id='"+this._opts.id+"'":"")+" unselectable='on'><div style='width: 17px;height: 17px;margin-right: 3px;display: inline-block;zoom: 1;*display: inline;vertical-align: middle;background: url("+this._opts.iconUrl+") no-repeat;'></div><span style='vertical-align: middle;'>"+this._text+"</span></div>";this._container.innerHTML=i,this._iconContainer=this._container.firstChild,this._textContainer=this._container.lastChild}},enable:function(){this._enabled=!0,this._container&&(this._container.style.color="#000",this._container.style.cursor="pointer")},disable:function(){this._enabled=!1,this._container&&(this._container.style.color="#aaa",this._container.style.cursor=this._map.config.defaultCursor)}}),exportSymbol(MenuItemP,{setIcon:MenuItemP.setIcon,setText:MenuItemP.setText,enable:MenuItemP.enable,disable:MenuItemP.disable}),window._menu=2,window._control=1,baidu.object.extend(OverviewMapControl.prototype,{_asyncLoad:function(){this._map&&this._i(this._map)},initialize:function(t){Control.prototype.initialize.call(this,t),this._initParam(),this._render(),this._bind();var e=this;return this._map.isLoaded()?e._initOverviewMap():this._map.addEventListener("load",function(){e._initOverviewMap()}),baidu.on(this._container,"click",stopBubble),baidu.on(this._container,"dblclick",stopBubble),baidu.on(this._container,"mousewheel",stopBubble),baidu.on(this._container,"mouseup",function(t){t=window.event||t,2==t.button&&stopBubble(t)}),window.addEventListener&&this._container.addEventListener("DOMMouseScroll",function(t){stopBubble(t)},!0),this._container},_initParam:function(){this._init||(this._init=!0,this._omCanvas,this._omMapContainer,this._omView,this._omViewMv,this._omBtn,this._borderWidth=1,this._quad=4,this._overviewMap=null,this._minZoom=-1,this._maxZoom=-1,this._curOMZoomLevel=-1,this._wRatio=1,this._hRatio=1,this._temp={},this._currentOp="",this._overviewInitialized=!1)},_getCurOMZoomLevel:function(){if(this._map){var t=this._map.zoomLevel,e=t-this._opts.zoomInterval;return e<this._minZoom?this._minZoom:e>this._maxZoom?this._maxZoom:e}},_render:function(){Control.prototype._render.call(this);var t=0!=baidu.browser.ie?" BMap_ie"+baidu.browser.ie:"",e=this._container;e.innerHTML=this._generateHTML(),baidu.dom.addClass(e,"BMap_omCtrl"+t),this._omCanvas=e.children[0].children[0],this._omMapContainer=this._omCanvas.children[0],this._omViewMv=this._omCanvas.children[1],this._omViewMvInn=this._omViewMv.children[0],this._omBtn=e.children[1],this.setSize(this._opts.size),this._omViewMv.style.cursor=MapConfig.defaultCursor},_generateHTML:function(){return['<div class="BMap_omOutFrame"><div class="BMap_omInnFrame">','<div class="BMap_omMapContainer"></div>','<div class="BMap_omViewMv"><div class="BMap_omViewInnFrame"><div></div></div></div>','</div></div><div class="BMap_omBtn_wrap"><div class="BMap_omBtn"></div></div>'].join("")},_bind:function(){var t=this;baidu.on(this._omBtn,"click",function(){t.changeView()}),baidu.browser.ie&&baidu.on(this._omBtn,"dblclick",function(){t.changeView()}),(!baidu.browser.ie||baidu.browser.ie>6)&&(this._omBtn.onmouseover=function(e){baidu.dom.addClass(t._omBtn,"hover")},this._omBtn.onmouseout=function(e){baidu.dom.removeClass(t._omBtn,"hover")}),baidu.on(this._omViewMv,"mousedown",function(e){if(!(t._omViewMv&&isDefined(t._omViewMv._drag)&&"true"==t._omViewMv._drag||(e=window.event||e,2==e.button))){t._omViewMv._drag="true";var e=window.event||e;return t._omViewMv.setCapture&&t._omViewMv.setCapture(),t._bind.iniX=parseInt(getCurrentStyle(t._omViewMv).left),t._bind.iniY=parseInt(getCurrentStyle(t._omViewMv).top),t._bind.mx=e.pageX||e.clientX,t._bind.my=e.pageY||e.clientY,t._bind.i=0,t._bind.j=0,t._setViewMvCursor(MapConfig.draggingCursor),stopBubble(e),preventDefault(e)}}),baidu.on(document,"mousemove",function(e){if(t._omViewMv&&"true"==t._omViewMv._drag){var e=window.event||e,i=e.pageX||e.clientX,n=e.pageY||e.clientY;t._bind.curX=t._bind.iniX+i-t._bind.mx,t._bind.curY=t._bind.iniY+n-t._bind.my;if(t._bind._moveX=0,t._bind._moveY=0,t._bind.curX<=0&&(t._bind._moveX=3),t._bind.curY<=0&&(t._bind._moveY=3),t._bind.curX+t._omViewMv.offsetWidth>=t._overviewMap.width&&(t._bind._moveX=-3),t._bind.curY+t._omViewMv.offsetHeight>=t._overviewMap.height&&(t._bind._moveY=-3),t._omViewMv.style.left=t._bind.curX+"px",t._omViewMv.style.top=t._bind.curY+"px",(0!=t._bind._moveX||0!=t._bind._moveY)&&!t._bind.intervalId){t._bind._mapMoving=!0;var o=t._overviewMap.offsetX,a=t._overviewMap.offsetY,r=o+t._bind._moveX,s=a+t._bind._moveY;t._overviewMap._setPlatformPosition(r,s),t._bind.intervalId=setInterval(function(){var e=0!=t._bind._moveX?t._bind._moveX>0?t._bind.i+=3:t._bind.i-=3:t._bind.i,i=0!=t._bind._moveY?t._bind._moveY>0?t._bind.j+=3:t._bind.j-=3:t._bind.j;t._overviewMap._setPlatformPosition(r+e,s+i)},30)}return 0==t._bind._moveX&&0==t._bind._moveY&&(clearInterval(t._bind.intervalId),delete t._bind.intervalId,t._bind.i=0,t._bind.j=0),stopBubble(e),preventDefault(e)}}),baidu.on(document,"mouseup",function(e){if(t._omViewMv&&"true"==t._omViewMv._drag){if(t._omViewMv._drag="",t._setViewMvCursor(MapConfig.defaultCursor),t._omViewMv.releaseCapture&&t._omViewMv.releaseCapture(),t._bind.initX==t._bind.curX&&t._bind.initY==t._bind.curY)return stopBubble(e),preventDefault(e);if(t._currentOp="dragView",t._overviewMap.config.enableMouseDown=!1,t._map.temp.operating=!0,!isDefined(t._bind.curX)||!isDefined(t._bind.curY))return;var i=t._bind.curX+parseInt(t._omViewMv.style.width)/2+1,n=t._bind.curY+parseInt(t._omViewMv.style.height)/2+1;delete t._bind.curX,delete t._bind.curY;var o=t._overviewMap.pixelToPoint({x:i,y:n},t._overviewMap.zoomLevel);return t._map.temp.operating=!1,1==t._bind._mapMoving&&(clearInterval(t._bind.intervalId),delete t._bind.intervalId,t._bind._mapMoving=!1),t._map.temp.operating=!0,setTimeout(function(){t._map.temp.operating=!1,t._map.panTo(o)},50),stopBubble(e),preventDefault(e)}})},_initOverviewMap:function(){if(1!=this._overviewInitialized){var t=this,e=t._map;if(e.addEventListener("resize",function(){null!=t._overviewMap&&t._overviewMap.setCenter(e.getCenter()),null!=t._omView&&(t._omView.setPosition(e.getCenter()),t._setRatio()),t.setAnchor(t._opts.anchor)}),0!=this._opts.isOpen){this._binded||(e.addEventListener("loadcode",function(){t._onMainZoomEnd()}),e.addEventListener("moving",function(){t._moveView()}),e.addEventListener("moveend",function(e){t._onMainMoveEnd(e)}),e.addEventListener("zoomend",function(e){t._onMainZoomEnd(e)}),e.addEventListener("maptypechange",function(e){t._setRatio()}),this._binded=!0);var i=e.getCenter();this._minZoom=BMAP_NORMAL_MAP.getMinZoom(),this._maxZoom=BMAP_NORMAL_MAP.getMaxZoom(),this._curOMZoomLevel=this._getCurOMZoomLevel(),this._overviewMap=new Map(this._omMapContainer,{isOverviewMap:!0}),this._overviewMap.disableDoubleClickZoom(),this._overviewMap.centerAndZoom(i,this._curOMZoomLevel),this._omView=new Division({point:e.getCenter(),lineStroke:1,lineColor:"#6688cc"}),this._overviewMap.addOverlay(this._omView),this._omView.getContainer().innerHTML='<div class="BMap_omViewInnFrame"><div class="BMap_omViewMask"></div></div>',this._omViewInn=this._omView.getContainer().children[0];var n=this._omView.getContainer().style;n.borderLeftColor="#84b0df",n.borderTopColor="#adcff4",n.borderRightColor="#274b8b",n.borderBottomColor="#274b8b",this._setRatio(),this._overviewMap.addEventListener("dragend",function(){t._currentOp="dragMap",e.panTo(t._overviewMap.getCenter())}),this._overviewMap.addEventListener("moveend",function(){t._onViewMapMoveEnd()}),this._overviewMap.addEventListener("mousedown",function(e){t._temp._downX=e.offsetX,t._temp._downY=e.offsetY}),this._overviewMap.addEventListener("resize",function(e){t._map&&t._overviewMap&&t._overviewMap.setCenter(t._map.getCenter()),t._setRatio()}),this._overviewInitialized=!0}}},_setViewMvCursor:function(t){this._omViewMv.style.cursor=t},setAnchor:function(t){if(Control.prototype.setAnchor.call(this,t),this._map){if(baidu.browser.ie){var e=this._map.width,i=this._map.height,n=this._opts.size.width,o=this._opts.size.height,a=this._opts.offset.width,r=this._opts.offset.height;0==this._opts.isOpen&&(n=this._btnWidth,o=this._btnHeight);var s=this._container;switch(t){case BMAP_ANCHOR_TOP_RIGHT:s.style.right="auto",s.style.left=e-n-a+"px";break;case BMAP_ANCHOR_BOTTOM_LEFT:s.style.bottom="auto",s.style.top=i-o-r+"px";break;case BMAP_ANCHOR_BOTTOM_RIGHT:s.style.bottom="auto",s.style.right="auto",s.style.top=i-o-r+"px",s.style.left=e-n-a+"px"}}this._setQuad(),this._redraw()}},changeView:function(){if(this.changeView._running=!0,this._opts.isOpen=!this._opts.isOpen,!this._container)return void(this.changeView._running=!1);var t=this._container,e=this._opts.size.width,i=this._opts.size.height,n=this._btnWidth,o=this._btnHeight,a=this;this._opts.isOpen?(0==this._overviewInitialized&&this._initOverviewMap(),new Animation({fps:40,duration:120,transition:Transitions.easeOutCubic,render:function(r){t.style.width=Math.ceil(e*r)+"px",t.style.height=Math.ceil(i*r)+"px",baidu.browser.ie&&(a._omBtn.style.top=3==a._quad||4==a._quad?parseInt(t.style.height)-o+"px":"0",a._omBtn.style.left=1==a._quad||4==a._quad?parseInt(t.style.width)-n+"px":"0",a._opts.anchor>=0&&a._opts.anchor<=BMAP_ANCHOR_BOTTOM_RIGHT&&(3!=a._quad&&4!=a._quad||(t.style.top=a._map.height-parseInt(t.style.height)-a._opts.offset.height+"px"),1!=a._quad&&4!=a._quad||(t.style.left=a._map.width-parseInt(t.style.width)-a._opts.offset.width+"px"))),a.dispatchEvent(new BaseEvent("onviewchanging"))},finish:function(){a._opts.anchor>=0&&a._opts.anchor<=BMAP_ANCHOR_BOTTOM_RIGHT&&baidu.browser.ie&&(3!=a._quad&&4!=a._quad||(t.style.top=a._map.height-i-a._opts.offset.height+"px"),1!=a._quad&&4!=a._quad||(t.style.left=a._map.width-e-a._opts.offset.width+"px")),a._redraw(),a._setBtnPosition(),baidu.dom.removeClass(a._omBtn,"BMap_omBtnClosed");var n=new BaseEvent("onviewchanged");n.isOpen=a._opts.isOpen,a.dispatchEvent(n),a.changeView._running=!1}})):(this.changeView._preBtnTop=this._omBtn.style.top,this.changeView._preBtnLeft=this._omBtn.style.left,new Animation({fps:25,duration:120,transition:Transitions.easeInCubic,render:function(r){t.style.width=e-Math.ceil((e-n)*r)+"px",t.style.height=i-Math.ceil((i-o)*r)+"px",baidu.browser.ie&&(a._omBtn.style.top=3==a._quad||4==a._quad?parseInt(t.style.height)-o+"px":"0",a._omBtn.style.left=1==a._quad||4==a._quad?parseInt(t.style.width)-n+"px":"0",a._opts.anchor>=0&&a._opts.anchor<=BMAP_ANCHOR_BOTTOM_RIGHT&&(3!=a._quad&&4!=a._quad||(t.style.top=a._map.height-parseInt(t.style.height)-a._opts.offset.height+"px"),1!=a._quad&&4!=a._quad||(t.style.left=a._map.width-parseInt(t.style.width)-a._opts.offset.width+"px"))),a.dispatchEvent(new BaseEvent("onviewchanging"))},finish:function(){baidu.browser.ie&&(a._omBtn.style.left="0",a._omBtn.style.top="0",a._opts.anchor>=0&&a._opts.anchor<=BMAP_ANCHOR_BOTTOM_RIGHT&&(3!=a._quad&&4!=a._quad||(t.style.top=a._map.height-a._btnHeight-a._opts.offset.height+"px"),1!=a._quad&&4!=a._quad||(t.style.left=a._map.width-a._btnWidth-a._opts.offset.width+"px"))),a._redraw(),baidu.dom.addClass(a._omBtn,"BMap_omBtnClosed");var e=new BaseEvent("onviewchanged");e.isOpen=a._opts.isOpen,a.dispatchEvent(e),a.changeView._running=!1}}))},_setRatio:function(){if(this._map){var t=this._map.zoomLevel,e=this._map.pixelToPoint({x:0,y:0},t),i=this._map.pixelToPoint({x:this._map.width,y:this._map.height},t),n=this._overviewMap.pixelToPoint({x:0,y:0},this._curOMZoomLevel),o=this._overviewMap.pixelToPoint({x:this._overviewMap.width,y:this._overviewMap.height},this._curOMZoomLevel);if(this._wRatio=(i.lng-e.lng)/(o.lng-n.lng),this._hRatio=(i.lat-e.lat)/(o.lat-n.lat),this._wRatio>=1||this._hRatio>=1)this._omViewMv.style.display="none",this._omView.hide();else{var a=parseInt(this._overviewMap.width),r=parseInt(this._overviewMap.height),s=Math.round(a*this._wRatio),l=Math.round(r*this._hRatio);this._map.getMapType()==BMAP_PERSPECTIVE_MAP&&(l=.35*r),this._omView.show(),this._omView.setDimension(s,l),this._omViewMv.style.display=""}this._setOMViewMvPos()}},_setOMViewMvPos:function(){if(this._omView&&this._omView.getContainer()){if(this._wRatio>=1||this._hRatio>=1)return void(this._omViewMv.style.display="none");var t=this._omView.getContainer().style;this._omViewMv.style.display="",this._omViewMv.style.width=t.width,this._omViewMv.style.height=t.height;var e=parseInt(t.width)-2,i=parseInt(t.height)-2;e=e<0?0:e,i=i<0?0:i,this._omViewMvInn.style.width=e+"px",this._omViewMvInn.style.height=i+"px",this._omViewInn.style.width=this._omViewMvInn.style.width,this._omViewInn.style.height=this._omViewMvInn.style.height,this._omViewMv.style.left=parseInt(t.left)+this._overviewMap.offsetX+"px",this._omViewMv.style.top=parseInt(t.top)+this._overviewMap.offsetY+"px"}},setSize:function(t){t instanceof Size||(t=new Size(200,200));var e=t.width,i=t.height;if(e=e>0?e:200,i=i>0?i:200,t.width=e,t.height=i,this._opts.size=t,this._container){if(1==this.changeView._running){var n=arguments,o=this;return void setTimeout(function(){n.callee.call(o,t)},120)}setSize(this._container,[e,i]);var o=this;setTimeout(function(){o._overviewMap&&o._map&&o._overviewMap.setCenter(o._map.getCenter())},100),this.setAnchor(this._opts.anchor),this.dispatchEvent(new BaseEvent("resize"))}},setOffset:function(t){t instanceof Size&&(Control.prototype.setOffset.call(this,t),this._container&&(0!=t.width||0!=t.height?baidu.dom.addClass(this._container,"withOffset"):baidu.dom.removeClass(this._container,"withOffset")))},_redraw:function(){if(this._omCanvas){var t=this._opts.size.width,e=this._opts.size.height,i=this._opts.padding,n=this._borderWidth,o=0,a=0,r=0,s=0;if(this._omCanvas.style.left=this._omCanvas.style.top=this._omCanvas.style.right=this._omCanvas.style.bottom="auto",this._omBtn.style.left=this._omBtn.style.top=this._omBtn.style.right=this._omBtn.style.bottom="auto",0==this._opts.offset.width&&0==this._opts.offset.height){switch(this._opts.anchor){case BMAP_ANCHOR_TOP_LEFT:this._omCanvas.style.left="0px",this._omCanvas.style.top="0px";break;case BMAP_ANCHOR_TOP_RIGHT:this._omCanvas.style.left=i+"px",this._omCanvas.style.top="0px";break;case BMAP_ANCHOR_BOTTOM_LEFT:this._omCanvas.style.top=i+"px",this._omCanvas.style.left="0px";break;case BMAP_ANCHOR_BOTTOM_RIGHT:this._omCanvas.style.top=i+"px",this._omCanvas.style.left=i+"px"}o=t-n,a=e-n,r=o-i-2*n,s=a-i-2*n,baidu.browser.ie&&"BackCompat"==document.compatMode&&(o+=1,a+=1,r+=2,s+=2)}else this._omCanvas.style.left=this._omCanvas.style.top=this._omCanvas.style.right=this._omCanvas.style.bottom=i+"px",o=t-2*n,a=e-2*n,r=o-2*i-2*n,s=a-2*i-2*n,0==this._opts.offset.width&&0==this._opts.offset.height||baidu.dom.addClass(this._container,"withOffset"),baidu.browser.ie&&"BackCompat"==document.compatMode&&(o+=2,a+=2,r+=2,s+=2);o>0&&a>0&&setSize(this._container.children[0],[o,a]),r>0&&s>0&&setSize(this._omCanvas,[r,s]),this._setBtnPosition(),baidu.dom.removeClass(this._omBtn,"BMap_omBtnClosed"),this._opts.isOpen||(this._container.style.width=this._btnWidth+"px",this._container.style.height=this._btnHeight+"px",baidu.browser.ie&&(this.changeView._preBtnTop=this._omBtn.style.top,this.changeView._preBtnLeft=this._omBtn.style.left,this._omBtn.style.left="0",this._omBtn.style.top="0"),baidu.dom.addClass(this._omBtn,"BMap_omBtnClosed"))}},_setQuad:function(){var t=this._container;if(t){var e=this._quad;switch(this._opts.anchor){case BMAP_ANCHOR_TOP_LEFT:this._quad=2;break;case BMAP_ANCHOR_TOP_RIGHT:this._quad=1;break;case BMAP_ANCHOR_BOTTOM_LEFT:this._quad=3;break;case BMAP_ANCHOR_BOTTOM_RIGHT:this._quad=4}baidu.dom.removeClass(t,"quad"+e),baidu.dom.addClass(t,"quad"+this._quad)}},_setBtnPosition:function(){if(baidu.browser.ie){var t=this._btnWidth,e=this._btnHeight,i=this._opts.size.width,n=this._opts.size.height;switch(this._omBtn.style.left="auto",this._omBtn.style.top="auto",this._omBtn.style.right="auto",this._omBtn.style.bottom="auto",this._quad){case 2:this._omBtn.style.left="0px",this._omBtn.style.top="0px";break;case 1:this._omBtn.style.left=i-t+"px",this._omBtn.style.top="0px";break;case 4:this._omBtn.style.top=n-e+"px",this._omBtn.style.left=i-t+"px";break;case 3:this._omBtn.style.left="0px",this._omBtn.style.top=n-e+"px"}}else switch(this._quad){case 2:this._omBtn.style.top="0",this._omBtn.style.left="0";break;case 1:this._omBtn.style.top="0",this._omBtn.style.right="0";break;case 4:this._omBtn.style.bottom="0",this._omBtn.style.right="0";break;case 3:this._omBtn.style.bottom="0",this._omBtn.style.left="0"}},_moveView:function(){this._omView&&this._omView.setPosition(this._map.getCenter())},_onMainMoveEnd:function(t){switch(this._currentOp){case"dragMap":this._setOMViewMvPos(),this._currentOp="";break;case"dragView":this._omViewMv.style.display="none",this._overviewMap.panTo(this._map.getCenter(),{duration:90}),this._currentOp="";break;default:this._overviewMap&&this._overviewMap.panTo(this._map.getCenter(),{duration:90})}},_onMainZoomEnd:function(){if(this._overviewMap){var t=this;t._curOMZoomLevel=t._getCurOMZoomLevel(),setTimeout(function(){t._overviewMap.centerAndZoom(t._map.getCenter(),t._curOMZoomLevel),t._omView.setPosition(t._map.getCenter()),t._setRatio()},100)}},_onViewMapMoveEnd:function(){"dragMap"!=this._currentOp&&(this._setOMViewMvPos(),this._overviewMap.config.enableMouseDown=!0)},remove:function(){Control.prototype.remove.call(this),this._omCanvas=null,this._omMapContainer=null,this._omView=null,this._omViewInn=null,this._omViewMv=null,this._omViewMvInn=null,this._omBtn=null,this._overviewInitialized=!1,this._overviewMap=null},isOpen:function(){return!!this._container&&this._opts.isOpen}}),exportSymbol(OverviewMapControlP,{changeView:OverviewMapControlP.changeView,setAnchor:OverviewMapControlP.setAnchor,setSize:OverviewMapControlP.setSize}),baidu.object.extend(ScaleControl.prototype,{_asyncLoad:function(){this._map&&this._i(this._map)},initialize:function(t){return Control.prototype.initialize.call(this,t),this._render(),this._setParam(),this._updateScale(),this._bind(t),this._container},_setParam:function(){this._numberArray={us:[264e5,132e5,1056e4,528e4,264e4,1056e3,528e3,264e3,132e3,105600,52800,26400,10560,5280,2e3,1e3,500,200,100,50,20,10,5],metric:[1e7,5e6,2e6,1e6,5e5,2e5,1e5,5e4,25e3,2e4,1e4,5e3,2e3,1e3,500,200,100,50,20,10,5,2,1]}},_bind:function(t){var e=this;t.addEventListener("zoomend",function(){e._updateScale()}),t.addEventListener("moveend",function(){e._updateScale()}),t.addEventListener("maptypechange",function(){e.setColor(e._map.getMapType().getTextColor())})},_render:function(){Control.prototype._render.call(this),baidu.dom.addClass(this._container,"BMap_scaleCtrl"),this._container.innerHTML=this._generateHTML(),this.setColor(this._map.getMapType().getTextColor()),this._scaleText=this._container.children[0],Control.prototype._setPosition.call(this)},_generateHTML:function(){MapConfig.imgPath;return'<div class="BMap_scaleTxt" unselectable="on"></div><div class="BMap_scaleBar BMap_scaleHBar"></div><div class="BMap_scaleBar BMap_scaleLBar"></div><div class="BMap_scaleBar BMap_scaleRBar"></div>'},setColor:function(t){if(this._opts.color=t+"",this._container){this._container.children[0].style.backgroundColor="transparent",this._container.children[0].style.color=t;for(var e=1,i=this._container.children.length;e<i;e++)this._container.children[e].style.backgroundColor=t}},setUnit:function(t){this._opts.unit=this._units[t]&&this._units[t].name||this._opts.unit,this._map&&this._updateScale()},_setScaleText:function(t,e){this._scaleText.innerHTML=t+"&nbsp;"+e},_updateScale:function(){if(this._map&&this._container){
var t=new Point(this._map.getCenter().lng,this._map.getCenter().lat+10),e=Math.abs(this._map.pointToPixel(this._map.getCenter()).y-this._map.pointToPixel(t).y),i=MercatorProjection.getDistanceByLL(this._map.getCenter(),t)/e;if(0!=i&&!isNaN(i)){var n=this._convertUnit(i,this._opts.unit),o=0,a=this._units[this._opts.unit].incon,r=(this._map.getZoom(),this._numberArray[this._opts.unit][this._map.getZoom()-1]);o=r/n;var s=r>=a?this._units[this._opts.unit].u2:this._units[this._opts.unit].u1;r>=a&&(r=Math.round(r/a)),this._setScaleText(r,s),Math.round(o)%2!=0&&6==baidu.browser.ie&&(o+=1),this._container.style.width=Math.round(o)+"px",this._map.mapType==BMAP_PERSPECTIVE_MAP&&(this._container.style.width=3*Math.round(o)+"px",this._setScaleText(3*r,s))}}},_convertUnit:function(t,e){return e=e||"metric",this._units[e]?t*this._units[e].conv:t}}),exportSymbol(ScaleControlP,{setUnit:ScaleControlP.setUnit}),BMap.SATELLITE_CHECKBOX_BGIMG=[[-57,-179],[-45,-179]],BMap.SATELLITE_CHECKBOX_BGIMG.toCss=function(t){var e=this[Number(t)];return e[0]+"px "+e[1]+"px"};var BGIMG_URL=new String(BMap.apiUrlCdn+"images/mapctrls2d0.gif");BGIMG_URL.toCss=function(t,e){return"transparent url("+this+") no-repeat "+("number"==typeof t?t+"px ":"")+("number"==typeof e?e+"px ":"")},BMap.MAPTYPE_STATES={B_NORMAL_MAP:{first:"B_SATELLITE_MAP",second:"B_DIMENSIONAL_MAP",showMenu:!1},B_SATELLITE_MAP:{first:"B_NORMAL_MAP",second:"B_DIMENSIONAL_MAP",showMenu:!0},B_DIMENSIONAL_MAP:{first:"B_NORMAL_MAP",second:"B_SATELLITE_MAP",showMenu:!1}},BMap.MAPTYPE_CONFIG={B_DIMENSIONAL_MAP:BMAP_PERSPECTIVE_MAP,B_SATELLITE_MAP:BMAP_SATELLITE_MAP,B_NORMAL_MAP:BMAP_NORMAL_MAP},BMap.MAPTYPE_BUTTON_CONFIG={B_DIMENSIONAL_MAP:{text:"三维",title:"显示三维地图",file:BGIMG_URL,x:0,y:-131,right:"0px"},B_SATELLITE_MAP:{text:"卫星",title:"显示卫星地图",file:BGIMG_URL,x:0,y:-177,right:"0px"},B_NORMAL_MAP:{text:"地图",title:"显示普通地图",file:BGIMG_URL,x:0,y:-221,right:"0px"}},BMap.ENABLE_ANIMATION=!0,baidu.extend(MapTypeControl.prototype,{_asyncLoad:function(){this._map&&this._i(this._map)},initialize:function(t){switch(this._initParams(),Control.prototype.initialize.call(this,t),Control.prototype._render.call(this),Control.prototype._setPosition.call(this),this._opts.type){case BMAP_MAPTYPE_CONTROL_DROPDOWN:this._createBtnsDropDown();break;case BMAP_MAPTYPE_CONTROL_MAP:this.mapTypeButtons={},this._createBtnsRectStyle(t);break;default:this._createBtnsDefault()}return 2!==this._opts.type&&this._bind(),this._draw(t),this._container},_initParams:function(){this._mapTypeRel=[[BMAP_HYBRID_MAP,BMAP_SATELLITE_MAP,!0]],this._btnDoms=[],this._lblDoms=[]},_createBtnsDefault:function(){for(var t=this._opts.mapTypes,e=0;e<t.length;e++)this._isMapTypeExist(this._getParentMapType(t[e]))||this._createNormalBtn(t[e],e);for(var e=0;e<t.length;e++)this._isMapTypeExist(this._getParentMapType(t[e]))&&this._createLabelBtn(t[e],e);var i=this._btnDoms[0];i.firstChild.style.borderRadius="3px 0 0 3px";var n=this._btnDoms[this._btnDoms.length-1];n.firstChild.style.borderRight="1px solid #8ba4dc",n.firstChild.style.borderRadius=i==n?"3px":"0 3px 3px 0",this._container.style.whiteSpace="nowrap",this._container.style.cursor="pointer"},_isMapTypeExist:function(t){for(var e=0;e<this._opts.mapTypes.length;e++)if(this._opts.mapTypes[e]==t)return!0;return!1},_getParentMapType:function(t){for(var e=0;e<this._mapTypeRel.length;e++)if(this._mapTypeRel[e][0]==t)return this._mapTypeRel[e][1];return null},_getInputCheckedInfo:function(t){for(var e=0;e<this._mapTypeRel.length;e++)if(this._mapTypeRel[e][0]==t)return this._mapTypeRel[e][2];return!1},_createNormalBtn:function(t,e){var i=this,n=create("div");setUnSelectable(n);var o=n.style;o.boxShadow="2px 2px 3px rgba(0, 0, 0, 0.35)",o.borderLeft="1px solid #8ba4dc",o.borderTop="1px solid #8ba4dc",o.borderBottom="1px solid #8ba4dc",o.background="white",o.padding="2px 6px",o.font="12px "+MapConfig.fontFamily,o.lineHeight="1.3em",o.textAlign="center",o.whiteSpace="nowrap",n.innerHTML=t.getName(),n.title=t.getTips(),n.onclick=function(){i._map.setMapType(i._getProperMapType(t))};var a=create("div");setUnSelectable(a);var r=a.style;baidu.browser.ie?r.styleFloat="left":r.cssFloat="left",a.appendChild(n),this._btnDoms[e]=a,this._btnDoms[e+1]?this._container.insertBefore(a,this._btnDoms[e+1]):this._container.appendChild(a)},_createLabelBtn:function(t,e){var i=this._getParentMapType(t),n=this._getMapTypeIndex(i),o=this._btnDoms[n],a=this;o.onmouseover=function(){a._map.getMapType()!=i&&a._map.getMapType()!=t||!this._labelDom||(this._hideLabelTimer&&(clearTimeout(this._hideLabelTimer),this._hideLabelTimer=null),this._labelDom&&baidu.dom.show(this._labelDom))},o.onmouseout=function(){var t=this;this._hideLabelTimer&&(clearTimeout(this._hideLabelTimer),this._hideLabelTimer=null),this._hideLabelTimer=setTimeout(function(){t._labelDom&&baidu.dom.hide(t._labelDom)},1e3)},o.onmousedown=function(){this._hideLabelTimer&&(clearTimeout(this._hideLabelTimer),this._hideLabelTimer=null),this._labelDom&&baidu.dom.show(this._labelDom)},o._childMapType=t;var r=create("div");setUnSelectable(r),labelContainerStyle=r.style,labelContainerStyle.position="absolute",labelContainerStyle.top=this._btnDoms[n].offsetHeight+"px";var s=this.getAnchor();if(1==this._getBtnNum())s==BMAP_ANCHOR_TOP_LEFT||s==BMAP_ANCHOR_BOTTOM_LEFT?labelContainerStyle.left="0":labelContainerStyle.right="0";else if(0==n||n!=this._btnDoms.length-1){for(var l=0,h=0;h<n;)this._btnDoms[h]&&(l+=this._btnDoms[h].offsetWidth),h++;labelContainerStyle.left=l+"px"}else labelContainerStyle.right="0";labelContainerStyle.zIndex="-1",labelContainerStyle.display="none";var c=this._getInputCheckedInfo(t)?'checked="checked"':"";r.innerHTML='<div title="'+t.getTips()+'" style="border-right:1px solid #8ba4dc;border-bottom:1px solid #8ba4dc;border-left:1px solid #8ba4dc;background:white;font:12px '+MapConfig.fontFamily+';padding:0 8px 0 6px;line-height:1.6em;box-shadow:2px 2px 3px rgba(0, 0, 0, 0.35)"><span '+c+'" class="BMap_checkbox"></span><label style="vertical-align: middle; cursor: pointer;">'+(t.getLabelText()||t.getName())+"</label></div>",r.onclick=function(){a._map.setMapType(a._getProperMapType(t))},r.onmouseover=function(t){o._hideLabelTimer&&(clearTimeout(o._hideLabelTimer),o._hideLabelTimer=null),baidu.dom.show(this),stopBubble(t)},r.onmouseout=function(){var t=this;o._hideLabelTimer&&(clearTimeout(o._hideLabelTimer),o._hideLabelTimer=null),o._hideLabelTimer=setTimeout(function(){t&&baidu.dom.hide(t)},1e3)},o._lblDom=this._lblDoms[e]=r,o.appendChild(r),o._labelDom=r},_createBtnsDropDown:function(){var t=create("div");setUnSelectable(t),t.title="更改地图类型";var e=t.style;e.font="bold 12px/1.5em "+MapConfig.fontFamily,e.background="#fff",e.boxShadow="2px 2px 3px rgba(0, 0, 0, 0.35)",e.padding="0 6px",e.border="1px solid #8ba4dc",t.innerHTML='<span style="float:right;font-family:'+MapConfig.fontFamily+'">▼</span>'+this._map.getMapType().getName(),this._mainBtn=t;var i=create("div");setUnSelectable(i),dropDownStyle=i.style,dropDownStyle.position="relative",dropDownStyle.zIndex="-1",dropDownStyle.background="#fff",dropDownStyle.display="none",dropDownStyle.borderLeft=dropDownStyle.borderRight=dropDownStyle.borderBottom="1px solid #8ba4dc";for(var n=this._opts.mapTypes,o=0;o<n.length;o++)this._isMapTypeExist(this._getParentMapType(n[o]))||this._createNormalBtnDropDown(n[o],o,i);var a=create("div");a.style.borderTop="1px solid rgb(220, 220, 220)",a.style.margin="1px 4px",i.appendChild(a);for(var o=0;o<n.length;o++)this._isMapTypeExist(this._getParentMapType(n[o]))&&this._createLabelBtnDropDown(n[o],o,i);this._container.style.width="85px",this._container.style.whiteSpace="nowrap",this._container.style.cursor="pointer",this._container.appendChild(t),this._container.appendChild(i),t._dropDownContainer=i,t.onclick=function(){this._hideDropDownTimer&&(clearTimeout(this._hideDropDownTimer),this._hideDropDownTimer=null),this._dropDownContainer&&(this._dropDownContainer.style.display="none"==this._dropDownContainer.style.display?"":"none")},t.onmouseout=function(){this._hideDropDownTimer&&(clearTimeout(this._hideDropDownTimer),this._hideDropDownTimer=null);var t=this;this._hideDropDownTimer=setTimeout(function(){t._dropDownContainer&&baidu.dom.hide(t._dropDownContainer)},1e3)},i.onmouseover=function(){t._hideDropDownTimer&&(clearTimeout(t._hideDropDownTimer),t._hideDropDownTimer=null),baidu.dom.show(this)},i.onmouseout=function(){t._hideDropDownTimer&&(clearTimeout(t._hideDropDownTimer),t._hideDropDownTimer=null),t._hideDropDownTimer=setTimeout(function(){t._dropDownContainer&&baidu.dom.hide(t._dropDownContainer)},1e3)}},_createNormalBtnDropDown:function(t,e,i){var n=create("div");setUnSelectable(n);var o=n.style;o.color="#000",o.font="12px/1.6em "+MapConfig.fontFamily,o.background="#fff",o.padding="1px 6px",baidu.browser.ie<8&&(o.zoom="1"),n.innerHTML=t.getName(),n.title=t.getTips();var a=this;n.onclick=function(){a._map.setMapType(a._getProperMapType(t))},i.appendChild(n),this._btnDoms[e]=n},_createLabelBtnDropDown:function(t,e,i){var n=create("div");setUnSelectable(n);var o=n.style;o.font="12px/1.6em "+MapConfig.fontFamily,o.padding="1px 0 1px 4px",o.whiteSpace="nowrap",n.title=t.getTips();var a=this._getInputCheckedInfo(t)?'checked="checked"':"";n.innerHTML="<span "+a+' class="BMap_checkbox"></span><label style="vertical-align:middle;cursor:pointer">'+(t.getLabelText()||t.getName())+"</label>";var r=this;n.onclick=function(){r._map.setMapType(r._getProperMapType(t))},i.appendChild(n),this._lblDoms[e]=n;var s=this._getParentMapType(t),l=this._getMapTypeIndex(s),h=this._btnDoms[l];h._childMapType=t,h._lblDom=n},_createBtnsRectStyle:function(t){var e=function(t){stopBubble(t)},i=BMap.MAPTYPE_BUTTON_COLORS,n={top:"2px",cursor:"pointer",width:"47px",height:"49px",zIndex:"800",display:"inline-block",position:"absolute",fontSize:"12px",border:"1px solid "+i.NORMAL,backgroundColor:"#fff"},o={width:"41px",height:"43px",position:"absolute",margin:"2px",border:"1px solid "+i.NORMAL},a={position:"absolute",top:"27px",width:"41px",height:"16px",backgroundColor:i.NORMAL,opacity:"0.5",filter:"Alpha(opacity=50);"},r={position:"absolute",top:"29px",width:"41px",color:"white",textAlign:"center",lineHeight:"12px"};baidu.browser.ie>0&&baidu.browser.ie<=8&&(r.lineHeight="15px"),baidu.extend(this._container.style,{cursor:"pointer",top:"10px",width:"120px",height:"60px"}),this._container.style.background="url("+MapConfig.imgPath+"blank.gif)";var s=create("div");this._menu=s,baidu.extend(s.style,{position:"absolute",width:"71px",height:"21px",border:"1px solid #999",fontSize:"12px",bottom:"-26px",right:"-1px",backgroundColor:"white",display:"none"});var l=create("span");l._checked=!1,this._map&&void 0!==this._map._isHybirdShow&&(l._checked=!!this._map._isHybirdShow);var h=BMap.SATELLITE_CHECKBOX_BGIMG[1];s._checkbox=l,baidu.extend(l.style,{background:BGIMG_URL.toCss(h[0],h[1]),width:"11px",height:"11px",position:"absolute",cssFloat:"left",top:"5px",left:"4px"}),s.appendChild(l);var c=create("span");c.innerHTML="显示路网",baidu.extend(c.style,{position:"absolute",top:"4px",marginLeft:"18px"}),s.appendChild(c),c.onmouseover=e,c.onmouseout=e,s.onmouseover=e,s.onmouseout=e,this._container.appendChild(s);for(var d,u,p,_,g,m,f,v=this._opts.defaultMapTypes,y=0,b=v.length;y<b;++y)d=v[y],p=BMap.MAPTYPE_BUTTON_CONFIG[d],u=create("span"),u.title=p.title,u._name=d,baidu.extend(u.style,p),baidu.extend(u.style,n),m=create("span"),u._captionBg=m,baidu.extend(m.style,a),m.onmouseover=e,m.onmouseout=e,g=create("span"),u._innerBox=g,baidu.extend(g.style,o),_=BGIMG_URL.toCss(p.x,p.y),g.style.background=_,f=create("span"),u._caption=f,f.innerHTML=p.text,baidu.extend(f.style,r),u.appendChild(g),g.appendChild(m),g.appendChild(f),f.onmouseover=e,this._container.appendChild(u),this.mapTypeButtons[d]=u;return u=null,this._bindRectBt(t),this.select(this._getMapType()),!0===this._is3DControlShow?this.showButton("B_DIMENSIONAL_MAP"):!1===this._is3DControlShow&&this.hideButton("B_DIMENSIONAL_MAP"),this._container},_bindRectBt:function(t){var e=this,i=this.mapTypeButtons,n=this._container;n._expanded=!1;var o=!0,a=function(r){if(null!==r){r=window.event||r;var s=r.target||r.srcElement,l=null;s._name?l=s:s.parentNode._name?l=s.parentNode:s.parentNode.parentNode._name&&(l=s.parentNode.parentNode),"B_NORMAL_MAP"===l._name?(_highlight(i.B_SATELLITE_MAP),_dehighlight(i.B_DIMENSIONAL_MAP)):"B_DIMENSIONAL_MAP"===l._name&&(_highlight(i.B_SATELLITE_MAP),_dehighlight(i.B_NORMAL_MAP))}if(this._name){var h=this._name,c=BMap.MAPTYPE_STATES[h],d=i[h],u=i[c.first],p=i[c.second];n._current=d,n._first=u,n._second=p,d.style.display="none",d._selected=!0,d.onmouseover=null,p.style.display="",p.style.right=o?"62px":"-54px",p.style.zIndex=99,p._selected=!1,p.onmouseover=null,p.onmouseover=function(t){_highlight(p)},p.onmouseout=null,p.onmouseout=function(t){t=window.event||t;var e=t.relatedTarget||t.toElement;e!==p&&e!==p._caption&&e!==p._captionBg&&e!==p._innerBox&&_dehighlight(p)},baidu.on(p,"click",function(){a.call(p,null)}),u.style.display="",u.style.right="4px",u.style.zIndex=100,u._selected=!1,u._second=p,u.onmouseout=null,u.onmouseout=function(t){t=window.event||t;var e=t.relatedTarget||t.toElement;e!==u&&e!==u._caption&&e!==u._captionBg&&e!==u._innerBox&&_dehighlight(u)},u.onmouseover=null;var _=null;u.onmouseover=function(i){i=window.event||i;var a=(i.target||i.srcElement,i.relatedTarget||i.fromElement);a!==p&&a!==u&&a!==u._innerBox&&a!==u._captionBg&&(null!==_&&(clearTimeout(_),_=null),_=setTimeout(function(){n._mouseOvered&&!n._expanded&&(BMap.ENABLE_ANIMATION?new Animation({duration:200,transition:Transitions.easeInCubic,render:function(e){baidu.g(n).offsetLeft+60-t.getSize().width/2>=0?p.style.right=Math.round(58*e)+4+"px":(o=!1,p.style.right=4-Math.round(58*e)+"px")},finish:function(t){n._expanded=!0}}):(offsetX-centerX>=0?p.style.right="62px":p.style.right="-62px",n._expanded=!0),e.dispatchEvent(new BaseEvent("onSecondShow")))},100),n._mouseOvered=!0,_highlight(u))},e._menu.style.display=c.showMenu?"":"none",e._toggle(h),"B_SATELLITE_MAP"==h&&(void 0===e._map._isHybirdShow?e.streetMapMgr(!0):e.streetMapMgr(!!e._map._isHybirdShow)),n._mouseOvered=!1}};for(var r in e.mapTypeButtons){var s=e.mapTypeButtons[r];!function(t){baidu.on(t,"click",function(e){a.call(t,null)})}(s)}baidu.on(n,"mouseover",function(t){t=window.event||t;var i=(t.target||t.srcElement,t.relatedTarget||t.toElement);e._isContainedInControlDOM(i,!0)||e.dispatchEvent(new BaseEvent("onmouseover"))});var l=null;baidu.on(n,"mouseout",function(t){if(n._second){t=window.event||t;var i=(t.target||t.srcElement,t.relatedTarget||t.toElement);e._isContainedInControlDOM(i,!0)||(e.dispatchEvent(new BaseEvent("onmouseout")),null!==l&&(clearTimeout(l),l=null),l=setTimeout(function(){n._mouseOvered||(BMap.ENABLE_ANIMATION?new Animation({duration:200,transition:Transitions.easeInCubic,render:function(t){n._second.style.right=o?Math.round(58*(1-t))+4+"px":4-Math.round(58*(1-t))+"px"},finish:function(){n._expanded=!1}}):(n._second.style.right=o?"4px":"-4px",n._expanded=!1),e.dispatchEvent(new BaseEvent("onSecondHide")),_dehighlight(n._second),_dehighlight(n._first))},600),n._mouseOvered=!1)}}),this._menu.onclick=function(){e.streetMapMgr(!this._checkbox._checked)},t.addEventListener("onmaptypechange",function(i){2==e._opts.type&&(e.select(e._getMapType(t.mapType)),a.call(e.mapTypeButtons[e._getMapType(t.mapType)],null),e._container._second.style.right=o?(e._container._expanded?62:4)+"px":(e._container._expanded?-54:4)+"px")}),this._reposition=function(){var t=this._getMapType();a.call(this.mapTypeButtons[t],null);var e=this._container._second,i=this._container._first;e.style.right="4px",_dehighlight(e),_dehighlight(i),this._container._expanded=!1},this._reposition()},streetMapMgr:function(t){var e=this._map;this._menu._checkbox._checked=e._isHybirdShow=t,this._menu._checkbox.style.backgroundPosition=BMap.SATELLITE_CHECKBOX_BGIMG.toCss(t),_toggleHybridStuff(e,t)},_toggle:function(t){if(this._map.mapType.getName()!=this._getMapTypeHash(t).getName()){var e=0;""!==this._map.currentCity&&(e=1);var i=new BaseEvent("onbeforesetmaptype");i.flag=e,i.mapType=t,i.exMapType=this._map.mapType,this._map.dispatchEvent(i);var n=this;return n._opts.enableSwitch?void((e||t!=BMAP_PERSPECTIVE_MAP)&&n.select(t)):void 0}},select:function(t){if(void 0!=t){if(t instanceof MapType){var e=t.getName();t=this._getMapType(e)}var i=this.mapTypeButtons[t];_highlight(i),i._selected=!0,this._map.setMapType(this._getMapTypeHash(t))}},remove:function(){for(var t=this.mapTypeButtons,e=0,i=t.length;e<i;++e)t[e]=null;Control.prototype.remove.call(this)},getHeight:function(){var t=parseInt(this._container.style.height);return mapType=this._container._current._name,BMap.MAPTYPE_STATES[mapType].showMenu&&(t+=Math.abs(parseInt(this._menu.style.bottom))),t},getRight:function(){return parseInt(this._container.style.right)},hideButton:function(t){var e=this.mapTypeButtons[t];e&&e.style&&(e.style.visibility="hidden")},showButton:function(t){var e=this.mapTypeButtons[t];e&&e.style&&(e.style.visibility="visible")},isButtonVisible:function(t){var e=this.mapTypeButtons[t];if(!e)throw"Invalid Map Type:"+t;return"visible"===e.style.visibility},hide3DControl:function(){var t="B_DIMENSIONAL_MAP";this._visible||this.show(),this.isButtonVisible(t)&&(this.hideButton(t),this._is3DControlShow=!1)},show3DControl:function(){this._visible||this.show(),this.isButtonVisible("B_DIMENSIONAL_MAP")||(this.showButton("B_DIMENSIONAL_MAP"),this._is3DControlShow=!0)},_isContainedInControlDOM:function(t,e){e=e||!0;for(var i in this.mapTypeButtons){var n=this.mapTypeButtons[i];if(t===n||t==n._innerBox||t===n._captionBg||t===n._caption)return!0;if(e&&t===this._container)return!0}return!1},_getMapType:function(t){for(var e in BMap.MAPTYPE_BUTTON_CONFIG)if(this._map.mapType.getName()==BMap.MAPTYPE_BUTTON_CONFIG[e].text)return e},_getMapTypeHash:function(t){return BMap.MAPTYPE_CONFIG[t]},_getBtnNum:function(){for(var t=0,e=0;e<this._btnDoms.length;e++)this._btnDoms[e]&&t++;return t},_getMapTypeIndex:function(t){for(var e=0;e<this._opts.mapTypes.length;e++)if(this._opts.mapTypes[e]==t)return e;return-1},_getProperMapType:function(t){for(var e=0;e<this._mapTypeRel.length;e++){if(this._mapTypeRel[e][0]==t&&this._map.getMapType()==t&&this._isMapTypeExist(this._mapTypeRel[e][1]))return this._mapTypeRel[e][1];if(this._mapTypeRel[e][1]==t){var i=this._lblDoms[this._getMapTypeIndex(this._mapTypeRel[e][0])];if(i){var n=i.getElementsByTagName("span")[0];return""==n.checked?(T.dom.removeClass(n,"checked"),t):this._mapTypeRel[e][0]}}}return t},_renderSelBtn:function(t){var e=t.style;e.background="#8ea8e0",e.color="#fff",e.fontWeight="bold"},_renderUnSelBtn:function(t){var e=t.style;e.background="#fff",e.color="#000",e.fontWeight=""},_bind:function(){var t=this;t._map.addEventListener("onmaptypechange",function(e){t._draw()})},_draw:function(t){if(2!==this._opts.type)switch(this._opts.type){case BMAP_MAPTYPE_CONTROL_DROPDOWN:this._drawDropDown();break;default:this._drawDefault()}},_drawDefault:function(){for(var t=this._map.getMapType(),e=0;e<this._opts.mapTypes.length;e++){var i=null;if(this._btnDoms[e])if(t==this._opts.mapTypes[e])this._renderSelBtn(this._btnDoms[e].children[0]),this._btnDoms[e]._childMapType&&this._btnDoms[e]._lblDom&&(i=this._btnDoms[e]._lblDom.getElementsByTagName("span")[0],i.checked="",T.dom.removeClass(i,"checked"));else if(this._btnDoms[e]._childMapType==t){this._renderSelBtn(this._btnDoms[e].children[0]);var n=this._btnDoms[e]._lblDom;i=n.getElementsByTagName("span")[0],n&&(i.checked="checked",T.dom.addClass(i,"checked"))}else this._renderUnSelBtn(this._btnDoms[e].children[0]),this._btnDoms[e]._lblDom&&(baidu.dom.hide(this._btnDoms[e]._lblDom),clearTimeout(this._btnDoms[e]._hideLabelTimer),this._btnDoms[e]._hideLabelTimer=null)}},_drawDropDown:function(){for(var t=this._map.getMapType(),e=!1,i=!1,n=0;n<this._opts.mapTypes.length;n++){var o=null;if(t==this._opts.mapTypes[n]&&this._btnDoms[n]){e=!0,this._mainBtn.innerHTML='<span style="float:right;font-family:'+MapConfig.fontFamily+'">▼</span>'+this._map.getMapType().getName();var a=this._btnDoms[n];a&&a._childMapType&&a._lblDom&&(baidu.dom.show(a._lblDom),o=a._lblDom.getElementsByTagName("span")[0],o.checked="",T.dom.removeClass(o,"checked"))}else if(this._btnDoms[n]&&this._btnDoms[n]._childMapType==t){i=!0,this._mainBtn.innerHTML='<span style="float:right;font-family:'+MapConfig.fontFamily+'">▼</span>'+this._getParentMapType(t).getName();var r=this._btnDoms[n]._lblDom;r&&(baidu.dom.show(r),o=r.getElementsByTagName("span")[0],o.checked="checked",T.dom.addClass(o,"checked"))}else if(this._btnDoms[n]){var r=this._btnDoms[n]._lblDom;r&&baidu.dom.hide(r)}}e||i||(this._mainBtn.innerHTML='<span style="float:right;font-family:'+MapConfig.fontFamily+'">▼</span>'+this._map.getMapType().getName())},remove:function(){this._btnDoms=this._lblDoms=[],this._mainBtn=null,Control.prototype.remove.call(this)}}),baidu.extend(PanoramaControl.prototype,{_asyncLoad:function(){this._map&&this._i(this._map)},initialize:function(t){return Control.prototype.initialize.call(this,t),this._render(),this._bind(),baidu.on(this._container,"click",stopBubble),baidu.on(this._container,"dblclick",stopBubble),baidu.on(this._container,"mousewheel",stopBubble),baidu.on(this._container,"mouseup",function(t){t=window.event||t,2==t.button&&stopBubble(t)}),window.addEventListener&&this._container.addEventListener("DOMMouseScroll",function(t){stopBubble(t)},!0),this._infoStatus=1,this._isOver=!1,this._container},_render:function(){var t=create("div");t.innerHTML='<span style="position:relative;top:33px;">全景</span>',t.title="进入全景";var e=t.style;e.width="49px",e.height="51px",e.color="#565656",e.background='url("'+MapConfig.imgPath+'st-control.png") no-repeat 0 0',e.position="absolute",e.cursor="pointer",e.fontFamily="arial,sans-serif",e.fontSize="13px",e.textAlign="center",e.WebkitBoxShadow=e.MozBoxShadow=e.boxShadow="0px 0px 3px rgba(0, 0, 0, 0.3)",this._container=t,this._map.getContainer().appendChild(t);var i=this._scout=create("div");e=i.style,e.position="absolute",e.width="24px",e.height="41px",e.cursor="pointer",e.backgroundImage='url("'+MapConfig.imgPath+'st-scout.png")',e.backgroundRepeat="no-repeat",e.backgroundPosition="-24px 0",e.overflow="hidden",e.display="none",6==baidu.browser.ie&&(e.background="",i.innerHTML="<div style=\"position:absolute;left:-24px;top:0;width:24px;height:41px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+MapConfig.imgPath+"st-scout.png')\"></div>"),this._map.getContainer().appendChild(i);var n=this._infoWindow=create("div");e=n.style,e.position="absolute",e.width="112px",e.height="119px",e.backgroundImage='url("'+MapConfig.imgPath+'st-infowindow.gif")',e.backgroundRepeat="no-repeat",e.backgroundPosition="0 0",e.display="none",e.cursor="pointer";var o=this._thumb=create("img");n.appendChild(o),o.src=MapConfig.imgPath+"st-noresult.png",o.style.width="100px",o.style.height="75px",o.style.left=o.style.top="6px",o.style.position="absolute";var a=this._stDescription=create("div");a.style.position="absolute",a.style.top="85px",a.style.fontFamily="arial,sans-serif",a.style.fontSize="13px",a.style.paddingLeft="6px",n.appendChild(a),this._map.getContainer().appendChild(n)},_bind:function(){var t=this;isDesktop()&&(baidu.on(this._container,"mouseover",function(e){t._isOver=!0,t._updateView()}),baidu.on(this._container,"mouseout",function(e){t._isOver=!1,t._updateView()})),baidu.on(this._container,"click",function(e){t._isOn?t._close():t._open()}),baidu.on(document,"mousemove",function(e){if(t._isOn){var e=window.event||e,i=e.pageX||e.clientX,n=e.pageY||e.clientY,o=getPosition(t._map.container),a=new Pixel(i-o.left,n-o.top),r=t._map.pixelToPoint(a);if(""!=t._scout.style.display&&isDesktop()&&(t._scout.style.display="",t._infoWindow.style.display=""),t._scout.style.left=a.x-12+"px",t._scout.style.top=a.y-41-2+"px",t._prePixel=t._curPixel,t._curPixel=a,t._prePixel){var s=a.x-t._prePixel.x;s>0?(t._scout.style.backgroundPosition="-48px 0",6==baidu.browser.ie&&(t._scout.children[0].style.left="-48px")):s<0&&(t._scout.style.backgroundPosition="0 0",6==baidu.browser.ie&&(t._scout.children[0].style.left="0"))}t._curPixel.y<170?t._infoStatus=2:t._infoStatus=1,t._curPixel.x<66&&(t._infoStatus=3),t._curPixel.x>t._map.getSize().width-56-10&&(t._infoStatus=4);var l=1==t._infoStatus||2==t._infoStatus?112:126,h=1==t._infoStatus||2==t._infoStatus?119:105;1!=t._infoStatus&&2!=t._infoStatus||(t._infoWindow.style.left=t._curPixel.x-Math.round(l/2)+"px",1==t._infoStatus?(t._infoWindow.style.top=t._curPixel.y-h-42+"px",t._infoWindow.style.backgroundPosition="0 0",t._thumb.style.top="6px",t._thumb.style.bottom="",t._stDescription.style.top="85px",t._stDescription.style.bottom=""):(t._infoWindow.style.top=t._curPixel.y+2+"px",t._infoWindow.style.backgroundPosition="-112px 0",t._thumb.style.top="",t._thumb.style.bottom="6px",t._stDescription.style.top="",t._stDescription.style.bottom="85px"),t._infoWindow.style.width="112px",t._infoWindow.style.height="119px",t._thumb.style.left="6px",t._stDescription.style.left="0"),3!=t._infoStatus&&4!=t._infoStatus||(t._infoWindow.style.top=t._curPixel.y-Math.round(h/2)-20+"px",3==t._infoStatus?(t._infoWindow.style.left=t._curPixel.x+12+"px",t._infoWindow.style.backgroundPosition="0 -119px",t._thumb.style.left="20px",t._stDescription.style.left="14px"):(t._infoWindow.style.left=t._curPixel.x-12-l+"px",t._infoWindow.style.backgroundPosition="-126px -119px",t._thumb.style.left="6px",t._stDescription.style.left="0"),t._infoWindow.style.width="126px",t._infoWindow.style.height="105px"),t._infoWindow.style.backgroundImage='url("'+MapConfig.imgPath+'st-infowindow.gif")',t._timerId&&(clearTimeout(t._timerId),t._timerId=null),t._timerId=setTimeout(function(){t._currentPoint=r,t._scout.style.backgroundPosition="-24px 0",6==baidu.browser.ie&&(t._scout.children[0].style.left="-24px"),t._panoService.getPanoramaByLocation(r,function(e){e?(t._currentSvId=e.id,"BD09"===BMap.tileType?t._thumb.src=BMap.getServerUrl("pano")[0]+"scape/?qt=pdata&sid="+e.id+"&pos=0_0&z=0":t._thumb.src=BMap.getServerUrl("pano","panorama/image")+"?sid="+e.id+"&pos=0_0&z=0",t._stDescription.innerHTML=e.description):(t._currentSvId=null,t._thumb.src=MapConfig.imgPath+"st-noresult.png",t._stDescription.innerHTML="")})},200)}}),this._map.addEventListener("click",function(e){if(t._isOn&&isMobile()){var i=this.getPanorama();return void t._panoService.getPanoramaByLocation(e.point,function(e){e&&(i.setId(e.id),i.show(),t._close(),_addStat(STAT.PANORAMA_CONTROL_CLICK_CONTROL_TO_PANORAMA))})}if(t._isOn&&t._currentSvId){var i=this.getPanorama();i.setId(t._currentSvId),i.show(),t._close(),_addStat(STAT.PANORAMA_CONTROL_CLICK_CONTROL_TO_PANORAMA)}})},_updateView:function(){var t=this._container.style;this._isOn?(t.backgroundPosition="-49px 0",t.color="#fff"):this._isOver?(t.backgroundPosition="-49px 0",t.color="#fff"):(t.backgroundPosition="0 0",t.color="#565656")},_open:function(){this._isOn||(this._isOn=!0,this._map.addTileLayer(this._panoCoverageLayer),isDesktop()&&(this._preDefaultCursor=this._map.getDefaultCursor(),this._preDraggingCursor=this._map.getDraggingCursor(),this._map.setDefaultCursor("pointer"),this._map.setDraggingCursor("pointer"))),this._updateView()},_close:function(){this._isOn&&(this._map.removeTileLayer(this._panoCoverageLayer),isDesktop()&&(this._scout.style.display="none",this._infoWindow.style.display="none",this._map.setDefaultCursor(this._preDefaultCursor),this._map.setDraggingCursor(this._preDraggingCursor)),this._isOn=!1),this._updateView()}}),window._control=2,window._navictrl=1,baidu.extend(NavigationControl.prototype,{_asyncLoad:function(){this._map&&this._i(this._map)},initialize:function(t){return Control.prototype.initialize.call(this,t),this._initParam(),this._setParam(),this._render(),this._bind={},isMobile()?this._bindInMobile():this._bindInPc(),this._setSliderZoomLv(t.getZoom()),this._bindMapEvent(t),this._opts.enableGeolocation&&this.showGeolocationControl(),this._container},_initParam:function(){this._init||(this._init=!0,this._maxTotalZoomLv=19,this._minZoomLevel=-1,this._maxZoomLevel=-1,this._totalZoomLv=-1,this._sliderInterval=6,this._minBarY=1,this._maxBarY=-1,this._curBarY=-1,this._zoomDom=null,this._zoomBtnDom=null,this._sliderDom=null,this._sliderBaseDom=null,this._cZIndex="1100")},_bindMapEvent:function(t){var e=this;t.addEventListener("zoomend",function(t){e._map&&(e._setSliderZoomLv(e._map.getZoom()),e._msover||e._isShowLevelHint&&(e._hideTimerId=setTimeout(function(){e._hideLevelHint()},1e3)))}),t.addEventListener("mousewheel",function(){e._map&&e._map.config.enableWheelZoom&&e._isShowLevelHint&&(e._hideTimerId&&(clearTimeout(e._hideTimerId),e._hideTimerId=null),e._showLevelHint())}),t.addEventListener("load",function(t){e._map&&e._setSliderZoomLv(e._map.getZoom())}),t.addEventListener("maptypechange",function(t){e._map&&e.redraw()}),t.addEventListener("zoomspanchange",function(t){e._map&&e.redraw()})},redraw:function(){this._setParam(),this.setType(this._opts.type),this._map&&this._setSliderZoomLv(this._map.getZoom())},_setParam:function(){var t=this._map.getMapType();this._minZoom=this._map.config.minZoom,this._maxZoom=this._map.config.maxZoom,t==BMAP_PERSPECTIVE_MAP||this._minZoom!=t.getMinZoom()||this._maxZoom!=t.getMaxZoom()?this._isShowLevelHint=!1:this._isShowLevelHint=!0,this._container&&(this._container.style.width=this._getControlHeight(0).width+"px"),this._opts.showZoomInfo||(this._isShowLevelHint=!1),this._totalZoomLv=this._maxZoom-this._minZoom+1,this._maxBarY=this._minBarY+(this._totalZoomLv-1)*this._sliderInterval},_render:function(){Control.prototype._render.call(this);var t=6==baidu.browser.ie?" BMap_ie6":"",e=" BMap_stdMpType"+this._opts.type,i=this._container;baidu.dom.addClass(i,"BMap_stdMpCtrl"),baidu.dom.addClass(i,t),baidu.dom.addClass(i,e),i.innerHTML=this._generateHtml(this._opts.type),this._setSliderBarCursor(baidu.browser.opera?"pointer":MapConfig.defaultCursor),this._panBtnContainer=baidu.g(i.children[0]),this._zoomDom=baidu.g(i.children[1]);var n=this._zoomDom;this._btnZoomIn=baidu.g(n.children[0]),this._btnZoomOut=baidu.g(n.children[1]),this._sliderDom=baidu.g(n.children[2]),this._sliderBaseDom=baidu.g(n.children[2].children[0]),this._sliderBotDom=baidu.g(n.children[2].children[1]),this.BMapStdMpPanElement=this._container.children[0],this.BMapStdMpZoomElement=this._container.children[1],this.BMapStdMpGeolocationElement=this._container.children[2],this.geolocationControlElement=this._container.children[2],this.setType(this._opts.type)},_setSliderHeight:function(){var t=this._opts.type,e=this._getControlHeight(t),i=e.width,n=e.height,o=e.zoomHeight,a=(e.zoomWidth,e.sliderHeight),r=(e.sliderCHeight,(this._maxTotalZoomLv-this._totalZoomLv)*this._sliderInterval);this._opts.type==BMAP_NAVIGATION_CONTROL_LARGE&&(n=n-r>=0?n-r:0,o=o-r>=0?o-r:0,a=a-r>=0?a-r:0),this._container.style.width=i+"px",this._container.style.height=n+"px",this._zoomDom.style.height=o+"px",this._zoomDom.style.width=i+"px",this._btnZoomOut.style.top=isMobile()?"44px":o-21+"px",this._sliderDom.style.height=a+"px",this._sliderBaseDom.style.height=a+"px",this._opts.type==BMAP_NAVIGATION_CONTROL_ZOOM?this._zoomDom.children[0].style.left=this._zoomDom.children[1].style.left="0":this._zoomDom.children[0].style.left=this._zoomDom.children[1].style.left=""},_getControlHeight:function(t){var e=52;return this._opts.showZoomInfo&&this._map.getMapType()!=BMAP_PERSPECTIVE_MAP||(e=37),[{width:e,height:204,zoomHeight:161,zoomWidth:37,sliderHeight:120,sliderCHeight:120},{width:32,height:112,zoomHeight:65,zoomWidth:37,sliderHeight:0,sliderCHeight:0},{width:32,height:57,zoomHeight:0,zoomWidth:0,sliderHeight:0,sliderCHeight:0},{width:32,height:65,zoomHeight:65,zoomWidth:18,sliderHeight:0,sliderCHeight:0},{width:35,height:71,zoomWidth:35,zoomHeight:71,sliderHeight:0,sliderCHeight:0}][t]
},_generateHtml:function(){var t=[];return t.push(this._generatePanHtml()),t.push(this._generateZoomContainerHtml()),t.push(this._generateGeolocationHtml()),t.join("")},_generatePanHtml:function(){return'<div class="BMap_stdMpPan"><div class="BMap_button BMap_panN" title="向上平移"></div><div class="BMap_button BMap_panW" title="向左平移"></div><div class="BMap_button BMap_panE" title="向右平移"></div><div class="BMap_button BMap_panS" title="向下平移"></div><div class="BMap_stdMpPanBg BMap_smcbg"></div></div>'},_generateZoomContainerHtml:function(){if(isMobile())return['<div class="BMap_stdMpZoom" style="width: 35px; height: 71px; background: rgba(255,255,255,.8); -webkit-box-shadow: 1px 1px 2px rgba(0,0,0,.4); border-radius: 3px;">','<div class="BMap_button BMap_stdMpZoomIn" title="放大一级" style="position: initial; background: initial; border-radius: initial; box-shadow: initial; width: 35px; height: 35px;">','<div class="BMap_smcbg" style="position: initial; width: 35px; height: 35px; background-image: url('+BMap.apiUrlCdn+'images/navigation-control/mobile/plus-28x29.png); background-size: 14px 15px; background-position: center; background-repeat: no-repeat;">',"</div>","</div>",'<div class="BMap_button BMap_stdMpZoomOut" title="缩小一级" style="position: initial; background: initial; border-radius: initial; box-shadow: initial; width: 35px; height: 35px; border-top: 1px solid #ececec;">','<div class="BMap_smcbg" style="position: initial; width: 35px; height: 35px; background-image: url('+BMap.apiUrlCdn+'images/navigation-control/mobile/minus-30x6.png); background-size: 15px 3px; background-position: center; background-repeat: no-repeat;">',"</div>","</div>",'<div class="BMap_stdMpSlider">','<div class="BMap_stdMpSliderBgTop">','<div class="BMap_smcbg">',"</div>","</div>",'<div class="BMap_stdMpSliderBgBot">',"</div>",'<div class="BMap_stdMpSliderMask" title="放置到此级别">',"</div>",'<div class="BMap_stdMpSliderBar" title="拖动缩放">','<div class="BMap_smcbg">',"</div>","</div>","</div>",'<div class="BMap_zlHolder">','<div class="BMap_zlSt">','<div class="BMap_smcbg">',"</div>","</div>",'<div class="BMap_zlCity">','<div class="BMap_smcbg">',"</div>","</div>",'<div class="BMap_zlProv">','<div class="BMap_smcbg">',"</div>","</div>",'<div class="BMap_zlCountry">','<div class="BMap_smcbg">',"</div>","</div>","</div>","</div>"].join("");var t=this;return t._opts.type===BMAP_NAVIGATION_CONTROL_SMALL||t._opts.type===BMAP_NAVIGATION_CONTROL_ZOOM?'<div class="BMap_stdMpZoom BMap_stdMpZoom_shadow">'+this._generateZoomHtml()+this._generateSliderHtml()+this._generateZoomBalloonHtml()+"</div>":'<div class="BMap_stdMpZoom">'+this._generateZoomHtml()+this._generateSliderHtml()+this._generateZoomBalloonHtml()+"</div>"},_generateZoomHtml:function(){var t=this;return t._opts.type===BMAP_NAVIGATION_CONTROL_LARGE?'<div class="BMap_button BMap_stdMpZoomIn" title="放大一级"><div class="BMap_smcbg"></div></div><div class="BMap_button BMap_stdMpZoomOut" title="缩小一级"><div class="BMap_smcbg"></div></div>':'<div class="BMap_button BMap_stdMpZoomIn BMap_stdMpZoomIn_larg" title="放大一级"><div class="BMap_smcbg"></div></div><div class="BMap_button BMap_stdMpZoomOut BMap_stdMpZoomOut_larg" title="缩小一级"><div class="BMap_smcbg"></div></div>'},_generateSliderHtml:function(){return'<div class="BMap_stdMpSlider"><div class="BMap_stdMpSliderBgTop"><div class="BMap_smcbg"></div></div><div class="BMap_stdMpSliderBgBot"></div><div class="BMap_stdMpSliderMask" title="放置到此级别"></div><div class="BMap_stdMpSliderBar" title="拖动缩放"><div class="BMap_smcbg"></div></div></div>'},_generateZoomBalloonHtml:function(){return'<div class="BMap_zlHolder"><div class="BMap_zlSt"><i></i><div class="BMap_smcbg">街</div></div><div class="BMap_zlCity"><i></i><div class="BMap_smcbg">市</div></div><div class="BMap_zlProv"><i></i><div class="BMap_smcbg">省</div></div><div class="BMap_zlCountry"><i></i><div class="BMap_smcbg">国</div></div></div>'},_generateGeolocationHtml:function(){var t=this;return isMobile()?['<div class="BMap_stdMpGeolocation" style="position: initial; display: none; position: absolute; left: -'+(t._map.width-46)+'px; bottom: 0px;">','<div class="BMap_geolocationContainer" style="position: initial; width: 38px; height: 38px; overflow: hidden; margin: 0px; margin-left: 10px; margin-bottom: 20px; box-sizing: border-box;">','<div class="BMap_geolocationIconBackground" style="position: initial; width: 38px; height: 38px; background-image: url(\''+BMap.apiUrlCdn+"images/navigation-control/geolocation-control/mobile/background-76x76.png'); background-size: 38px 38px; background-repeat: no-repeat; background-position: center;\">",'<div style="position: initial; padding-top: 9px; padding-left: 9px;">','<div class="BMap_geolocationIcon" style="position: initial; width: 20px; height: 20px; cursor: pointer; background-image: url(\''+BMap.apiUrlCdn+"images/navigation-control/geolocation-control/mobile/default-40x40.png'); background-size: 20px 20px; background-repeat: no-repeat; background-position: center;\"></div>","</div>","</div>","</div>","</div>"].join(""):['<div class="BMap_stdMpGeolocation" style="position: initial; display: none; margin-top: 43px; margin-left: 10px;">','<div class="BMap_geolocationContainer" style="position: initial; width: 24px; height: 24px; overflow: hidden; margin: 0px; box-sizing: border-box;">','<div class="BMap_geolocationIconBackground" style="width: 24px; height: 24px; background-image: url('+BMap.apiUrlCdn+'images/navigation-control/geolocation-control/pc/bg-20x20.png); background-size: 20px 20px; background-position: 3px 3px; background-repeat: no-repeat;">','<div class="BMap_geolocationIcon" style="position: initial; width: 24px; height: 24px; cursor: pointer; background-image: url(\''+BMap.apiUrlCdn+"images/navigation-control/geolocation-control/pc/success-10x10.png'); background-size: 10px 10px; background-repeat: no-repeat; background-position: center;\"></div>","</div>","</div>","</div>"].join("")},_getElementByClassNamePattern:function(t){var e=this._getElementByClassNamePattern;void 0===e.cache&&(e.cache=me._container.getElementsByTagName("*"));var i=e.cache,n=null,o=i.length,a=null;for(n=0;n<o;++n)if(a=i[n],a.className.toString().match(t))return a;throw Error(String(t)+" Not found!")},setType:function(t){if(isNumber(t)&&t>=BMAP_NAVIGATION_CONTROL_LARGE&&t<=BMAP_NAVIGATION_CONTROL_ZOOM?this._opts.type=t:this._opts.type=BMAP_NAVIGATION_CONTROL_LARGE,isMobile()&&(this._opts.type=4),this._map&&this._container){var e=this._container;e.className=e.className.replace(/BMap_stdMpType[0-4]*/,"BMap_stdMpType"+this._opts.type),this._setSliderHeight(),t!=BMAP_NAVIGATION_CONTROL_LARGE&&baidu.dom.removeClass(e.children[1].children[2],"hvr"),this.setAnchor(this._opts.anchor)}},getType:function(){return this._opts.type},_bindInPc:function(){var t=this,e=t._container;baidu.on(this._zoomDom,"mouseover",function(){t._isShowLevelHint&&(t._msover=!0,t._hideTimerId&&(clearTimeout(t._hideTimerId),t._hideTimerId=null),t._showLevelHint())}),baidu.on(this._zoomDom,"mouseout",function(){t._isShowLevelHint&&(t._hideTimerId&&clearTimeout(t._hideTimerId),t._msover=!1,t._hideTimerId=setTimeout(function(){t._hideLevelHint(),t._hideTimerId=null},1e3))}),baidu.on(e.children[0],"mouseover",function(){t._hideLevelHint(!0)}),baidu.on(e.children[0].children[0],"click",function(){t._panBy(0,Math.round(t._map.height/3))}),baidu.on(e.children[0].children[1],"click",function(){t._panBy(Math.round(t._map.width/3),0)}),baidu.on(e.children[0].children[2],"click",function(){t._panBy(-Math.round(t._map.width/3),0)}),baidu.on(e.children[0].children[3],"click",function(){t._panBy(0,-Math.round(t._map.height/3))}),baidu.on(e.children[0].children[0],"mouseover",function(){t._panBtnContainer.style.backgroundImage="url("+BMap.apiUrlCdn+"images/navigation-control/img/navigation-top.png)"}),baidu.on(e.children[0].children[1],"mouseover",function(){t._panBtnContainer.style.backgroundImage="url("+BMap.apiUrlCdn+"images/navigation-control/img/navigation-left.png)"}),baidu.on(e.children[0].children[2],"mouseover",function(){t._panBtnContainer.style.backgroundImage="url("+BMap.apiUrlCdn+"images/navigation-control/img/navigation-right.png)"}),baidu.on(e.children[0].children[3],"mouseover",function(){t._panBtnContainer.style.backgroundImage="url("+BMap.apiUrlCdn+"images/navigation-control/img/navigation-bottom.png)"}),baidu.on(t._panBtnContainer,"mouseout",function(){t._panBtnContainer.style.backgroundImage="url("+BMap.apiUrlCdn+"images/navigation-control/img/navigation.png)"});var i=e.children[1].children;baidu.on(i[0],"click",function(){t._zoomIn()}),baidu.on(i[1],"click",function(){t._zoomOut()});for(var n=0;n<5;n++)baidu.on(e.children[0].children[n],"mouseup",function(e){0==(t._map.currentOperation&Operation.stdMapCtrlDrag)&&0==(t._map.currentOperation&Operation.drag)&&stopBubble(e)}),baidu.on(e.children[0].children[n],"contextmenu",function(t){preventDefault(t)}),baidu.on(e.children[0].children[n],"click",function(t){preventDefault(t)});baidu.on(i[0],"mouseup",function(e){0==(t._map.currentOperation&Operation.stdMapCtrlDrag)&&0==(t._map.currentOperation&Operation.drag)&&stopBubble(e)}),baidu.on(i[1],"mouseup",function(e){0==(t._map.currentOperation&Operation.stdMapCtrlDrag)&&0==(t._map.currentOperation&Operation.drag)&&stopBubble(e)}),baidu.on(i[0],"contextmenu",function(t){preventDefault(t)}),baidu.on(i[1],"contextmenu",function(t){preventDefault(t)});var o=e.children[1].children[2].children[2];baidu.on(o,"mouseup",function(e){0==(t._map.currentOperation&Operation.stdMapCtrlDrag)&&0==(t._map.currentOperation&Operation.drag)&&stopBubble(e)}),baidu.on(i[0],"click",function(t){stopBubble(t)}),baidu.on(i[1],"click",function(t){stopBubble(t)}),baidu.on(i[0],"mouseover",function(){}),baidu.on(i[0],"mouseout",function(){t._map.currentOperation,Operation.stdMapCtrlDrag}),baidu.on(i[1],"mouseover",function(){}),baidu.on(i[1],"mouseout",function(){t._map.currentOperation,Operation.stdMapCtrlDrag}),baidu.on(o,"click",function(t){stopBubble(t)});var a=e.children[1].children[2].children[3];baidu.on(a,"mouseup",function(t){2==t.button&&stopBubble(t)}),baidu.on(a,"contextmenu",function(t){preventDefault(t)}),baidu.on(this._zoomDom.children[3].children[0],"click",function(e){t._map.zoomTo(17)}),baidu.on(this._zoomDom.children[3].children[1],"click",function(e){t._map.zoomTo(12)}),baidu.on(this._zoomDom.children[3].children[2],"click",function(e){t._map.zoomTo(8)}),baidu.on(this._zoomDom.children[3].children[3],"click",function(e){t._map.zoomTo(4)}),baidu.on(o,"mousedown",function(e){e=window.event||e;var i=e.layerY||e.offsetY||0,n=0;n=t._maxZoom+1-Math.round(t._totalZoomLv*parseFloat(i/(t._totalZoomLv*t._sliderInterval))),t._map.zoomTo(n)}),baidu.on(a,"mouseover",function(){baidu.dom.addClass(a,"h")}),baidu.on(a,"mouseout",function(){0==(t._map.currentOperation&Operation.stdMapCtrlDrag)&&baidu.dom.removeClass(a,"h")});var r=function(e){var e=window.event||e;if(2!=e.button&&(!baidu.browser.ie||1==e.button))return a.setCapture&&a.setCapture(),t._map.currentOperation|=Operation.stdMapCtrlDrag,t._bind.my=e.pageY||e.clientY||0,baidu.browser.opera||t._setSliderBarCursor(MapConfig.draggingCursor),baidu.on(document,"mousemove",s),baidu.on(document,"mouseup",l),stopBubble(e),preventDefault(e)},s=function(e){if(0!=(t._map.currentOperation&Operation.stdMapCtrlDrag)){var e=window.event||e,i=e.pageY||e.clientY,n=t._curBarY+i-t._bind.my;n<t._minBarY?n=t._minBarY:n>t._maxBarY&&(n=t._maxBarY),a.style.top=n+"px",t._sliderBotDom.style.top=n+"px",t._sliderBotDom.style.height=parseInt(t._sliderBaseDom.style.height)-n+4+"px"}},l=function(i){if(0!=(t._map.currentOperation&Operation.stdMapCtrlDrag)){var n=baidu.g(a);t._curBarY=parseInt(n.style.top),baidu.dom.removeClass(a,"h"),t._map.currentOperation&=~Operation.stdMapCtrlDrag,e&&a&&a.releaseCapture&&a.releaseCapture(),baidu.browser.opera||t._setSliderBarCursor(MapConfig.defaultCursor);var o=t._maxZoom+1-Math.round(parseFloat(t._curBarY-t._minBarY)/parseFloat(t._maxBarY-t._minBarY)*(t._totalZoomLv-1)+1);t._map.zoomTo(o),baidu.un(document,"mousemove",s),baidu.un(document,"mouseup",l)}};baidu.on(a,"mousedown",r)},_bindInMobile:function(){var t=this,e=t._container,i=e.children[1].children;T.enableTapEvent(i[0]),T.enableTapEvent(i[1]),T.on(i[0],"tap",function(){t._zoomIn()}),T.on(i[1],"tap",function(){t._zoomOut()})},_setSliderBarCursor:function(t){this._container.children[1].children[2].children[3].style.cursor=t},_panBy:function(t,e){this._map.panBy(t,e)},_zoomIn:function(){this._map.zoomIn()},_zoomOut:function(){this._map.zoomOut()},_setSliderZoomLv:function(t){if(this._container&&this.getType()==BMAP_NAVIGATION_CONTROL_LARGE){var e=(this._maxZoom-t)*this._sliderInterval+this._minBarY;this._curBarY=e>this._maxBarY?this._maxBarY:e<this._minBarY?this._minBarY:e,this._container.children[1].children[2].children[3].style.top=this._curBarY+"px",this._sliderBotDom.style.top=this._curBarY+"px",this._sliderBotDom.style.height=parseInt(this._sliderBaseDom.style.height)-this._curBarY+4+"px"}},_hideLevelHint:function(t){0==this._opts.type&&baidu.dom.removeClass(this._container.children[1].children[3],"hvr"),t&&this._hideTimerId&&(clearTimeout(this._hideTimerId),this._hideTimerId=null)},_showLevelHint:function(){0==this._opts.type&&this._opts.showZoomInfo&&baidu.dom.addClass(this._container.children[1].children[3],"hvr")},show:function(){if(Control.prototype.show.call(this),baidu.browser.ie<8){var t=this;setTimeout(function(){t.setType(t._opts.type)},1)}},initGeolocationControl:function(){var t=this,e={};isMobile()?(e.geolocationContainerElement=t.geolocationControlElement.children[0],e.geolocationIconElement=e.geolocationContainerElement.children[0].children[0].children[0]):(e.geolocationContainerElement=t.geolocationControlElement.children[0],e.geolocationIconBackgroundElement=e.geolocationContainerElement.children[0],e.geolocationIconElement=e.geolocationIconBackgroundElement.children[0]),isMobile()?t._map.addEventListener("resize",function(){e.geolocationContainerElement.parentNode.style.left=(-(t._map.width-46)).toString()+"px"}):t._opts.type===BMAP_NAVIGATION_CONTROL_ZOOM&&(t.geolocationControlElement.style.marginLeft="-2px"),e.pcIcon={default:BMap.apiUrlCdn+"images/navigation-control/geolocation-control/pc/success-10x10.png",loading:BMap.apiUrlCdn+"images/navigation-control/geolocation-control/pc/loading-30x30.gif",success:BMap.apiUrlCdn+"images/navigation-control/geolocation-control/pc/success-10x10.png",fail:BMap.apiUrlCdn+"images/navigation-control/geolocation-control/pc/fail-10x10.png"},e.mobileIcon={default:BMap.apiUrlCdn+"images/navigation-control/geolocation-control/mobile/default-40x40.png",loading:BMap.apiUrlCdn+"images/navigation-control/geolocation-control/mobile/loading-40x40.png",success:BMap.apiUrlCdn+"images/navigation-control/geolocation-control/mobile/success-40x40.png",fail:BMap.apiUrlCdn+"images/navigation-control/geolocation-control/mobile/fail-40x40.png"};var i;t._map.addEventListener("moveend",function(n){if(i){var o=t._map.getCenter();o.lng===i.lng&&o.lat===i.lat?isMobile()?e.setIcon(e.mobileIcon.success):e.setIcon(e.pcIcon.success):isMobile()?e.setIcon(e.mobileIcon.default):e.setIcon(e.pcIcon.default)}}),baidu.on(e.geolocationIconElement,"click",function(n){isMobile()?e.setIcon(e.mobileIcon.loading):e.setIcon(e.pcIcon.loading),new Geolocation({timeout:1e4}).getCurrentPosition(function(n){isMobile()?e.setIcon(e.mobileIcon.success):e.setIcon(e.pcIcon.success);var o=new Point(n.longitude,n.latitude),a=new Icon(BMap.apiUrlCdn+"images/navigation-control/geolocation-control/point/position-icon-14x14.png",new Size(14,14)),r=new Marker(o,{icon:a});t._map.addOverlay(r),t._map.centerAndZoom(o,15),i=o},function(t){isMobile()?e.setIcon(e.mobileIcon.fail):e.setIcon(e.pcIcon.fail)})}),e.setIcon=function(t){e.geolocationIconElement.style.backgroundImage="url('"+t+"')"},this.geolocationControl=e,this.geolocationControlInited=!0},showGeolocationControl:function(){var t=this;isMobile()||(this.geolocationControlInited||this.initGeolocationControl(),isMobile()||(t.BMapStdMpZoomElement.style.top="70px"),this.geolocationControl.geolocationContainerElement.parentNode.style.display="block")},hideGeolocationControl:function(){var t=this;isMobile()||(t.BMapStdMpZoomElement.style.top="45px"),this.geolocationControl.geolocationContainerElement.parentNode.style.display="none"}}),NavigationControl.prototype.setType=NavigationControl.prototype.setType,window._navictrl=2,window._geoctrlFile=1,baidu.extend(GeolocationControl.prototype,{initialize:function(t){var e=this;Control.prototype.initialize.call(e,t),e._render(),e._mobileIcon={default:BMap.apiUrlCdn+"images/geolocation-control/mobile/default-40x40.png",loading:BMap.apiUrlCdn+"images/geolocation-control/mobile/loading-40x40.gif",success:BMap.apiUrlCdn+"images/geolocation-control/mobile/success-40x40.png",fail:BMap.apiUrlCdn+"images/geolocation-control/mobile/fail-40x40.png"},e.geolocationContainerElement=e._container.children[0],e.geolocationIconBackgroundElement=e.geolocationContainerElement.children[0],e.geolocationIconElement=e.geolocationIconBackgroundElement.children[0],e.geolocationAddressElement=e.geolocationContainerElement.children[1],e.geolocationAddressTextElement=e.geolocationAddressElement.children[0].children[0];var i;return e._map.addEventListener("moveend",function(t){if(i){var n=e._map.getCenter();n.lng===i.lng&&n.lat===i.lat?e._setIcon(e._mobileIcon.success):(e._setIcon(e._mobileIcon.default),e._clearAddress())}}),baidu.on(e.geolocationIconElement,"click",function(n){e._setIcon(e._mobileIcon.loading),new Geolocation({timeout:1e4}).getCurrentPosition(function(n){if(e._setIcon(e._mobileIcon.success),n.address&&e._opts.showAddressBar){var o="";n.address.city?o+=n.address.city:n.address.province&&(o+=n.address.province),n.address.district&&(o+=n.address.district),n.address.street&&(o+=n.address.street),n.address.street_number&&(o+=n.address.street_number),e._setAddress(o)}var a=new Point(n.longitude,n.latitude);if(e._opts.locationIcon)var r=e._opts.locationIcon;else var r=new Icon(BMap.apiUrlCdn+"images/geolocation-control/point/position-icon-14x14.png",new Size(14,14));window[t.guid+"locationMarker"]&&t.removeOverlay(window[t.guid+"locationMarker"]);var s=new Marker(a,{icon:r});i=a,e.geolocationPoint=a,t.addOverlay(s),window[t.guid+"locationMarker"]=s,t.centerAndZoom(a,15),n.address&&(e.addressComponent={province:n.address.province||"",city:n.address.city||"",district:n.address.district||"",street:n.address.street||"",streetNumber:n.address.street_number||""},_addStat(STAT.GEOLOCATION_CONTROL_CURRENT_LOCATION,{longitude:n.longitude,latitude:n.latitude,accuracy:n.accuracy}));var l=new BaseEvent("locationSuccess");l.point=e.geolocationPoint,l.addressComponent=e.addressComponent,e.dispatchEvent(l)},function(t){e._setIcon(e._mobileIcon.fail);var i=new BaseEvent("locationError");i.code=t.errorCode,i.message=t.errorMessage,e.dispatchEvent(i)})}),e._container},location:function(){var t=this,e={};t.userLocatingRecords.push(e),new Geolocation({timeout:1e4}).getCurrentPosition(function(e){t.geolocationPoint=new Point(e.longitude,e.latitude),e.address&&(t.addressComponent={province:e.address.province||"",city:e.address.city||"",district:e.address.district||"",street:e.address.street||"",streetNumber:e.address.street_number||""});var i=new BaseEvent("locationSuccess");i.point=t.geolocationPoint,i.addressComponent=t.addressComponent,t.dispatchEvent(i)},function(e){var i=new BaseEvent("locationError");i.code=e.errorCode,i.message=e.errorMessage,t.dispatchEvent(i)})},getAddressComponent:function(){return this.addressComponent?this.addressComponent:null},_asyncLoaded:function(){return this._map?void this._i(this._map):this.map?void this._i(this.map):void 0},_render:function(){Control.prototype._render.call(this),this._container.style.cssText=["height: 32px;"].join(""),this._container.innerHTML=this._generateHtml()},_generateHtml:function(){return['<div class="BMap_geolocationContainer" style="height: 32px; margin: 0px; box-sizing: border-box; border: 1px solid #d9d7d5; border-radius: 3px; -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,.2); overflow: hidden;">','<div class="BMap_geolocationIconBackground" style="float: left; width: 32px; height: 32px; background-image: url(\''+BMap.apiUrlCdn+"images/geolocation-control/mobile/gradient-bg-1x64.png'); background-size: 1px 32px; background-repeat: repeat-x;\">",'<div class="BMap_geolocationIcon" style="width: 32px; height: 32px; cursor: pointer; background-image: url(\''+BMap.apiUrlCdn+"images/geolocation-control/mobile/default-40x40.png'); background-size: 20px 20px; background-repeat: no-repeat; background-position: center center;\"></div>","</div>",'<div class="BMap_geolocationAddress" style="display: none; float: left; min-width: 50px; padding-left: 10px; padding-right: 10px; border-left: 1px solid #d9d7d5; background-image: url('+BMap.apiUrlCdn+'images/geolocation-control/mobile/gradient-bg-1x64.png); background-size: 1px 32px; background-repeat: repeat-x;">','<div style="height: 32px; display: table-cell; vertical-align: middle;">','<div class="BMap_geolocationAddressText" style="font-size: 12px; color: #666666; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; display: block; min-width: 50px; max-width: 200px;">',"</div>","</div>","</div>","</div>"].join("")},_setIcon:function(t){this.geolocationIconElement.style.backgroundImage="url('"+t+"')"},_setAddress:function(t){this.geolocationAddressElement.style.display="block",this.geolocationAddressTextElement.textContent=t},_clearAddress:function(){this.geolocationAddressTextElement.textContent="",this.geolocationAddressElement.style.display="none"}}),GeolocationControl.prototype.location=GeolocationControl.prototype.location,GeolocationControl.prototype.getAddressComponent=GeolocationControl.prototype.getAddressComponent,window._geoctrlFile=2,window._copyrightctrl=1,baidu.extend(CopyrightControl.prototype,{_asyncLoad:function(){this._map&&this._i(this._map)},initialize:function(t){return Control.prototype.initialize.call(this,t),this._render(),this._updateState(),this._bind(t),this._container},_bind:function(t){var e=this;t.addEventListener("load",function(t){e._updateState()}),t.addEventListener("moveend",function(t){e._updateState()}),t.addEventListener("zoomend",function(t){e._updateState()}),t.addEventListener("maptypechange",function(){e._container&&(e._container.style.color=e._map.getMapType().getTextColor())})},_render:function(){Control.prototype._render.call(this),baidu.dom.addClass(this._container,"BMap_cpyCtrl");var t=this._container.style;t.cursor="default",t.whiteSpace="nowrap",t.MozUserSelect="none",t.color=this._map.getMapType().getTextColor(),t.background="none",t.font="11px/15px "+MapConfig.fontFamily,Control.prototype._setPosition.call(this)},_updateState:function(){if(this._map&&this._container&&0!=this._copyrightCollection.length)for(var t=0,e=this._copyrightCollection.length;t<e;t++){var i=(this._map.getZoom(),this._map.pixelToPoint({x:0,y:0})),n=this._map.pixelToPoint({x:this._map.width,y:this._map.height}),o=new Bounds(i,n);if(!this._copyrightCollection[t].bounds||null!=o.intersects(this._copyrightCollection[t].bounds)){if(this._container){for(var a=!1,r=0,s=this._container.children.length;r<s;r++)if(this._container.children[r].getAttribute("_cid")==this._copyrightCollection[t].id){a=!0,this._container.children[r].style.display="inline",this._container.children[r].innerHTML!=this._copyrightCollection[t].content&&(this._container.children[r].innerHTML=this._copyrightCollection[t].content);break}a||this._generateHTML(this._copyrightCollection[t])}}else if(this._container)for(var r=0;r<this._container.children.length;r++)if(this._container.children[r].getAttribute("_cid")==this._copyrightCollection[t].id&&"none"!=this._container.children[r].style.display)return void(this._container.children[r].style.display="none")}},addCopyright:function(t){if(t&&isNumber(t.id)&&!isNaN(t.id)){var e={bounds:null,content:""};for(var i in t)e[i]=t[i];var n=this.getCopyright(t.id);if(n)for(var o in e)n[o]=e[o];else this._copyrightCollection.push(e);this._updateState()}},getCopyright:function(t){for(var e=0,i=this._copyrightCollection.length;e<i;e++)if(this._copyrightCollection[e].id==t)return this._copyrightCollection[e]},getCopyrightCollection:function(){return this._copyrightCollection},removeCopyright:function(t){for(var e,i=0,n=this._copyrightCollection.length;i<n;i++)this._copyrightCollection[i].id==t&&(e=this._copyrightCollection.splice(i,1),i--,n=this._copyrightCollection.length);var o=this.getDom(t);return o&&o.parentNode&&(o.parentNode.removeChild(o),o=null),this._updateState(),e},_generateHTML:function(t){this._container&&(this._container.innerHTML+="<span _cid='"+t.id+"'>"+t.content+"</span>")},getDom:function(t){var e=Control.prototype.getDom.call(this);if(!isDefined(t))return e;if(e)for(var i=0,n=e.children.length;i<n;i++)if(e.children[i].getAttribute("_cid")==t)return e.children[i]}}),exportSymbol(CopyrightControlP,{addCopyright:CopyrightControlP.addCopyright,removeCopyright:CopyrightControlP.removeCopyright,getCopyright:CopyrightControlP.getCopyright,getCopyrightCollection:CopyrightControlP.getCopyrightCollection}),window._copyrightctrl=2,window._citylistcontrol=1,baidu.object.extend(CityListControl.prototype,{_asyncLoad:function(){this._map&&this._i(this._map)},initialize:function(t){var e=this;return this.canCheckSize&&!this._checkSize(t)?null:(Control.prototype.initialize.call(this,t),Control.prototype._render.call(this),this.getMapCenter(function(){e._draw(),Control.prototype._setPosition.call(e),e._bind(t)}),this._container)},_draw:function(){var t=this,e=t._cityBtn=create("div",{class:"ui_city_change"}),i=t._opts.anchor,n="",o=!1;switch(i){case BMAP_ANCHOR_TOP_LEFT:n="float: left";break;case BMAP_ANCHOR_TOP_RIGHT:n="float: right";break;case BMAP_ANCHOR_BOTTOM_LEFT:n="float: left",o=!0;break;case BMAP_ANCHOR_BOTTOM_RIGHT:n="float: right",o=!0}e.innerHTML='<a href="javascript:void(0)" onclick="return false" class="ui_city_change_inner" style="'+n+'"><span id="cur_city_name" class="cur_city_name">'+t._map.cityName+"</span><i><em></em></i></a>",e.style.position="relative",e.style.height="26px",o||(baidu.dom.addClass(e,"ui_city_change_top"),t._container.appendChild(e));var a=t._cityListWrap=create("div",{class:"citylist_popup_main"});beforeEndHTML(a,'<div class="citylist_ctr_title">城市列表</div>');var r=create("div",{class:"citylist_ctr_content"}),s=create("div",{class:"city_content_top"});s.innerHTML='<p class="cur_city_info">当前城市：<span id="cur_city_spn">'+t._map.cityName+"</span</p>";var l='<form id="city_ctrl_form" onsubmit="Instance("'+this.guid+'").search(this);return false"><input type="text" class="sel_city_input" id="selCityWd" name="wd" placeholder="请输入城市名" autocomplete="off"><span id="selCitySubmit">搜索</span><div id="selCityTip" style="display:none;height:20px;line-height:20px;color:#AE6842;border:1px solid #E8AA6C;background:#FEFAF1;width:121px;text-align:center">请输入正确的城市</div></form>';beforeEndHTML(s,l);r.appendChild(s);var h=create("div",{class:"city_content_medium"});beforeEndHTML(h,'<div id="hot_city_ids" class="sel_city_hotcity">'+this._geneHotCityHtml()+'</div><div id="sel_city_letter_list" class="sel_city_letterbar">'+this._geneCityLetter()+"</div>"),r.appendChild(h);var c=create("div",{class:"city_content_bottom",id:"city_detail_tpl"}),d=this._geneCitiesDetailHtml();c.innerHTML=d,r.appendChild(c),a.appendChild(r);var u=t._closeBtn=create("button",{id:"popup_close"});a.appendChild(u),t._opts.expand?t.showListWrap(!0):t.showListWrap(!1),i!=BMAP_ANCHOR_TOP_RIGHT&&i!=BMAP_ANCHOR_BOTTOM_RIGHT||(a.style.left="-2px"),t._container.appendChild(a),o&&(baidu.dom.addClass(e,"ui_city_change_bottom"),t._container.appendChild(e)),baidu.dom.addClass(t._container,"BMap_CityListCtrl")},_checkSize:function(t){return!!(t.width&&t.width>400&&t.height&&t.height>350)},_bind:function(t){var e=this,i=e.onChangeBefore||[],n=function(t,n){var t=t||window.event,o=t.target||t.srcElement,a=o.getAttribute("name"),r=o.getAttribute("type");stopBubble(t);var s=!0;switch(n){case"cityHotIds":for(var l=0;l<i.length;l++)i[l]&&i[l]();e.changeCity(a);break;case"cityLetters":"other"==a&&(a="Z");var h=baidu.g("ctr_tr_"+a);e._listDetailTbl.scrollTop=h.offsetTop,s=!1;break;case"cityName":for(var l=0;l<i.length;l++)i[l]&&i[l]();"province"===r?e.changeCity(a,7):"city"===r?e.changeCity(a,11):e.changeCity(a,9)}s&&setTimeout(function(){e.showListWrap(!1)},200)},o=function(){e._toggleList()},a=function(t){stopAndPrevent(t);var i=Math.ceil(t.wheelDelta/120)||-t.detail/3,n=i>0?1:-1,o=e._listDetailTable.clientHeight||e._listDetailTable.offsetHeight,a=e._listDetailTbl.clientHeight||e._listDetailTbl.offsetHeight,r=o-(a-20);n>0?(e._listDetailTbl.scrollTop-=60,e._listDetailTbl.scrollTop<=0&&(e._listDetailTbl.scrollTop=0)):(e._listDetailTbl.scrollTop+=60,e._listDetailTbl.scrollTop>=r&&(e._listDetailTbl.scrollTop=r))};if(e._container){var r=e._cityBtn,s=e._closeBtn,l=baidu.g("hot_city_ids"),h=baidu.g("sel_city_letter_list"),c=baidu.g("city_detail_table"),d=baidu.g("cur_city_name"),u=baidu.g("cur_city_spn");delegate("click",n,l,"cityHotIds"),delegate("click",n,h,"cityLetters"),delegate("click",n,c,"cityName"),baidu.on(r,"click",o),baidu.on(s,"click",function(){e.showListWrap(!1)}),e._map.addEventListener("citychange",function(){e.getMapCenter(function(){e.curCityName=e._map.cityName,"中国"!=e._map.cityName&&"全国"!=e._map.cityName||(e.curCityName="全国",e._map.zoomTo(6)),e.curCityCode=e._map.cCode,d.innerHTML=e.curCityName,u.innerHTML=e.curCityName,console.log("curCity.innerHTML",d.innerHTML),console.log("me.curCityCode",e.curCityCode)})}),baidu.on(e._cityListWrap,"mousewheel",function(t){stopAndPrevent(t)}),window.addEventListener&&e._cityListWrap.addEventListener("DOMMouseScroll",function(t){stopAndPrevent(t)},!1);var p=e._listDetailTbl=baidu.g("city_detail_tpl");e._listDetailTable=baidu.g("city_detail_table");if(baidu.on(p,"mousewheel",a),window.addEventListener&&p.addEventListener("DOMMouseScroll",a,!1),!BMap.offline)var _=new Autocomplete({input:"selCityWd",types:"city"});baidu.g("selCitySubmit").addEventListener("click",function(t){stopAndPrevent(t);for(var n=0;n<i.length;n++)i[n]&&i[n]();BMap.offline||_.hide();var o=baidu.g("selCityWd").value;if(!(o.length>0&&o.length<20))return void(baidu.g("selCityTip").style.display="block");o=o.replace(/(\s)/g,"").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.changeCity(o,!0)}),baidu.on(e._cityListWrap,"click",function(t){baidu.g("selCityTip").style.display="none"})}},_geneHotCityHtml:function(){for(var t=this,e=t.getHotCities(),i="",n="",o=0;o<e.length;o++)0==o&&(n="font-weight:bold"),i+='<a href="javascript:void(0)" filter="cityHotIds" name="'+e[o]+'" style="margin-right:7px;*margin-right:1px;'+n+'">'+e[o]+"</a>",n="";return i},_geneCityLetter:function(){for(var t=["A","F","G","H","J","L","N","Q","S","T","X","Y","Z","其他"],e="",i="",n=0;n<t.length;n++)i=n==t.length-1?"other":t[n],e+='<a href="javascript:void(0)" filter="cityLetters" name="'+i+'">'+t[n]+"</a>";return e},_geneCitiesDetailHtml:function(){var t=this.getCitiesNames(),e='<table id="city_detail_table" style="border-collapse:collapse;border-spacing:0" cellpadding="0" cellspacing="0">';for(var i in t){var n=!1;if("其他"==i){e+='<tr><td class="sel_city_letter"><div></div></td>',e+='<td class="sel_city_other sel_city_sf"><a href="javascript:void(0)" class="sel_city_name">'+i+"</a></td>",e+='<td><div class="bmap-clearfix city_names_wrap">';for(var o=0;o<t[i].length;o++)e+='<a class="sel_city_name" href="javascript:void(0)" filter="cityName" name="'+t[i][o]+'">'+t[i][o]+"</a>";e+="</div></td></tr>"}else for(var a in t[i]){n?e+='<tr><td class="sel_city_letter"><div></div></td>':(e+='<tr id="ctr_tr_'+i+'"><td class="sel_city_letter"><div>'+i+"</div></td>",n=!0),
e+='<td class="sel_city_sf"><a href="javascript:void(0)" type="province" filter="cityName" name="'+a+'">'+a+":</a></td>",e+='<td><div class="bmap-clearfix city_names_wrap">';for(var r=t[i][a],s=0;s<r.length;s++)e+='<a class="sel_city_name" href="javascript:void(0)" type="city" filter="cityName" name="'+t[i][a][s]+'">'+t[i][a][s]+"</a>";e+="</div></td></tr>"}}return e+="</table>"},showListWrap:function(t){var e=this;e._cityListWrap&&(e._cityListWrap.style.display=t?"block":"none",t?e._container.style.width="400px":(e._container.style.width="auto",e._container.style.height="auto")),e._cityBtn&&(t?baidu.dom.addClass(e._cityBtn,"ui_city_change_click"):baidu.dom.removeClass(e._cityBtn,"ui_city_change_click"))},changeCity:function(t,e,i){var n=this;if(BMap.offline){var o=n._map;return"全国"===t&&(e=4),void o.centerAndZoom(t,e)}if(n._container&&n._cityBtn){var a=baidu.g("cur_city_name"),r=baidu.g("cur_city_spn");SearchRequestMgr.request(function(t){var e=n.onChangeAfter||[],o=n.onChangeSuccess||[];if(setTimeout(function(){for(var t=0;t<e.length;t++)e[t]&&e[t]()},300),t&&t.result&&t.result.type==RETURN_TYPE_CURRENT_CITY){if(t.content.hasOwnProperty("error")||t.err_msg.length>0)return void(i&&(baidu.g("selCityTip").style.display="block"));var s=t.content;if(s){var l={title:s.cname||"",uid:s.uid||"",point:SUtil.parseGeo(s.geo,!0).point||"",city:s.cname||"",code:s.code||"",level:s.level||n._map.getZoom()},s=l.point,h=SUtil.getBestLevel(l.level,n._map);isNaN(h)&&(h=n._map.getZoom()),1==t.content.code&&(h=5),i&&setTimeout(function(){n.showListWrap(!1)},200),n._map.centerAndZoom(s,h),a.innerHTML=l.city,r.innerHTML=l.city;for(var c=0;c<o.length;c++)o[c]&&o[c](l)}}},{qt:QUERY_TYPE_CURRENT_CITY,wd:t,dtype:1})}},_toggleList:function(){var t=this;if(t._cityListWrap){var e="none"!=t._cityListWrap.style.display;t.showListWrap(!e)}},getHotCities:function(){return["全国","北京","上海","广州","深圳","成都","天津","南京","武汉","杭州","重庆"]},getCitiesNames:function(){return{A:{"安徽":["合肥","安庆","蚌埠","亳州","巢湖","池州","滁州","阜阳","淮北","黄山","六安","马鞍山","宿州","铜陵","芜湖","宣城"]},F:{"福建":["福州","龙岩","南平","宁德","莆田","泉州","三明","厦门","漳州"]},G:{"广东":["广州","潮州","东莞","佛山","河源","惠州","江门","揭阳","茂名","梅州","清远","汕头","汕尾","韶关","深圳","阳江","云浮","湛江","肇庆","中山","珠海"],"广西":["南宁","百色","北海","崇左","防城港","桂林","贵港","河池","贺州","来宾","柳州","钦州","梧州","玉林"],"贵州":["贵阳","安顺","毕节地区","六盘水","铜仁地区","遵义","黔西南州","黔东南州","黔南州"],"甘肃":["兰州","白银","定西","甘南州","嘉峪关","金昌","酒泉","临夏州","陇南","平凉","庆阳","天水","武威","张掖"]},H:{"海南":["海口","白沙黎族自治县","保亭黎族苗族自治县","昌江黎族自治县","儋州","澄迈","东方","定安","琼海","琼中黎族苗族自治县","乐东黎族自治县","临高","陵水黎族自治县","三亚","屯昌","万宁","文昌","五指山"],"河南":["郑州","安阳","鹤壁","焦作","开封","洛阳","漯河","南阳","平顶山","濮阳","三门峡","商丘","新乡","信阳","许昌","周口","驻马店"],"黑龙江":["哈尔滨","大庆","大兴安岭地区","鹤岗","黑河","鸡西","佳木斯","牡丹江","七台河","齐齐哈尔","双鸭山","绥化","伊春"],"湖北":["武汉","鄂州","恩施","黄冈","黄石","荆门","荆州","潜江","神农架地区","十堰","随州","天门","仙桃","咸宁","襄阳","孝感","宜昌"],"湖南":["长沙","常德","郴州","衡阳","怀化","娄底","邵阳","湘潭","湘西州","益阳","永州","岳阳","张家界","株洲"],"河北":["石家庄","保定","沧州","承德","邯郸","衡水","廊坊","秦皇岛","唐山","邢台","张家口"]},J:{"江苏":["南京","常州","淮安","连云港","南通","苏州","宿迁","泰州","无锡","徐州","盐城","扬州","镇江"],"江西":["南昌","抚州","赣州","吉安","景德镇","九江","萍乡","上饶","新余","宜春","鹰潭"],"吉林":["长春","白城","白山","吉林市","辽源","四平","松原","通化","延边"]},L:{"辽宁":["沈阳","鞍山","本溪","朝阳","大连","丹东","抚顺","阜新","葫芦岛","锦州","辽阳","盘锦","铁岭","营口"]},N:{"宁夏":["银川","固原","石嘴山","吴忠","中卫"],"内蒙古":["呼和浩特","阿拉善盟","包头","巴彦淖尔","赤峰","鄂尔多斯","呼伦贝尔","通辽","乌海","乌兰察布","锡林郭勒盟","兴安盟"]},Q:{"青海":["西宁","果洛州","海东地区","海北州","海南州","海西州","黄南州","玉树州"]},S:{"山东":["济南","滨州","东营","德州","菏泽","济宁","莱芜","聊城","临沂","青岛","日照","泰安","威海","潍坊","烟台","枣庄","淄博"],"山西":["太原","长治","大同","晋城","晋中","临汾","吕梁","朔州","忻州","阳泉","运城"],"陕西":["西安","安康","宝鸡","汉中","商洛","铜川","渭南","咸阳","延安","榆林"],"四川":["成都","阿坝州","巴中","达州","德阳","甘孜州","广安","广元","乐山","凉山州","泸州","南充","眉山","绵阳","内江","攀枝花","遂宁","雅安","宜宾","资阳","自贡"]},T:{"台湾":["台北","高雄","台中","台南","新北","基隆","新竹","嘉义"]},X:{"西藏":["拉萨","阿里地区","昌都地区","林芝市","那曲地区","日喀则地区","山南地区"],"新疆":["乌鲁木齐","阿拉尔","阿克苏地区","阿勒泰地区","巴音郭楞蒙古自治州","博尔塔拉州","昌吉州","哈密地区","和田地区","喀什地区","克拉玛依","克孜勒苏州","石河子","塔城地区","图木舒克","吐鲁番地区","五家渠","伊犁州"]},Y:{"云南":["昆明","保山","楚雄州","大理州","德宏州","迪庆州","红河州","丽江","临沧","怒江州","普洱","曲靖","昭通","文山","西双版纳傣族自治州","玉溪"]},Z:{"浙江":["杭州","湖州","嘉兴","金华","丽水","宁波","衢州","绍兴","台州","温州","舟山"]},"其他":["香港","澳门"]}},getMapCenter:function(t){var e=this,i=e._map,n=i.getBounds(),o=(n.getSouthWest().lat+n.getNorthEast().lat)/2,a=(n.getSouthWest().lng+n.getNorthEast().lng)/2,r=i.getZoom(),s=BMap.coordReturn[BMap.tileDir],l=BMap.searchUrl+"/search/v1/search/city?location="+a+","+o+"&zoom="+r+"&coordinate="+s;DataMgr.ajax({url:l,success:function(n){var o="全国",a=0;0===n.status&&r>=7&&(o=n.result.name,a=n.result.adcode),e.curCityName=i.cityName=o,e.curCityCode=i.cCode=a,t&&t.call(e)},fail:function(n){e.curCityName=i.cityName="全国",e.curCityCode=i.cCode=0,t&&t.call(e)}})}}),window._citylistcontrol=2,window._scommon=1;var CITY_TYPE_PROV=1,CITY_TYPE_CITY=2,CITY_TYPE_DIST=3,RED_ICON_SIZE=new Size(23,25),RED_ICON_OFFSET=new Size(9,25),RED_ICON_INFOWND_OFFSET=new Size(9,0);APIPack.addSearchPoi=function(t,e,i,n){function o(){return new Icon(MapConfig.imgPath+"markers_hd.png",new Size(22,31),{anchor:new Size(11,31),imageOffset:new Size(0,-32*i),imageSize:new Size(85,477),infoWindowAnchor:new Size(11,0)})}var a=getPoiPoint(e);if(a&&!(i<0||i>9)){var r=null,s=new Marker(a);if(isMobile()){r=o();var l=o();l.setImageOffset(new Size(-28,-32*i)),s.icoDefault=r,s.icoActive=l}else r=new Icon(MapConfig.imgPath+"markers.png",RED_ICON_SIZE,{anchor:RED_ICON_OFFSET,imageOffset:new Size(0,-25*i),infoWindowAnchor:RED_ICON_INFOWND_OFFSET});return s.setIcon(r),t.addOverlay(s),n&&s.setTitle(n),s}},APIPack.addCenterPoi=function(t,e,i){var n=getPoiPoint(e);if(n){var o=new Marker(n),a=null;return isMobile()?(a=function(){return new Icon(MapConfig.imgPath+"markers_hd.png",new Size(21,31),{anchor:RED_ICON_OFFSET,imageOffset:new Size(-29,-320),imageSize:new Size(85,477),infoWindowAnchor:RED_ICON_INFOWND_OFFSET})}(),o.icoDefault=a):a=new Icon(MapConfig.imgPath+"markers.png",RED_ICON_SIZE,{anchor:RED_ICON_OFFSET,imageOffset:new Size(0,-250),infoWindowAnchor:RED_ICON_INFOWND_OFFSET}),o.setIcon(a),t.addOverlay(o),i&&o.setTitle(i),o}},APIPack.addSearchInBoundsPoi=function(t,e,i){function n(){return new Icon(MapConfig.imgPath+"markers_hd.png",new Size(21,31),{anchor:RED_ICON_OFFSET,imageOffset:new Size(0,-383),imageSize:new Size(85,477),infoWindowAnchor:RED_ICON_INFOWND_OFFSET})}var o=getPoiPoint(e);if(o){var a=new Marker(o),r=null;if(isMobile()){r=n();var s=n();s.setImageOffset(new Size(-29,-352)),a.icoDefault=r,a.icoActive=s}else var r=new Icon(MapConfig.imgPath+"markers.png",RED_ICON_SIZE,{anchor:RED_ICON_OFFSET,imageOffset:new Size(0,-300),infoWindowAnchor:RED_ICON_INFOWND_OFFSET});return a.setIcon(r),t.addOverlay(a),i&&a.setTitle(i),a}},APIPack.createSearchInfoWnd=function(t,e){var i=t.title,n=t.addr,o=t.tel,a=(t.uid,t.url,t.detailUrl),r=t.poiType||BMAP_POI_TYPE_NORMAL;if(e=e||{},!i)return null;var s=i;r==BMAP_POI_TYPE_BUSSTOP?s+="-公交车站":r==BMAP_POI_TYPE_SUBSTOP&&(s+="-地铁站");var l=13;a&&(l=10),s.replace(/[\u0100-\uffff]/g,"##").length>2*l+1&&(s=s.substring(0,l)+"&#8230");var h="<p style='width:210px;font:bold 14px/16px "+MapConfig.fontFamily+";margin:0;color:#cc5522;white-space:nowrap;overflow:hidden' title='"+i+"'>"+s;a&&(h+="<a target='_blank' href='"+a+"' style='margin-left:5px;font-size:12px;color:#3d6dcc;font-weight:normal;text-decoration:none;'>详情»</a>"),h+="</p>";var c=[];if(c.push("<div style='font:12px "+MapConfig.fontFamily+";margin-top:10px'>"),n){var d="地址：";r!=BMAP_POI_TYPE_BUSSTOP&&r!=BMAP_POI_TYPE_SUBSTOP||(d="车次："),c.push('<table cellspacing="0" style="overflow:hidden;table-layout:fixed;width:100%;font:12px '+MapConfig.fontFamily+'" >'),c.push('<tr><td style="vertical-align:top;width:38px;white-space:nowrap;word-break:keep-all">'+d+'&nbsp;</td><td style="line-height:16px">'),c.push(n+"&nbsp;</td></tr>"),o&&c.push('<tr><td style="vertical-align:top;">电话：</td><td>'+o+"</td></tr>"),c.push("</table>")}else o&&(c.push('<table cellspacing="0" style="table-layout:fixed;width:100%;font:12px '+MapConfig.fontFamily+'">'),c.push('<tr><td style="vertical-align:top;width:36px;white-space:nowrap;word-break:keep-all">电话：</td><td>'+o+"</td></tr></table>"));return c.push("</div>"),new InfoWindow(c.join(""),{title:h,height:0,width:230,margin:[10,10,20,10]})},APIPack.addDestPoi=function(t,e,i,n){var o=getPoiPoint(e);if(o){if(isMobile())var a=new Icon(MapConfig.imgPath+"dest_mkr.png",new Size(29,34),{anchor:new Size(14,32),imageSize:new Size(94,41),imageOffset:new Size(-29*n,0),infoWindowAnchor:new Size(14,0)});else var a=new Icon(MapConfig.imgPath+"dest_markers.png",new Size(42,34),{anchor:new Size(14,32),imageOffset:new Size(0,-34*n),infoWindowAnchor:new Size(14,0)});var r=new Marker(o,{icon:a,baseZIndex:35e5,draggingCursor:"pointer"});return t.addOverlay(r),i&&r.setTitle(i),r}},APIPack.addLine=function(t,e){return APIPack.addRoute(t,e,ROUTE_TYPE_TRANSIT)},APIPack.ROUTE_TRAFFIC_STYLE_CONFIG=[{stroke:6,color:"#0030ff",opacity:.45,style:"solid"},{stroke:5,color:"#00bd00",opacity:.95,style:"solid"},{stroke:5,color:"#ffac00",opacity:.95,style:"solid"},{stroke:5,color:"#f41c0d",opacity:.95,style:"solid"}],APIPack.ROUTE_STYLE_CONFIG=[{stroke:6,color:"#5298fe",opacity:1,style:"solid"},{stroke:6,color:"#5298fe",opacity:1,style:"solid"},{stroke:6,color:"#4ddc26",opacity:1,style:"solid"},{stroke:6,color:"#00bd01",opacity:1,style:"solid"},{stroke:6,color:"#ff0103",opacity:.65,style:"dashed"},{stroke:6,color:"#ff0103",opacity:.65,style:"solid"},{stroke:6,color:"#5298ff",opacity:1,style:"solid"},{stroke:6,color:"#5298ff",opacity:1,style:"solid"},{stroke:6,color:"#ff0103",opacity:.65,style:"dashed"}],APIPack.addRouteWithTraffic=function(t,e,i){var n=APIPack.ROUTE_TRAFFIC_STYLE_CONFIG;if(void 0===i&&(i=0),n[i]){var o=e,a=n[i],r=new Polyline(o,{strokeWeight:a.stroke,strokeColor:a.color,strokeOpacity:a.opacity,strokeStyle:a.style,clickable:!1});return t.addOverlay(r),r._trafficStatus=i,r}},APIPack.addRoute=function(t,e,i){var n=APIPack.ROUTE_STYLE_CONFIG;if(void 0===i&&(i=0),n[i]){var o=e,a=n[i],r=new Polyline(o,{strokeWeight:a.stroke,strokeColor:a.color,strokeOpacity:a.opacity,strokeStyle:a.style,clickable:!1});if(t.addOverlay(r),r._routeType=i,i==ROUTE_TYPE_TRANSIT){var s=new Polyline(o,{strokeWeight:a.stroke-2,strokeColor:"#fff",strokeOpacity:.3,clickable:!1});r._p=s,t.addOverlay(s)}return r}},APIPack.createTransInfoWnd=function(t){var e=t.content,i=t.curIndex,n=t.total,o=t.nextTransCbk,a=t.obj,r=t.hideStep,s=["<div style='font:12px "+MapConfig.fontFamily+"'>"];e&&s.push("<div style='margin:10px 1em 24px 0'>"+e+"</div>"),r||s.push(APIPack.genStepNavHtml(n,i)),s.push("</div>");var l=new InfoWindow(s.join(""),{title:"",height:0,width:220,margin:[10,10,20,10]});return r?l:(l.addEventListener("open",function(){var t=isMobile()?"touchend":"click";baidu.G("trans_prev")&&baidu.on(baidu.G("trans_prev"),t,function(){o&&"function"==typeof o&&o(i-1,a)}),baidu.G("trans_next")&&baidu.on(baidu.G("trans_next"),t,function(){o&&"function"==typeof o&&o(i+1,a)})}),l)},APIPack.genStepNavHtml=function(t,e){var i=[];return i.push('<table id="trans_nav" width="99%" cols="2" style="background:#eaf2ff;font:12px '+MapConfig.fontFamily+'"><tbody><tr>'),i.push('<td nowrap="nowrap" width="50%" align="left">'),0==e?i.push('<span unselectable="on" style="color:#9c9d99;-moz-user-select:none" >上一步</span>'):i.push('<a id="trans_prev" style="color:#7777cc;-moz-user-select:none" href="javascript:void(0)">上一步</a>'),i.push("</td>"),i.push('<td nowrap="nowrap" width="50%" align="right">'),e==t+1?i.push('<span unselectable="on" style="color:#9c9d99;-moz-user-select:none" >下一步</span>'):i.push('<a style="color:#7777cc" id="trans_next" href="javascript:void(0)">下一步</a>'),i.push("</td></tr></tbody></table>"),i.join("")},APIPack.addTransPoi=function(t,e,i,n){var o=getPoiPoint(e);if(o){if(i=i||BMAP_LINE_TYPE_BUS,isMobile())var a=new Icon(MapConfig.imgPath+"dest_mkr.png",new Size(20,20),{imageSize:new Size(94,41),imageOffset:new Size(-59,-21*i),infoWindowAnchor:new Size(10,0)});else{var r=-55;switch(i){case BMAP_LINE_TYPE_SUBWAY:r=-76;break;case BMAP_LINE_TYPE_TRAIN:r=-118;break;case BMAP_LINE_TYPE_AIRPLANE:r=-139;break;case BMAP_LINE_TYPE_COACH:case BMAP_LINE_TYPE_BUS:default:r=-55}var a=new Icon(MapConfig.imgPath+"trans_icons.png",new Size(21,21),{imageOffset:new Size(0,r),infoWindowAnchor:new Size(10,0)})}var s=new Marker(o,{icon:a});return t.addOverlay(s),n&&s.setTitle(n),s}},APIPack.getInfoWindowDom=function(t){return t&&t.infoWindowDoms&&t.infoWindowDoms.contentDiv?t.infoWindowDoms.contentDiv.childNodes[0]:null},APIPack.addStationPoi=function(t,e,i){var n=new Marker(e,{icon:new Icon(BusLineSearch._stopUrl,new Size(11,11))});return i&&n.setTitle(i),t.addOverlay(n),n},APIPack.addDragMkr=function(t,e){var i=new Marker(e,{icon:new Icon(MapConfig.imgPath+"drag.png",new Size(11,11)),draggingCursor:"pointer"});return t.addOverlay(i),i.setZIndex(10),i},APIPack.addWayPointMkr=function(t,e,i){var n=new Marker(e,{icon:new Icon(MapConfig.imgPath+"way-points.png",new Size(36,40),{imageOffset:new Size(-36*i-11,-35)}),draggingCursor:"pointer",offset:new Size(5,-20)});return t.addOverlay(n),n.setZIndex(10),n},APIPack.createTipLbl=function(t){var e=new Label(t,{offset:new Size(30,-10)});return e.setStyle({border:"solid 1px gray",padding:"2px",whiteSpace:"nowrap",background:"#fff"}),e},APIPack.getDistanceByPixel=function(t,e){if(t&&e)return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))},APIPack.addSearchPoi_R=function(t,e,i,n,o){var a=getPoiPoint(t),n=n||{};if(n.type=n.type||"normal",!(!a||void 0===e||e<0||e>9&&"child"!==n.type||e>39&&"child"===n.type)){var r,s=MapConfig.imgPath+"markers_new.png",l=0;"RouteAddrMarker"==n.type&&(l=-MapConfig.A_J_MARKER_ORANGE_ICON_Y);var h=new Size(-MapConfig.A_J_MARKER_RED_ICON_WID*e,l),c=new Icon(s,MapConfig.A_J_MARKER_RED_SIZE,{offset:MapConfig.A_J_MARKER_RED_OFFSET,imageOffset:h,infoWindowOffset:MapConfig.A_J_MARKER_INFOWND_OFFSET});r=e+1;var d=new Marker(a,{icon:c,zIndexFixed:!0,baseZIndex:25e5-100*e});return d.customProperty={type:n.type},o.addOverlay(d),d._stCode=r,i&&d.setTitle(i),d}},BaseSearch.CBK_SEARCH_COMPLETE=1,BaseSearch.CBK_MARKERS_SET=2,BaseSearch.CBK_INFO_HTML_SET=3,BaseSearch.CBK_POLYLINES_SET=4,BaseSearch.CBK_RESULTS_HTML_SET=5,BaseSearch.CBK_BUSLIST_COMPLETE=6,BaseSearch.CBK_BUSLINE_COMPLETE=7,BaseSearch.CBK_BUSLISTHTML_SET=8,BaseSearch.CBK_BUSLINEHTML_SET=9,BaseSearch._getPoiUrl=function(t,e){return t?BMap.mapUrl+"?s="+encodeURIComponent("inf&uid="+t+"&c="+e)+"&i=0&sr=1":""},BaseSearch._getLocType=function(t){return t?"string"==typeof t?LOC_TYPE_STRING:t instanceof Point||t instanceof PointN?LOC_TYPE_POINT:t instanceof Map?LOC_TYPE_MAP:"number"==typeof t?LOC_TYPE_NUMBER:LOC_TYPE_UNKNOWN:LOC_TYPE_UNKNOWN},baidu.extend(BaseSearch.prototype,{_getIdByLoc:function(t,e){var i=BaseSearch._getLocType(t.src);if(i!=LOC_TYPE_UNKNOWN){var n=this;if(i==LOC_TYPE_NUMBER)return void(e&&e(t.src));if(i==LOC_TYPE_STRING)return t.curLocType==i&&t.curSrc==t.src&&t.curId?void(e&&e(t.curId)):(t.curLocType=i,void(t.curSrc=t.src));var o,a=18;if(i==LOC_TYPE_MAP?t.src.isLoaded()?(o=t.src.getCenter(),a=t.src.getZoom()):t.src.addEventListener("load",function(){n._getIdByLoc(t,e)}):o=t.src,i==t.curLocType&&t.curSrc.equals(o)&&t.curId)return void(e&&e(t.curId));i==LOC_TYPE_MAP&&(o=MercatorProjection.convertLL2MC(o)),i==LOC_TYPE_POINT&&(o=MercatorProjection.convertLL2MC(o)),t.curLocType=i,t.curSrc=new Point(o.lng,o.lat),SearchRequestMgr.request(function(t){t&&t.result&&t.result.type==RETURN_TYPE_CENTER&&(n._loc.curId=t.content?t.content.uid:1,e&&e(n._loc.curId))},{qt:QUERY_TYPE_CENTER,b:o.lng+","+o.lat+";"+o.lng+","+o.lat,l:a})}},_setStatus:function(t){"number"==typeof t?this._status=t:delete this._status},_triggerCbk:function(t,e,i){var n;n=void 0===e?4:e._plans&&e._plans.length?1:"[object Object]"===Object.prototype.toString.call(e._start)&&"[object Object]"===Object.prototype.toString.call(e._end)?3:2;var o;switch(t){case BaseSearch.CBK_SEARCH_COMPLETE:o=this._opts.onSearchComplete,o&&o(e,n);break;case BaseSearch.CBK_MARKERS_SET:o=this._opts.onMarkersSet,o&&o(e,i);break;case BaseSearch.CBK_POLYLINES_SET:o=this._opts.onPolylinesSet,o&&o(e,i);break;case BaseSearch.CBK_INFO_HTML_SET:o=this._opts.onInfoHtmlSet,o&&o(e,i);break;case BaseSearch.CBK_RESULTS_HTML_SET:o=this._opts.onResultsHtmlSet,o&&o(e,i);break;case BaseSearch.CBK_BUSLIST_COMPLETE:o=this._opts.onGetBusListComplete,o&&o(e,i);break;case BaseSearch.CBK_BUSLINE_COMPLETE:o=this._opts.onGetBusLineComplete,o&&o(e,i);break;case BaseSearch.CBK_BUSLISTHTML_SET:o=this._opts.onBusListHtmlSet,o&&o(e,i);break;case BaseSearch.CBK_BUSLINEHTML_SET:o=this._opts.onBusLineHtmlSet,o&&o(e,i)}}});var GEO_TYPE_AREA=0,GEO_TYPE_LINE=1,GEO_TYPE_POINT=2;SUtil.unique=function(t){for(var e=[],i={},n=0,o=t.length;n<o;n++)i[t[n]]||(i[t[n]]=!0,e.push(t[n]));return e},SUtil.getBestLevel=function(t,e){if(e){var i=Math.min(e.width/1100,e.height/660);t=Math.round(t+Math.log(i)/Math.log(2))}return t<1&&(t=1),t>18&&(t=18),t},SUtil.parseGeo=function(t,e){if("string"==typeof t&&t){var i,n,o,a=t.split("|");if(1==a.length)i=decode_geo_diff(t);else if(i=decode_geo_diff(a[2]),n=decode_geo_diff(a[0]),o=decode_geo_diff(a[1]),!e)return i;var r={type:i.geoType};if(e)switch(r.type){case GEO_TYPE_POINT:var s=new Point(i.geo[0][0],i.geo[0][1]),l=MercatorProjection.convertMC2LL(s);r.point=l,r.points=[l];break;case GEO_TYPE_LINE:r.points=[];for(var h=i.geo[0],c=0,d=h.length-1;c<d;c+=2){var u=new Point(h[c],h[c+1]);u=MercatorProjection.convertMC2LL(u),r.points.push(u)}n=new Point(n.geo[0][0],n.geo[0][1]),o=new Point(o.geo[0][0],o.geo[0][1]),n=MercatorProjection.convertMC2LL(n),o=MercatorProjection.convertMC2LL(o),r.bounds=new Bounds(n,o)}return r}},SUtil.parseGeoExt=function(t,e){e?e<.25?e=0:e>.25&&e<1?e=1:e>32&&(e=32):e=0;var i=t.split("|");if(1==i.length){var n=decode_geo_diff(i[0]);return{type:n.type,bound:"",points:n.geo.join(",")}}if(i.length>1){for(var o=t.split(";.="),a=[],r=[],s=0,l=o.length,h=0;h<l;h++){var c=o[h];l>1&&(0==h&&(c+=";"),h>0&&h<l-1&&(c=".="+c+";"),h==l-1&&(c=".="+c));var d=c.split("|"),u=decode_geo_diff(d[0]),p=decode_geo_diff(d[1]);a.push(u.geo.join(",")),a.push(p.geo.join(","));var n=decode_geo_diff(d[2]);s=n.type;var _=n.geo.join(",");_=SUtil.parseGeoExtReg1(_),e>0&&(_=SUtil.parseGeoExtReg2(_,e)),r.push(_)}if(l<=1&&(r=r.join(";")),2==l){for(var g=r[0]+";"+r[1],m=g.split(";"),f=[],h=0;h<m.length;h++){var v=m[h].split(",")[0],y=m[h].split(",")[1],b=new Point(v,y),x=MercatorProjection.convertMC2LL(b);f.push(x)}r=f}return{type:s,bound:a.join(";"),points:r}}},SUtil.getPoiPoint=function(t){var e=[],i=null;if("Point"==t.toString())i=t;else{if("string"==typeof t){if(e=T.trim(t).split(","),e.length<2)return;e[0]=parseFloat(T.trim(e[0])),e[1]=parseFloat(T.trim(e[1]))}else if(e=t.slice(0),e.length<2)return;i=new BMap.Point(e[0],e[1])}return i},SUtil.parseGeoStr=function(t){var e=t.split(","),i=new Point(e[0],e[1]);return MercatorProjection.convertMC2LL(i)},SUtil.level={country:4,province:11,city:12,area:13};var _EXT_CHARS_=["=",".","-","*"],_MAX_DELTA_=1<<23;SUtil.pathToPoints=function(t){var e=[];if("string"!=typeof t)return e;for(var i=t.split(";"),n=0;n<i.length;n++){var o=i[n].split(",");e.push(new Point(o[0],o[1]))}return e},window._scommon=2,window._local=1,baidu.extend(Page.prototype,{render:function(){this.initialize()},initialize:function(){this.checkPages(),this.container.innerHTML=this.createHtml()},checkPages:function(){isNaN(parseInt(this.page))&&(this.page=1),isNaN(parseInt(this.pageCount))&&(this.pageCount=1),this.page<1&&(this.page=1),this.pageCount<1&&(this.pageCount=1),this.page>this.pageCount&&(this.page=this.pageCount),this.page=parseInt(this.page),this.pageCount=parseInt(this.pageCount)},getPage:function(){var t=location.search,e=new RegExp("[?&]?"+this.argName+"=([^&]*)[&$]?","gi");t.match(e);this.page=RegExp.$1},createHtml:function(){var t=[],e=this.page-1,i=this.page+1;if(t.push('<p style="margin:0;padding:0;white-space:nowrap">'),e<1);else{if(this.page>=this.pagecap){var n='<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp1}">首页</a></span>';t.push(n.replace("{temp1}","BMap.I('"+this.guid+"').toPage(1);"))}var n='<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp2}">上一页</a></span>';t.push(n.replace("{temp2}","BMap.I('"+this.guid+"').toPage("+e+");"))}if(this.page<this.pagecap){if(this.page%this.pagecap==0)var o=this.page-this.pagecap-1;else var o=this.page-this.page%this.pagecap+1;var a=o+this.pagecap-1}else{var r=Math.floor(this.pagecap/2),s=this.pagecap%2-1;if(this.pageCount>this.page+r)var a=this.page+r,o=this.page-r-s;else var a=this.pageCount,o=this.page-r-s}if(this.page>this.pageCount-this.pagecap&&this.page>=this.pagecap)var o=this.pageCount-this.pagecap+1,a=this.pageCount;for(var l=o;l<=a;l++)if(l>0)if(l==this.page)t.push('<span style="margin-right:3px">'+l+"</span>");else if(l>=1&&l<=this.pageCount){var n='<span><a style="color:#7777cc;margin-right:3px" href="javascript:void(0)" onclick="{temp3}">['+l+"]</a></span>";t.push(n.replace("{temp3}","BMap.I('"+this.guid+"').toPage("+l+");"))}if(i>this.pageCount);else{var n='<span><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp4}">下一页</a></span>';t.push(n.replace("{temp4}","BMap.I('"+this.guid+"').toPage("+i+");"))}return t.push("</p>"),t.join("")},toPage:function(t){var e=t||1;"function"==typeof this.callback&&(this.callback(e),this.page=e),this.update&&this.render()}}),LocalSearch.isReqDataMap=function(t,e){return!(!t||void 0===e)&&((t!=QUERY_TYPE_POI_SEARCH||e==RETURN_TYPE_POI_SEARCH||e==RETURN_TYPE_CITY_LIST||e==RETURN_TYPE_CURRENT_CITY||e==RETURN_TYPE_SPECIAL_REGION||e==RETURN_TYPE_NODATA_REGION)&&((t!=QUERY_TYPE_SEARCH_NEARBY||e==RETURN_TYPE_SEARCH_NEARBY)&&((t!=QUERY_TYPE_SEARCH_INBOUNDS||e==RETURN_TYPE_SEARCH_INBOUNDS)&&((t!=QUERY_TYPE_SEARCH_INBOUNDS_MULTIKEY||e==RETURN_TYPE_SEARCH_INBOUNDS_MULTIKEY)&&((t!=QUERY_TYPE_SEARCH_MULTIKEY||e==RETURN_TYPE_SEARCH_MULTIKEY)&&(t!=QUERY_TYPE_SEARCH_NEARBY_MULTIKEY||e==RETURN_TYPE_SEARCH_NEARBY_MULTIKEY))))))},baidu.extend(LocalSearch.prototype,{_check:function(){for(var t=0,e=this._queryList.length;t<e;t++){var i=this._queryList[t];this[i.method].apply(this,i.arguments)}delete this._queryList,this.initialize()},initialize:function(){var t=this;this.renderMap=new RenderMap(t),this.renderList=new RenderList(t)},search:function(t,e){if(!t||t instanceof Array)return this.clearResults(),this._setStatus(BMAP_STATUS_INVALID_REQUEST),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE),void alert("请输入关键字且暂不支持多关键字查询");if(!t||t instanceof Array&&(t.length<1||t.length>10))return this.clearResults(),this._setStatus(BMAP_STATUS_INVALID_REQUEST),void this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE);if(e=e||{},e.customData)return this._createCustomSearchInstance(),this.customSearch.search({keyword:t,searchType:"local",customData:e.customData}),void(this._useCustomdata=!0);this._useCustomdata=!1;var i=arguments[2]||{},n=this;if(BMap.offline){var o={q:t,pageSize:n.getPageCapacity(),queryType:"placepoi"};baidu.extend(o,i.params);var a={qt:QUERY_TYPE_POI_SEARCH,params:o,options:e,userKw:i.userKw||t};return baidu.extend(a,i),void SearchRequestMgr.request(function(t,e){n._rawDataCbk(t,e)},o,a)}this._getIdByLoc(this._loc,function(o){o=o||1,n._isMultiKey=n._isKeywordArray(t);var a;if(n._isMultiKey){var r=t.join("$$"),s=t.length;a={qt:QUERY_TYPE_SEARCH_MULTIKEY,c:o,wd:r,wdn:s,rn:n.getPageCapacity()}}else a={qt:e.forceLocal?QUERY_TYPE_POI_SEARCH_CON:QUERY_TYPE_POI_SEARCH,c:o,wd:t,rn:n.getPageCapacity()};n._opts.reqFrom&&baidu.extend(a,{from:n._opts.reqFrom}),baidu.extend(a,i.params),e.log&&(a.log="center");var l={params:a,options:e,userKw:i.userKw||t};baidu.extend(l,i),SearchRequestMgr.request(function(t,e){n._rawDataCbk(t,e)},a,l)})},_isKeywordArray:function(t){return!!(t&&t instanceof Array)},searchInBounds:function(t,e,i){if(BMap.offline&&(!t||t instanceof Array))return this.clearResults(),this._setStatus(BMAP_STATUS_INVALID_REQUEST),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE),void alert("请输入关键字且暂不支持多关键字查询");if(!t||!e||t instanceof Array&&(t.length<1||t.length>10))return this.clearResults(),this._setStatus(BMAP_STATUS_INVALID_REQUEST),void this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE);var i=i||{},n=this;if(i.customData)return this._createCustomSearchInstance(),this.customSearch.search({keyword:t,bounds:e,searchType:"bound",customData:i.customData}),void(this._useCustomdata=!0);this._useCustomdata=!1;var o=arguments[2]||{};if(BMap.offline){var a=e.getSouthWest(),r=e.getNorthEast(),s=a.lat+","+a.lng+","+r.lat+","+r.lng,l={q:t,pageSize:n.getPageCapacity(),queryType:"placepoi",bounds:s};baidu.extend(l,o.params);var h={qt:QUERY_TYPE_SEARCH_INBOUNDS,bounds:e,params:l,options:i,userKw:o.userKw||t};return baidu.extend(h,o),void SearchRequestMgr.request(function(t,e){n._rawDataCbk(t,e)},l,h)}this._getIdByLoc(this._loc,function(i){i=i||1;var a=e.getSouthWest(),r=e.getNorthEast();a=MercatorProjection.convertLL2MC(a),r=MercatorProjection.convertLL2MC(r);var s="("+a.lng+","+a.lat+";"+r.lng+","+r.lat+")";n._isMultiKey=n._isKeywordArray(t);var l;if(n._isMultiKey){var h=t.join("$$"),c=t.length;l={qt:QUERY_TYPE_SEARCH_INBOUNDS_MULTIKEY,c:i,wd:h,wdn:c,ar:s,rn:n.getPageCapacity(),l:18}}else l={qt:QUERY_TYPE_SEARCH_INBOUNDS,c:i,wd:t,ar:s,rn:n._opts.pageCapacity,l:18};n._opts.reqFrom&&baidu.extend(l,{from:n._opts.reqFrom}),baidu.extend(l,o.params);var d;d=o&&o.center&&o.radius?{params:l,bounds:e,center:o.center,radius:o.radius,userKw:o.userKw||t}:{params:l,bounds:e,userKw:o.userKw||t},SearchRequestMgr.request(function(t,e){n._rawDataCbk(t,e)},l,d)})},searchNearby:function(t,e,i,n){if(BMap.offline&&(!t||t instanceof Array))return this.clearResults(),this._setStatus(BMAP_STATUS_INVALID_REQUEST),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE),void alert("请输入关键字且暂不支持多关键字查询");if(!t||!e||!(e instanceof Point||e instanceof PointN)&&"object"==typeof e&&!e.uid||t instanceof Array&&(t.length<1||t.length>10))return this.clearResults(),this._setStatus(BMAP_STATUS_INVALID_REQUEST),void this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE);var n=n||{};if(n.customData)return this._createCustomSearchInstance(),this.customSearch.search({keyword:t,center:e,radius:i,searchType:"nearby",customData:n.customData}),void(this._useCustomdata=!0);this._useCustomdata=!1,i=i||LocalSearch.DEFAULT_RADIUS,i=i<0?LocalSearch.DEFAULT_RADIUS:i;var o=this,a=arguments[3]||{};if(BMap.offline&&(e instanceof Point||e instanceof PointN)){var r=e.lat+","+e.lng,s={q:t,pageSize:o.getPageCapacity(),queryType:"placepoi",location:r,radius:i};baidu.extend(s,a.params);var l={qt:QUERY_TYPE_SEARCH_NEARBY,radius:i,center:e,params:s,options:n,userKw:a.userKw||t};return baidu.extend(l,a),void SearchRequestMgr.request(function(t,e){o._rawDataCbk(t,e)},s,l)}if(e instanceof Point||e instanceof PointN){var h=MercatorProjection.convertLL2MC(e),c=new Point(h.lng-i,h.lat-i),d=new Point(h.lng+i,h.lat+i),u=MercatorProjection.convertMC2LL(c),p=MercatorProjection.convertMC2LL(d),_=new Bounds(new Point(u.lng,u.lat),new Point(p.lng,p.lat));return a.center=e,a.radius=i,void this.searchInBounds(t,_,a)}this._getIdByLoc(this._loc,function(n){n=n||1,o._isMultiKey=o._isKeywordArray(t);var r;if(r=o._isMultiKey?{qt:QUERY_TYPE_SEARCH_NEARBY_MULTIKEY,c:n,wd:t.join("$$"),wdn:t.length,rn:o.getPageCapacity(),uid:e.uid,r:i}:{qt:QUERY_TYPE_SEARCH_NEARBY,c:n,wd:t,rn:o.getPageCapacity(),uid:e.uid,r:i},"string"==typeof e){if(o._isMultiKey){r.qt=QUERY_TYPE_SEARCH_MULTIKEY;for(var s=[],l=0;l<t.length;l++){var h=e+" "+t[l];s.push(h)}r.wd=s.join("$$"),r.wdn=s.length}else r.qt=QUERY_TYPE_POI_SEARCH,r.wd=e+" "+t;delete r.r,delete r.uid}o._opts.reqFrom&&baidu.extend(r,{from:o._opts.reqFrom}),baidu.extend(r,a.params),SearchRequestMgr.request(function(t,e){o._rawDataCbk(t,e)},r,{params:r,center:e,radius:i,userKw:a.userKw||t})})},_rawDataCbk:function(t,e){var i=this;if(BMap.offline){i._isMultiKey=!1,this.clearResults(),i._json=t,this._ud=e,i._processRaw(e),i.renderMap.dispatchEvent("render"),i.renderList.dispatchEvent("render");var n={};n.points=this._arrPoints,this.renderMap.getBestViewport(n);var o=this._results;if(this._opts.renderOptions.selectFirstResult&&o&&o.getNumPois()>0){var i=this;setTimeout(function(){i.select(0)},240)}}else{t.result.type==RETURN_TYPE_SEARCH_INBOUNDS_MULTIKEY||t.result.type==RETURN_TYPE_SEARCH_MULTIKEY||t.result.type==RETURN_TYPE_SEARCH_NEARBY_MULTIKEY?i._isMultiKey=!0:i._isMultiKey=!1,this.clearResults(),i._json=t,this._ud=e;var a=t.result,r=e.params.qt;if(i._isMultiKey){if(0!=a.error||!LocalSearch.isReqDataMap(r,a.type)){var s=t.current_city;this._arrResults=[];for(var l=e.userKw,h=0,c=l.length;h<c;h++){var d=new LocalResult({keyword:l[h],city:s.name,province:s.up_province_name||"",ccode:s.code,pc:i.getPageCapacity(),center:e.center,radius:e.radius,bounds:e.center&&e.radius?void 0:e.bounds,moreUrl:""});d._qt=e.params.qt,this._arrResults.push(d)}return this._setStatus(BMAP_STATUS_UNKNOWN_LOCATION),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,this._arrResults),void i.renderList.dispatchEvent("render")}}else if(0!=a.error||!LocalSearch.isReqDataMap(r,a.type)){var s=t.current_city;return this._results=new LocalResult({keyword:e.userKw,city:s.name,province:s.up_province_name||"",ccode:s.code,pc:i.getPageCapacity(),center:e.center,radius:e.radius,bounds:e.center&&e.radius?void 0:e.bounds,moreUrl:this._getMoreUrl(e,s)}),this._results._qt=e.params.qt,this._setStatus(BMAP_STATUS_UNKNOWN_LOCATION),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,this._results),void i.renderList.dispatchEvent("render")}i._processRaw(e),i.renderMap.dispatchEvent("render"),i.renderList.dispatchEvent("render");var u=this._ud.center;u&&"string"!=typeof u&&!(u instanceof Point||u instanceof PointN)&&this.renderMap.addCenterPoi(u);var p=this._json.result&&this._json.result.type,n={};switch(p){case RETURN_TYPE_POI_SEARCH:case RETURN_TYPE_SEARCH_NEARBY:case RETURN_TYPE_SEARCH_INBOUNDS:case RETURN_TYPE_SEARCH_INBOUNDS_MULTIKEY:case RETURN_TYPE_SEARCH_MULTIKEY:case RETURN_TYPE_SEARCH_NEARBY_MULTIKEY:n.points=this._arrPoints;break;case RETURN_TYPE_CURRENT_CITY:n.center=this._results.getPoi(0).point,n.level=this._json.content.level;break;case RETURN_TYPE_NODATA_REGION:n.center=this._results.getPoi(0).point,n.level=13;break;case RETURN_TYPE_SPECIAL_REGION:n.center=this._results.getPoi(0).point,n.level=parseInt(this._json.content[1])}this.renderMap.getBestViewport(n);var o;if(o=this._isMultiKey?this._getMaxResults():this._results,this._opts.renderOptions.selectFirstResult&&o&&o.getNumPois()>0){var i=this;setTimeout(function(){i.select(0)},240)}}},_processRaw:function(t){if(BMap.offline){for(var e=this,i=this._json.total,n=this._json.pageNum,o=this._json.pageSize,a=this._json.data,r=[],s=0;s<a.length;s++){var l=new BMap.Point(a[s].location.x,a[s].location.y);a[s].point=l,r.push(l)}return this._arrPois=a,this._arrPoints=r,this._results=new LocalResult({keyword:t.userKw,count:o,total:i,pageIdx:n,pois:a,pc:e.getPageCapacity(),center:t.center,radius:t.radius,bounds:t.center&&t.radius?void 0:t.bounds}),0===i?this._setStatus(BMAP_STATUS_UNKNOWN_LOCATION):this._setStatus(BMAP_STATUS_SUCCESS),void this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,this._results)}var h=this._json.result,c=this._json.content,d=this._json.current_city,u=h.type,e=this,n=h.page_num||0,i=0,p=0,a=[],r=[],_=[],g=[],m=[],f=[];if(this._json.psrs&&this._json.psrs.SEResult){var v=this._json.psrs.SEResult;if(v.length>0)for(var s=0,y=v.length;s<y;++s)f.push(v[s])}var b=this._json.suggest_query;if(b)for(var s=0,y=b.length;s<y;++s)b[s]&&b[s].query&&f.push(b[s].query);if(f=SUtil.unique(f),u!=RETURN_TYPE_CITY_LIST&&u!=RETURN_TYPE_SPECIAL_REGION){var x;if(this._isMultiKey||(p=h.count-(0==n?h.spec_dispnum||0:0),i=h.total<760?h.total:760,x=0==n?h.spec_dispnum||0:0),u!=RETURN_TYPE_CURRENT_CITY){if(this._isMultiKey){
for(var w=h.result_array,P=t.userKw.length,s=0;s<P;s++)if(g[s]=[],m[s]=[],_[s]=[],w[s])if(w[s].type!=RETURN_TYPE_CITY_LIST){var M=w[s].count,T=w[s].page_num||0,C=w[s].total>760?760:w[s].total,S={count:M,pagenum:T,total:C};m[s].push(S);for(var E=0;E<M;E++)if(c&&c[s]&&c[s][E]){var I=c[s][E];if(null===I.addr)continue;var L=this._formatAddr(I.addr,I.poiType),A=[];if(I.cla&&I.cla.length>0)for(var B=I.cla.length;B--;){var R=I.cla[B][1];R=R.replace("<b>","").replace("</b>",""),A.unshift(R)}var D={title:I.name,uid:I.uid,point:SUtil.parseGeo(I.geo,!0).point,url:BaseSearch._getPoiUrl(I.uid,d.code),detailUrl:"http://api.map.baidu.com/place/detail?uid="+I.uid+"&output=html&source=jsapi",address:L,city:d.name,province:d.up_province_name||"",phoneNumber:I.tel,postcode:I.zip,type:I.poiType||BMAP_POI_TYPE_NORMAL,isAccurate:!(!I.acc_flag||1!=I.acc_flag),tags:A};g[s].push(D),r.push(D.point),this._arrPois.push(D)}}else{if(c&&c[s])for(var E=0;E<c[s].length;E++){var k=c[s][E];_[s].push({city:k.name,_code:k.code,numResults:k.num})}if(this._json.more_city&&this._json.more_city[s])for(var O=this._json.more_city[s],E=0,N=O.length;E<N;E++)for(var j=0,z=O[E].city.length;j<z;j++){var k=O[E].city[j];_[s].push({city:k.name,_code:k.code,numResults:k.num})}}}else for(var s=x;s<h.count;s++)if(c&&c[s]){var I=c[s];if(null===I.addr)continue;var L=this._formatAddr(I.addr,I.poiType),A=[];if(I.cla&&I.cla.length>0)for(var B=I.cla.length;B--;){var R=I.cla[B][1];R=R.replace("<b>","").replace("</b>",""),A.unshift(R)}var D={title:I.name,uid:I.uid,point:SUtil.parseGeo(I.geo,!0).point,url:BaseSearch._getPoiUrl(I.uid,d.code),detailUrl:"http://api.map.baidu.com/place/detail?uid="+I.uid+"&output=html&source=jsapi",address:L,city:d.name,province:d.up_province_name||"",phoneNumber:I.tel,postcode:I.zip,type:I.poiType||BMAP_POI_TYPE_NORMAL,isAccurate:!(!I.acc_flag||1!=I.acc_flag)};A.length>0&&(D.tags=A),a.push(D),r.push(D.point),this._arrPois.push(D)}}else{p=i=1;var D={title:c.cname,uid:c.uid,point:SUtil.parseGeo(c.geo,!0).point,address:c.cname,url:BMap.mapUrl+"?s="+encodeURIComponent("s&wd="+h.wd)};a.push(D),this._arrPois.push(D),r.push(D.point)}}else{if(u==RETURN_TYPE_SPECIAL_REGION){p=i=1;var D={title:h.wd,point:SUtil.parseGeoStr(c[0]),url:BMap.mapUrl+"?s="+encodeURIComponent("s&wd="+h.wd)};a.push(D),this._arrPois.push(D),r.push(D.point)}if(u==RETURN_TYPE_CITY_LIST){p=i=0;for(var s=0;s<c.length;s++)_.push({city:c[s].name,_code:c[s].code,numResults:c[s].num});if(this._json.more_city)for(var O=this._json.more_city,s=0,N=O.length;s<N;s++)for(var E=0,z=O[s].city.length;E<z;E++){var c=O[s].city[E];_.push({city:c.name,_code:c.code,numResults:c.num})}}}if(this._arrPoints=r,this._isMultiKey){this._arrResults=[];for(var P=t.userKw.length,U=!0,s=0;s<P;s++){m[s].length>0&&m[s][0].total>0&&(U=!1);var a=new LocalResult({keyword:t.userKw[s]||"",count:m[s].length>0?m[s][0].count:0,total:m[s].length>0?m[s][0].total:0,pageIdx:m[s].length>0?m[s][0].pagenum:0,city:d.name,province:d.up_province_name||"",ccode:d.code,pois:g[s]||[],cityList:_[s]||[],pc:e.getPageCapacity(),center:t.center,radius:t.radius,bounds:t.center&&t.radius?void 0:t.bounds,moreUrl:"",suggestions:f});a._qt=t.params.qt,this._arrResults.push(a)}U?this._setStatus(BMAP_STATUS_UNKNOWN_LOCATION):this._setStatus(BMAP_STATUS_SUCCESS),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,this._arrResults)}else this._results=new LocalResult({keyword:t.userKw,count:p,total:i,pageIdx:h.page_num,city:d.name,province:d.up_province_name||"",ccode:d.code,pois:a,cityList:_,pc:e.getPageCapacity(),center:t.center,radius:t.radius,bounds:t.center&&t.radius?void 0:t.bounds,moreUrl:this._getMoreUrl(t,d),suggestions:f}),this._results._qt=t.params.qt,0==i&&u!=RETURN_TYPE_CITY_LIST?this._setStatus(BMAP_STATUS_UNKNOWN_LOCATION):u!=RETURN_TYPE_CITY_LIST?this._setStatus(BMAP_STATUS_SUCCESS):this._setStatus(BMAP_STATUS_CITY_LIST),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,this._results)},_getMoreUrl:function(t,e){var i,n,o,a="",r="string"==typeof t.center?t.center+" "+t.userKw:t.userKw,s=e.name;if("object"!=typeof t.center||t.center instanceof Point||t.center instanceof PointN||(n=t.center.point,i=t.radius),t.bounds&&!t.center&&(o=t.bounds),t.center&&(t.center instanceof Point||t.center instanceof PointN)&&(n=t.center,i=t.radius),a=BMap.apiUrl+"place/search?res=jsapi&query="+r+"&region="+s+"&output=html",n&&(a+="&location="+n.lat+","+n.lng+"&radius="+i),o){var l=o.getSouthWest(),h=o.getNorthEast();a+="&bounds="+l.lat+","+l.lng+","+h.lat+","+h.lng}return a},_formatAddr:function(t,e){return e=e||BMAP_POI_TYPE_NORMAL,e==BMAP_POI_TYPE_BUSSTOP||e==BMAP_POI_TYPE_SUBSTOP?SUtil.unique(t.split(";")).join("; "):t},_chkMultiKeyResults:function(t){for(var e=0,i=t.length;e<i;e++){if(t[e].getCurrentNumPois()>0)return!0}return!1},_clearOverlays:function(){for(var t=0,e=this._overlays.length;t<e;t++)this._overlays[t].remove(),this._overlays[t]=null;this._overlays.length=0;for(var t=0,e=this._arrPois.length;t<e;t++)this._arrPois[t]=null;this._arrPois.length=0,this._centerMkr&&(this._centerMkr.remove(),this._centerMkr=null)},_getMaxResults:function(){if(!this._isMultiKey)return this._results;for(var t,e=-1,i=0,n=this._arrResults.length;i<n;i++){var o=this._arrResults[i];o.getNumPages()>e&&(t=o,e=o.getNumPages())}return t},clearResults:function(){delete this._json,delete this._status,delete this._results,this._isMultiKey&&delete this._arrResults,delete this._ud,this._curIndex=-1,this._setStatus(),this._clearOverlays(),this._opts.renderOptions.panel&&(this._opts.renderOptions.panel.innerHTML="")},gotoPage:function(t){if(this._useCustomdata)return void this.customSearch.gotoPage(t);if(this._ud){var e;if(e=this._isMultiKey?this._getMaxResults():this._results,"number"==typeof t&&!isNaN(t)&&t>0&&t<=e.getNumPages()){this._ud.params.pageNum=t;switch(this._ud.qt){case QUERY_TYPE_POI_SEARCH:case QUERY_TYPE_POI_SEARCH_CON:this.search(this._ud.params.q,this._ud.options,this._ud);break;case QUERY_TYPE_SEARCH_INBOUNDS:this.searchInBounds(this._ud.params.q,this._ud.bounds,this._ud);break;case QUERY_TYPE_SEARCH_NEARBY:this.searchNearby(this._ud.params.q,this._ud.center,this._ud.radius,this._ud);break;case QUERY_TYPE_SEARCH_INBOUNDS_MULTIKEY:this.searchInBounds(this._ud.userKw,this._ud.bounds,this._ud);break;case QUERY_TYPE_SEARCH_MULTIKEY:this.search(this._ud.userKw,this._ud.options,this._ud);break;case QUERY_TYPE_SEARCH_NEARBY_MULTIKEY:this.searchNearby(this._ud.userKw,this._ud.center,this._ud.radius,this._ud)}}else this._setStatus(BMAP_STATUS_INVALID_REQUEST),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE)}},_createCustomSearchInstance:function(){if(!this.customSearch){var t=this;this.customSearch=new CustomSearch(t)}},select:function(t){this.renderMap.select(t),this.renderList.select(t),this._curIndex=t}}),exportSymbol(LocalSearchP,{gotoPage:LocalSearchP.gotoPage,searchNearby:LocalSearchP.searchNearby,searchInBounds:LocalSearchP.searchInBounds,search:LocalSearchP.search,clearResults:LocalSearchP.clearResults}),baidu.extend(LocalResult.prototype,{getPoi:function(t){if(this._pois[t])return this._pois[t]},getNumPois:function(){return this._numPois},getNumPages:function(){return this._numPages},getCurrentNumPois:function(){return this._currentNumPois},getPageIndex:function(){return this._pageIndex},getCityList:function(){return this._cityList},toString:function(){return"LocalResult"}});var LocalResultP=LocalResult.prototype;exportSymbol(LocalResultP,{getPoi:LocalResultP.getPoi,getCurrentNumPois:LocalResultP.getCurrentNumPois,getNumPois:LocalResultP.getNumPois,getNumPages:LocalResultP.getNumPages,getPageIndex:LocalResultP.getPageIndex,getCityList:LocalResultP.getCityList}),baidu.lang.inherits(CustomSearch,baidu.lang.Class,"CustomSearch"),baidu.extend(CustomSearch.prototype,{search:function(t){if(this.searchType=t.searchType,this.localSearch._isMultiKey=!1,this._check(t)){var e=this;this.localSearch._getIdByLoc(this.localSearch._loc,function(i){t.region=i;var n=e._getParams(t),o={params:n,options:t};e.searchRequest(n,o)})}},_check:function(){var t=!0;return AUTHENTIC_KEY||(this.localSearch._setStatus(BMAP_STATUS_INVALID_KEY),this.localSearch._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE),t=!1),t},_getParams:function(t){var e=this.customData=t.customData;e&&e.geotableId&&(this.isSearchV2=!0);var i={region:t.region,page_size:this.localSearch.getPageCapacity(),ak:AUTHENTIC_KEY};if(t.page_index&&(i.page_index=t.page_index),t.keyword&&(i.q=t.keyword),t.bounds){var n=t.bounds.getSouthWest(),o=t.bounds.getNorthEast();if(this.isSearchV2)var a=n.lng+","+n.lat+";"+o.lng+","+o.lat;else var a=n.lat+","+n.lng+";"+o.lat+","+o.lng;i.bounds=a}if(t.center&&(t.center instanceof Point||t.center.point instanceof Point||t.center instanceof PointN||t.center.point instanceof PointN)){var r=null;t.center instanceof Point||t.center instanceof PointN?r=t.center:(t.center.point instanceof Point||t.center.point instanceof PointN)&&(r=t.center.point),this.isSearchV2?i.location=r.lng+","+r.lat:i.location=r.lat+","+r.lng}return"string"==typeof t.center&&(i.q=t.center+" "+t.keyword,this.searchType="local"),t.radius&&(i.radius=t.radius),this.isSearchV2?i.geotable_id=e.geotableId:e&&e.databoxId&&(i.filter="databox:"+e.databoxId),e.tags&&(i.tags=e.tags),e.filter&&(i.filter=e.filter),i},searchRequest:function(t,e){var i=this,n="geosearch/poi";this.isSearchV2&&(n="geosearch/v2/"+this.searchType),SearchRequestMgr.request(function(t,e){i._rawDataCbk(t,e)},t,e,n)},_rawDataCbk:function(t,e){if(this.localSearch.clearResults(),this.localSearch._ud=e,0!=t.status)return this._results=new LocalResult({keyword:e.options.keyword,pc:this.localSearch.getPageCapacity(),center:e.options.center||"",radius:e.options.radius||"",bounds:e.options.bounds||"",moreUrl:""}),5==t.status?this.localSearch._setStatus(BMAP_STATUS_INVALID_KEY):this.localSearch._setStatus(BMAP_STATUS_UNKNOWN_LOCATION),this.localSearch._results=this._results,this.localSearch._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,this._results),void this.localSearch.renderList.dispatchEvent("render");this._processRaw(t,e),this.localSearch.renderMap.dispatchEvent("render"),this.localSearch.renderList.dispatchEvent("render");var i=e.options.center;i&&"string"!=typeof i&&!(i instanceof Point||i instanceof PointN)&&this.localSearch.getStatus()==BMAP_STATUS_SUCCESS&&this.localSearch.renderMap.addCenterPoi(i);var n={};n.points=this.localSearch._arrPoints,this.localSearch.renderMap.getBestViewport(n);var o=this.localSearch._results;if(this.localSearch._opts.renderOptions.selectFirstResult&&o&&o.getNumPois()>0){var a=this;setTimeout(function(){a.localSearch.select(0)},240)}},_processRaw:function(t,e){var i=t.content||{},n=[],o=[],a=(i.length,this.isSearchV2);a&&(i=t.contents);for(var r=0,s=t.size;r<s&&i[r];r++){var l=i[r];if(a)var h=new Point(l.location[0],l.location[1]);else var h=new Point(l.longitude,l.latitude);var c={title:a?l.title:l.name,uid:l.uid,point:h,url:"",address:a?l.address:l.addr,city:l.city,province:l.province,phoneNumber:l.tel,postcode:l.zip,type:l.cla};n.push(c),o.push(h)}this.localSearch._arrPois=n,this.localSearch._arrPoints=o,this._results=new LocalResult({keyword:e.options.keyword,count:t.size,total:t.total,pageIdx:e.params.page_index,city:"",province:"",ccode:"",pois:n,pc:this.localSearch.getPageCapacity(),center:e.options.center,radius:e.options.radius,bounds:e.options.bounds,moreUrl:""}),0==t.total?this.localSearch._setStatus(BMAP_STATUS_UNKNOWN_LOCATION):this.localSearch._setStatus(BMAP_STATUS_SUCCESS),this.localSearch._results=this._results,this.localSearch._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,this._results)},gotoPage:function(t){var e=this.localSearch._results;"number"==typeof t&&!isNaN(t)&&t>=0&&t<=e.getNumPages()-1?(this.localSearch._ud.params.page_index=t,this.searchRequest(this.localSearch._ud.params,this.localSearch._ud)):(this.localSearch._setStatus(BMAP_STATUS_INVALID_REQUEST),this.localSearch._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE))}}),baidu.lang.inherits(RenderMap,baidu.lang.Class,"RenderMap"),baidu.extend(RenderMap.prototype,{initialize:function(){this.addEventListener("render",this._render)},_render:function(){if(this.map){for(var t=this,e=this.localSearch._arrPois,i=[],n=0,o=e.length;n<o;n++){var a=e[n];i.push(a.point);var r=this._addPoi(a.point,n,a.title);r&&(a.marker=r,function(){var e=n;r.addEventListener("click",function(){t.localSearch.select(e)})}(),this._overlays.push(r))}this.localSearch._triggerCbk(BaseSearch.CBK_MARKERS_SET,e)}},addCenterPoi:function(t){var e=t,i=this;if(e&&"string"!=typeof e&&!(e instanceof Point||e instanceof PointN)){var n=this.localSearch._centerMkr=APIPack.addCenterPoi(this.map,e.point,e.title);n.addEventListener("click",function(){i.localSearch.select(-1),i.localSearch._curIndex="c";var e=i._createInfoWindowByPoi(t);n.openInfoWindow(e)})}},_addPoi:function(t,e,i){return this.localSearch._opts.pageCapacity<=LocalSearch.DEFAULT_PAGE_CAPACITY&&!this.localSearch._isMultiKey?APIPack.addSearchPoi(this.map,t,e,i):APIPack.addSearchInBoundsPoi(this.map,t,i)},select:function(t){if(this.map&&t>-1&&this._overlays[t]){if(isMobile())for(var e=null,i=0,n=this._overlays.length;i<n;i++)e=this._overlays[i],t==i?e.setIcon(e.icoActive):e.setIcon(e.icoDefault),e.draw;else for(var i=0,n=this._overlays.length;i<n;i++)e=this._overlays[i],e.setTop(!1);this.map.closeInfoWindow();var o=this.localSearch._arrPois[t];if(!o)return;var a=this._createInfoWindowByPoi(o),r=this._overlays[t];r.setTop(!0),r.openInfoWindow(a)}},_createInfoWindowByPoi:function(t){var e=APIPack.createSearchInfoWnd({title:t.name||t.title,addr:t.address,tel:t.telphone||t.phoneNumber,uid:t.uid,poiType:t.tag||t.type}),i=this;return e.addEventListener("close",function(){i.localSearch.renderList.clearSelected()}),e.addEventListener("open",function(){i.localSearch._triggerCbk(BaseSearch.CBK_INFO_HTML_SET,t,APIPack.getInfoWindowDom(i.map))}),e},getBestViewport:function(t){var e=this.localSearch._opts.renderOptions;if(this.map)if(t.points){var i=t.points,n=!e.autoViewport,o=!e.selectFirstResult&&e.autoViewport,a=this.map.getViewport(i,{margins:[30,30,30,30]});n||this.map.setViewport(a,{enableAnimation:o})}else t.level=SUtil.getBestLevel(t.level,this.map),e.autoViewport&&this.map.centerAndZoom(t.center,t.level)}}),baidu.lang.inherits(RenderList,baidu.lang.Class,"RenderList"),baidu.extend(RenderList.prototype,{initialize:function(){this.addEventListener("render",this._render)},_render:function(){if(this.panel){var t=create("div",{style:"font:12px "+MapConfig.fontFamily+";border:1px solid #999;"}),e=create("div",{style:"background:#fff"}),i=create("ol",{style:"list-style:none;padding:0;margin:0"}),n=this.localSearch.getStatus(),o=null;if(n==BMAP_STATUS_SUCCESS)for(var a=0,r=this.localSearch._arrPois.length;a<r;a++){var s=this._createItem(a);i.appendChild(s)}else if(n==BMAP_STATUS_CITY_LIST){if(n==BMAP_STATUS_CITY_LIST&&!this.localSearch._isMultiKey)for(var a=0,r=Math.min(6,this.localSearch._results.getCityList().length);a<r;a++){var s=this._createCityItem(a);i.appendChild(s)}}else{var l="";switch(n){case BMAP_STATUS_UNKNOWN_LOCATION:l="抱歉，未找到相关地点。";break;case BMAP_STATUS_INVALID_KEY:l="抱歉，您所提供的key无效。"}var s=create("li",{style:"margin:2px 0;padding:0 5px 0 3px;overflow:hidden;line-height:17px"});s.innerHTML=l,i.appendChild(s)}e.appendChild(i),t.appendChild(e),o=this._createResultsControl(),t.appendChild(o),this.panel.appendChild(t),this.localSearch._triggerCbk(BaseSearch.CBK_RESULTS_HTML_SET,t)}},_createItem:function(t){var e=this.localSearch._arrPois;if(e&&e[t]){var i=e[t],n=create("li",{style:"margin:2px 0;padding:0 5px 5px 0px;cursor:pointer;overflow:hidden;line-height:17px;*zoom:1;"});this.localSearch._curIndex>-1&&t==this.localSearch._curIndex&&(n.style.backgroundColor="#f0f0f0");var o=0==t?"0px":"-"+25*t+"px";(this.localSearch._opts.pageCapacity>LocalSearch.DEFAULT_PAGE_CAPACITY||this.localSearch._isMultiKey)&&(o="-275px");var a,r,s,l=["<span style='background:url("+BMap.apiUrl+"images/markers.png) -23px "+o+" no-repeat;width:19px;height:25px;cursor:pointer;float:left;*zoom:1;overflow:hidden;margin:2px 3px 0 5px;*margin-right:0px;display:inline;'>&nbsp;</span>"];s=this.localSearch._isMultiKey?this.localSearch._ud.userKw.join("|"):this.localSearch._results.keyword;var h=new RegExp(s,"ig");(i.name||i.title)&&(a=(i.name||i.title).replace(h,"<b>$&</b>")),l.push("<div style='zoom:1;overflow:hidden;padding:0 5px;'>"),l.push("<div style='line-height:20px;font-size:12px;'><span style='color:#00c;'>"+a+"</span>"),i.detailUrl&&l.push("<a target='_blank' href='"+i.detailUrl+"' style='margin-left:5px;font-size:12px;color:#3d6dcc;font-weight:normal;text-decoration:none;'>详情&raquo;</a>"),l.push("</div>"),i.address&&(r=i.address.replace(h,"<b>$&</b>"),l.push("<div style='padding:2px 0;line-height:18px;*zoom:1;overflow:hidden;'><b style='float:left;font-weight:bold;*zoom:1;overflow:hidden;padding-right:5px;*margin-right:-3px;'>地址:</b><span style='color:#666;display:block;zoom:1;overflow:hidden;'>"+r+"</span></div>")),(i.telphone||i.phoneNumber)&&l.push("<div style='padding:2px 0;line-height:18px;*zoom:1;overflow:hidden;'><b style='float:left;font-weight:bold;*zoom:1;overflow:hidden;padding-right:5px;*margin-right:-3px;'>电话:</b><span style='color:#666;'>"+(i.telphone||i.phoneNumber)+"</span></div>"),l.push("</div>"),n.innerHTML=l.join("");var c=this;return n.onclick=function(){c.localSearch.select(t)},n}},_createResultsControl:function(){var t=this,e=create("div",{style:"white-space:nowrap;text-align:right;background:#e5ecf9;margin-top:5px;padding:2px;overflow:hidden;zoom:1;"}),i=create("div",{style:"float:left;margin-right:5px"}),n=this.localSearch._getMaxResults();if(this.localSearch._arrPois.length>0){new Page(i,function(e){t.localSearch.gotoPage(e)},{pageCount:n.getNumPages(),page:n.getPageIndex(),update:!1})}return e.appendChild(i),e},clearSelected:function(){this.panel&&"number"==typeof this.localSearch._curIndex&&-1!=this.localSearch._curIndex&&this.panel.getElementsByTagName("li")[this.localSearch._curIndex]&&(this.panel.getElementsByTagName("li")[this.localSearch._curIndex].childNodes[1].style.backgroundColor=""),this.localSearch._curIndex=-1},select:function(t){if(this.panel){var e=this.localSearch._curIndex;"number"==typeof e&&-1!=e&&this.panel.getElementsByTagName("li")[e]&&(this.panel.getElementsByTagName("li")[e].childNodes[1].style.backgroundColor=""),"number"==typeof t&&-1!=t&&this.panel.getElementsByTagName("li")[t]&&(this.panel.getElementsByTagName("li")[t].childNodes[1].style.backgroundColor="#f0f0f0")}},_createCityItem:function(t){var e=create("li",{style:"margin:2px 0;padding:0 5px 0 3px;cursor:pointer;overflow:hidden;line-height:17px"});e._index=t;var i=this.localSearch._results.getCityList();e.innerHTML="<span style='color:#00c;text-decoration:underline'>"+i[t].city+"</span> <span style='color:#666'>(共"+i[t].numResults+"条结果)</span>";var n=this.localSearch,o=n._results;return e.onclick=function(){n.setLocation(o.getCityList()[t].city),n.search(o.keyword)},e}}),window._local=2,window._route=1,baidu.extend(Page.prototype,{render:function(){this.initialize()},initialize:function(){this.checkPages(),this.container.innerHTML=this.createHtml()},checkPages:function(){isNaN(parseInt(this.page))&&(this.page=1),isNaN(parseInt(this.pageCount))&&(this.pageCount=1),this.page<1&&(this.page=1),this.pageCount<1&&(this.pageCount=1),this.page>this.pageCount&&(this.page=this.pageCount),this.page=parseInt(this.page),this.pageCount=parseInt(this.pageCount)},getPage:function(){var t=location.search,e=new RegExp("[?&]?"+this.argName+"=([^&]*)[&$]?","gi");t.match(e);this.page=RegExp.$1},createHtml:function(){var t=[],e=this.page-1,i=this.page+1;if(t.push('<p style="margin:0;padding:0;white-space:nowrap">'),e<1);else{if(this.page>=this.pagecap){var n='<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp1}">首页</a></span>';t.push(n.replace("{temp1}","BMap.I('"+this.guid+"').toPage(1);"))}var n='<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp2}">上一页</a></span>';t.push(n.replace("{temp2}","BMap.I('"+this.guid+"').toPage("+e+");"))}if(this.page<this.pagecap){if(this.page%this.pagecap==0)var o=this.page-this.pagecap-1;else var o=this.page-this.page%this.pagecap+1;var a=o+this.pagecap-1}else{var r=Math.floor(this.pagecap/2),s=this.pagecap%2-1;if(this.pageCount>this.page+r)var a=this.page+r,o=this.page-r-s;else var a=this.pageCount,o=this.page-r-s}if(this.page>this.pageCount-this.pagecap&&this.page>=this.pagecap)var o=this.pageCount-this.pagecap+1,a=this.pageCount;for(var l=o;l<=a;l++)if(l>0)if(l==this.page)t.push('<span style="margin-right:3px">'+l+"</span>");else if(l>=1&&l<=this.pageCount){var n='<span><a style="color:#7777cc;margin-right:3px" href="javascript:void(0)" onclick="{temp3}">['+l+"]</a></span>";t.push(n.replace("{temp3}","BMap.I('"+this.guid+"').toPage("+l+");"))}if(i>this.pageCount);else{var n='<span><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp4}">下一页</a></span>';t.push(n.replace("{temp4}","BMap.I('"+this.guid+"').toPage("+i+");"))}return t.push("</p>"),t.join("")},toPage:function(t){var e=t||1;"function"==typeof this.callback&&(this.callback(e),this.page=e),this.update&&this.render()}}),baidu.extend(RouteResult.prototype,{getStart:function(){return this._start},getEnd:function(){return this._end},getStartStatus:function(){return this._startStatus},getEndStatus:function(){return this._endStatus},getNumPlans:function(){return this._plans.length},getPlan:function(t){if(this._plans[t])return this._plans[t]}}),baidu.inherits(DrivingRouteResult,RouteResult,"DrivingRouteResult"),baidu.inherits(WalkingRouteResult,RouteResult,"WalkingRouteResult"),baidu.inherits(RidingRouteResult,RouteResult,"RidingRouteResult"),baidu.inherits(TransitRouteResult,RouteResult,"TransitRouteResult"),baidu.extend(TransitRouteResult.prototype,{getTransitType:function(){return this.transitType}});var TransitRouteResultP=TransitRouteResult.prototype;exportSymbol(TransitRouteResultP,{getTransitType:TransitRouteResultP.getTransitType});var RouteResultP=RouteResult.prototype;exportSymbol(RouteResultP,{getStart:RouteResultP.getStart,getEnd:RouteResultP.getEnd,getStartStatus:RouteResultP.getStartStatus,getEndStatus:RouteResultP.getEndStatus,getNumPlans:RouteResultP.getNumPlans,getPlan:RouteResultP.getPlan}),baidu.extend(RoutePlan.prototype,{getRoute:function(t){if(this._routes[t])return this._routes[t]},getNumRoutes:function(){return this._routes.length},getDistance:function(t){return!1===t?this._distance:formatDistance(this._distance)},getDuration:function(t){return!1===t?this._duration:formatTime(this._duration,"nav")},getDragPois:function(){return this._dragPois}});var RoutePlanP=RoutePlan.prototype;exportSymbol(RoutePlanP,{getNumRoutes:RoutePlanP.getNumRoutes,getRoute:RoutePlanP.getRoute,getDistance:RoutePlanP.getDistance,getDuration:RoutePlanP.getDuration,getDragPois:RoutePlanP.getDragPois}),baidu.inherits(TransitRoutePlan,RoutePlan,"TransitRoutePlan"),baidu.extend(TransitRoutePlan.prototype,{getNumLines:function(){return this._lines.length},getLine:function(t){if(this._lines[t])return this._lines[t]},getDescription:function(t){return!1===t?SUtil.removeHtml(this._description):this._description},getDuration:function(t){return!1===t?this._duration:formatTime(this._duration,"bustime")},getLinesTitle:function(){for(var t="",e=this._lines.length-1,i=0;i<e;i++)this._lines[i]&&this._lines[i].title&&(t+=this._lines[i].title+" → ");return t+=this._lines[e].title},getBusName:function(t){return t.substring(0,t.indexOf("("))},getWalkDistance:function(){for(var t=0,e=this._routes.length,i=0;i<e;i++)t+=this._routes[i].getDistance(!1);return formatDistance(t)},getNumTotal:function(){return this._totalType.length},getTotalType:function(t){return this._totalType[t]},getTotal:function(t){return this._total[t]}});var TransitRoutePlanp=TransitRoutePlan.prototype;exportSymbol(TransitRoutePlanp,{getNumLines:TransitRoutePlanp.getNumLines,getLine:TransitRoutePlanp.getLine,getNumRoutes:TransitRoutePlanp.getNumRoutes,getRoute:TransitRoutePlanp.getRoute,getDistance:TransitRoutePlanp.getDistance,getDuration:TransitRoutePlanp.getDuration,getDescription:TransitRoutePlanp.getDescription,getNumTotal:TransitRoutePlanp.getNumTotal,getTotalType:TransitRoutePlanp.getTotalType,getTotal:TransitRoutePlanp.getTotal}),baidu.extend(Route.prototype,{getNumSteps:function(){return this._steps.length},getStep:function(t){if(this._steps[t])return this._steps[t]},getDistance:function(t){return!1===t?this._distance:formatDistance(this._distance)},getIndex:function(){return this._index},getPolyline:function(){return this._polyline},getPath:function(){return this._points},getRouteType:function(){return this._rt},getPlanIndex:function(){return this._planIndex}});var RouteP=Route.prototype;exportSymbol(RouteP,{getNumSteps:RouteP.getNumSteps,getStep:RouteP.getStep,getDistance:RouteP.getDistance,getIndex:RouteP.getIndex,getPolyline:RouteP.getPolyline,getPath:RouteP.getPath,getRouteType:RouteP.getRouteType}),baidu.extend(Line.prototype,{getNumViaStops:function(){return this._numViaStops},getGetOnStop:function(){return this._stops[0]},getGetOffStop:function(){return this._stops[1]},getPath:function(){return this._points},getPolyline:function(){return this._polyline},getDistance:function(t){return!1===t?this._distance:formatDistance(this._distance)},getTitle:function(){return this.title}});var LineP=Line.prototype;exportSymbol(LineP,{getNumViaStops:LineP.getNumViaStops,getGetOnStop:LineP.getGetOnStop,getGetOffStop:LineP.getGetOffStop,getPath:LineP.getPath,getPolyline:LineP.getPolyline,getDistance:LineP.getDistance,getTitle:LineP.getTitle}),baidu.extend(Step.prototype,{getPosition:function(){return this._point},getIndex:function(){return this._index},getDescription:function(t){return!1===t?SUtil.removeHtml(this._description):this._description},getDistance:function(t){return!1===t?this._distance:formatDistance(this._distance)},getRouteIndex:function(){return this._routeIndex},getPlanIndex:function(){return this._planIndex}});var StepP=Step.prototype;exportSymbol(StepP,{getPosition:StepP.getPosition,getIndex:StepP.getIndex,getDescription:StepP.getDescription,getDistance:StepP.getDistance}),BaseRoute._genTitle=function(t,e,i){var n="";0===i&&(n+=";border-top:1px solid #e4e6e7");var o="nav-ed";0===i&&(o="nav-st");var a=["<div style='"+n+"'><div style='cursor:pointer;padding:8px 0 8px 10px;line-height:15px'"];return a.push("onclick='"+e+"'>"),a.push("<span class='navtrans-navlist-icon "+o+"'></span>"),a.push("<div style='overflow:hidden;line-height:20px;'>"+t),a.push("</div></div></div>"),a.join("")},BaseRoute._genResultTitle=function(t,e,i){return'<h1 style="margin:0;border-top:1px solid #e4e6e7;'+(i?"border-bottom:1px solid #e4e6e7;padding:10px 0 10px 7px;":"padding:10px 0 9px 7px;")+"font:bold 16px "+MapConfig.fontFamily+'"> '+e+"前往 "+t+" 的路线</h1>"},baidu.extend(BaseRoute.prototype,{search:function(t,e){return!(!t||!e)||(this.clearResults(),this._setStatus(BMAP_STATUS_INVALID_REQUEST),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE),!1)},clearResults:function(){delete this._results,delete this._ud,delete this._json,delete this._boundsPoints,delete this._segPolylinePoints;var t=this._opts.renderOptions;this._setStatus(),t.panel&&(t.panel.innerHTML=""),t.map&&t.map.closeInfoWindow(),this._clearOverlays(),this._curIndex=-1},_formatDestQuery:function(t,e){var i;if(e=e||{},"string"==typeof t)i=[2,"","",t,0,""];else if(t instanceof Point||t instanceof PointN){var n=MercatorProjection.convertLL2MC(t);i=[1,"",n.lng+","+n.lat,e.wd||"",0,""]}else{var n=MercatorProjection.convertLL2MC(t.point);i=[1,""+t.uid,n.lng+","+n.lat,t.title,0,""]}return i.join("$$")+"$$"},_formatDestQuery30:function(t,e){var i;if(e=e||{},"string"==typeof t)i=t;else if(t instanceof Point||t instanceof PointN)i=t.lat.toFixed(6)+","+t.lng.toFixed(6);else{var n=t.point;i=n.lat.toFixed(6)+","+n.lng.toFixed(6)}return i},_formatDestUri:function(t,e){var i;if("string"==typeof t)i=t;else if(t instanceof Point||t instanceof PointN){var n=t;i=n.lat+","+n.lng}else{var n=t.point;i=n.lat+","+n.lng}return"string"!=typeof t&&e&&""!==e&&"string"==typeof e&&(i="name:"+e+"|latlng:"+i),i},getTPointQueryParam:function(t){return this._formatDestQuery(t)+"$$1$$"},_getUriByOptions:function(t){var e;if(t=t||{},"string"==typeof dest)e=dest;else if(dest instanceof Point||dest instanceof PointN){var i=dest;e=i.lat+","+i.lng}else{var i=dest.point;e=i.lat+","+i.lng}return e}});var DEST_START=0,DEST_END=1;exportSymbol(BaseRouteP,{clearResults:BaseRouteP.clearResults}),baidu.extend(TransitRoute.prototype,{_asyncSearch:function(){for(var t=0,e=this._queryList.length;t<e;t++){var i=this._queryList[t];this[i.method].apply(this,i.arguments)}delete this._queryList;var n=this;this._opts.renderOptions.map&&this._opts.renderOptions.map.addEventListener("onpoiselected",function(t){n.preciseSearch(t)})},_internalSearch:function(t,e){function i(t){var e=t.split("$$"),i=e[0],n=null;return/[0-2]/.test(i)&&7===e.length&&(n=e[+i+1]),n}var n=this;this._getIdByLoc(this._loc,function(o){var a={qt:n.QUERY_TYPE,c:o,sn:t,en:e,sy:n._opts.policy||0,ext:1};a.sy===BMAP_TRANSIT_POLICY_AVOID_SUBWAYS&&(a.f="[0,2,4,7,5,8,9,10,11]");var r=i(t),s=i(e);SearchRequestMgr.request(function(t,e){n._rawDataCbk(t,e)},a,{start:r,end:s})})},search:function(t,e){if(!0===BaseRoute.prototype.search.call(this,t,e)){var i=this;this._getIdByLoc(this._loc,function(n){if(!n)return this._setStatus(BMAP_STATUS_INVALID_REQUEST),void this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE);if("string"==typeof e||"string"==typeof t)return i._setStatus(BMAP_STATUS_INVALID_REQUEST),void i._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE);var o;o={output:"json",qt:QUERY_TYPE_DIRECTION,v:"3.0"},o.origin=i._formatDestQuery30(t),o.destination=i._formatDestQuery30(e),o.mode="transit",o.tactics_incity=i._opts.policy||0,o.trans_type_intercity=i._opts.transitTypePolicy||0,o.tactics_intercity=i._opts.intercityPolicy||0;var a={start:t,end:e,_from:"search",policy:o.tactics_incity,intercityPolicy:o.tactics_intercity,transitTypePolicy:o.trans_type_intercity};SearchRequestMgr.request(function(t,e){i._rawDataCbk(t,e)},o,a)})}},preciseSearch:function(t){if(t.sType===this.QUERY_TYPE){var e=t.paramInfo;e.qt=this.QUERY_TYPE;var i=this;e.sy=i._opts.policy||0;var n={start:e.sq,end:e.eq,_from:"preciseSearch"};this._opts._enableTraffic&&(n.reqURL=BMap.mapUrl+"mobile/webapp/interface/wiseBus/",n.enableTraffic=!0),SearchRequestMgr.request(function(t,e){i._rawDataCbk(t,n)},e,n)}},_rawDataCbk:function(t,e){this._opts.renderOptions.map;this.clearResults(),this._json=t;var i=t.result,n=t.content;if(this._ud=e,0!==i.error)this._setStatus(BMAP_STATUS_INVALID_REQUEST),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,{});else if(0!==n.status)this._setStatus(BMAP_STATUS_INVALID_REQUEST),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,{});else if(n.type===DIRECTION_RETURN_TYPE_UNCLEAR)this._setStatus(BMAP_STATUS_INVALID_REQUEST),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,{});else if(n.type===DIRECTION_RETURN_TYPE_CLEAR){var o=n.result;return null===o.routes||0===o.routes.length?(this._setStatus(BMAP_STATUS_INVALID_REQUEST),void this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,{})):(o.origin.city_id===o.destination.city_id||o.origin.city_name===o.destination.city_name?(this._json.content.transitType=BMAP_TRANSIT_TYPE_IN_CITY,this._processRawInCity()):(this._json.content.transitType=BMAP_TRANSIT_TYPE_CROSS_CITY,this._processRawCrossCity()),this._renderList(),void this._selectPlan(0))}},_getRouteStatus:function(t,e){var i=BMAP_ROUTE_STATUS_NORMAL;return 0===e&&(i=t>0?BMAP_ROUTE_STATUS_ADDRESS:BMAP_ROUTE_STATUS_EMPTY),i},_processRawInCity:function(){var t=this._json.content,e=t.result,i={},n={};"object"!=typeof this._ud.start||this._ud.start instanceof Point||this._ud.start instanceof PointN?(i.title="起点",i.city=e.origin.city_name,
i.point=new Point(e.origin.location.lng,e.origin.location.lat)):baidu.extend(i,this._ud.start),"object"!=typeof this._ud.end||this._ud.end instanceof Point||this._ud.start instanceof PointN?(n.title="终点",n.city=e.destination.city_name,n.point=new Point(e.destination.location.lng,e.destination.location.lat)):baidu.extend(n,this._ud.end);var o=t.result.routes,a=[],r=0;this._boundsPoints=[];for(var s=0;s<o.length&&!(r>this._opts.pageCapacity-1);s++){this._boundsPoints[r]=[];for(var l="<table class='trans-plan-content'>",h=o[s],c=h.distance,d=h.duration,u=h.steps,p=0,_=[],g=[],m=[],f=[],v=0;v<u.length;v++){var y=u[v][0],b=[];if(b.push(new Point(y.start_location.lng,y.start_location.lat)),b=b.concat(SUtil.pathToPoints(y.path)),b.push(new Point(y.end_location.lng,y.end_location.lat)),y.vehicle_info.type===BMAP_VEHICLE_TYPE_WALKING){var x=new Route({distance:y.distance,points:b,rt:BMAP_ROUTE_TYPE_WALKING,index:p,planIndex:s});p++,_.push(x),m.push(x);var w="";w=v===u.length-1?n.title:u[v+1][0].vehicle_info.detail.on_station,l+="<tr><td><span class='navtrans-bus-icon walk'></span><div class='navtrans-bus-desc'>步行约"+formatDistance(y.distance)+"，到达<span class='navtrans-busstation'>"+w+"</span></div></td></tr>",f.push(BMAP_TRANSIT_PLAN_TYPE_ROUTE)}else if(y.vehicle_info.type===BMAP_VEHICLE_TYPE_BUS){var P=y.vehicle_info.detail,M={title:P.on_station,point:new Point(y.start_location.lng,y.start_location.lat)},T={title:P.off_station,point:new Point(y.end_location.lng,y.end_location.lat)},C=new Line({title:P.name,distance:y.distance,points:b,stops:[M,T],type:this._getLineType(P.type,!1),numViaStops:P.stop_num});g.push(C),m.push(C),l+="<tr><td><span class='navtrans-bus-icon bus'></span><div class='navtrans-bus-desc'>乘坐<span class='navtrans-busstation'>"+P.name+"</span>，经过"+P.stop_num+"站，到达<span class='navtrans-busstation'>"+T.title+"</span></div></td></tr>",f.push(BMAP_TRANSIT_PLAN_TYPE_LINE)}}l+="</table>";var S=new TransitRoutePlan({routes:_,lines:g,total:m,distance:c,duration:d,description:l,totalType:f});a.push(S),r++}this._results=new TransitRouteResult({plans:a,start:i,end:n,url:"",transitType:this._json.content.transitType,intercityPolicy:this._ud.intercityPolicy,transitTypePolicy:this._ud.transitTypePolicy,policy:this._ud.policy}),this._setStatus(BMAP_STATUS_SUCCESS),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,this._results)},_processRawCrossCity:function(){var t=this._json.content,e=t.result,i={},n={};"object"!=typeof this._ud.start||this._ud.start instanceof Point||this._ud.end instanceof PointN?(i.title="起点",i.city=e.origin.city_name,i.point=new Point(e.origin.location.lng,e.origin.location.lat)):baidu.extend(i,this._ud.start),"object"!=typeof this._ud.end||this._ud.end instanceof Point||this._ud.end instanceof PointN?(n.title="终点",n.city=e.destination.city_name,n.point=new Point(e.destination.location.lng,e.destination.location.lat)):baidu.extend(n,this._ud.end);var o=t.result.routes,a=[],r=0;this._boundsPoints=[];for(var s=0;s<o.length&&!(r>this._opts.pageCapacity-1);s++){this._boundsPoints[r]=[];for(var l="<table class='trans-plan-content'>",h=o[s],c=h.distance,d=h.duration,u=h.steps,p=0,_=[],g=[],m=[],f=[],v=0;v<u.length;v++)for(var y=0;y<u[v].length;y++){var b=u[v][y],x=[];if(x.push(new Point(b.start_location.lng,b.start_location.lat)),x=x.concat(SUtil.pathToPoints(b.path)),x.push(new Point(b.end_location.lng,b.end_location.lat)),b.vehicle_info.type===BMAP_VEHICLE_TYPE_WALKING){var w=new Route({distance:b.distance,points:x,rt:BMAP_ROUTE_TYPE_WALKING,index:p,planIndex:s});p++,_.push(w),m.push(w);var P="";if(v===u.length-1&&y===u[v].length-1)P=n.title;else if(v<u.length-1&&y===u[v].length-1){var M=u[v+1][0].vehicle_info;switch(M.type){case BMAP_VEHICLE_TYPE_BUS:P=M.detail.on_station;break;case BMAP_VEHICLE_TYPE_TRAIN:case BMAP_VEHICLE_TYPE_AIRPLANE:case BMAP_VEHICLE_TYPE_COACH:P=M.detail.departure_station}}else if(y<u[v].length-1){var M=u[v][y+1].vehicle_info;switch(M.type){case BMAP_VEHICLE_TYPE_BUS:P=M.detail.on_station;break;case BMAP_VEHICLE_TYPE_TRAIN:case BMAP_VEHICLE_TYPE_AIRPLANE:case BMAP_VEHICLE_TYPE_COACH:P=M.detail.departure_station}}l+="<tr><td><span class='navtrans-bus-icon walk'></span><div class='navtrans-bus-desc'>步行约"+formatDistance(b.distance)+"，到达<span class='navtrans-busstation'>"+P+"</span></div></td></tr>",f.push(BMAP_TRANSIT_PLAN_TYPE_ROUTE)}else if(b.vehicle_info.type===BMAP_VEHICLE_TYPE_BUS){var T=b.vehicle_info.detail,C={title:T.on_station,point:new Point(b.start_location.lng,b.start_location.lat)},S={title:T.off_station,point:new Point(b.end_location.lng,b.end_location.lat)},E=new Line({title:T.name,distance:b.distance,points:x,stops:[C,S],type:this._getLineType(T.type),numViaStops:T.stop_num});g.push(E),m.push(E),l+="<tr><td><span class='navtrans-bus-icon bus'></span><div class='navtrans-bus-desc'>乘坐<span class='navtrans-busstation'>"+T.name+"</span>，经过"+T.stop_num+"站，到达<span class='navtrans-busstation'>"+S.title+"</span></div></td></tr>",f.push(BMAP_TRANSIT_PLAN_TYPE_LINE)}else if(b.vehicle_info.type===BMAP_VEHICLE_TYPE_TRAIN){var T=b.vehicle_info.detail,C={title:T.departure_station,point:new Point(b.start_location.lng,b.start_location.lat)},S={title:T.arrive_station,point:new Point(b.end_location.lng,b.end_location.lat)},E=new Line({title:T.name,distance:b.distance,points:x,stops:[C,S],type:this._getLineType(b.vehicle_info.type,!0)});g.push(E),m.push(E),l+="<tr><td><span class='navtrans-cross-city-icon train'></span><div class='navtrans-bus-desc'>乘坐<span class='navtrans-busstation'>"+T.name+"</span>到达<span class='navtrans-busstation'>"+S.title+"</span></div></td></tr>",f.push(BMAP_TRANSIT_PLAN_TYPE_LINE)}else if(b.vehicle_info.type===BMAP_VEHICLE_TYPE_AIRPLANE){var T=b.vehicle_info.detail,C={title:T.departure_station,point:new Point(b.start_location.lng,b.start_location.lat)},S={title:T.arrive_station,point:new Point(b.end_location.lng,b.end_location.lat)},E=new Line({title:T.name,distance:b.distance,points:x,stops:[C,S],type:this._getLineType(b.vehicle_info.type,!0)});g.push(E),m.push(E),l+="<tr><td><span class='navtrans-cross-city-icon airplane'></span><div class='navtrans-bus-desc'>乘坐<span class='navtrans-busstation'>"+T.name+"</span>到达<span class='navtrans-busstation'>"+S.title+"</span></div></td></tr>",f.push(BMAP_TRANSIT_PLAN_TYPE_LINE)}else if(b.vehicle_info.type===BMAP_VEHICLE_TYPE_COACH){var T=b.vehicle_info.detail,C={title:T.departure_station,point:new Point(b.start_location.lng,b.start_location.lat)},S={title:T.arrive_station,point:new Point(b.end_location.lng,b.end_location.lat)},E=new Line({title:T.name,distance:b.distance,points:x,stops:[C,S],type:this._getLineType(b.vehicle_info.type,!0)});g.push(E),m.push(E),l+="<tr><td><span class='navtrans-bus-icon bus'></span><div class='navtrans-bus-desc'>乘坐<span class='navtrans-busstation'>"+T.name+"</span>到达<span class='navtrans-busstation'>"+S.title+"</span></div></td></tr>",f.push(BMAP_TRANSIT_PLAN_TYPE_LINE)}else if(b.vehicle_info.type===BMAP_VEHICLE_TYPE_DRIVING){var w=new Route({distance:b.distance,points:x,rt:BMAP_ROUTE_TYPE_DRIVING,index:p,planIndex:s});p++,_.push(w),m.push(w),l+="<tr><td><span class='navtrans-bus-icon drive'></span><div class='navtrans-bus-desc'>驾车约"+formatDistance(b.distance)+"</div></td></tr>",f.push(BMAP_TRANSIT_PLAN_TYPE_ROUTE)}}l+="</table>";var I=new TransitRoutePlan({routes:_,lines:g,total:m,distance:c,duration:d,description:l,totalType:f});a.push(I),r++}this._results=new TransitRouteResult({plans:a,start:i,end:n,url:"",transitType:this._json.content.transitType,policy:this._ud.policy,intercityPolicy:this._ud.intercityPolicy,transitTypePolicy:this._ud.transitTypePolicy}),this._setStatus(BMAP_STATUS_SUCCESS),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,this._results)},_renderPlan:function(t){var e=this._opts.renderOptions.map,i=[],n=this;if(e){var o=this._results.getPlan(t);if(o){var a=this._results.getStart(),r=this._results.getEnd(),s=APIPack.addDestPoi(e,a.point,a.title,DEST_START);a.marker=s,s.addEventListener("click",function(){n._select(0)}),this._overlays.push(s);var l=APIPack.addDestPoi(e,r.point,r.title,DEST_END);r.marker=l,this._overlays.push(l),l.addEventListener("click",function(){n._selectLast()});var h=a.point,c=r.point;this._boundsPoints[t].push(h,c);for(var d=0,u=o.getNumTotal(),p=0;d<u;d++)if(o.getTotalType(d)===BMAP_TRANSIT_PLAN_TYPE_LINE){var _=o.getTotal(d),g=APIPack.addLine(e,_.getPath());_._polyline=g,this._overlays.push(g);var m=_.getGetOnStop();i.push(m);var f=APIPack.addTransPoi(e,m.point,_.type,m.title);m.marker=f,this._overlays.push(f);var v=_.getGetOffStop();i.push(v);var y=APIPack.addTransPoi(e,v.point,_.type,v.title);v.marker=y,function(){var t=p;p+=1,f.addEventListener("click",function(){n._select(2*(t+1)-1)}),y.addEventListener("click",function(){n._select(2*(t+1))})}(),this._overlays.push(y),this._boundsPoints[t].push(m.point,v.point)}else if(o.getTotalType(d)===BMAP_TRANSIT_PLAN_TYPE_ROUTE){var b=o.getTotal(d);g=APIPack.addRoute(e,b.getPath(),b.getRouteType()),b._polyline=g,this._overlays.push(g)}var n=this;this._opts.renderOptions.autoViewport&&e.setViewport(this._boundsPoints[t],{margins:[30,30,30,30]}),this._triggerCbk(BaseSearch.CBK_POLYLINES_SET,o._lines,o._routes),this._triggerCbk(BaseSearch.CBK_MARKERS_SET,[a,r],i)}}},_renderList:function(){if(this._opts.renderOptions.panel&&this._opts.renderOptions.panel.appendChild&&this._results&&this._results.getNumPlans()>0){for(var t=create("div",{style:"font:12px "+MapConfig.fontFamily+";background:#fff"}),e=BaseRoute._genResultTitle(this._results.getEnd().title,"乘公共交通工具"),i=this._genTitleHtml(this._results.getStart().title,'Instance("'+this.guid+'")["_select"](0)',0),n=this._genTitleHtml(this._results.getEnd().title,'Instance("'+this.guid+'")["_selectLast"]()',1),o=["<table style='font:12px "+MapConfig.fontFamily+";border-collapse:collapse;width:100%;' cellpadding='0' cellspacing='0' border='0'>"],a=0,r=this._results.getNumPlans();a<r;a++){var s=this._results.getPlan(a),l=s.getDistance().replace(/(\d+(?:.\d+)?)/,"$1 "),h=s.getDuration().replace(/(\d+)/,"$1 "),c=s.getWalkDistance();bg="";var d="<p style='margin:0px 0px 5px 0px;font-size:14px;color: #36c;'>"+s.getLinesTitle()+"</p>";(this._json.content.transitType=BMAP_TRANSIT_TYPE_IN_CITY)?l+="  &nbsp;|&nbsp;  ":l="";var u="<p style='margin:5px 0px;font-size:12px;'>"+l+h+"  &nbsp;|&nbsp; 步行"+c+"</p>";o.push("<tr class='tranroute-plan-list' style=\"cursor:pointer"+bg+'">'),o.push("<td style='vertical-align:top;line-height:18px' ><div style='margin:3px 0px;border:1px solid #e4e6e7;'><div class='trans-title' style='padding: 5px 10px;' onclick='Instance(\""+this.guid+'")._selectPlan('+a+")'>"+d+u+"</div><div class='trans_plan_desc' style='padding:0px 8px;margin:0px;display:none;position:relative;'>"+i+s.getDescription()+n+"</div></div></td>"),o.push("</tr>")}o.push("</table>");var p="<div style='border-bottom:1px solid #ccc;margin-bottom:10px;color:#7777cc;background:#e5ecf9;overflow:hidden;padding:2px;text-align:right'>";this._results.moreResultsUrl&&(p+="<a style='color:#7777cc' href='"+this._results.moreResultsUrl+"' target='_blank'>到百度地图查看&#187;</a>"),p+="&nbsp;</div>",t.innerHTML=e+o.join("")+p,this._opts.renderOptions.panel.appendChild(t),this._triggerCbk(BaseSearch.CBK_RESULTS_HTML_SET,t)}},_select:function(t,e){var i=this._opts.renderOptions.map;if(i){e=e||window.event;var n=this._results.getPlan(this._curIndex);if(!n)return;var o=this,a=2*n.getNumLines();if(0===t||t===a+1){var r=0===t?this._results.getStart():this._results.getEnd(),s=APIPack.createTransInfoWnd({content:"<b>"+r.title+"</b>",total:a,curIndex:t,nextTransCbk:function(t){o._select(t)}});s.addEventListener("open",function(){o._triggerCbk(BaseSearch.CBK_INFO_HTML_SET,r,APIPack.getInfoWindowDom(i))});var l=0===t?0:1,o=this;i.config.enableStreetEntrance,o._overlays[l].openInfoWindow(s)}else{var h,c,d=n.getLine(Math.floor((t+1)/2)-1),u=d.getTitle();t%2==1?(h=d.getGetOnStop(),c=u+"<b>"+h.title+"上车</b>"):(h=d.getGetOffStop(),c=u+"<b>"+h.title+"下车</b>");var s=APIPack.createTransInfoWnd({content:c,total:a,curIndex:t,nextTransCbk:function(t){o._select(t)}});s.addEventListener("open",function(){o._triggerCbk(BaseSearch.CBK_INFO_HTML_SET,h,APIPack.getInfoWindowDom(i))});var o=this;i.config.enableStreetEntrance,h.marker.openInfoWindow(s)}}},_selectLast:function(t){if(t=t||window.event,this._results&&this._curIndex>-1){var e=this._results.getPlan(this._curIndex);if(!e)return;var i=2*e.getNumLines();this._select(i+1)}},_selectPlan:function(t){if(this._results||this._result.getPlan(t)){var e=(this._results.getPlan(t),this._opts.renderOptions.map);if(e&&(e.closeInfoWindow(),this._clearOverlays(),this._renderPlan(t)),this._opts.renderOptions.panel){var i=this._opts.renderOptions.panel.getElementsByTagName("table")[0];if(!i)return;for(var n=baidu.getElementsByClassName(i,"tranroute-plan-list"),o=baidu.getElementsByClassName(i,"trans_plan_desc"),a=0;a<o.length;a++)a!==t&&(o[a].style.display="none");for(var r=0;r<n.length;r++)baidu.removeClass(n[r],"expand");var s=baidu.getElementsByClassName(n[t],"trans_plan_desc")[0];"none"===s.style.display?(s.style.display="block",baidu.addClass(n[t],"expand")):s.style.display="none"}this._curIndex=t}},_clearOverlays:function(){for(var t=0;t<this._overlays.length;t++)this._overlays[t]&&this._overlays[t]._p&&(this._overlays[t]._p.remove(),this._overlays[t]._p=null),this._overlays[t]&&this._overlays[t].remove(),this._overlays[t]=null;this._overlays.length=0},_getLineType:function(t,e){return e?TransitRoute.LINE_TYPE_MAPPING_CROSS_CITY[t]:TransitRoute.LINE_TYPE_MAPPING[t]},_genTitleHtml:function(t,e,i){var n="";0===i&&(n+="padding-top:5px;");var o="nav-ed";0===i&&(o="nav-st");var a=["<div style='"+n+"'><div style='cursor:pointer;padding:2px 0 2px 0px;line-height:15px'"];return a.push("onclick='"+e+"'>"),a.push("<span class='navtrans-navlist-icon "+o+"'></span>"),a.push("<div style='overflow:hidden;line-height:20px;'>"+t),a.push("</div></div></div>"),a.join("")}});var TransitRouteP=TransitRoute.prototype;exportSymbol(TransitRouteP,{_internalSearch:TransitRouteP._internalSearch}),DWRoute.MAX_THRESHOLD=20,DWRoute.DRAG_REQ_FREQUENCE=50,DWRoute.DRAG_MAXPOINTS=10,baidu.extend(DWRoute.prototype,{init_d:function(){this._d={plys:[],viaPts:[],viaPtsInfo:[],dragOverlays:[],tipLbl:null,sliderMkr:null,dragReqFlag:!1,cbkDragPt:null,cbkPly:null,isSearchByDrag:!1,curDragPly:null,dragSrcCityCode:1,dragEndCityCode:1,cbkStartPoiName:"起点",cbkEndPoiName:"终点",mouseOnViaMkr:!1,cxtMenu:[]}},_asyncSearch:function(){this.init_d();for(var t=0,e=this._queryList.length;t<e;t++){var i=this._queryList[t];this[i.method].apply(this,i.arguments)}delete this._queryList;var n=this;this._opts.renderOptions.map&&this._opts.renderOptions.map.addEventListener("onpoiselected",function(t){n.preciseSearch(t)})},search:function(t,e,i){this._d.isSearchByDrag=!1;if(!0===BaseRoute.prototype.search.call(this,t,e)){var n=this;this._getIdByLoc(this._loc,function(i){i=i||1;var o;o={output:"json",qt:QUERY_TYPE_DIRECTION,v:"3.0"};var a={start:t,end:e};if(n.QUERY_TYPE===QUERY_TYPE_WALKING)o.origin=n._formatDestQuery30(t),o.destination=n._formatDestQuery30(e),o.region=i,o.mode="walking";else if(n.QUERY_TYPE===QUERY_TYPE_DRIVING){if("string"==typeof e||"string"==typeof t)return n._setStatus(BMAP_STATUS_INVALID_REQUEST),void n._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,{});o.origin=n._formatDestQuery30(t),o.destination=n._formatDestQuery30(e),o.mode="driving",o.tactics=n._opts.policy||0,a.policy=o.tactics}else n.QUERY_TYPE===QUERY_TYPE_RIDING&&(o.origin=n._formatDestQuery30(t),o.destination=n._formatDestQuery30(e),o.region=i,o.mode="riding");SearchRequestMgr.request(function(t,e){n._rawDataCbk(t,e)},o,a,"")})}},_dragSearch:function(t,e){var i=this;i._d.isSearchByDrag=!0,i._getIdByLoc(i._loc,function(n){n=n||1;for(var o=MercatorProjection.convertLL2MC(i._d.viaPts[0]),a="1$$$$"+o.lng+","+o.lat+"$$$$",r=i._d.dragSrcCityCode||n,s="",l="",h=1,c=i._d.viaPts.length;h<c;h++){var d=i._d.viaPts[h];h===c-1?(s+=i._formatDestQuery(d),l+=i._d.dragEndCityCode||n):(d.if_wp?s+=i.getTPointQueryParam(d)+"+to:":s+=i._formatDestQuery(d)+"+to:",l+="0 +to:")}var u={qt:i.QUERY_TYPE,c:n,drag:1,sc:r,ec:l,sn:a,en:s,sy:i._opts.policy||0};i._opts._enableTraffic&&(u.route_traffic=1,u.version=4,u.mrs=0);var p={start:t,end:e,enableTraffic:i._opts._enableTraffic};baidu.extend(p,{useEncodeURI:!0}),SearchRequestMgr.request(function(t,e){i._rawDataCbk(t,e)},u,p)})},preciseSearch:function(t){var e=this,i={};i.qt=QUERY_TYPE_DIRECTION,e.QUERY_TYPE===QUERY_TYPE_WALKING&&(i.origin=t.paramInfo.start_name,i.destination=t.paramInfo.end_name,i.region=t.paramInfo.region,i.mode="walking",i.v="3.0"),e.QUERY_TYPE===QUERY_TYPE_RIDING&&(i.origin=t.paramInfo.start_name,i.destination=t.paramInfo.end_name,i.region=t.paramInfo.region,i.mode="riding",i.v="3.0");var n={start:i.origin,end:i.destination};SearchRequestMgr.request(function(t,i){e._rawDataCbk(t,n)},i,n)},_rawDataCbk:function(t,e){this.clearResults(),this._json=t;var i=t.result,n=t.content;if(this._ud=e,0!==i.error)this._setStatus(BMAP_STATUS_INVALID_REQUEST),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,{});else if(0!==n.status||n.result&&null===n.result.routes)this._setStatus(BMAP_STATUS_INVALID_REQUEST),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,{});else if(n.type===DIRECTION_RETURN_TYPE_UNCLEAR){if(this.QUERY_TYPE===QUERY_TYPE_WALKING||this.QUERY_TYPE===QUERY_TYPE_RIDING){var o,a,r=n.result;if(o=this._getRouteStatus30(r.origin.content),a=this._getRouteStatus30(r.destination.content),o!=BMAP_ROUTE_STATUS_EMPTY&&a!=BMAP_ROUTE_STATUS_EMPTY&&this._opts.renderOptions.map){var s=new RouteAddr(t,{renderOptions:this._opts.renderOptions,sType:this.QUERY_TYPE}),l=create("div",{style:"font:12px "+MapConfig.fontFamily+";background:#fff"});return l.innerHTML=s.render(e),this._opts.renderOptions.panel?(this._opts.renderOptions.panel.appendChild(l),void s.initialize()):void s.withoutPanelInitial()}return this._results=this._createResults({city:"",plans:[],startStatus:o,endStatus:a}),this._setStatus(BMAP_STATUS_UNKNOWN_ROUTE),void this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,this._results)}this.QUERY_TYPE}else n.type===DIRECTION_RETURN_TYPE_CLEAR&&(this.QUERY_TYPE===QUERY_TYPE_DRIVING&&(this._opts.renderOptions.panel=null),this._processRaw(),this._renderMap(),this.QUERY_TYPE!==QUERY_TYPE_WALKING&&this.QUERY_TYPE!==QUERY_TYPE_RIDING||this._renderList())},_getRouteStatus:function(t,e){var i=BMAP_ROUTE_STATUS_NORMAL;return 0===e&&(i=t>0?BMAP_ROUTE_STATUS_ADDRESS:BMAP_ROUTE_STATUS_EMPTY),i},_getRouteStatus30:function(t){var e=BMAP_ROUTE_STATUS_NORMAL;return void 0===t||null===t||0===t.length?e=BMAP_ROUTE_STATUS_EMPTY:t.length>0&&(e=BMAP_ROUTE_STATUS_ADDRESS),e},_stopDragging:function(){var t=this;t._d.sliderMkr&&t._d.sliderMkr.disableDragging();for(var e=0,i=this._d.dragOverlays.length;e<i;e++){var n=this._d.dragOverlays[e];n instanceof Marker&&n.disableDragging()}},_processRaw:function(){var t=this,e=this._json.content,i=e.result,n={},o={};"object"!=typeof this._ud.start||this._ud.start instanceof Point||this._ud.start instanceof PointN?t.QUERY_TYPE===QUERY_TYPE_WALKING||t.QUERY_TYPE===QUERY_TYPE_RIDING?(n.title=i.origin.wd||"起点",n.uid=i.origin.uid,n.url=BaseSearch._getPoiUrl(n.uid,i.origin.area_id),n.point=new Point(i.origin.originPt.lng,i.origin.originPt.lat),n.city=i.origin.cname):t.QUERY_TYPE===QUERY_TYPE_DRIVING&&(n.title="起点",n.point=new Point(i.routes[0].origin.lng,i.routes[0].origin.lat)):baidu.extend(n,this._ud.start),"object"!=typeof this._ud.end||this._ud.end instanceof Point||this._ud.end instanceof PointN?t.QUERY_TYPE===QUERY_TYPE_WALKING||t.QUERY_TYPE===QUERY_TYPE_RIDING?(o.title=i.destination.wd||"终点",o.uid=i.destination.uid,o.url=BaseSearch._getPoiUrl(o.uid,i.destination.area_id),o.point=new Point(i.destination.destinationPt.lng,i.destination.destinationPt.lat),o.city=i.destination.cname):t.QUERY_TYPE===QUERY_TYPE_DRIVING&&(o.title="终点",o.point=new Point(i.routes[0].destination.lng,i.routes[0].destination.lat)):baidu.extend(o,this._ud.end);var a=[];this._d.viaPtsInfo.length=0;var r=[];this._segPolylinePoints=[];var s=0,l=[],h=[],c=[],d=[],u=i.routes;if(t.QUERY_TYPE===QUERY_TYPE_WALKING||t.QUERY_TYPE===QUERY_TYPE_RIDING){for(var p=0;p<u.length;p++){for(var _=u[p],g=0;g<1;g++){var m=_.steps;for(j=0;j<m.length;j++){var f=new Point(m[j].stepOriginLocation.lng,m[j].stepOriginLocation.lat),v=j,y=m[j].instructions,b=m[j].distance,x=new Step({point:f,index:v,description:y,distance:b});c.push(x);var w=[];w.push(f),w=w.concat(SUtil.pathToPoints(m[j].path)),w.push(new Point(m[j].stepDestinationLocation.lng,m[j].stepDestinationLocation.lat)),d=d.concat(w),w.length>0&&(this._segPolylinePoints[s]=w,r=r.concat(w)),s++}var b=_.distance,P=new Route({steps:c,distance:b,index:g,points:d,rt:this.ROUTE_TYPE});h.push(P)}var M=new RoutePlan({routes:h,distance:_.distance,duration:_.duration});l.push(M)}var T={plans:l,start:n,end:o}}else if(t.QUERY_TYPE===QUERY_TYPE_DRIVING){for(var p=0;p<u.length;p++){for(var _=u[p],g=0;g<1;g++){var m=_.steps;for(j=0;j<m.length;j++){var f=new Point(m[j].start_location.lng,m[j].start_location.lat),v=j,y="",b=m[j].distance,x=new Step({point:f,index:v,description:y,distance:b});c.push(x);var w=[];w=w.concat(SUtil.pathToPoints(m[j].path)),d=d.concat(w),w.length>0&&(this._segPolylinePoints[s]=w,r=r.concat(w)),s++}var b=_.distance,P=new Route({steps:c,distance:b,index:g,points:d,rt:this.ROUTE_TYPE});h.push(P)}var M=new RoutePlan({routes:h,distance:_.distance,duration:_.duration});l.push(M)}var T={plans:l,start:n,end:o,policy:t._ud.policy}}this._results=this._createResults(T),this._d.viaPts.length=0,this._d.plys.length=0;var C=n.point;this._d.viaPts.push(C);for(var p=0,S=a.length;p<S;p++){var E=a[p];this._d.viaPts.push(E)}var I=o.point;this._d.viaPts.push(I);var L=d;L.stNo=p,L.edNo=p+1,this._d.plys.push(L),this._setStatus(BMAP_STATUS_SUCCESS),this._triggerCbk(BaseSearch.CBK_SEARCH_COMPLETE,this._results)},_getAllStepCount:function(){for(var t=0,e=this._results.getPlan(0),i=0,n=e.getNumRoutes();i<n;i++){t+=e.getRoute(i).getNumSteps()}return t},_getCurStep:function(t){for(var e=0,i=this._results.getPlan(0),n=0,o=i.getNumRoutes();n<o;n++)for(var a=i.getRoute(n),r=0,s=a.getNumSteps();r<s;r++){var l=a.getStep(r);if(e===t)return l;e++}},_getDescription:function(t,e,i,n,o,a,r){var s="",l=parseInt(e.d,10),h=e.poi;h&&(l-=h.pd);var c=formatDistance(l),d=this._getRoadName(a.t,a.n),u=this._getRoadName(e.t,e.n),p=this._getRoadName(e.t,i.n),_=this._getDwType(t.dw)||"",g=t.dr?_+"<span>"+t.dr+"</span>，":"";3===r.rt&&(g+="到达<span>"+this._getRetType(r.rt)+"</span>，");var m=(""!==u&&d===u?"继续":"")+this._getRoadAct(e.t,e.n),f=this._getPoiInfo(e),v=this._getTicInfo(t),y=u===p?"":this._getRetAct(i.t,i.n)+"<span>"+p+"</span>",b=this._getTurnIcon(t.ett||t.extt||t.tt);if(s=b+"<div class='navtrans-navlist-content'>"+m+u+this._getRetType(t.rt)+c+"，"+f+v+g,0===n)s=b+"<div class='navtrans-navlist-content'>从起点向"+this._getTurnType(t.ett||t.extt||t.tt)+"出发</div>";else if(n>0&&n<o-1){var x=this._getTurnType(t.ett||t.extt||t.tt);x||(x=this._getTurnType(1)),s=s+x+y+"</div>"}else s+="到达终点</div>";return s},_isInThreshold:function(t,e,i){if(e&&i&&i.length>0)for(var n=0,o=i.length;n<o;n++){var a=i[n],r=t.pointToPixel(a);if(APIPack.getDistanceByPixel(e,r)<=DWRoute.MAX_THRESHOLD)return!0}return!1},_renderMap:function(){this._opts.renderOptions.map&&this._results&&(this._renderViaMkr(),this._renderPly())},_renderPly:function(){for(var t,e=this._opts.renderOptions.map,i=this._results.getPlan(0),n=i.getRoute(0),o=this._results.getStart(),a=this._results.getEnd(),r=this,s=this._d.viaPts.length,l=[],h=[],c=0,d=this._d.plys.length;c<d;c++){var u=this._d.plys[c];t=APIPack.addRoute(e,u,n.getRouteType()),i._routes[c]._polyline=t,t.stNo=u.stNo,t.edNo=u.edNo;var p=t.getBounds();if(l.push(p.getSouthWest()),l.push(p.getNorthEast()),this._enableDragging&&s<DWRoute.DRAG_MAXPOINTS+2&&(t.addEventListener("mousemove",function(t){if(r._d.mouseOnViaMkr)return void(r._d.sliderMkr&&r._d.sliderMkr.hide());r._d.curDragPly=this,r._d.sliderMkr?r._isInThreshold(e,t.pixel,r._d.viaPts)?r._d.sliderMkr.hide():(r._d.sliderMkr.show(),r._d.sliderMkr.setPosition(t.point),r._d.tipLbl.setContent("拖动以更改路线"),r._d.tipLbl.show(),r._d.sliderMkr.setLabel(r._d.tipLbl)):(r._d.sliderMkr=APIPack.addDragMkr(e,t.point),r._d.sliderMkr.enableDragging(),r._d.sliderMkr.addEventListener("dragging",function(t){var i=r._d.curDragPly.stNo,n=r._d.curDragPly.edNo;r._requestDragging(this,e,i,n)}),r._d.sliderMkr.addEventListener("dragend",function(t){var e=r._d.cbkDragPt,i=e.name,n=r._d.curDragPly.edNo;e.if_wp=null,r._d.viaPts.splice(n,0,e),r._d.viaPtsInfo.splice(n,0,{title:i||"未知路段",curNo:n,point:e}),this.setPosition(e),r._stopDragging(),r._dragSearch(o,a)}),r._d.tipLbl||(r._d.tipLbl=APIPack.createTipLbl("拖动以更改路线")),e.addOverlay(r._d.sliderMkr))}),t.addEventListener("mouseout",function(t){r._d.sliderMkr&&r._d.sliderMkr.hide()})),r._d.dragOverlays.push(t),this._opts._enableTraffic){n=i.getRoute(c);for(var _=0,g=n._steps.length;_<g;_++)for(var m=n._steps[_],f=m.trafficPaths,v=m.trafficStatus,y=0,b=f.length;y<b;y++){if(v[y])var x=APIPack.addRouteWithTraffic(e,f[y],v[y]);h.push(x),r._d.dragOverlays.push(x)}n._trafficePlys=h}}this._opts.renderOptions.autoViewport&&e.setViewport(l,{margins:[30,30,30,30]}),this._triggerCbk(BaseSearch.CBK_POLYLINES_SET,i._routes)},_renderViaMkr:function(){for(var t=this._opts.renderOptions.map,e=(this._results.getPlan(0),this._results.getStart()),i=this._results.getEnd(),n=this,o=0,a=0,r=this._d.viaPts.length;a<r;a++){var s,l=this._d.viaPts[a];if(0===a)s=APIPack.addDestPoi(t,l,e.title,DEST_START),e.marker=s,this.QUERY_TYPE!==QUERY_TYPE_WALKING&&this.QUERY_TYPE!==QUERY_TYPE_RIDING||s.addEventListener("click",function(){n._select(0)}),this._overlays.push(s);else if(a===this._d.viaPts.length-1)s=APIPack.addDestPoi(t,l,i.title,DEST_END),i.marker=s,this.QUERY_TYPE!==QUERY_TYPE_WALKING&&this.QUERY_TYPE!==QUERY_TYPE_RIDING||s.addEventListener("click",function(){n._select(n._getAllStepCount()+1)}),this._overlays.push(s);else{l.if_wp?(s=APIPack.addWayPointMkr(t,l,o),o++,s.if_wp=1):s=APIPack.addDragMkr(t,l),this._d.viaPtsInfo[a-1].marker=s;var h=new ContextMenu;h.addItem(new MenuItem("删除该点",function(t,e,i){n._delVia(i.curNo)},{width:60})),s.addContextMenu(h),n._d.cxtMenu.push(h)}s.curNo=a,this._enableDragging&&(s.enableDragging(),s.addEventListener("mouseover",function(t){n._d.mouseOnViaMkr=!0,n._d.tipLbl?(n._d.tipLbl.setContent("拖动以更改路线"),n._d.tipLbl.show(),this.setLabel(n._d.tipLbl)):(n._d.tipLbl=APIPack.createTipLbl("拖动以更改路线"),this.setLabel(n._d.tipLbl))}),s.addEventListener("mouseout",function(t){this.getLabel()&&this.getLabel().hide(),n._d.mouseOnViaMkr=!1}),s.addEventListener("dragging",function(e){n._requestDragging(this,t)}),s.addEventListener("dragend",function(t){var o=n._d.cbkDragPt,a=this.curNo;this.if_wp&&(o.if_wp=1),n._d.viaPts[a]=o,this.setPosition(o);var r=n._d.viaPts[0],s=n._d.viaPts[n._d.viaPts.length-1];0===a&&(e.point=r,e.title=n._d.cbkStartPoiName),a===n._d.viaPts.length-1&&(i.point=s,i.title=n._d.cbkEndPoiName),n._stopDragging(),n._dragSearch(e,i)})),n._d.dragOverlays.push(s)}var c=[e];c=c.concat(this._d.viaPtsInfo),c=c.concat([i]),this._triggerCbk(BaseSearch.CBK_MARKERS_SET,c)},_requestDragging:function(t,e,i,n){var o=this;if(!0!==o._d.dragReqFlag){o._d.dragReqFlag=!0,setTimeout(function(){o._d.dragReqFlag=!1},DWRoute.DRAG_REQ_FREQUENCE);var a,r=MercatorProjection.convertLL2MC(t.getPosition()),s=e.getZoom(),l=t.curNo,h=o._opts.policy;if("undefiend"!=typeof i&&void 0!==n){var c=o._d.viaPts[i];c=MercatorProjection.convertLL2MC(c);var d=o._d.viaPts[n];d=MercatorProjection.convertLL2MC(d),a={qt:QUERY_TYPE_DARG,pt:r.lng+","+r.lat,sn:c.lng+","+c.lat,en:d.lng+","+d.lat,r:5e3,st:1,et:1,sy:h,l:s}}else if(0===l){var d=o._d.viaPts[l+1];d=MercatorProjection.convertLL2MC(d),a={qt:QUERY_TYPE_DARG,pt:r.lng+","+r.lat,sn:"",en:d.lng+","+d.lat,r:5e3,st:1,et:1,sy:h,l:s}}else if(l===this._d.viaPts.length-1){var c=o._d.viaPts[l-1];c=MercatorProjection.convertLL2MC(c),a={qt:QUERY_TYPE_DARG,pt:r.lng+","+r.lat,sn:c.lng+","+c.lat,en:"",r:5e3,st:1,et:1,sy:h,l:s}}else{var c=o._d.viaPts[l-1];c=MercatorProjection.convertLL2MC(c);var d=o._d.viaPts[l+1];d=MercatorProjection.convertLL2MC(d),a={qt:QUERY_TYPE_DARG,pt:r.lng+","+r.lat,sn:c.lng+","+c.lat,en:d.lng+","+d.lat,r:5e3,st:1,et:1,sy:h,l:s}}var u={curDragMkr:t,map:e,stNo:i,edNo:n};SearchRequestMgr.request(function(t,e){o._requestDraggingCbk(t,e)},a,u)}},_requestDraggingCbk:function(t,e){var i=this;if(t&&t.content){i._d.cbkDragPt=SUtil.parseGeo(t.content.dragpt,!0).point;var n,o=e.map,a=e.stNo,r=e.edNo,s=e.curDragMkr,l=s.curNo;if("undefiend"!=typeof a&&void 0!==r?n=SUtil.parseGeoExt(t.content.geo).points:0===l?(n=SUtil.parseGeo(t.content.geo,!0).points,i._d.cbkStartPoiName=t.content.name?t.content.name:"起点"):l===i._d.viaPts.length-1?(n=SUtil.parseGeo(t.content.geo,!0).points,i._d.cbkEndPoiName=t.content.name?t.content.name:"终点"):n=SUtil.parseGeoExt(t.content.geo).points,n)if(i._clearOldLine(l,o,a,r),i._d.cbkPly)i._d.cbkPly.setPath(n);else{var h=i._results.getPlan(0),c=h.getRoute(0);i._d.cbkPly=APIPack.addRoute(o,n,c.getRouteType())}var d=t.content.name?t.content.name:"未知路段";i._d.cbkDragPt.name=d;var u="("+formatDistance(t.content.dis)+")";i._d.tipLbl&&i._d.tipLbl.show(),i._d.tipLbl&&i._d.tipLbl.setContent(d+u)}},_clearOldLine:function(t,e,i,n){for(var o=0,a=this._d.dragOverlays.length;o<a;o++){var r=this._d.dragOverlays[o];if(r instanceof Polyline)if("undefiend"!=typeof i&&void 0!==n){if(r.stNo===i&&r.edNo===n){e.removeOverlay(r);break}}else r.stNo!==t&&r.edNo!==t||e.removeOverlay(r)}this._hlRoute&&this._hlRoute.hide()},_select:function(t){var e=this._curIndex,i=this._opts.renderOptions;if(i.panel){var n=i.panel.getElementsByTagName("table"),o=n[n.length-1],a=o.getElementsByTagName("tr");e-1>=0&&a[e-1]&&(a[e-1].style.background=""),t-1>=0&&a[t-1]&&(a[t-1].style.background="#f0f0f0")}var r=i.map;if(r){var s=this._results.getPlan(0),l=s.getRoute(0),h=this._getAllStepCount(),c=this;if(r.closeInfoWindow(),0===t||t===h+1){var d=0===t?this._results.getStart():this._results.getEnd(),u=APIPack.createTransInfoWnd({content:"<b>"+d.title+"</b>",total:h,curIndex:t,nextTransCbk:function(t){c._select(t)},hideStep:i.highlightMode!==BMAP_HIGHLIGHT_STEP});u.addEventListener("open",function(){c._triggerCbk(BaseSearch.CBK_INFO_HTML_SET,d,APIPack.getInfoWindowDom(r))}),u.addEventListener("close",function(){if(c._opts.renderOptions.panel){var t=i.panel.getElementsByTagName("table"),e=t[t.length-1];if(e){var n=e.getElementsByTagName("tr");c._curIndex-1>=0&&n[c._curIndex-1]&&(n[c._curIndex-1].style.background="")}}c._curIndex=-1});var p=0===t?0:1,c=this;r.config.enableStreetEntrance,c._overlays[p].openInfoWindow(u),this._hlRoute&&this._hlRoute.hide()}else{var _=i.highlightMode;if(_===BMAP_HIGHLIGHT_STEP){var g=this._getCurStep(t-1),u=APIPack.createTransInfoWnd({content:g.getDescription()?g.getDescription(!1):g.instructions,total:h,curIndex:t,nextTransCbk:function(t){c._select(t)}});u.addEventListener("open",function(){c._triggerCbk(BaseSearch.CBK_INFO_HTML_SET,g,APIPack.getInfoWindowDom(r))}),u.addEventListener("close",function(){if(c._opts.renderOptions.panel){var t=i.panel.getElementsByTagName("table"),e=t[t.length-1];if(e){var n=e.getElementsByTagName("tr");c._curIndex-1>=0&&n[c._curIndex-1]&&(n[c._curIndex-1].style.background="")}}c._curIndex=-1});var m=g.getPosition?g.getPosition():g.pathPoints[g.pathPoints.length-1],c=this;r.config.enableStreetEntrance,r.openInfoWindow(u,m)}else if(_===BMAP_HIGHLIGHT_ROUTE)if(1!==t||this._opts._enableTraffic){if(this._segPolylinePoints[t-1]&&(this._hlRoute?(this._hlRoute.setPath(this._segPolylinePoints[t-1]),this._hlRoute.show()):this._hlRoute=APIPack.addRoute(r,this._segPolylinePoints[t-1],l.getRouteType()+2),i.autoViewport)){var f=r.getViewport(this._hlRoute.getBounds());f.zoom>17&&(f.zoom=17),r.setViewport(f)}}else{var g=this._getCurStep(0)
;r.setCenter(g.getPosition?g.getPosition():g.pathPoints[g.pathPoints.length-1]),i.autoViewport&&r.setZoom(17),this._hlRoute&&this._hlRoute.hide()}}}this._curIndex=t},_toggle:function(){var t=this._opts.renderOptions;if(t.panel){var e=baidu.getElementsByClassName(t.panel,"navtrans-res");e&&e.length>0&&(e=e[0],e&&"none"===e.style.display?e.style.display="":e.style.display="none");var i=baidu.getElementsByClassName(t.panel,"navtrans-view");i&&i.length>0&&(i=i[0],baidu.dom.toggleClass(i,"expand"))}},_clearOverlays:function(){var t=this._opts.renderOptions.map;if(t){for(var e=0,i=this._overlays.length;e<i;e++)t.removeOverlay(this._overlays[e]),this._overlays[e]=null;if(this._overlays.length=0,t.removeOverlay(this._hlRoute),this._hlRoute=null,this._d){this._d.sliderMkr&&(t.removeOverlay(this._d.sliderMkr),this._d.sliderMkr=null),this._d.tipLbl&&(t.removeOverlay(this._d.tipLbl),this._d.tipLbl=null);for(var e=0,i=this._d.dragOverlays.length;e<i;e++)t.removeOverlay(this._d.dragOverlays[e]),this._d.dragOverlays[e]=null;this._d.dragOverlays.length=0,this._d.cbkPly&&(t.removeOverlay(this._d.cbkPly),this._d.cbkPly=null);for(var e=0,i=this._d.cxtMenu.length;e<i;e++)t.removeContextMenu(this._d.cxtMenu[e]),this._d.cxtMenu[e]=null;this._d.cxtMenu.length=0,this._d.mouseOnViaMkr=!1}}},_delVia:function(t){if(this._results){var e=this._results.getStart(),i=this._results.getEnd();this._d.viaPts.splice(t,1),this._stopDragging(),this._dragSearch(e,i)}},_renderList:function(){if(this._opts.renderOptions.panel&&this._opts.renderOptions.panel.appendChild&&this._results&&this._results.getNumPlans()>0){var t=this._results.getPlan(0),e=create("div",{style:"font:12px "+MapConfig.fontFamily+";background:#fff"}),i=this._d.viaPtsInfo,n=i.length,o=[],a="";switch(this.QUERY_TYPE){case QUERY_TYPE_DRIVING:a="驾车";break;case QUERY_TYPE_RIDING:a="骑行";break;case QUERY_TYPE_WALKING:a="步行"}var r=BaseRoute._genResultTitle(this._results.getEnd().title,a,n>0);if(n>0){o.push("<table style='width:100%;margin-left:4px;font:12px "+MapConfig.fontFamily+";border-collapse:collapse' cellpadding='0' cellspacing='0' border='0'>");for(var s=0;s<n;s++)o.push("<tr>"),0===s&&(1===n?o.push('<td style="padding:2px 5px;line-height:20px">途经点</td>'):o.push('<td valign="top" rowspan="'+n+'" style="padding:2px 5px;line-height:18px">途经点</td>')),o.push('<td style="padding:2px 5px;line-height:20px">'+i[s].title+"</td>"),o.push('<td style="padding:2px 10px;line-height:20px;cursor:pointer;color:#0000ff" onclick=\'Instance("'+this.guid+'")._delVia('+i[s].curNo+")'>删除</td>"),o.push("</tr>");o.push("</table>")}for(var l=BaseRoute._genTitle(this._results.getStart().title,'Instance("'+this.guid+'")._select(0)',0),h=["<table class='navtrans-table' style='width:100%;font:12px "+MapConfig.fontFamily+";border-collapse:collapse' cellpadding='0' cellspacing='0' border='0'>"],c=0,d=0,u=t.getNumRoutes();d<u;d++)for(var p=t.getRoute(d),s=0,_=p.getNumSteps();s<_;s++){var g="";this._curIndex===c+1&&(g=";background:#f0f0f0"),h.push('<tr style="cursor:pointer'+g+'" onclick=\'Instance("'+this.guid+'")._select('+(c+1)+")'>"),h.push("<td style='border-bottom:1px solid #E4E6E7;padding:10px;line-height:20px;' >"+(this._getCurStep(c).getDescription?this._getCurStep(c).getDescription():this._getCurStep(c).instructions)+"</td>"),h.push("</tr>"),c++}h.push("</table>");var m=BaseRoute._genTitle(this._results.getEnd().title,'Instance("'+this.guid+'")._select('+(c+1)+")",1),f="<div class='navtrans-view expand' style='position:relative;color:#7777cc;background:#e5ecf9;height:53px;overflow:hidden;text-align:right' onclick='Instance(\""+this.guid+"\")._toggle()'><span class='suggest-plan'>推荐</span><div class='suggest-plan-des'>"+t.getDistance().replace(/(\d+(?:.\d+)?)/,"$1 ")+"&nbsp;&nbsp;|&nbsp;&nbsp;"+t.getDuration().replace(/(\d+)/,"$1 ")+"</div>";this._results.moreResultsUrl&&(f+="<a style='color:#7777cc;position:absolute;top:5px;right:20px;' href='"+this._results.moreResultsUrl+"' target='_blank'>到百度地图查看&#187;</a>"),f+="&nbsp;<span class='navtrans-arrow'></span></div>";var v="<div class='navtrans-res'>"+o.join("")+l+h.join("")+m+"</div>";e.innerHTML=r+f+v,this._opts.renderOptions.panel.appendChild(e),this._triggerCbk(BaseSearch.CBK_RESULTS_HTML_SET,e)}},_getRoadName:function(t,e){return""!==e&&e||9!==t&&12!==t&&1!==t&&16!==t||(e=DWRoute.ROAD_TYPE[t]),e},_getPoiInfo:function(t){var e="",i=t.poi;if(i){var n=this._getPsType(i.ps)||"",o=this._getPwType(i.pw)||"",a=i.pd<(13===t.t||4===t.t?1e3:50)?"":"约"+formatDistance(i.pd)+"后";e=o+n+"<b>"+i.pn+"</b>"+a+(""===n?"":"，")}return e},_getTicInfo:function(t){var e=t.iw;return t.ic?(this._getIwGo(e)||"")+"<b>"+t.ic+"</b>"+(this._getIwTo(e)||""):""},_getRoadAct:function(t,e){var i="沿";return(0===t||!e&&1!==t&&16!==t&&9!==t&&12!==t)&&(i=""),i},_getRetAct:function(t,e){var i="进入";return e||9!==t&&12!==t?(0===t||!e&&1!==t&&16!==t)&&(i=""):i="上",i},_getTaxiFare:function(){if(this._json&&this._json.content&&this._json.content.taxi){var t=this._json.content.taxi,e={distance:t.dis,remark:t.remark};if(t.detail[0]){var i=t.detail[0];e.day={initialFare:parseFloat(i.startPrice),unitFare:parseFloat(i.kmPrice),totalFare:parseFloat(i.totalPrice)}}if(t.detail[1]){var n=t.detail[1];e.night={initialFare:parseFloat(n.startPrice),unitFare:parseFloat(n.kmPrice),totalFare:parseFloat(n.totalPrice)}}return e}return null}}),DrivingRoute.TURN_TYPE=["","直行","右前方转弯","右转","右后方转弯","调头","左后方转弯","左转","左前方转弯","靠左","直行","靠右","正北方向","东北方向","正东方向","东南方向","正南方向","西南方向","正西方向","西北方向"],DrivingRoute.RET_TYPE=["","从起点出发","到达目的地","途经点","行驶"],DrivingRoute.TURN_ICON_CLASS=["s-1","s-1","s-2","s-3","s-4","s-5","s-6","s-7","s-8","s-9","s-1","s-10","","","","","","","",""],DrivingRoute.IWGO=["在","从","从"],DrivingRoute.IWTO=["","","离开"],DrivingRoute.PWTYPE=["过","在"],DrivingRoute.PSTYPE=["左侧的","右侧的",""],DrivingRoute.DWTYPE=["","朝"],baidu.extend(DrivingRoute.prototype,{_createResults:function(t){return new DrivingRouteResult(t)},_getTurnType:function(t){return DrivingRoute.TURN_TYPE[t]},_getTurnIcon:function(t){return'<span class="navtrans-navlist-icon '+(DrivingRoute.TURN_ICON_CLASS[t]?DrivingRoute.TURN_ICON_CLASS[t]:"")+'"></span>'},_getRetType:function(t){return DrivingRoute.RET_TYPE[t]},_getIwGo:function(t){return DrivingRoute.IWGO[t]},_getIwTo:function(t){return DrivingRoute.IWTO[t]},_getPwType:function(t){return DrivingRoute.PWTYPE[t]},_getPsType:function(t){return DrivingRoute.PSTYPE[t]},_getDwType:function(t){return DrivingRoute.DWTYPE[t]}}),WalkingRoute.TURN_TYPE=["","直走","向右前方转","右转","向右后方转","向后转","向左后方转","左转","向左前方转","左转穿过马路并继续向前","右转穿过马路并继续向前","左转穿过马路并往回走","右转穿过马路并往回走","正北方向","东北方向","正东方向","东南方向","正南方向","西南方向","正西方向","西北方向","","","",""],WalkingRoute.TURN_ICON_CLASS=["s-1","s-1","s-2","s-3","s-4","s-5","s-6","s-7","s-8","s-7","s-3","s-7","s-3","","","","","","","","","","","",""],WalkingRoute.RET_TYPE=["","从起点出发","到达目的地","途经点","走"],WalkingRoute.IWGO=["在","从","从"],WalkingRoute.IWTO=["","","离开"],WalkingRoute.PWTYPE=["过","在"],WalkingRoute.PSTYPE=["左侧的","右侧的",""],WalkingRoute.DWTYPE=["","朝"],baidu.extend(WalkingRoute.prototype,{_createResults:function(t){return delete t.url,new WalkingRouteResult(t)},_getTurnType:function(t){return WalkingRoute.TURN_TYPE[t]},_getTurnIcon:function(t){return'<span class="navtrans-navlist-icon '+(WalkingRoute.TURN_ICON_CLASS[t]?WalkingRoute.TURN_ICON_CLASS[t]:"")+'"></span>'},_getRetType:function(t){return WalkingRoute.RET_TYPE[t]},_getIwGo:function(t){return WalkingRoute.IWGO[t]},_getIwTo:function(t){return WalkingRoute.IWTO[t]},_getPwType:function(t){return WalkingRoute.PWTYPE[t]},_getPsType:function(t){return WalkingRoute.PSTYPE[t]},_getDwType:function(t){return WalkingRoute.DWTYPE[t]}}),baidu.extend(RidingRoute.prototype,{_createResults:function(t){return delete t.url,new RidingRouteResult(t)}}),baidu.extend(RouteAddr.prototype,{render:function(t){window.RouteAddrInst=this;var e={},i=this.json;this.endIndex=1;var n=this.endIndex,o=[],a=[],r=["sel_n","sel_n1","sel_y","sel_x","sel_x1"],s=[-1,-1],l=[],a=[],h=i.content.result;this.tpCity=[h.originInfo.area_id,h.destinationInfo.area_id],tempCode=h.originInfo.area_id;for(var c=0;c<n+1;c++){var d=null;if(o.push([]),l.push(""),a.push(""),0==c?h.originInfo&&(this.tpCity[0]=h.originInfo.area_id,tempCode=this.tpCity[0]):h.destinationInfo&&(this.tpCity[c]=h.destinationInfo.area_id,tempCode=this.tpCity[c]),d=this.getCurPoint30(c),d.length>0){a[c]='<a href="javascript:void(0)" ></a>',o[c].push('<div id="RADiv_ResItem'+c+'" class="sel_body_body_div sel_body_resitem">');var u=[0,9];if(d.length<10&&(u[1]=d.length-1),o[c].push(this.makeListTable(c,u)),d.length>10&&(o[c].push('<div id="RADiv_PAGE'+c+'" style="height:20px;" class="sel_body_body_page"></div>'),this.totalPage[c]=Math.ceil(d.length/10),this.curPageIndex[c]=1),o[c].push("</div>"),1===d.length){s[c]=2,this.qInfo[c].n=d[0].name,this.qInfo[c].c=tempCode,this.qInfo[c].u=d[0].uid;var p=new Point(d[0].location.lng,d[0].location.lat),_=p;this.qInfo[c].point=p,this.qInfo[c].x=_.lng,this.qInfo[c].y=_.lat,this.qInfo[c].t=BMAP_POI_TYPE_NORMAL;var g=this.addPointMarker(this._opts.renderOptions.map,_,d[0].name,c);this.markerDest=g,this.locPois.push(g.point),l[c]=d[0].name}else s[c]=0}}for(var m,f,v=0;v<s.length;v++)f=s[v],0!=f||m?m&&0==f&&(s[v]=1):(this.curPointIndex=v,m=v+1);e.startPointClass=r[s[0]],this.startName=h.originInfo.wd,""==l[0]?e.startPoint=this.startName:e.startPoint=l[0],e.startBody=o[0].join(""),e.endPointClass=r[s[n]],this.endName=h.destinationInfo.wd,""==l[n]?e.endPoint=this.endName:e.endPoint=l[n],e.endBody=o[n].join(""),e.startButton=a[0],e.endIndex=n,e.endButton=a[n],this.tpName=[];var y=[""];return e.tpList=y.join(""),this.template(e)},bindEvent:function(){var t,e;baidu.g("RouteAddress_DIV0")&&(t=baidu.g("RouteAddress_DIV0").getElementsByTagName("tr"),this.routDivTrBindFun(t)),baidu.g("RouteAddress_DIV1")&&(e=baidu.g("RouteAddress_DIV1").getElementsByTagName("tr"),this.routDivTrBindFun(e));var i=this;this.infoWindow&&this.infoWindow.addEventListener("open",function(){var t=baidu.g("selInfoWndBtn");baidu.on(t,"click",function(){var e=t.getAttribute("data-uid").split("_");i.itmSelect(e[0],e[1])}),baidu.on(t,"mouseover",function(){i._selBtnOver(t)}),baidu.on(t,"mousedown",function(){i._selBtnDown(t)}),baidu.on(t,"mouseout",function(){i._selBtnOut(t)})});var n,o;baidu.g("RouteAddress_DIV0")&&(n=baidu.g("RouteAddress_DIV0").firstChild.firstChild,baidu.on(n,"click",function(t){var e=n.getAttribute("data-uid");i.showLst(e)})),baidu.g("RouteAddress_DIV1")&&(o=baidu.g("RouteAddress_DIV1").firstChild.firstChild,baidu.on(o,"click",function(t){var e=o.getAttribute("data-uid");i.showLst(e)}))},routDivTrBindFun:function(t){var e=this;this.each(t,function(t,n){baidu.on(n,"mouseover",function(t){var o=n.getAttribute("data-uid").split("_");parseInt(o[0],10);n2=parseInt(o[1],10),i=parseInt(o[2],10),e._lstMouseOver(this,0,o[0],i-n2,t)}),baidu.on(n,"mouseout",function(t){var o=n.getAttribute("data-uid").split("_");parseInt(o[0],10);n2=parseInt(o[1],10),i=parseInt(o[2],10),e._lstMouseOut(this,0,o[0],i-n2,t)}),baidu.on(n,"click",function(t){var o=n.getAttribute("data-uid").split("_"),a=parseInt(o[0],10);n2=parseInt(o[1],10),i=parseInt(o[2],10),e.select(a,i,t)});var o=n.childNodes[2].getElementsByTagName("div")[0];baidu.on(o,"click",function(t){var i=o.getAttribute("data-uid").split("_"),n=i[0],a=i[1];e.itmSelect(n,a)}),baidu.on(o,"onmouseover",function(t){e._selBtnOver(o)}),baidu.on(o,"onmouseout",function(t){e._selBtnOut(o)}),baidu.on(o,"onmousedown",function(t){e._selBtnDown(o)})})},formatJson30:function(t,e){},parseJson:function(t,e){if(t.content||(t.content={start:[],end:[]}),t.content.tpList=[],19==t.result.type){this.parseQuery(t,e);var i=t.content,n=[],o=i.length;if(t.content={start:[],end:[]},o>2)for(var a=1;a<o-1;a++)n.push(i[a]);t.content.end=i[o-1],t.content.tpList=n,t.content.start=i[0]}return t},parseQuery:function(t,e){var i,n,o={},a=this,r=0,s=0,l=[],h=t.result,c=[];o.city_list=[],o.count=[],o.current_null=[],o.e_query=[],o.e_wd=[],o.end_city=[],o.wd2=[],o.prio_flag=[],o.sug_index=[],o.total=[],o.s_wd="",o.s_query="",this.canShowList=[],h.e_wd||(h.e_wd=[],h.e_query=[]),i=this.parseOnePosition(e.start),n=i.type,o.s_wd=1==n?i.keyword:h.s_wd,o.s_query=1==n?i.keyword:h.s_query,1==n&&(a.qInfo[r].n=o.s_wd,a.qInfo[r].x=i.point.split(",")[0],a.qInfo[r].y=i.point.split(",")[1]),this.canShowList.push(2==n),o.total.push(1==n?1:h.total[s]),o.count.push(1==n?1:h.count[s]),o.current_null.push(1==n?0:h.current_null[s]),o.prio_flag.push(1==n?1:h.prio_flag[s]),o.sug_index.push(1==n?"":h.sug_index[s]),l.push(1==n?[{name:i.keyword,geo:"1|"+i.point+";"+i.point+"|"+i.point+";"}]:t.content[s]),o.city_list.push(1==n?0:h.city_list[s]),o.wd2.push(1==n?"":h.wd2[s]),2==n&&s++,r++,c=decodeURIComponent(e.end).split("to:");for(var d,u=0;d=c[u];u++){d=this.parseOnePosition(d),n=d.type,2==n&&d.uid&&d.point&&(n=1),this.canShowList.push(2==n);var p=2==n?d.keyword:0==s?h.s_wd:h.e_wd[s-1];o.e_wd.push(p),o.e_query.push(p),o.end_city.push(1==n?t.current_city:0==s?h.start_city:h.end_city[s-1]),1==n&&(a.qInfo[r].n=o.s_wd,a.qInfo[r].x=d.point.split(",")[0],a.qInfo[r].y=d.point.split(",")[1]),d.if_wp&&(this.insertTP(r-1,{query:o.e_wd[r-1],addr:o.wd2[r],point:1==n?SUtil.getPoiPoint(d.point):null,uid:d.uid}),this.tpListInMap.push({query:o.e_wd[r-1],addr:o.wd2[r],point:1==n?SUtil.getPoiPoint(d.point):null,uid:d.uid})),o.total.push(1==n?1:h.total[s]),o.count.push(1==n?1:h.count[s]),o.current_null.push(1==n?0:h.current_null[s]),o.prio_flag.push(1==n?1:h.prio_flag[s]),o.sug_index.push(1==n?"":h.sug_index[s]),l.push(1==n?[{name:d.keyword,geo:"1|"+d.point+";"+d.point+"|"+d.point+";"}]:t.content[s]),o.city_list.push(1==n?0:h.city_list[s]),o.wd2.push(1==n?"":h.wd2[s]),2==n&&s++,r++}baidu.extend(t.result,o),t.content=l},insertTP:function(t,e){var i=baidu.extend({},e);if(this.tpList.length>t)this.tpList[t]=e;else{if(this.tpList.length!=t)return;this.tpList.push(e)}this.tpList[t]=i},parseOnePosition:function(t){var t=decodeURIComponent(t),e=t.split("$$");return{type:e[0],uid:e[1],point:e[2],keyword:e[3],if_sug:e[4],keyword2:e[5],fe_xy:e[6],if_wp:e[7]}},getCurPoint30:function(t){var e=[];switch(t){case 0:case"0":e=this.json.content.result.origin.content;break;case 1:case"1":e=this.json.content.result.destination.content}return e},getCurPoint:function(t){return 0==t?this.json.content.start:t==this.endIndex?this.json.content.end:this.json.content.tpList[t-1]},makeListTable:function(t,e,i){this.curSelectedIndex=-1;var n=i||this.getCurPoint30(t),o=[];o.push('<div id="RA_ResItem_'+t+'"><table border="0" cellspacing="0" cellpadding="0" style="width:100%">');for(var a=e[0];a<=e[1];a++){o.push('<tr  onmouseover="RouteAddrInst._lstMouseOver(this, 0,'+t+", "+(a-e[0])+', event)" onmouseout="RouteAddrInst._lstMouseOut(this, 0,'+t+", "+(a-e[0])+', event)" onclick="RouteAddrInst.select('+t+","+a+', event)"  filter = "item" data-uid="'+t+"_"+e[0]+"_"+a+'"  ><th><div title="在图上显示该点" class="icon iconbg" id="no_'+t+"_"+(a-e[0]+1)+'"></div></th>');var r=0==t?"选为起点":t==this.endIndex?"选为终点":"选为途经点";o.push('<td style="word-break:break-all;padding-right:24px">'),o.push('<a href="javascript:void(0)">'+n[a].name+"</a>"),n[a].address&&""!=n[a].address&&(o.push("<div>"),o.push('<span style="color:#999">地址: '+n[a].address+"</span>"),o.push("</div>")),o.push("</td>"),o.push('<td style="vertical-align:middle;width:106px"><div tid="selBtn_'+t+"_"+a+'" class="selBtn"  onclick="RouteAddrInst.itmSelect('+t+","+a+');return false;" onmouseover="RouteAddrInst._selBtnOver(this)" onmouseout="RouteAddrInst._selBtnOut(this)" onmousedown="RouteAddrInst._selBtnDown(this)" data-uid = "'+t+"_"+a+'"  >'+r+"</div>"),o.push('<a data-uid="'+n[a].uid+'" href="javascript:void(0);" class="list_street_view_poi" style="visibility:hidden"><img src="/static/images/transparent.gif" ></a>'),o.push("</td>"),o.push("</tr>")}return o.push("</table></div>"),o.join("")},addPointMarker:function(t,e,i,n,o){var a;if(0==n)a=APIPack.addDestPoi(t,e,i,DEST_START);else if(n==this.endIndex)a=APIPack.addDestPoi(t,e,i,DEST_END);else{var r=this.tpListInMap[n-1];r.point=e,o&&(r.uid=o),a=APIPack.addWayPointMkr(t,e,n-1)}return a},template:function(t){var e=[];return e.push('<div class="RouteAddressOuterBkg">'),e.push('<div class="RouteAddressTip"><span>请选择准确的起点、途经点或终点</span></div>'),e.push('<div class="RouteAddressInnerBkg">'),e.push('<div id="pos5" style="display:none"></div>'),e.push('<div id="RouteAddress_DIV0" class="'+t.startPointClass+'"> '),e.push('<div class="sel_body">'),e.push('<div class="sel_body_top" data-uid="0" onclick="RouteAddrInst.showLst(0)" >'),e.push('<div class="sel_body_title">'),e.push('<div class="sel_body_sign"></div>'),e.push('<div class="sel_body_name">起点：<b id="B_PointName0">'+t.startPoint+"</b></div>"),e.push("</div>"),e.push('<div id="RD_TOP_BUT0" class="sel_body_button">'+t.startButton+"</div>"),e.push("</div>"),e.push('<div class="sel_body_body" id="RADIV_BODY0">'+t.startBody+"</div>"),e.push("</div>"),e.push("</div>"),e.push(t.tpList),e.push('<div id="RouteAddress_DIV'+t.endIndex+'" class="'+t.endPointClass+'">'),e.push('<div class="sel_body">'),e.push('<div class="sel_body_top" data-uid='+t.endIndex+' onclick="RouteAddrInst.showLst('+this.endIndex+')" >'),e.push('<div class="sel_body_title">'),e.push('<div class="sel_body_sign"></div>'),e.push('<div class="sel_body_name">终点：<b id="B_PointName'+t.endIndex+'">'+t.endPoint+"</b></div>"),e.push("</div>"),e.push('<div id="RD_TOP_BUT'+t.endIndex+'" class="sel_body_button">'+t.endButton+"</div>"),e.push("</div>"),e.push('<div class="sel_body_body" id="RADIV_BODY'+t.endIndex+'">'+t.endBody+"</div>"),e.push("</div>"),e.push("</div>"),e.push('<div id="pos6" style="display:none"></div>'),e.push("</div>"),e.push("</div>"),e.join("")},showLst:function(t){this.curPointIndex=t;var e=this,i=[];endIndex=i.length+1,d=this.getCurPoint30(t);var n=e.curPageIndex,o=baidu.g("RouteAddress_DIV"+t).className;if("sel_n"!=o&&"sel_x"!=o&&(!this.canShowList||this.canShowList[t])){if("sel_n1"==o||"sel_y"==o||"sel_x1"==o){for(var a=0;a<=endIndex;a++){var r=baidu.g("RouteAddress_DIV"+a);T.G("B_PointName"+a).innerHTML=this.getCurPoiName(a),"sel_x"==r.className?r.className="sel_x1":"sel_n"==r.className&&(r.className="sel_n1")}e.clearMarkers(),e.markerDest&&(this.map.removeOverlay(e.markerDest),e.markerDest=null),"sel_y"==o&&(e.qInfo[t]={n:"",c:0,u:0,x:0,y:0,t:-1},e.resType[t]=0);var s=0;if(0===t?s=e.json.content.result.origin.length:1===t&&(s=e.json.content.result.destination.length),s<=0)baidu.g("RouteAddress_DIV"+t).className="sel_x";else{baidu.g("RouteAddress_DIV"+t).className="sel_n";var l=10*(n[t]-1)+9;d.length<l+1&&(l=d.length-1),e.addMarkers(t,[10*(n[t]-1),l])}}this.curSelectedIndex=-1}},_selectIt:function(t,e){var i,n=this;if(baidu.g("RA_ResItem_"+t)&&(i=baidu.g("RA_ResItem_"+t).childNodes[0]),i){var o=i.rows[e];if(o){o.style.backgroundColor="#F4F4F4";o.getElementsByTagName("td")[1].childNodes[0].style.visibility="visible";o.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition=24*-e+"px -32px"}}if(n.markersList.length>e){var a=new Icon(MapConfig.A_J_MARKER_NEWYEAR_IMG,MapConfig.A_J_MARKER_BLUE_SIZE,{offset:MapConfig.A_J_MARKER_BLUE_OFFSET,imageOffset:new Size(-MapConfig.A_J_MARKER_BLUE_ICON_WID*e,-MapConfig.A_J_MARKER_BLUE_ICON_Y),infoWindowOffset:MapConfig.A_J_MARKER_INFOWND_OFFSET});n.markersList[e].setIcon(a),n._setTop(n.markersList[e],!0,!0)}},_lstMouseOver:function(t,e,i,n,o){var a=this._opts.renderOptions.map;this.curSelectedIndex!=n&&(a.closeInfoWindow(),this._selectIt(i,n))},_lstMouseOut:function(t,e,i,n,o){this.curSelectedIndex!=n&&this._unSelectIt(i,n)},_unSelectIt:function(t,e){var i=this,n=null;if(baidu.g("RA_ResItem_"+t)&&(n=baidu.g("RA_ResItem_"+t).childNodes[0]),n){var o=n.rows[e];o.style.backgroundColor="#ffffff";o.getElementsByTagName("td")[1].childNodes[0].style.visibility="";o.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition=24*-e+"px -64px"}if(i.markersList.length>e){var a=new Icon(MapConfig.A_J_MARKER_NEWYEAR_IMG,MapConfig.A_J_MARKER_RED_SIZE,{offset:MapConfig.A_J_MARKER_NEWYEAR_RED_OFFSET,imageOffset:new Size(-MapConfig.A_J_MARKER_RED_ICON_WID*e,-MapConfig.A_J_MARKER_ORANGE_ICON_Y),infoWindowOffset:MapConfig.A_J_MARKER_NEWYEAR_INFOWND_OFFSET});i.markersList[e].setIcon(a),i._setTop(i.markersList[e],!1)}},_setTop:function(t,e,i){if(t&&t.setTop)return e&&!t._isTop&&t.iconDom&&t.iconDom.style?(t._isTop=!0,void(i?t.setTop(!0,1000100):t.setTop(!0))):void(!e&&t.iconDom&&t.iconDom.style&&(delete t._isTop,t.setTop(!1)))},select:function(t,e,i){if(arguments.length>2){i=i||window.e;if("selBtn"==(i.srcElement||i.target).className)return}var n=(this.json.content,this),o=n.getCurPoint30(t);this.map.closeInfoWindow(),o&&(n.resCity[0]!=n.resCity[1]&&n.markerDest&&this.map&&this.map.setViewport(n.pointsList),this._showInfoWindow(o,t,e),-1!=this.curSelectedIndex&&this._unSelectIt(t,this.curSelectedIndex),this.curSelectedIndex=e%10,this._selectIt(t,this.curSelectedIndex))},clearMarkers:function(){var t=this;!function e(){0!==t.markersList.length&&(t.map.removeOverlay(t.markersList.shift()),e())}(),function e(){0!==t.pointsList.length&&(t.pointsList.shift(),e())}()},itmSelect:function(t,e){var i=this,n=this.map,o=(i.json.content,this.getCurPoint30(t));i.qInfo[t].n=o[e].name,i.qInfo[t].c=this.resCity[t],i.qInfo[t].u=o[e].uid;var a=new Point(o[e].location.lng,o[e].location.lat),r=MercatorProjection.convertLL2MC(a);if(i.qInfo[t].point=a,i.qInfo[t].x=r.lng,i.qInfo[t].y=r.lat,i.qInfo[t].t=BMAP_POI_TYPE_NORMAL,baidu.g("B_PointName"+t)&&(baidu.g("B_PointName"+t).innerHTML=o[e].name),i.markerDest=this.addPointMarker(n,r,o[e].name,t),0!=t&&t!=this.endIndex){this.tpListInMap[t-1].query=o[e].name}if(i.clearMarkers(),this.isAllPointSure())i.markerDest&&(n.removeOverlay(i.markerDest),i.markerDest=null),i.submit();else{baidu.g("RouteAddress_DIV"+t)&&(baidu.g("RouteAddress_DIV"+t).className="sel_y");for(var s=0,l=1;l<=this.endIndex;l++){var h=(t+l)%(this.endIndex+1);if(baidu.g("RouteAddress_DIV"+h)&&"sel_y"!=baidu.g("RouteAddress_DIV"+h).className){s=h;break}s=h;break}if(0==i.resType[s]){baidu.g("RouteAddress_DIV"+s)&&(baidu.g("RouteAddress_DIV"+s).className="sel_n");var c=i.curPageIndex[s],d=10*(c-1)+9,u=this.getCurPoint30(s);u.length<d+1&&(d=u.length-1),i.addMarkers(s,[10*(c-1),d]),i.select(s,0)}else 2==i.resType[s]?baidu.g("RouteAddress_DIV"+s)&&(baidu.g("RouteAddress_DIV"+s).className="sel_n"):baidu.g("RouteAddress_DIV"+s)&&(baidu.g("RouteAddress_DIV"+s).className="sel_x");this.curPointIndex=s}},submit:function(){var t=this,e=this.map,i=t.qInfo[0].c;t.qInfo[t.endIndex].c;var n={},o=new BaseEvent("onpoiselected");n.start_name=t.qInfo[0].point.lat+","+t.qInfo[0].point.lng,n.end_name=t.qInfo[1].point.lat+","+t.qInfo[1].point.lng,n.region=t.qInfo[0].c||t.qInfo[1].c,o.paramInfo=n,e.dispatchEvent(o)},getTPointQueryParam:function(t,e){var i=2,n="",o="",a="",r="0",s="";return(t.point||t.rPoint)&&(i=1,o=t.point?t.point.lng+","+t.point.lat:t.rPoint.lng+","+t.rPoint.lat,t.uid&&(i=2,n=t.uid)),t.query&&(a=t.query),t.addr&&(r="1",s=t.addr),isNaN(e)||(i=e),i+"$$"+n+"$$"+o+"$$"+a+"$$"+r+"$$"+s+"$$$$1$$+to:"},isAllPointSure:function(){for(var t=0;t<=this.endIndex;t++)if(""==this.qInfo[t].n&&!this.qInfo[t].x&&!this.qInfo[t].y||void 0==this.qInfo[t].n)return!1;return!0},_selBtnOver:function(t){t.style.backgroundPosition="-100px -81px"},_selBtnOut:function(t){t.style.backgroundPosition="-21px -81px"},_selBtnDown:function(t){t.style.backgroundPosition="-220px -81px",t.style.fontWeight="bold"},initialize:function(){var t=this,e=this.endIndex;this.json;t.setParsValue();for(var i=0;i<=e;i++)baidu.g("RADiv_PAGE"+i)&&(pg0=new Page("RADiv_PAGE"+i,function(e){var i=t.curPointIndex,n=[10*(e-1),10*e-1];t.resCount[i]<n[1]+1&&(n[1]=t.resCount[i]-1),baidu.dom.remove=function(t){t=baidu.g(t);var e=t.parentNode;e&&e.removeChild(t)},baidu.g("RA_ResItem_"+i)&&(baidu.dom.remove(baidu.g("RA_ResItem_"+i)),T.dom.insertHTML(baidu.g("RADiv_ResItem"+i),"AFTERBEGIN",t.makeListTable(i,n))),t.addMarkers(i,n,!0),baidu.g("RADiv_ResItem"+i).scrollTop=0,t.curPageIndex[i]=e},{pagecap:5,pageCount:t.totalPage[i],page:t.curPageIndex[s]}));var n=[0,9],o=this.curPointIndex,a=T.G("RouteAddress_DIV"+o),r=this.getCurPoint30(o);"sel_n"==a.className?r&&r.length>0&&(r.length<n[1]+1&&(n[1]=r.length-1),t.addMarkers(o,n),t.select(o,0)):this.markerDest&&"sel_x"==a.className&&this.map.setViewport(this.locPois);for(var s=0;s<=e;s++)if("sel_y"==baidu.g("RouteAddress_DIV"+s).className){var l=this.getCurPoint30(s);l.length>0&&l[0].ifFromIW&&1==l[0].ifFromIW&&(T.rc(T.G("RD_TOP_BUT"+s),"sel_body_button"),baidu.g("RD_TOP_BUT"+s).innerHTML="")}},withoutPanelInitial:function(){var t=this,e=this.endIndex;this.json;t.setParsValue();for(var i=0;i<=e;i++){var n=t.curPointIndex,o=[0,9];t.resCount[n]<o[1]+1&&(o[1]=t.resCount[n]-1),t.addMarkers(n,o,!0)}var a=[0,9],r=this.curPointIndex,s=(T.G("RouteAddress_DIV"+r),this.getCurPoint30(r));1==r?s&&s.length>0&&(s.length<a[1]+1&&(a[1]=s.length-1),t.addMarkers(r,a)):this.markerDest&&0==r&&this.map&&this.map.setViewport(this.pointsList),t.select(r,0)},setStatusByRes:function(t){var e=this.map;if(t.current_city&&!(1&t.result.result_show||29!=t.result.type&&13!=t.result.type)){var i=t.current_city,n=["country","province","city","area"],o=null!=i.type?modelConfig.level[n[i.type]]:void 0,a=null!=i.geo?a=SUtil.parseGeo(i.geo,!0).point:void 0;e.enableLoadTiles?(o&&e.zoomTo(o),a&&e.setCenter(a)):(e.enableLoadTiles=!0,e.centerAndZoom(a||e.getCenter(),o||e.getZoom()))}},setParsValue:function(){this.resCity=this.tpCity;var t=this.json.content.result;t.origin.content.length>0?(1===t.origin.content.length?this.resType[0]=1:this.resType[0]=0,this.resCount[0]=t.origin.content.length):this.resType[0]=3,t.destination.content.length>0?(1===t.destination.content.length?this.resType[1]=1:this.resType[1]=0,this.resCount[1]=t.destination.content.length):this.resType[1]=3},addMarkers:function(t,e,i){var n=(this.json.content,this),o=this.getCurPoint30(t),a=n.map;if(n.clearMarkers(),o){for(var r=e[0];r<=e[1];r++){var s=new Point(o[r].location.lng,o[r].location.lat);n.markersList.push(APIPack.addSearchPoi_R(s,r-e[0],o[r].name,{type:"RouteAddrMarker"},a)),n.pointsList.push(s)}var l=n.pointsList;n.markerDest&&n.resCity[0]==n.resCity[1]&&l.push(n.markerDest.point);if(this.map.getMapType()==BMAP_PERSPECTIVE_MAP){var h=MapType[BMAP_PERSPECTIVE_MAP].citys,c=h[a.currentCity][1],d=getPointsBounds(l),u=a.getViewport(d).zoom;c.intersects(d)?(u<=15&&(u=15),a.centerAndZoom(l[0],u)):a&&a.setViewport(l)}else a&&a.setViewport(l);11==n.pointsList.length&&n.pointsList.pop();for(var p=this.markersList,r=e[0];r<=e[1];r++)!function(){var i=r;p[r-e[0]]&&(p[r-e[0]].addEventListener("click",function(){n.select(t,i)}),p[r-e[0]].addEventListener("mouseover",function(){var e=i%10;n.curSelectedIndex!=e&&n._selectIt(t,e)}),p[r-e[0]].addEventListener("mouseout",function(){var e=i%10;n.curSelectedIndex!=e&&n._unSelectIt(t,e)}))}()}},_showInfoWindow:function(t,e,i){var n=this,o=t[i],a="<span class='iw_poi_title' title='"+o.name+"'>"+o.name+"</span>",r=[],s="";o.address&&""!=o.address&&(s="地址: "+o.address),r.push("<div style='padding:11px 11px 6px 11px;line-height:20px;word-break:break-all'>"+s+"</div>"),r.push("<div style='line-height:180%;margin-bottom:10px;'>");var l="选为途经点";0==e&&(l="选为起点"),e==this.endIndex&&(l="选为终点"),r.push("<div style='text-align:center;'><div id='selInfoWndBtn' class='selInfoWndBtn'  data-uid = '"+e+"_"+i+"'  />"+l+"</div>"),r.push("</div>"),this.infoWindow?(this.infoWindow.setTitle(a),this.infoWindow.setContent(r.join(""))):(this.infoWindow=new InfoWindow(r.join(""),{title:a,height:0,width:280,margin:[0,0,0,0]}),this.infoWindow.addEventListener("open",function(){var t=baidu.g("selInfoWndBtn");baidu.on(t,"click",function(){var e=t.getAttribute("data-uid").split("_");n.itmSelect(e[0],e[1])}),baidu.on(t,"mouseover",function(){n._selBtnOver(t)}),baidu.on(t,"mousedown",function(){n._selBtnDown(t)}),baidu.on(t,"mouseout",function(){n._selBtnOut(t)})}),this.infoWindow.addEventListener("close",function(){n._unSelectIt(e,h)}));var h=i%10;this.markersList&&this.markersList[h]&&this.markersList[h].openInfoWindow(this.infoWindow)},getCurPoiName:function(t){return void 0==t&&(t=this.curPointIndex),0==t?this.startName:t==this.endIndex?this.endName:this.tpName[t-1]},each:function(t,e){for(var i=0,n=t.length;i<n;i++)e(i,t[i])}}),baidu.extend(RouteSearch.prototype,{_asyncSearch:function(t,e,i){var n=this,o=this.getUrl(t,e,i);n.goURI("web",o)},routeCall:function(t,e,i){var n=this,o=this.getUrl(t,e,i);n.goURI("web",o)},setPointParameters:function(t,e){var i=this.opts,n="";if(t&&t.latlng&&t.name){var o=t.latlng;n="latlng:"+o.lat+","+o.lng,n+="|name:"+t.name}else{var o=t.latlng;n=o?o.lat+","+o.lng:t.name?t.name:""}i[e]=n},getUrl:function(t,e,i){this.setPointParameters(t,"origin"),this.setPointParameters(e,"destination"),this.opts=baidu.object.extend(this.opts,i);var n=this.opts,o=[],a="";void 0!==n.origin&&""!==n.origin||(n.origin="");var r={destination:!1,mode:!1};for(var s in n)a=s+"="+n[s],o.push(a),void 0!==r[s]&&(r[s]=!0);if(this.mode=n.mode,!1===r.mode){var l="mode="+BMAP_MODE_DRIVING;this.mode=BMAP_MODE_DRIVING,o.push(l),r.mode=!0}var h=!0;for(var c in r)h=h&&r[c];return!!h&&o.join("&")},goURI:function(t,e,i){if(e){var n=protolHead[t]+e+"&src=baidu|jsapi";_addStat(7e3,{mode:this.mode}),"web"===t&&(n+="&output=html"),location.href=n,i&&i()}}}),window._route=2,window._othersearch=1,baidu.extend(Geocoder.prototype,{_asyncSearch:function(){for(var t=0,e=this._queryList.length;t<e;t++){var i=this._queryList[t];this[i.method].apply(this,i.arguments)}delete this._queryList},getPoint:function(t,e,i){if(i=i||"北京市",!/^[ \s]*$/.test(t))return BMap.offline?void DataMgr.ajax({url:BMap.searchUrl+"/geocode/v1/geocode?address="+t+"&city="+i+"&ret_coortype="+BMap.coordReturn[BMap.tileDir],success:function(t){if(0===t.status){var i=t.result,n=new Point(i.location.x,i.location.y),o=i;e&&e(n,o)}else console.log(t.message)}}):void SearchRequestMgr.request(function(t){if(t&&t.result&&t.result.type==RETURN_TYPE_GEOCODER){var i=t.result,n=t.content,o=null,a=null;if(i&&0==i.error&&n){var r=n.coord.x,s=n.coord.y,l=n.cn,h=n.sc,c=n.wd,d=n.prc,u=n.fuzzy_score,p=n.catalog;o=new Point(r,s),o=MercatorProjection.convertMC2LL(o),a={city:l,citycode:h,address:c,precise:d,confidence:u,level:p}}e&&e(o,a)}},{qt:QUERY_TYPE_GEOCODER,wd:t,cn:i})},getLocation:function(t,e,i){if(!(t instanceof Point||t instanceof PointN)&&e)return void e(null);if(BMap.offline)return void DataMgr.ajax({url:BMap.searchUrl+"/search/v1/geocoding?location="+t.lat+","+t.lng+"&outputCrs="+BMap.coordReturn[BMap.tileDir]+"&coordinateType="+BMap.coordReturn[BMap.tileDir],success:function(t){0===t.status?e&&e(t.result[0]):console.log(t.message)}});var n=this,t=MercatorProjection.convertLL2MC(t),o=t.lng,a=t.lat,i=i||{},r=i.poiRadius||100,s=i.numPois||10;SearchRequestMgr.request(function(t){var i=null;if(t&&t.result&&t.result.type==RETURN_TYPE_REVERSE_GEOCODER){var n,o=t.result,a=t.content,r={},s=[];if(0==o.error&&a){var l=a.address_detail,h=l.city;l&&(r.streetNumber=l.street_number,r.street=l.street,r.district=l.district,r.city=h,r.province=l.province,r.town=l.town),n=a.point;var c=new Point(n.x,n.y);c=MercatorProjection.convertMC2LL(c);var d=a.surround_poi;if(d&&d.length)for(var u=0,p=d.length;u<p;u++){var _={},g=d[u];_.title=g.name,_.uid=g.uid;var m=new Point(g.point.x,g.point.y);m=MercatorProjection.convertMC2LL(m),_.point=m,_.city=h,_._poiType=g.poiType,_.type=BMAP_POI_TYPE_NORMAL,_.address=g.addr,_.postcode=g.zip||null,_.phoneNumber=g.tel||null;var f=_._poiType;0!==f.length&&(_.tags=f.split(",")),s.push(_)}i={point:c,address:a.address,addressComponents:r,surroundingPois:s,business:a.business}}}e&&e(i)},{qt:QUERY_TYPE_REVERSE_GEOCODER,x:o,y:a,dis_poi:r,poi_num:s,latest_admin:"1",extensions_town:n._opts.extensions_town||!1})}}),exportSymbol(GeocoderP,{getPoint:GeocoderP.getPoint,getLocation:GeocoderP.getLocation}),baidu.extend(Geolocation.prototype,{
getCurrentPosition:function(t,e){function i(t){if(HTML5Geolocation.checkUsability()){return void new HTML5Geolocation({timeout:o.config.timeout,maximumAge:o.config.maximumAge,enableHighAccuracy:o.config.enableHighAccuracy}).getCurrentPosition(function(t){s(t)},function(e){switch(e.errorCode){case e.ERR_PERMISSION_DENIED:o.statusCode=BMAP_STATUS_PERMISSION_DENIED,l(null);break;case e.ERR_POSITION_UNAVAILABLE:o.statusCode=BMAP_STATUS_UNKNOWN_LOCATION,t();break;case e.ERR_TIMEOUT:o.statusCode=BMAP_STATUS_TIMEOUT,t()}})}}function n(t){if(highaccIPGeolocation.checkUsability()){return void new highaccIPGeolocation({}).getCurrentPosition(function(t){s(t)},function(e){t()})}t()}var o=this,a=!1;e=e||{},o.config={timeout:e.timeout||o.config.timeout,maximumAge:e.maximumAge||o.config.maximumAge,enableHighAccuracy:e.enableHighAccuracy||o.config.enableHighAccuracy,SDKLocation:e.SDKLocation||o.config.SDKLocation};var r=setTimeout(function(){a||(o.statusCode=BMAP_STATUS_TIMEOUT,l(null))},o.config.timeout),s=function(e){a||(r&&(clearTimeout(r),r=null),o.geolocationInfo=e,null!==BMap&&(t.apply(o,arguments),a=!0,_addStat(STAT.GEOLOCATION_CURRENT_LOCATION,{longitude:e.longitude,latitude:e.latitude,accuracy:e.accuracy})))},l=function(e){a||(r&&(clearTimeout(r),r=null),o.geolocationInfo=e,t.apply(o,arguments),a=!0)};!function(t){new SDKLocation({SDKLocation:o.config.SDKLocation}).getCurrentPosition(function(t){s(t)},function(){t()})}(function(){i(function(){n(function(){o.statusCode=BMAP_STATUS_UNKNOWN_LOCATION,l(null)})})})},getStatus:function(){return this.geolocationInfo&&(this.statusCode=BMAP_STATUS_SUCCESS),this.statusCode}}),Geolocation.prototype.getCurrentPosition=Geolocation.prototype.getCurrentPosition,Geolocation.prototype.getStatus=Geolocation.prototype.getStatus,HTML5Geolocation.checkUsability=function(){return!!navigator.geolocation},baidu.extend(HTML5Geolocation.prototype,{getCurrentPosition:function(t,e){var i,n=function(e){if(/BIDUBrowser/i.test(navigator.userAgent)){return void(new Geocoder).getLocation(new Point(e.coords.longitude,e.coords.latitude),function(i){var n=new GeolocationInfo;n.accuracy=e.coords.accuracy>1999?1999:e.coords.accuracy,n.longitude=e.coords.longitude,n.latitude=e.coords.latitude,n.point=new Point(n.longitude,n.latitude),i.addressComponents&&(i.addressComponents.province&&(n.address.province=i.addressComponents.province),i.addressComponents.city&&(n.address.city=i.addressComponents.city),i.addressComponents.district&&(n.address.district=i.addressComponents.district),i.addressComponents.street&&(n.address.street=i.addressComponents.street),i.addressComponents.streetNumber&&(n.address.street_number=i.addressComponents.streetNumber)),t(n)})}var i=Math.floor(1e5*Math.random()),n="_cbk"+i;window.baidu=window.baidu||{},window.baidu[n]=function(i){var n={x:i.x,y:i.y},o=new Point(n.x,n.y),a=new GeolocationInfo;a.accuracy=e.coords.accuracy>1999?1999:e.coords.accuracy,a.longitude=o.lng,a.latitude=o.lat,a.point=new Point(o.lng,o.lat),(new Geocoder).getLocation(o,function(e){var i=e.addressComponents;i&&(i.province&&(a.address.province=i.province),i.city&&(a.address.city=i.city),i.district&&(a.address.district=i.district),i.street&&(a.address.street=i.street),i.streetNumber&&(a.address.street_number=i.streetNumber)),t(a)})};var o=["qt=coordtrans","x="+e.coords.longitude,"y="+e.coords.latitude,"from=0","to=4","callback=baidu."+n];requestScript(BMap.apiUrl+"?"+o.join("&"))},o=function(t){var i=new GeolocationError;if(t.code===t.PERMISSION_DENIED&&-1===t.message.indexOf("secure")&&(i.errorCode=i.ERR_PERMISSION_DENIED,i.errorMessage="用户决绝定位请求"),t.code===t.POSITION_UNAVAILABLE&&(i.errorCode=i.ERR_POSITION_UNAVAILABLE,i.errorMessage="定位不可用"),t.message.indexOf("secure")>-1){confirm(location.hostname+"想要获取您当前的位置。允许请点击确定，禁止请点击取消")?(i.errorCode=i.ERR_POSITION_UNAVAILABLE,i.errorMessage="定位不可用"):(i.errorCode=i.ERR_PERMISSION_DENIED,i.errorMessage="用户决绝定位请求")}t.code===t.TIMEOUT&&(i.errorCode=i.ERR_TIMEOUT,i.errorMessage="定位超时"),e(i)},a=navigator.userAgent.toLowerCase();if(a.indexOf("like mac os x")>0){var r=/os [\d._]*/gi;i=(a.match(r)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")}var s=i+"";if("undefined"!=s&&s.length>0&&parseInt(i)>=10||baidu.browser.safari>0){var l=this,h=document.createElement("iframe");h.height=0,h.width=0,h.style.borderWidth=0,h.src="https://api.map.baidu.com/res/staticPages/location.html?timeout="+l.config.timeout+"&maximumAge="+l.config.maximumAge+"&enableHighAccuracy="+l.config.enableHighAccuracy+"&type=3",document.body.appendChild(h),window.addEventListener("message",function(t){if(t.data)try{var e=JSON.parse(t.data);e.code?o(e):n(e)}catch(t){}},!1)}else navigator.geolocation.getCurrentPosition(n,o,{enableHighAccuracy:this.config.enableHighAccuracy,maximumAge:this.config.maximumAge})}}),highaccIPGeolocation.checkUsability=function(){return!0},baidu.extend(highaccIPGeolocation.prototype,{getCurrentPosition:function(t,e){var i=Math.floor(1e5*Math.random()),n="_cbk"+i;window[n]=function(i){if(i.result){if(161===i.result.error){if(i.content&&i.content.location){var n=new GeolocationInfo;n.accuracy=i.content.radius,n.longitude=i.content.location.lng,n.latitude=i.content.location.lat,n.point=new Point(i.content.location.lng,i.content.location.lat)}return i.content&&i.content.address_component&&(i.content.address_component.country&&(n.address.country=i.content.address_component.country),i.content.address_component.province&&(n.address.province=i.content.address_component.province),i.content.address_component.city&&(n.address.city=i.content.address_component.city),i.content.address_component.district&&(n.address.district=i.content.address_component.district),i.content.address_component.street&&(n.address.street=i.content.address_component.street),i.content.address_component.street_number&&(n.address.street_number=i.content.address_component.street_number)),void t(n)}if(0===i.result.error){if(i.content&&i.content.location){var n=new GeolocationInfo;n.longitude=i.content.location.lng,n.latitude=i.content.location.lat,n.point=new Point(i.content.location.lng,i.content.location.lat)}return i.content&&i.content.address_component&&(i.content.address_component.country&&(n.address.country=i.content.address_component.country),i.content.address_component.province&&(n.address.province=i.content.address_component.province),i.content.address_component.city&&(n.address.city=i.content.address_component.city),i.content.address_component.district&&(n.address.district=i.content.address_component.district),i.content.address_component.street&&(n.address.street=i.content.address_component.street),i.content.address_component.street_number&&(n.address.street_number=i.content.address_component.street_number)),void t(n)}}var o=new GeolocationError;o.errorCode=o.ERR_POSITION_UNAVAILABLE,o.errorMessage="请求IP地理定位信息失败",e(o)};var o="pc";isMobile()&&(o="mb");var a={qterm:o,coding:this.config.coding,coord:this.config.coord,extensions:this.config.extensions,callback_type:this.config.callback_type,ak:AUTHENTIC_KEY,qt:"hip",v:"3.0"};SearchRequestMgr.request(function(t,e){window[n](t)},a)}}),baidu.extend(SDKLocation.prototype,{getCurrentPosition:function(t,e){var i=Math.floor(1e5*Math.random()),n="_cbk"+i;if(window.baidu=window.baidu||{},window.baidu[n]=function(o){if((o=JSON.parse(o))&&1===o.errorcode){i=Math.floor(1e5*Math.random()),n="_cbk"+i,window.baidu=window.baidu||{},window.baidu[n]=function(e){var i={x:e.x,y:e.y},n=new Point(i.x,i.y),o=new GeolocationInfo;o.longitude=n.lng,o.latitude=n.lat,o.point=new Point(n.lng,n.lat),(new Geocoder).getLocation(n,function(e){var i=e.addressComponents;i&&(i.province&&(o.address.province=i.province),i.city&&(o.address.city=i.city),i.district&&(o.address.district=i.district),i.street&&(o.address.street=i.street),i.streetNumber&&(o.address.street_number=i.streetNumber)),t(o)})};var a=["qt=coordtrans","x="+o.longitude,"y="+o.latitude,"from=0","to=4","callback=baidu."+n];requestScript(BMap.apiUrl+"?"+a.join("&"))}else e()},this.config.SDKLocation&&window.BaiduLocAssistant&&window.BaiduLocAssistant.sendMessage){var o={action:"requestLoc",callback:"baidu."+n};window.BaiduLocAssistant.sendMessage(JSON.stringify(o))}else e()}}),baidu.extend(LocalCity.prototype,{_asyncSearch:function(){for(var t=0,e=this._queryList.length;t<e;t++){var i=this._queryList[t];this[i.method].apply(this,i.arguments)}delete this._queryList},get:function(t){var e=this;SearchRequestMgr.request(function(i){if(i&&i.result&&i.result.type==RETURN_TYPE_CURRENT_CITY){var n=i.result,o=i.content;if(n&&0==n.error){var a=e._opts.renderOptions.map,r=o.level,s=o.cname,l=o.code,h=SUtil.parseGeo(o.geo,!0).point;r=SUtil.getBestLevel(r,a),a&&a.centerAndZoom(h,r)}t&&t({center:h,level:r,name:s,code:l})}},{qt:QUERY_TYPE_LOCALCITY})}}),baidu.extend(Boundary.prototype,{_asyncSearch:function(){for(var t=0,e=this._queryList.length;t<e;t++){var i=this._queryList[t];this[i.method].apply(this,i.arguments)}delete this._queryList},get:function(t,e){var i=BMap.searchUrl+"/search/v1/boundary?q="+t;DataMgr.ajax({url:i,success:function(t){0===t.status?e(t.result[0]):console.log(t.message)},fail:function(t){console.error("/search/v1/boundary",t)}})},getOnline:function(t,e){var i={};if(i.boundaries=[],"中国"===t||"全国"===t||"中华人民共和国"===t)return void(e&&e(i));var n=["119.590757,23.808251;119.268804,23.41408;119.422881,23.163397;119.758632,23.201668;119.726437,23.588002;119.70804,23.763808;119.645949,23.797671","121.642055,25.312114;121.752439,25.169879;121.945611,25.186621;121.991604,25.052618;122.055995,24.985561;121.872022,24.834547;121.88122,24.624496;121.899617,24.498294;121.798432,24.270807;121.697247,24.135805;121.642055,23.958396;121.504076,23.288798;121.439685,23.178281;121.310904,22.991042;121.255712,22.812068;121.053342,22.624316;120.933759,22.290847;121.016547,21.990891;120.86017,21.887901;120.648601,21.947988;120.584211,22.376429;120.289854,22.51325;120.11508,22.939931;120.013895,23.118734;119.9771,23.543483;120.372642,24.11892;120.694595,24.641313;121.126931,25.119638;121.559268,25.337197;121.623658,25.345557","120.38414,22.372151;120.423234,22.355038;120.372642,22.307967;120.347346,22.329365;120.351945,22.355038;120.356544,22.363595","121.506375,22.696888;121.552369,22.660607;121.517874,22.611506;121.469581,22.64353;121.464981,22.690486;121.492577,22.701155","121.589163,22.100236;121.600661,22.050934;121.623658,22.012338;121.637456,21.939406;121.596062,21.93726;121.550069,22.014483;121.499476,22.044502;121.501776,22.102379;121.54087,22.102379","122.08819,25.668005;122.110037,25.488627;121.911116,25.435387;122.027249,25.658625;122.057144,25.669047","123.686455,25.955273;123.730149,25.909524;123.58527,25.699264;123.454189,25.743012;123.557674,25.817972;123.594468,25.84711","124.589072,25.924082;124.60172,25.894964;124.564926,25.902244;124.567226,25.929282;124.571825,25.930321","115.973388,21.36321;116.152762,21.298566;116.152762,21.164878;116.148163,21.039704;116.056176,21.000836;115.863004,21.035386;115.835409,21.143304;115.830809,21.26839;115.844607,21.358902;115.922796,21.36321","118.474702,24.527161;118.4862,24.509276;118.491949,24.487706;118.498848,24.46771;118.501148,24.448764;118.501148,24.435079;118.492524,24.422972;118.481026,24.411916;118.467228,24.406125;118.443082,24.39928;118.41721,24.386643;118.378116,24.379797;118.314301,24.369264;118.28728,24.371898;118.247035,24.378217;118.230363,24.377164;118.202192,24.376111;118.182645,24.375584;118.167122,24.375584;118.159073,24.378744;118.156199,24.389802;118.160223,24.397174;118.167697,24.407178;118.17862,24.424024;118.194718,24.434026;118.210241,24.444027;118.232088,24.457185;118.254509,24.472972;118.275206,24.488232;118.289579,24.497702;118.316025,24.506646;118.35052,24.521375;118.368918,24.529791;118.386165,24.537154;118.405137,24.540836;118.425834,24.543465;118.449981,24.541888;118.460904,24.53768"];if("台湾省"===t||"台湾"===t){for(var o=0;o<6;o++)i.boundaries[o]=n[o];i.boundaries[6]=n[9],e&&e(i)}if("钓鱼岛"===t){for(var o=0;o<1;o++)i.boundaries[o]=n[6];e&&e(i)}if("赤尾屿"===t){for(var o=0;o<1;o++)i.boundaries[o]=n[7];e&&e(i)}SearchRequestMgr.request(function(o){if(o&&o.content&&o.content.uid){var a=o.content.uid;SearchRequestMgr.request(function(o){if(o&&o.content&&o.content.geo){var a=SUtil.parseGeo(o.content.geo,!1);if(a.geo&&a.geo.length&&a.geo.length>0){var r=a.geo.length;for(C=0;C<r;C++){var s=a.geo[C];if(s&&s.length&&s.length>0){for(var l=s.length-1,h=[],c=!1,d=0,u=0,p=0;p<l;p+=2){var _=s[p],g=s[p+1],m=new Point(_,g);if(m=MercatorProjection.convertMC2LL(m),p<l-3){var f=s[p+2],v=s[p+3],y=new Point(f,v);y=MercatorProjection.convertMC2LL(y)}var b=function(t,e){t.lng>109&&t.lng<113&&t.lat>15&&t.lat<19&&(t.lng-e.lng>1&&t.lat-e.lat<-1&&(c=!0,d=p/2),t.lng-e.lng<-1&&t.lat-e.lat>1&&(c=!0,u=p/2))};if(t.indexOf("全国")>-1||t.indexOf("中国")>-1||t.indexOf("中华人民共和国")>-1){if(function(t){return t.lng>=117.546263&&t.lng<=118.711042&&t.lat>=38.697981&&t.lat<=38.91302}(m)||function(t){return t.lng>=113.576516&&t.lng<=113.638822&&t.lat>=22.146067&&t.lat<=22.156645}(m)){h.length=0;break}b(m,y)}t.indexOf("海南")>-1&&b(m,y),h.push(m.lng+", "+m.lat)}if(!0===c){if(d>u){var x=d;d=u,u=x}var w=h,P=h.splice(d+1),M=P.splice(u-d);w=w.concat(M),i.boundaries.push(w.join(";")),i.boundaries.push(P.join(";")),c=!1;continue}0!==h.length&&i.boundaries.push(h.join(";"))}}}}var T=i.boundaries.length;if(("中国"===t||"全国"===t||"中华人民共和国"===t)&&i.boundaries.length>0)for(var C=0;C<n.length-1;C++)i.boundaries[T+C]=n[C];e&&e(i)},{qt:QUERY_TYPE_EXT,num:1e3,l:10,uid:a})}else e&&e(i)},{qt:QUERY_TYPE_POI_SEARCH,wd:t})},_parseGeoSpecial:function(t){var e=[];if("string"!=typeof t)return e;for(var i=t.split("|"),n=i[2],o=n.split(";"),a=0;a<o.length-1;a++){for(var r=o[a],s=[],l=r.split(","),h=0;h<l.length;h+=2){var c=l[h],d=l[h+1],u=new Point(c,d);u=MercatorProjection.convertMC2LL(u),s.push(u.lng+", "+u.lat)}e.push(s.join(";"))}return e}}),exportSymbol(BoundaryP,{get:BoundaryP.get}),window._othersearch=2,window._buslinesearch=1,baidu.extend(BusLineSearch.prototype,{_asyncSearch:function(){for(var t=0,e=this._queryList.length;t<e;t++){var i=this._queryList[t];this[i.method].apply(this,i.arguments)}delete this._queryList},_getMoreUrl:function(t,e,i){return t=MercatorProjection.convertLL2MC(t),BMap.mapUrl+"?c="+t.lng+","+t.lat+"&i="+e+","+encodeURIComponent(i)+"&s="+encodeURIComponent("tpl:LinesQuery")},getBusList:function(t){var e=this;this._getIdByLoc(this._loc,function(i){if(!i)return this._busListResult=new BusListResult({keyword:t,city:"",moreUrl:"",_cityCode:""}),e._setStatus(BMAP_STATUS_INVALID_REQUEST),void e._triggerCbk(BaseSearch.CBK_BUSLIST_COMPLETE,this._busListResult);var n={qt:e.QUERY_TYPE_BUSLIST,c:i,wd:t};SearchRequestMgr.request(function(t,i){e._busListDataCbk(t,i)},n,{keyword:t})})},_busListDataCbk:function(t,e){this.clearResults();var i=t.result;if(!t.content||0!=i.error||i.type!=this.RETURN_TYPE_BUSLIST)return this._busListResult=new BusListResult({keyword:e.keyword,city:t.current_city.name,moreUrl:"",_cityCode:t.current_city.code}),this._setStatus(BMAP_STATUS_SERVICE_UNAVAILABLE),void this._triggerCbk(BaseSearch.CBK_BUSLIST_COMPLETE,this._busListResult);for(var n=t.content,o=[],a=0,r=n.length;a<r;a++){var s={name:n[a].name,_uid:n[a].uid,_cityCode:t.current_city.code,_index:a,_keyword:e.keyword,_poiType:n[a].poiType||2};o.push(s)}this._busListResult=new BusListResult({keyword:e.keyword,city:t.current_city.name,moreUrl:this._getMoreUrl(SUtil.parseGeo(t.current_city.geo,!0).point,t.current_city.code,e.keyword),listItems:o,_cityCode:t.current_city.code}),this._setStatus(BMAP_STATUS_SUCCESS),this._triggerCbk(BaseSearch.CBK_BUSLIST_COMPLETE,this._busListResult),this._renderBusListPanel(),this._jumpCity(t.current_city.geo,t.current_city.level,t.current_city.code)},_renderBusListPanel:function(){if(this._opts.renderOptions.panel&&this._opts.renderOptions.panel.appendChild&&this._busListResult&&this._busListResult.getNumBusList()>0){var t=create("div",{style:"font:12px "+MapConfig.fontFamily+";background:#fff"});t.id="divResult"+this.guid;for(var e=this._busListResult.getNumBusList(),i=[],n=0;n<e;n++){var o=this._busListResult.getBusListItem(n).name;i.push('<dl style="margin:3px 3px"><dt><span style="cursor:pointer" onclick=Instance(\''+this.guid+"')._selectBusListItem("+n+")><img id=imgBLIcon"+n+" src="+BusLineSearch._iconOpen+' style="border:none" /></span>&nbsp;&nbsp;<a style="color:blue" href="javascript:void(0)" onclick=Instance(\''+this.guid+"')._selectBusListItem("+n+")>"+o+"</a></dt><dd id=ddBLInfo"+n+' style="display:none;margin:2px 0px"></dd></dl>')}var a="";this._busListResult.moreResultsUrl&&(a+="<div style='color:#7777cc;background:#e5ecf9;overflow:hidden;padding:2px;text-align:right'>",a+="<a style='color:#7777cc' href='"+this._busListResult.moreResultsUrl+"' target='_blank'>到百度地图查看&#187;</a>",a+="&nbsp;</div>"),t.innerHTML=i.join("")+a,this._opts.renderOptions.panel.appendChild(t),this._triggerCbk(BaseSearch.CBK_BUSLISTHTML_SET,t)}},_jumpCity:function(t,e,i){var n=this._opts.renderOptions.map;if(n){var o=SUtil.parseGeo(t,!0).point;this._preCityCode?this._preCityCode!=i&&(n.centerAndZoom(o,e),this._preCityCode=i):(n.centerAndZoom(o,e),this._preCityCode=i)}},_switchDDContainer:function(t){if(this._busListResult)for(var e=0,i=this._busListResult.getNumBusList();e<i;e++){var n=baidu.G("ddBLInfo"+e),o=baidu.G("imgBLIcon"+e);e==t&&"none"==n.style.display?(n.style.display="block",o.src=BusLineSearch._iconClose):(n.style.display="none",o.src=BusLineSearch._iconOpen)}},_selectBusListItem:function(t,e){if(!e){var i=baidu.G("ddBLInfo"+t),n=baidu.G("imgBLIcon"+t);if("block"==i.style.display)return i.style.display="none",void(n.src=BusLineSearch._iconOpen)}if(this._busListResult&&this._busListResult[t]&&this._busListResult[t].getNumBusStations()>0)return this._busLine=this._busListResult[t],this._setStatus(BMAP_STATUS_SUCCESS),this._triggerCbk(BaseSearch.CBK_BUSLINE_COMPLETE,this._busLine),this._renderBusLinePanel(t),void this._renderBusLineMap(t);var o=this,a=this._busListResult.getBusListItem(t),r={qt:o.QUERY_TYPE_BUSLINE,c:a._cityCode,uid:a._uid};SearchRequestMgr.request(function(e,i){o._busLineDataCbk(e,i,t)},r,{name:a.name,_poiType:a._poiType})},clearResults:function(){delete this._busListResult,delete this._busLine,delete this._stops,delete this._preA,this._clearOverlays(),this._opts.renderOptions.panel&&(this._opts.renderOptions.panel.innerHTML="")},getBusLine:function(t){t&&"object"==typeof t&&t._uid&&""!=t._uid&&void 0!==t._cityCode&&""!=t._cityCode.toString()&&void 0!==t._index&&""!=t._index.toString()&&void 0!==t._keyword&&""!=t._keyword.toString()&&this._busListResult&&this._busListResult.getNumBusList()>0&&t._cityCode==this._busListResult._cityCode&&t._keyword==this._busListResult.keyword&&this._selectBusListItem(t._index,!0)},_busLineDataCbk:function(t,e,i){var n=t.result;if(!t.content||!t.content[0]||0!=n.error||n.type!=this.RETURN_TYPE_BUSLINE)return this._busLine=new BusLine({name:e.name}),this._setStatus(BMAP_STATUS_SERVICE_UNAVAILABLE),void this._triggerCbk(BaseSearch.CBK_BUSLINE_COMPLETE,this._busLine);var o=t.content[0],a="",r="",s="",l={},h=[];if(a=o.startTime,r=o.endTime,s=o.company,o.geo){l=new Polyline(SUtil.parseGeo(o.geo,!0).points)}if(o.stations)for(var c=0,d=o.stations.length;c<d;c++)if(o.stations[c].geo){var u=SUtil.parseGeo(o.stations[c].geo,!0),p={name:o.stations[c].name,position:u.point,_uid:o.stations[c].uid};h.push(p)}this._busLine=new BusLine({name:e.name,startTime:a,endTime:r,company:s,polyline:l,stations:h,_poiType:e._poiType}),this._setStatus(BMAP_STATUS_SUCCESS),this._triggerCbk(BaseSearch.CBK_BUSLINE_COMPLETE,this._busLine),this._busListResult[i]=this._busLine,this._renderBusLinePanel(i),this._renderBusLineMap(i)},_renderBusLinePanel:function(t){if(this._opts.renderOptions.panel&&this._opts.renderOptions.panel.appendChild&&this._busLine&&this._busLine.getNumBusStations()>0){this._switchDDContainer(t);var e=baidu.G("ddBLInfo"+t);if(e){var i=[];i.push('<table style="width:100%;background:#CDCDCD;font:12px '+MapConfig.fontFamily+'" cellspacing="1" cellpadding="1" ><tbody>'),i.push('<tr><td style="width:95px;line-height:22px;padding:0px 8px;text-align:left;vertical-align:top;background:#F4F4F4" >首末车时间</th><td  style="background:#FFFFFF;line-height:22px;padding:0px 8px" >'+this._busLine.startTime+"-"+this._busLine.endTime+"</td></tr>"),i.push('<tr><td style="width:95px;line-height:22px;padding:0px 8px;text-align:left;vertical-align:top;background:#F4F4F4" >所属公司</th><td  style="background:#FFFFFF;line-height:22px;padding:0px 8px" >'+this._busLine.company+"</td></tr>"),i.push("</tbody></table>"),4==this._busLine._poiType?i.push('<p style="margin:2px 0px;font:12px '+MapConfig.fontFamily+';">沿线地铁站:</p>'):i.push('<p style="margin:2px 0px;font:12px '+MapConfig.fontFamily+';">沿线公交站点:</p>'),i.push('<table style="width:100%;font:12px '+MapConfig.fontFamily+';" ><tbody>');for(var n=0,o=this._busLine.getNumBusStations();n<o;n++){var a=n+1;i.push('<tr><td style="width:20px">'+a+"</th><td><a id=aStop_"+t+"_"+n+' style="color:blue" href="javascript:void(0)" onclick=Instance(\''+this.guid+"')._selectBusStop("+t+","+n+")>"+this._busLine.getBusStation(n).name+"</a></td></tr>")}i.push("</tbody></table>"),e.innerHTML=i.join("")}var r=baidu.G("divResult"+this.guid);this._triggerCbk(BaseSearch.CBK_BUSLINEHTML_SET,r)}},_renderBusLineMap:function(t){if(this._opts.renderOptions.map&&this._busLine&&this._busLine.getNumBusStations()>0){this._clearOverlays(),APIPack.addRoute(this._opts.renderOptions.map,this._busLine.getPath());var e=this._busLine.getPolyline();this._triggerCbk(BaseSearch.CBK_POLYLINES_SET,e);var i=this;this._stops=[];for(var n=0,o=this._busLine.getNumBusStations();n<o;n++){var a=this._busLine.getBusStation(n).position,r=this._busLine.getBusStation(n).name,s=APIPack.addStationPoi(this._opts.renderOptions.map,a,r);!function(e,n,o){e.addEventListener("click",function(a){var r=["<div style='font:12px "+MapConfig.fontFamily+"'>"];r.push("<div style='margin:10px 1em 24px 0'><b>"+n+"</b></div>"),r.push("</div>");var s=new InfoWindow(r.join(""),{title:"",height:0,width:220,margin:[10,10,20,10]});s.addEventListener("open",function(){var e=baidu.G("aStop_"+t+"_"+o);e&&(e.style.backgroundColor="#cccccc")}),s.addEventListener("close",function(){var e=baidu.G("aStop_"+t+"_"+o);e&&(e.style.backgroundColor="#ffffff")});var l=i._opts.renderOptions.map;l.config.enableStreetEntrance?PanoramaEntranceUtil.insearchPanoEntranceInInfoWnd(s,l.getCurrentCity().code,{panoInstance:l._pano,lngLat:a.target.getPosition(),titleTip:n,type:"busline"},function(){e.openInfoWindow(s)}):e.openInfoWindow(s)})}(s,r,n),s._stName=r,this._stops.push(s)}this._triggerCbk(BaseSearch.CBK_MARKERS_SET,this._stops),this._opts.renderOptions.autoViewport&&this._opts.renderOptions.map.setViewport(e.getPath(),{margins:[5,5,5,5]})}},_selectBusStop:function(t,e){if(this._opts.renderOptions.map&&this._stops&&this._stops.length>0){var i=this._stops[e];if(i._stName){var n=["<div style='font:12px "+MapConfig.fontFamily+"'>"];n.push("<div style='margin:10px 1em 24px 0'><b>"+i._stName+"</b></div>"),n.push("</div>");var o=new InfoWindow(n.join(""),{title:"",height:0,width:220,margin:[10,10,20,10]});o.addEventListener("open",function(){var i=baidu.G("aStop_"+t+"_"+e);i&&(i.style.backgroundColor="#cccccc")}),o.addEventListener("close",function(){var i=baidu.G("aStop_"+t+"_"+e);i&&(i.style.backgroundColor="#ffffff")});var a=this._opts.renderOptions.map;a.config.enableStreetEntrance?PanoramaEntranceUtil.insearchPanoEntranceInInfoWnd(o,a.getCurrentCity().code,{panoInstance:a._pano,lngLat:i.getPosition(),titleTip:i._stName,type:"busline"},function(){i.openInfoWindow(o)}):i.openInfoWindow(o)}}else{this.preA&&(this.preA.style.backgroundColor="#ffffff");var r=baidu.G("aStop_"+t+"_"+e);r&&(r.style.backgroundColor="#cccccc"),this.preA=r}},_clearOverlays:function(){this._opts.renderOptions.map&&this._opts.renderOptions.map.clearOverlays()},_setStatus:function(t){"number"==typeof t?this._status=t:delete this._status}}),baidu.extend(BusListResult.prototype,{getBusListItem:function(t){if(this._listItems[t])return this._listItems[t]},getNumBusList:function(){return this._listItems.length}});var BusListResultP=BusListResult.prototype;exportSymbol(BusListResultP,{getNumBusList:BusListResultP.getNumBusList,getBusListItem:BusListResultP.getBusListItem}),baidu.extend(BusLine.prototype,{getBusStation:function(t){if(this._stations[t])return this._stations[t]},getNumBusStations:function(){return this._stations.length},getPolyline:function(){return this._polyline},getPath:function(){if(this._polyline.getPath())return this._polyline.getPath()}});var BusLineP=BusLine.prototype;exportSymbol(BusLineP,{getNumBusStations:BusLineP.getNumBusStations,getBusStation:BusLineP.getBusStation,getPath:BusLineP.getPath,getPolyline:BusLineP.getPolyline}),window._buslinesearch=2,window._hotspot=1,BMap.register(function(t){function e(){h=!1}function i(){h=!0}function n(t){var e=this.temp;if(e.curSpots=[],this._hotspots)for(var i in this._hotspots)if(!(0==i.indexOf("vector_")&&!this.vectorMapEnabled()||0==i.indexOf("tile_")&&this.vectorMapEnabled())){var n=this._hotspots[i];for(var o in n){var a=n[o];if(!(a._minZoom>this.getZoom()||a._maxZoom<this.getZoom())){var r=this._pointToPixel(a.getPosition());r.x<this.width&&r.y<this.height&&t.offsetX<r.x+a._offsets[1]&&t.offsetX>r.x-a._offsets[3]&&t.offsetY>r.y-a._offsets[0]&&t.offsetY<r.y+a._offsets[2]&&e.curSpots.push(a)}}}}function o(e){if(e.point){var i=t.getZoom(),n=t.getMapType().getProjection(),o=n.lngLatToPoint(e.point),s=new Pixel(Math.floor(o.x*Math.pow(2,i-18)),Math.floor(o.y*Math.pow(2,i-18))),l=t.getTileType().getTileSize(i),h=t.getTileId(e.point,i),c=t.guid.replace(/^TANGRAM_/,""),d=t.getTileType(),u=d.getDataZoom(i),p=h.row,_=h.column,g=s.x-p*l,m=l-(s.y-_*l),f=c+"_"+p+"_"+_+"_"+u+"_"+i,v=t._areaspots[f],y=[];if(v){for(var b in v.polygon)a([g,m],v.polygon[b].spot)&&y.push(v.polygon[b]);for(var b in v.polyline){var x=v.polyline[b].style[0].fillWidth;r([g,m],v.polyline[b].spot,x)&&y.push(v.polyline[b])}}var w=t._areaspots.poi,P=t.pointToPixel(e.point);if(w)for(var b in w.polygon)a([P.x,P.y],w.polygon[b].spot)&&y.push(w.polygon[b]);return y}}function a(t,e){for(var i=t[0],n=t[1],o=!1,a=0,r=e.length-2;a<e.length;a+=2){var s=e[a],l=e[a+1],h=e[r],c=e[r+1];l>n!=c>n&&i<(h-s)*(n-l)/(c-l)+s&&(o=!o),r=a}return o}function r(t,e,i){for(var n=5+i,o=t[0],a=t[1],r=!1,l=0,h=e.length-3;l<h;l+=2)if(n>s(o,a,e[l],e[l+1],e[l+2],e[l+3])){r=!0;break}return r}function s(t,e,i,n,o,a){var r=i-o,s=n-a,l=r*r+s*s;if(!(l>c)){var h=t-i,d=e-n;return Math.sqrt(h*h+d*d)}var u=((n-e)*(n-a)-(i-t)*(o-i))/l;if(u>1||u<0){var p=t-i,_=t-o,g=e-n,m=e-a,f=p*p+g*g,v=_*_+m*m;return f<v?Math.sqrt(f):Math.sqrt(v)}var y=a-n,b=i-o,x=((n-e)*-b-(i-t)*y)/Math.sqrt(l);return Math.abs(x)}function l(){t.temp.dragged&&t.temp.curSpots.length>0?(t.platform.style.cursor="pointer",t.temp.dragged=!1):(t.temp.curSpots=[],t.platform.style.cursor=t.config.defaultCursor)}if(t.temp.spotOverLabel=new Label("",{offset:new Size(15,-3),styles:{border:"1px solid #aaa",background:"#fffec2",whiteSpace:"nowrap",font:"12px "+MapConfig.fontFamily,mozBoxShadow:"1px 2px 6px #666",webkitBoxShadow:"1px 2px 6px #666",boxShadow:"1px 2px 6px #666",padding:"2px 4px"}}),!t.config||!t.config.isOverviewMap){var h=!0,c=.01;t.addEventListener("movestart",e),t.addEventListener("moveend",i),t.addEventListener("zoomstart",e),t.addEventListener("zoomend",function(){setTimeout(i,30)}),t.addEventListener("mousemove",function(e){if((!e.overlay||e.overlay instanceof Graph)&&!e.infoWindow){var i=this.temp,o=i.curSpots.slice(0);n.call(this,e);for(var a=i.curSpots.slice(0),r=0;r<o.length;r++)for(var s=0;s<a.length;s++)o[r]===a[s]&&(o.splice(r,1),r--,a.splice(s,1),s--);if(o.length>0){var l=new BaseEvent("onhotspotout");l.spots=o.slice(0),this.dispatchEvent(l)}if(0!=i.curSpots.length||i.isVectorPOI){if(a.length>0){this.platform.style.cursor="pointer";var l=new BaseEvent("onhotspotover");l.spots=a.slice(0),this.dispatchEvent(l),i.spotOverTimer&&(clearTimeout(i.spotOverTimer),i.spotOverTimer=null),i.spotOutTimer&&(clearTimeout(i.spotOutTimer),i.spotOutTimer=null),l.spots[0].getText()&&(i.spotOverTimer=setTimeout(function(){i.spotOverLabel.setContent(l.spots[0].getText()),i.spotOverLabel.setPosition(e.point),i.spotOverLabel.show(),t.addOverlay(i.spotOverLabel)},400))}}else this.platform.style.cursor!=this.config.defaultCursor&&(this.platform.style.cursor=this.config.defaultCursor),i.spotOverTimer&&(clearTimeout(i.spotOverTimer),i.spotOverTimer=null),i.spotOutTimer=setTimeout(function(){i.spotOverLabel.hide()},400)}}),t.addEventListener("clickex",function(t){var e=this.temp;if(!t.overlay&&(0==e.curSpots.length&&n.call(this,t),e.curSpots.length>0)){var i=new BaseEvent("onhotspotclick");i.spots=e.curSpots.slice(0),i.spots.sort(function(t,e){return t.getPosition().lat-e.getPosition().lat}),this.dispatchEvent(i),e.curSpots.length=0}}),t.addEventListener("rightclickex",function(t){if(this.config.enableCustomLayer||this.config.customEditor){var e=this.temp;if(!t.overlay&&t.point){var i=[];if(e.curSpots.length>0){var n=e.curSpots.slice(0);n.sort(function(t,e){return t.getPosition().lat-e.getPosition().lat});for(var a in n)i.push(n[a]._userData);e.curSpots.length=0}var r=o(t);i=i.concat(r);var s=[];for(var a in i)s.indexOf(i[a].sid)<0&&s.push(i[a].sid);var l=new BaseEvent("onhotspotrightclick");l.styles=i,l.styleIds=s,l.point=t.point,this.dispatchEvent(l)}}}),t.addEventListener("load",l),t.addEventListener("moveend",l),t.addEventListener("zoomend",l),t.addEventListener("dragend",function(){this.temp.dragged=!0})}}),window._hotspot=2,window._autocomplete=1,baidu.dom.getComputedStyle=function(t,e){t=baidu.dom._g(t);var i,n=baidu.dom.getDocument(t);return n.defaultView&&n.defaultView.getComputedStyle&&(i=n.defaultView.getComputedStyle(t,null))?i[e]||i.getPropertyValue(e):""},baidu.dom.remove=function(t){t=baidu.dom._g(t);var e=t.parentNode;e&&e.removeChild(t)},baidu.lang.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)},baidu.event=baidu.event||{},baidu.event.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},baidu.event.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},baidu.event.stop=function(t){var e=baidu.event;e.stopPropagation(t),e.preventDefault(t)},baidu.array.indexOf=function(t,e,i){var n=t.length;for(i|=0,i<0&&(i=Math.max(0,n+i));i<n;i++)if(i in t&&t[i]===e)return i;return-1},baidu.array.contains=function(t,e){return baidu.array.indexOf(t,e)>=0},baidu.ui=baidu.ui||{version:"1.3.9"},baidu.ui.getUI=function(t){for(var t=t.split("-"),e=baidu.ui,i=t.length,n=0;n<i;n++)e=e[t[n].charAt(0).toUpperCase()+t[n].slice(1)];return e},baidu.ui.create=function(t,e){return baidu.lang.isString(t)&&(t=baidu.ui.getUI(t)),new t(e)},baidu.event._listeners=baidu.event._listeners||[],baidu.event.on=function(t,e,i){e=e.replace(/^on/i,""),t=baidu.dom._g(t);var n,o=function(e){i.call(t,e)},a=baidu.event._listeners,r=baidu.event._eventFilter,s=e;return e=e.toLowerCase(),r&&r[e]&&(n=r[e](t,e,o),s=n.type,o=n.listener),t&&t.addEventListener?t.addEventListener(s,o,!1):t&&t.attachEvent&&t.attachEvent("on"+s,o),a[a.length]=[t,e,i,o,s],t},baidu.on=baidu.event.on,baidu.event.un=function(t,e,i){t=baidu.dom._g(t),e=e.replace(/^on/i,"").toLowerCase();for(var n,o,a,r=baidu.event._listeners,s=r.length,l=!i;s--;)n=r[s],n[1]!==e||n[0]!==t||!l&&n[2]!==i||(o=n[4],a=n[3],t.removeEventListener?t.removeEventListener(o,a,!1):t.detachEvent&&t.detachEvent("on"+o,a),r.splice(s,1));return t},baidu.un=baidu.event.un,baidu.ui.Base={id:"",getId:function(t){var e,i=this;return e="tangram-"+i.uiType+"--"+(i.id?i.id:i.guid),t?e+"-"+t:e},getClass:function(t){var e=this,i=e.classPrefix,n=e.skin;return t&&(i+="-"+t,n+="-"+t),e.skin&&(i+=" "+n),i},getMain:function(){return baidu.g(this.mainId)},getBody:function(){return baidu.g(this.getId())},uiType:"",getCallRef:function(){
return"window['$BAIDU$']._instances['"+this.guid+"']"},getCallString:function(t){for(var e=0,i=Array.prototype.slice.call(arguments,1),n=i.length;e<n;e++)"string"==typeof i[e]&&(i[e]="'"+i[e]+"'");return this.getCallRef()+"."+t+"("+i.join(",")+");"},on:function(t,e,i){baidu.on(t,e,i),this.addEventListener("ondispose",function(){baidu.un(t,e,i)})},renderMain:function(t){var e=this;if(!e.getMain())return t=baidu.g(t),t||(t=document.createElement("div"),document.body.appendChild(t),t.style.position="absolute",t.className=e.getClass("main")),t.id||(t.id=e.getId("main")),e.mainId=t.id,t.setAttribute("data-guid",e.guid),t},dispose:function(){this.dispatchEvent("dispose"),baidu.lang.Class.prototype.dispose.call(this)}},baidu.ui.createUI=function(t,e){e=e||{};var i,n,o=e.superClass||baidu.lang.Class,a=o==baidu.lang.Class?1:0,r=function(e,s){var l=this;e=e||{},o.call(l,a?e.guid||"":e,!0),baidu.object.extend(l,r.options),baidu.object.extend(l,e),l.classPrefix=l.classPrefix||"tangram-"+l.uiType.toLowerCase();for(i in baidu.ui.behavior)void 0!==l[i]&&l[i]&&(baidu.object.extend(l,baidu.ui.behavior[i]),baidu.lang.isFunction(l[i])?l.addEventListener("onload",function(){baidu.ui.behavior[i].call(l[i].apply(l))}):baidu.ui.behavior[i].call(l));for(t.apply(l,arguments),i=0,n=r._addons.length;i<n;i++)r._addons[i](l);e.parent&&l.setParent&&l.setParent(e.parent),!s&&e.autoRender&&l.render(e.element)},s=function(){};s.prototype=o.prototype;var l=r.prototype=new s;for(i in baidu.ui.Base)l[i]=baidu.ui.Base[i];return r.extend=function(t){for(i in t)r.prototype[i]=t[i];return r},r._addons=[],r.register=function(t){"function"==typeof t&&r._addons.push(t)},r.options={},r},baidu.dom.getAttr=function(t,e){return null===(t=baidu.dom.g(t))?t:"style"==e?t.style.cssText:(e=baidu.dom._NAME_ATTRS[e]||e,t.getAttribute(e))},baidu.getAttr=baidu.dom.getAttr,baidu.ui.get=function(t){var e;if(baidu.lang.isString(t))return baidu.lang.instance(t);do{if(!t||9==t.nodeType)return null;if(e=baidu.dom.getAttr(t,"data-guid"))return baidu.lang.instance(e)}while((t=t.parentNode)!=document.body)},baidu.ui.Suggestion=baidu.ui.createUI(function(t){var e=this;e.addEventListener("onload",function(){eventName=isMobile()?"touchstart":"mousedown",e.on(document,eventName,e.documentMousedownHandler),e.on(window,"blur",e.windowBlurHandler)}),e.documentMousedownHandler=e._getDocumentMousedownHandler(),e.windowBlurHandler=e._getWindowBlurHandler(),e.enableIndex=[],e.currentIndex=-1}).extend({uiType:"suggestion",onbeforepick:new Function,onpick:new Function,onconfirm:new Function,onhighlight:new Function,onshow:new Function,onhide:new Function,getData:function(){return[]},prependHTML:"",appendHTML:"",currentData:{},tplDOM:"<div id='#{0}' class='#{1}' style='position:relative; top:0px; left:0px'></div>",tplPrependAppend:"<div id='#{0}' class='#{1}'>#{2}</div>",tplClose:'<div style="height:22px;line-height:22px;overflow:hidden;zoom:1;border-top:#E7E7E7 solid 1px;background:#F7F7F7;"><span style="float:right;color:#4B4B4B;border-left:1px solid #E7E7E7;padding:0 10px;font-size:14px;" onmousedown="#{0}">关闭</span></div>',tplBody:'<table cellspacing="0" cellpadding="2"><tbody>#{0}</tbody></table>',tplRow:'<tr><td id="#{0}" onmouseover="#{2}" onmouseout="#{3}" onmousedown="#{4}" onclick="#{5}" class="#{6}"><i class="route-icon">#{1}</i></td></tr>',getString:function(){var t=this;return baidu.format(t.tplDOM,t.getId(),t.getClass(),t.guid)},render:function(t,e){var i,n=this,t=baidu.g(t);n.baseDom=e,!n.getMain()&&t&&(t.id?n.targetId=t.id:n.targetId=t.id=n.getId("input"),i=n.renderMain(),i.style.display="none",i.innerHTML=n.getString(),this.dispatchEvent("onload"))},_isShowing:function(){var t=this,e=t.getMain();return e&&"none"!=e.style.display},pick:function(t){var e=this,i=e.currentData,n=i&&"number"==typeof t&&void 0!==i[t]?i[t].value:t,o={data:{item:n==t?{value:t,content:t}:i[t],index:t}};e.dispatchEvent("onbeforepick",o)&&e.dispatchEvent("onpick",o)},show:function(t,e,i){var n=0,o=e.length,a=this;if(a.enableIndex=[],a.currentIndex=-1,0!=o||i){for(a.currentData=[];n<o;n++)void 0!==e[n].value?a.currentData.push(e[n]):a.currentData.push({value:e[n],content:e[n]}),void 0!==e[n].disable&&0!=e[n].disable||a.enableIndex.push(n);a.getBody().innerHTML=a._getBodyString(),a.getMain().style.display="block",a.dispatchEvent("onshow")}else a.hide()},hide:function(){var t=this;if(t._isShowing()){if(t.currentIndex>=0&&t.holdHighLight)for(var e=t.currentData,i=-1,n=0,o=e.length;n<o;n++)void 0!==e[n].disable&&0!=e[n].disable||++i==t.currentIndex&&t.pick(n);t.getMain().style.display="none",t.dispatchEvent("onhide")}},highLight:function(t){var e=this,i=e.enableIndex,n=null;e._isEnable(t)&&(e.currentIndex>=0&&e._clearHighLight(),n=e._getItem(t),baidu.addClass(n,e.getClass("current")),e.currentIndex=baidu.array.indexOf(i,t),e.dispatchEvent("onhighlight",{index:t,data:e.getDataByIndex(t)}))},clearHighLight:function(){var t=this,e=t.currentIndex,i=t.enableIndex[e];t._clearHighLight()&&t.dispatchEvent("onclearhighlight",{index:i,data:t.getDataByIndex(i)})},_clearHighLight:function(){var t=this,e=t.currentIndex,i=t.enableIndex,n=null;return e>=0&&(n=t._getItem(i[e]),baidu.removeClass(n,t.getClass("current")),t.currentIndex=-1,!0)},confirm:function(t,e){var i=this;("keyboard"==e||i._isEnable(t))&&(i.pick(t),i.dispatchEvent("onconfirm",{data:i.getDataByIndex(t)||t,source:e}),i.currentIndex=-1,i.hide())},getDataByIndex:function(t){return{item:this.currentData[t],index:t}},getTargetValue:function(){return this.getTarget().value},getTarget:function(){return baidu.g(this.targetId)},_getItem:function(t){return baidu.g(this.getId("item"+t))},_getBodyString:function(){for(var t=this,e="",i=[],n=t.currentData,o=n.length,a=0;a<o;a++)i.push(baidu.format(t.tplRow,t.getId("item"+a),n[a].content,t.getCallRef()+"._itemOver(event, "+a+")",t.getCallRef()+"._itemOut(event, "+a+")",t.getCallRef()+"._itemDown(event, "+a+")",t.getCallRef()+"._itemClick(event, "+a+")",void 0===n[a].disable||0==n[a].disable?"":t.getClass("disable")));return e+=baidu.format(t.tplBody,i.join("")),isMobile()&&(e+=baidu.format(t.tplClose,t.getCallRef()+"._close(event)")),e},_close:function(t){this.hide()},_itemOver:function(t,e){var i=this;baidu.event.stop(t||window.event),i._isEnable(e)&&i.highLight(e),i.dispatchEvent("onmouseoveritem",{index:e,data:i.getDataByIndex(e)})},_itemOut:function(t,e){var i=this;baidu.event.stop(t||window.event),i.holdHighLight||i._isEnable(e)&&i.clearHighLight(),i.dispatchEvent("onmouseoutitem",{index:e,data:i.getDataByIndex(e)})},_itemDown:function(t,e){var i=this;baidu.event.stop(t||window.event),i.dispatchEvent("onmousedownitem",{index:e,data:i.getDataByIndex(e)})},_itemClick:function(t,e){var i=this;baidu.event.stop(t||window.event),i.dispatchEvent("onitemclick",{index:e,data:i.getDataByIndex(e)}),i._isEnable(e)&&i.confirm(e,"mouse")},_isEnable:function(t){var e=this;return baidu.array.contains(e.enableIndex,t)},_getDocumentMousedownHandler:function(){var t=this;return function(e){e=e||window.event;var i=e.target||e.srcElement,n=baidu.ui.get(i);i==t.getTarget()||n&&n.uiType==t.uiType||t.hide()}},_getWindowBlurHandler:function(){var t=this;return function(){t.hide()}},dispose:function(){var t=this;t.dispatchEvent("dispose"),baidu.dom.remove(t.mainId),baidu.lang.Class.prototype.dispose.call(this)}}),baidu.ui.behavior=baidu.ui.behavior||{},baidu.dom.children=function(t){if(null===(t=baidu.dom.g(t)))return t;for(var e=[],i=t.firstChild;i;i=i.nextSibling)1==i.nodeType&&e.push(i);return e},baidu.dom.insertBefore=function(t,e){var i,n;return i=baidu.dom._g,t=i(t),e=i(e),n=e.parentNode,n&&n.insertBefore(t,e),t},baidu.dom.setStyle=function(t,e,i){var n,o=baidu.dom;return t=o.g(t),e=baidu.string.toCamelCase(e),(n=o._styleFilter)&&(i=n.filter(e,i,"set")),n=o._styleFixer[e],n&&n.set?n.set(t,i):t.style[n||e]=i,t},baidu.setStyle=baidu.dom.setStyle,baidu.dom.setStyles=function(t,e){if(null===(t=baidu.dom.g(t)))return t;for(var i in e)baidu.dom.setStyle(t,i,e[i]);return t},baidu.setStyles=baidu.dom.setStyles,baidu.dom._styleFilter[baidu.dom._styleFilter.length]={set:function(t,e){return e.constructor!=Number||/zIndex|fontWeight|opacity|zoom|lineHeight/i.test(t)||(e+="px"),e}},baidu.dom.setBorderBoxSize=function(t,e){function i(t,e){return parseFloat(baidu.getStyle(t,e))||0}var n={};return e.width&&(n.width=parseFloat(e.width)),e.height&&(n.height=parseFloat(e.height)),baidu.browser.isStrict&&(e.width&&(n.width=parseFloat(e.width)-i(t,"paddingLeft")-i(t,"paddingRight")-i(t,"borderLeftWidth")-i(t,"borderRightWidth"),n.width<0&&(n.width=0)),e.height&&(n.height=parseFloat(e.height)-i(t,"paddingTop")-i(t,"paddingBottom")-i(t,"borderTopWidth")-i(t,"borderBottomWidth"),n.height<0&&(n.height=0))),baidu.dom.setStyles(t,n)},function(){var t=baidu.ui.behavior.coverable=function(){};t.Coverable_isShowing=!1,t.Coverable_iframe,t.Coverable_container,t.Coverable_iframeContainer,t.Coverable_show=function(){var t=this;if(t.Coverable_iframe)return t.Coverable_update(),void baidu.setStyle(t.Coverable_iframe,"display","block");var e=t.coverableOptions||{},i=t.Coverable_container=e.container||t.getMain(),n=e.opacity||"0",o=e.color||"",a=t.Coverable_iframe=document.createElement("iframe"),r=t.Coverable_iframeContainer=document.createElement("div");baidu.dom.children(i).length>0?baidu.dom.insertBefore(r,i.firstChild):i.appendChild(r),baidu.setStyles(r,{position:"absolute",top:"0px",left:"0px"}),baidu.dom.setBorderBoxSize(r,{width:i.offsetWidth,height:i.offsetHeight}),baidu.dom.setBorderBoxSize(a,{width:r.offsetWidth}),baidu.dom.setStyles(a,{zIndex:-1,display:"block",border:0,backgroundColor:o,filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity="+n+")"}),r.appendChild(a),a.src="javascript:void(0)",a.frameBorder="0",a.scrolling="no",a.height="97%",t.Coverable_isShowing=!0},t.Coverable_hide=function(){var t=this,e=t.Coverable_iframe;t.Coverable_isShowing&&(baidu.setStyle(e,"display","none"),t.Coverable_isShowing=!1)},t.Coverable_update=function(t){var e=this,t=t||{},i=e.Coverable_container,n=e.Coverable_iframeContainer,o=e.Coverable_iframe;baidu.dom.setBorderBoxSize(n,{width:i.offsetWidth,height:i.offsetHeight}),baidu.dom.setBorderBoxSize(o,baidu.extend({width:baidu.getStyle(n,"width")},t))}}(),baidu.extend(baidu.ui.Suggestion.prototype,{coverable:!0,coverableOptions:{}}),baidu.ui.Suggestion.register(function(t){t.coverable&&(t.addEventListener("onshow",function(){t.Coverable_show()}),t.addEventListener("onhide",function(){t.Coverable_hide()}))}),baidu.ui.Suggestion.extend({setData:function(t,e,i){var n=this;n.dataCache[t]=e,i||n.show(t,n.dataCache[t])}}),baidu.ui.Suggestion.register(function(t){t.dataCache={},t.addEventListener("onneeddata",function(e,i){var n=t.dataCache;void 0===n[i]?t.getData(i):t.show(i,n[i])})}),baidu.dom.setOuterWidth=baidu.dom.setBorderBoxWidth=function(t,e){return baidu.dom.setBorderBoxSize(t,{width:e})},baidu.dom.getWindow=function(t){if(null===(t=baidu.dom.g(t)))return t;var e=baidu.dom.getDocument(t);return e.parentWindow||e.defaultView||null},baidu.dom.setPosition=function(t,e){return baidu.dom.setStyles(t,{left:e.left-(parseFloat(baidu.dom.getStyle(t,"margin-left"))||0),top:e.top-(parseFloat(baidu.dom.getStyle(t,"margin-top"))||0)})},baidu.page=baidu.page||{},baidu.page.getViewWidth=function(){var t=document;return("BackCompat"==t.compatMode?t.body:t.documentElement).clientWidth},baidu.page.getViewHeight=function(){var t=document;return("BackCompat"==t.compatMode?t.body:t.documentElement).clientHeight},baidu.page.getScrollTop=function(){var t=document;return window.pageYOffset||t.documentElement.scrollTop||t.body.scrollTop},baidu.page.getScrollLeft=function(){var t=document;return window.pageXOffset||t.documentElement.scrollLeft||t.body.scrollLeft},baidu.fn=baidu.fn||{},baidu.fn.bind=function(t,e){var i=arguments.length>2?[].slice.call(arguments,2):null;return function(){var n=baidu.lang.isString(t)?e[t]:t,o=i?i.concat([].slice.call(arguments,0)):arguments;return n.apply(e||n,o)}},function(){function t(t){return t.x=t[0]||t.x||t.left||0,t.y=t[1]||t.y||t.top||0,t}var e=baidu.ui.behavior.posable=function(){};e.setPosition=function(t,e,i){e=baidu.g(e)||this.getMain(),i=i||{};var n=this,o=[e,t,i];n.__execPosFn(e,"_positionByCoordinate",i.once,o)},e._positionByCoordinate=function(e,i,n,o){i=i||[0,0],n=n||{};var a=this,r={},s=baidu.page.getViewHeight(),l=baidu.page.getViewWidth(),h=baidu.page.getScrollLeft(),c=baidu.page.getScrollTop(),d=e.offsetWidth,u=e.offsetHeight,p=e.offsetParent,_=p&&p!=document.body?baidu.dom.getPosition(p):{left:0,top:0};switch(n.position=void 0!==n.position?n.position.toLowerCase():"bottomright",i=t(i||[0,0]),n.offset=t(n.offset||[0,0]),i.x+=n.position.indexOf("right")>=0?i.width||0:0,i.y+=n.position.indexOf("bottom")>=0?i.height||0:0,r.left=i.x+n.offset.x-_.left,r.top=i.y+n.offset.y-_.top,n.insideScreen){case"surround":r.left+=r.left<h?d+(i.width||0):r.left+d>h+l?-d-(i.width||0):0,r.top+=r.top<c?u+(i.height||0):r.top+u>c+s?-u-(i.height||0):0;break;case"fix":r.left=Math.max(0-parseFloat(baidu.dom.getStyle(e,"marginLeft"))||0,Math.min(r.left,baidu.page.getViewWidth()-d-_.left)),r.top=Math.max(0-parseFloat(baidu.dom.getStyle(e,"marginTop"))||0,Math.min(r.top,baidu.page.getViewHeight()-u-_.top));break;case"verge":var g={width:n.position.indexOf("right")>-1?i.width:0,height:n.position.indexOf("bottom")>-1?i.height:0},m={width:n.position.indexOf("bottom")>-1?i.width:0,height:n.position.indexOf("right")>-1?i.height:0};r.left-=n.position.indexOf("right")>=0?i.width||0:0,r.top-=n.position.indexOf("bottom")>=0?i.height||0:0,r.left+=r.left+g.width+d-h>l-_.left?m.width-d:g.width,r.top+=r.top+g.height+u-c>s-_.top?m.height-u:g.height}baidu.dom.setPosition(e,r),o||s==baidu.page.getViewHeight()&&l==baidu.page.getViewWidth()||a._positionByCoordinate(e,i,{},!0),o||a.dispatchEvent("onpositionupdate")},e.__execPosFn=function(t,e,i,n){var o=this;void 0!==i&&i||baidu.event.on(baidu.dom.getWindow(t),"resize",baidu.fn.bind.apply(o,[e,o].concat([].slice.call(n)))),o[e].apply(o,n)}}(),baidu.ui.Suggestion.extend({posable:!0,fixWidth:!0,getWindowResizeHandler:function(){var t=this;return function(){t.adjustPosition(!0)}},adjustPosition:function(t){var e,i,n=this,o=n.getTarget(),a=n.baseDom,r=n.getMain();!n._isShowing()&&t||(a&&(o=a),e=baidu.dom.getPosition(o),i={top:e.top+o.offsetHeight-1,left:e.left,width:o.offsetWidth},i="function"==typeof n.view?n.view(i):i,n.setPosition([i.left,i.top],null,{once:!0}),baidu.dom.setOuterWidth(r,i.width))}}),baidu.ui.Suggestion.register(function(t){t.windowResizeHandler=t.getWindowResizeHandler(),t.addEventListener("onload",function(){t.adjustPosition(),t.fixWidth&&(t.fixWidthTimer=setInterval(function(){var e=t.getMain(),i=t.getTarget();0!=e.offsetWidth&&i&&i.offsetWidth!=e.offsetWidth&&(t.adjustPosition(),e.style.display="block")},100)),t.on(window,"resize",t.windowResizeHandler)}),t.addEventListener("onshow",function(){t.adjustPosition()}),t.addEventListener("ondispose",function(){clearInterval(t.fixWidthTimer)})}),baidu.ui.Suggestion.register(function(t){function e(){setTimeout(function(){var e=t.getTarget();n=null===e?"":e.value},20)}var i,n,o,a="",r=!1,s=!1;t.addEventListener("onload",function(){i=this.getTarget(),e(),t.on(window,"onload",e),t.targetKeydownHandler=t.getTargetKeydownHandler(),t.on(i,"keydown",t.targetKeydownHandler),i.setAttribute("autocomplete","off"),t.circleTimer=setInterval(function(){if(!s){null==baidu.g(i)&&t.dispose();var e=i.value;e==a&&""!=e&&e!=n&&e!=o?0==t.requestTimer&&(t.requestTimer=setTimeout(function(){t.dispatchEvent("onneeddata",e)},100)):(clearTimeout(t.requestTimer),t.requestTimer=0,""==e&&""!=a&&(o="",t.hide()),a=e,e!=o&&(t.defaultIptValue=e),n!=i.value&&(n=""))}},10),t.on(i,"beforedeactivate",t.beforedeactivateHandler)}),t.addEventListener("onitemclick",function(){s=!1,t.defaultIptValue=a=t.getTargetValue()}),t.addEventListener("onpick",function(t){r&&i.blur(),i.value=o=t.data.item.value,r&&i.focus()}),t.addEventListener("onmousedownitem",function(t){r=!0,s=!0,setTimeout(function(){s=!1,r=!1},500)}),t.addEventListener("ondispose",function(){clearInterval(t.circleTimer)})}),baidu.ui.Suggestion.extend({beforedeactivateHandler:function(){return function(){mousedownView&&(window.event.cancelBubble=!0,window.event.returnValue=!1)}},getTargetKeydownHandler:function(){function t(t){if(!e._isShowing())return void e.dispatchEvent("onneeddata",e.getTargetValue());var i=e.enableIndex,n=e.currentIndex;if(0!=i.length){if(t)switch(n){case-1:n=i.length-1,e.pick(i[n]),e.highLight(i[n]);break;case 0:n=-1,e.pick(e.defaultIptValue),e.clearHighLight();break;default:n--,e.pick(i[n]),e.highLight(i[n])}else switch(n){case-1:n=0,e.pick(i[n]),e.highLight(i[n]);break;case i.length-1:n=-1,e.pick(e.defaultIptValue),e.clearHighLight();break;default:n++,e.pick(i[n]),e.highLight(i[n])}e.currentIndex=n}}var e=this;return function(i){var n=!1;switch(i=i||window.event,i.keyCode){case 9:case 27:e.hide();break;case 13:baidu.event.stop(i),e.confirm(-1==e.currentIndex?e.getTarget().value:e.enableIndex[e.currentIndex],"keyboard");break;case 38:n=!0;case 40:baidu.event.stop(i),t(n);break;default:e.currentIndex=-1}}},defaultIptValue:""}),T.undope=!0,Autocomplete.IS_INCLUDE_STYLE=!1,Autocomplete.STYLE_FILE_PATH=BMap.apiUrlCdn+"css/bmap_autocomplete.css",Autocomplete.TYPES_COLLECTION={ALL:"0",CITY:"1"},baidu.extend(Autocomplete.prototype,{_asyncSearch:function(){this._initialize()},_initialize:function(){this._exIndex=-1,this._json=null,this._typeIds=[],this._cityId=0,this._results=this._getAutocompleteResult(),this._options.input&&(this._getStyles(),this._renderSuggestion(),this.setInputValue(this._inputValue));var t=null;this._word&&(t={},t.method="search",t.arguments=[this._word]),this._getTypesId(),this._getCityId(t)},_renderSuggestion:function(){var t=this,e=new baidu.ui.Suggestion({getData:function(e){t._sendAutocompleteRequest(e)},onhide:function(){t._exIndex=-1,""===t._suggestion.getTargetValue()&&(t._word="",t._results=t._getAutocompleteResult())},onhighlight:function(e){if(t._json){var i={},n={};n={index:e.data.index,value:t._json.items[e.data.index].value},i={index:t._exIndex,value:t._exIndex>=0?t._json.items[t._exIndex].value:{}};var o=new BaseEvent("onhighlight");o.fromitem=o.fromitem=i,o.toitem=o.toitem=n,t.dispatchEvent(o),t._exIndex=e.data.index}},onbeforepick:function(e){if(t._json&&"number"==typeof e.data.index){var i=t._json.items[e.data.index].value;if(BMap.offline)return void(e.data.item.content=e.data.item.value=i.text);e.data.item.content=e.data.item.value=i.province+i.city+i.district+i.street+i.business}},onconfirm:function(e){if(t._json){_addStat(STAT.AUTOCOMPLETE_MAIN_ON_CONFIRM);var i={};if("number"==typeof e.data.index){i={index:e.data.index,value:t._json.items[e.data.index].value};var n=new BaseEvent("onconfirm");n.item=n.item=i,t.dispatchEvent(n)}}}});e.render(baidu.g(this._options.input),baidu.g(this._options.baseDom)),this._suggestion=e},show:function(){this._suggestion&&(this._suggestion.getMain().style.display="block")},hide:function(){this._suggestion&&this._suggestion.hide(),this._exIndex=-1},dispose:function(){this._suggestion&&this._suggestion.dispose(),baidu.lang.Class.prototype.dispose.call(this)},setTypes:function(t){this._options.types=t||[],this._getTypesId()},setLocation:function(t,e){this._loc.src=t,this._getCityId(e)},search:function(t){this._sendAutocompleteRequest(t)},setInputValue:function(t){this._suggestion&&this._suggestion.pick(t)},_sendAutocompleteRequest:function(t){var e=this,i=(1e5*Math.random()).toFixed(0);BMap._rd["_cbk"+i]=function(t){null!==baidu.g(e._options.input)&&e._getAutocompleteBack(t),delete BMap._rd["_cbk"+i]};var n=BMap.url.proto+BMap.url.domain.baidumap+"/su?wd="+encodeURIComponent(t)+"&callback=BMap._rd._cbk"+i+"&cid="+e._cityId+"&type="+e._typeIds+"&t="+(new Date).getTime()+"&from=jsapi";if(e._word=t,e._exIndex=-1,e._results=this._getAutocompleteResult(),BMap.offline)return n=BMap.searchUrl+"/search/v1/suggest?keyword="+encodeURIComponent(t),void DataMgr.ajax({url:n,success:function(i){null!==baidu.g(e._options.input)&&(0===i.status?e._getAutocompleteBack({q:t,s:i.result}):console.log(i.message))},fail:function(t){console.log(t)}});_addStat(STAT.AUTOCOMPLETE_MAIN_SEND_AUTOCOMPLETE_REQUEST,{tp:e._typeIds,wd:encodeURIComponent(t)}),BMap.alog("cus.fire","count","z_sug"),DataMgr.request(n)},_getAutocompleteBack:function(t){t&&t.q&&(this._word=t.q);var e=this._formatDataForTangram(t);this._showResultList(e),this._results=this._getAutocompleteResult(this._json),this._options.onSearchComplete(this._results)},_formatDataForTangram:function(t){var e=[],i=t.s,n={};n.keyword=t.q||"",n.count=t.s.length||0,n.status=t.e<0?BMAP_STATUS_SERVICE_UNAVAILABLE:BMAP_STATUS_SUCCESS,n.items=[];var o=0,a=i.length;for(isMobile()&&a>6&&(a=6);o<a;o++){var r=this._getItemValue(i[o],this._typeIds);n.items.push(r.value),e.push(r.html)}return this._json=n,{data:e,word:t.q}},_showResultList:function(t){if(this._suggestion){var e=this._suggestion;e.show(t.word,t.data),t.data.length<1&&e.hide()}},_getItemValue:function(t,e){if(BMap.offline)return this._getItemValueForOffline(t);switch(e.toString()){case"1":return this._getItemValueForCity(t);default:return this._getItemValueForPoi(t)}},_getItemValueForOffline:function(t){var e=t.text,i=this._word,n=new RegExp(i,"g"),o="<b>"+i+"</b>";return{value:{value:t},html:e.replace(n,o)}},_getItemValueForPoi:function(t){if(BMap.offline)var e=t.text,i=this._word,n=new RegExp(i,"g"),o="<b>"+i+"</b>",a={score:t.score,text:t.text,province:"",city:"",district:"",street:"",streetNumber:"",business:""},r="",s=0;else var e=t.split("$"),i=this._word,n=new RegExp(i,"g"),o="<b>"+i+"</b>",a={province:"",city:e[0],district:e[1],street:e[2],streetNumber:"",business:e[3]},r="",s=3;e.length>=7&&(a.city=e[5]||a.city,a.district=e[6]||a.city,e[0]=e[5],e[1]=e[6]);for(var l=s;l>=0;l--)if(r=e[l]+r,r.indexOf(i)>-1){for(var h=l-1,c="";h>-1;)c=e[h]+c,h--;r=r.replace(n,o),c&&(r+='&nbsp;<span class="tangram-suggestion-grey">'+c+"</span>");break}if(!c)for(var l=s;l>=0;l--)c+=e[l];return{value:{value:a},html:r}},_getItemValueForCity:function(t){var e=t.split("$"),i=this._word,n=new RegExp(i,"g"),o="<b>"+i+"</b>";return{value:{value:{province:e[0],city:e[1],district:"",street:"",streetNumber:"",business:""}},html:(e[0]+e[1]).replace(n,o)}},_getTypesId:function(){var t=this._options.types,e=[];if(baidu.isString(t))e.push(Autocomplete.TYPES_COLLECTION[t.toUpperCase()]);else if(baidu.lang.isArray(t))for(var i=0,n=t.length;i<n;i++)e.push(Autocomplete.TYPES_COLLECTION[t[i].toUpperCase()]);this._typeIds=e.length>0?e.join(","):"0"},_getCityId:function(t){var e=this;e._getIdByLoc(e._loc,function(i){e._cityId=i,t&&e[t.method].apply(e,t.arguments)})},_getStyles:function(){if(!Autocomplete.IS_INCLUDE_STYLE){var t=document,e=t.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",Autocomplete.STYLE_FILE_PATH);var i=t.getElementsByTagName("head");i.length?i[0].appendChild(e):t.documentElement.appendChild(e),Autocomplete.IS_INCLUDE_STYLE=!0}},_getAutocompleteResult:function(t){if(!t)return new AutocompleteResult({keyword:this._word,total:0,pois:[]});for(var e=[],i=0,n=t.items.length;i<n;i++)e.push(t.items[i].value);return new AutocompleteResult({keyword:t.keyword,total:t.count,pois:e})}}),exportSymbol(AutocompleteP,{show:AutocompleteP.show,hide:AutocompleteP.hide,setTypes:AutocompleteP.setTypes,setLocation:AutocompleteP.setLocation,search:AutocompleteP.search,setInputValue:AutocompleteP.setInputValue,dispose:AutocompleteP.dispose,setSearchCompleteCallback:AutocompleteP.setSearchCompleteCallback}),baidu.extend(AutocompleteResult.prototype,{getPoi:function(t){if(this._pois[t])return this._pois[t]},getNumPois:function(){return this._numPois},toString:function(){return"AutocompleteResult"}});var AutocompleteResultP=AutocompleteResult.prototype;exportSymbol(AutocompleteResultP,{getPoi:AutocompleteResultP.getPoi,getNumPois:AutocompleteResultP.getNumPois}),window._autocomplete=2,window._mapclick=1;var POI_TYPE_NORMAL=0,POI_TYPE_BUSLINE=2,POI_TYPE_SUBLINE=4,GEO_TYPE_AREA=0,GEO_TYPE_LINE=1,GEO_TYPE_POINT=2,Share={},o=null;MapPoiClick=function(t){this.map=t,this.citySpotId=null,this.poiSpotId=null,this.cacheData={},this.maxCache=8,this.cacheIds=[],this.squareSide=4,this.spotOnId="",this.mkr1=this.mkr2=null,this.label1=this.label2=null,this.spotOnUid=null,this.icType="",this.icType1="",this.tMkr=null,this.isOverSpot=0,this.isMoving=!1,this.overSpotPoint=null,this.fetchId="",this.curTileId="",this.ic=new Icon(MapConfig.imgPath+"spotmkrs.png",new Size(18,18),{anchor:new Size(9,9),imageOffset:new Size(0,0),infoWindowOffset:new Size(10,0)}),this.init()},o=MapPoiClick.prototype,o.init=function(){var t=this;t.addShadowLabel(),t.bind(),t.isOpen=!0,setTimeout(function(){t.urlParse()||t._bindMapRequest()},1e3),setInterval(function(){t.isMoving=!1},300)},o.urlParse=function(){return!1},o.bind=function(){this.bindMapRequest(),this.bindMouseMove(),this.bindSpotEvent(),this.bindVectorMapChanged()},o.bindVectorMapChanged=function(t){var e=this,i=this.map;i.addEventListener("vectorchanged",function(){arguments[1].isvector?e.close():1==i.config.enableMapClick&&e.open()})},o.mouseMoveEvent=function(t){var e=this,i=this.map;if(e.isOpen)if(i.getZoom()<10)e.clearPoiCache();else{if(e.clearCityCache(),!t||!t.point)return;e.isOverSpot&&(e.overSpotPoint=t.point),e.isMoving=!0,1!=e.isOverSpot&&(e.label1&&e.label1.hide(),e.label2&&e.label2.hide(),e.sdLab&&e.sdLab.hide());var n=i.getTileId(t.point,i.getZoom());if(!n.row||!n.column||!n.level)return;e.curTileId=n.level+"_"+n.row+"_"+n.column;var o=n.level+"_"+n.row+"_"+n.column;e.cacheData[o]?e.spotOnId!=e.curTileId&&e._addSpot(e.curTileId):e.sendRequest({l:n.level,x:n.row,y:n.column})}},o._addSpot=function(t){var e=this,i=this.map;if(i.getMapType()!=BMAP_NORMAL_MAP&&i.getMapType()!=BMAP_HYBRID_MAP)return e.clearPoiCache(),void e.hideOverlays();var n=t.split("_"),o=n[0]+"_"+n[1]+"_"+n[2];if(e.cacheData[o]){e.clearPoiCache();var a=e.cacheData[o][t]?e.cacheData[o][t]:[];e.poiSpotId=e.addSpots(a,"MAP_CLICK_POI"),e.spotOnId=t;for(var r=-1,s=0,l=e.cacheIds.length;s<l;s++)if(o==e.cacheIds[s]){r=s;break}r>=0&&(e.cacheIds.splice(r,1),e.cacheIds.push(o))}},o.addSpots=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=n.pt,a=n.bd,r=new Hotspot(o,{offsets:[a[3],a[2],a[3],a[2]]});r.bd=a,r.pt=o,r.n=n.n,r.userdata=n.userdata,this.map.addHotspot(r,e)}return!0},o.bindMouseMove=function(){var t=this;this.map.addEventListener("mousemove",function(e){t.mouseMoveEvent(e)})},o.clickSpot=function(t){if(this.map.getZoom()<10){for(var e=0,i=t.spots.length;e<i;e++)if(t.spots[e].n){this.map.centerAndZoom(t.spots[e].n);break}}else this.tMkr&&this.clickMkr(this.tMkr,t)},o.clickMkr=function(t,e){var i=this.map;if(!(i.getZoom()<10)&&t){var n=this;n.isOverSpot=0,n.spotOnUid&&(i.temp.infoWin&&i.temp.infoWin.close(),n.onMarker=t,n.sendUidRequest(n.spotOnUid))}},o.sendUidRequest=function(t,e){if(t){var i=this,n=(this.map,{qt:"inf",uid:t,operate:"mapclick",clicktype:"tile"});SearchRequestMgr.request(function(e){i._getInfBack(t,e)},n)}},o._getInfBack=function(t,e){var i=this,n=this.map;if(e&&e.content){var o=e.content,a=o.pano||0;if(SUtil.parseGeo(o.geo,!0).point,!r)var r={};r.isFromMPC=!0;var s=o.addr,l=o.street_id||"";1!=o.poiType&&3!=o.poiType||(s=SUtil.unique(s.split(";")).join("; "));var h=o.tel;h&&(h=h.replace(/,/g,", ")),o.ext&&o.ext.detail_info&&o.ext.detail_info.origin_id&&o.ext.detail_info.origin_id;var c=(i._getCateInfo(o.cla),create("div",{style:"font-size:12px;padding:5px 0;overflow:hidden;*zoom:1;"})),d=(o.ext,"padding:0;margin:0;line-height:18px;font-size:12px;color:#4d4d4d;"),u=!1;if(a)if(i.map.height<360)u=!0;else{var p=[];p.push("<div class='panoInfoBox' id='panoInfoBox' title='"+o.name+"外景' title='查看全景' >");var _=BMap.url.proto+BMap.url.domain.pano[0]+"/pr/?qt=poiprv&uid="+l+"&width=323&height=101&quality=80&fovx=200";p.push("<img filter = 'pano_thumnail_img' class='pano_thumnail_img' width=323 height=101 border='0' alt='"+o.name+"外景' src='"+_+"' id='pano_"+t+"'/>"),p.push("<div filter = 'panoInfoBoxTitleBg' class='panoInfoBoxTitleBg'></div><a href='javascript:void(0)' filter='panoInfoBoxTitleContent' class='panoInfoBoxTitleContent' >进入全景&gt;&gt;</a>"),p.push("</div>"),c.innerHTML=p.join("")}if(s){var g=create("p",{style:d});g.innerHTML="地址："+s,c.appendChild(g)}if(h){var m=create("p",{style:d});m.innerHTML="电话："+h,c.appendChild(m)}if(o.tag){var f=create("p",{style:d+"color:#7f7f7f;"});f.innerHTML="标签："+o.tag,c.appendChild(f)}var v="http://api.map.baidu.com/place/detail?uid="+t+"&output=html&source=jsapi&operate=mapclick&clicktype=tile",y="<div style='height:26px;' id='detailDiv'><a  filter='detailInfo' href='"+v+"' target='_blank' style='font-size:14px;color:#4d4d4d;font-weight:bold;text-decoration:none;' onmouseover='this.style.textDecoration=\"underline\";this.style.color=\"#3d6dcc\"' onmouseout ='this.style.textDecoration=\"none\";this.style.color=\"#4d4d4d\"'>"+o.name+"</a>";y+="<a  filter='detailLink' href='"+v+"' target='_blank' style='font-size:12px;color:#3d6dcc;margin-left:5px;text-decoration:none;' onmouseover='this.style.textDecoration=\"underline\"' onmouseout ='this.style.textDecoration=\"none\"'>详情&raquo;</a>",y+="</div>";var b=new InfoWindow(c,{width:322,enableSearchTool:!0,title:y,enableParano:u});if(u&&(b.street_id=l),b.addEventListener("open",function(){var t=baidu.g("panoInfoBox");if(t){var e=o.street_id||"";delegate("click",function(t,n){_addStat(STAT.PANO_CLICK_IN_INFOWINDOW),i._cbGetCopyTime(e)},t,"pano_thumnail_img|panoInfoBoxTitleBg|panoInfoBoxTitleContent")}var n=baidu.g("detailDiv");delegate("click",function(){_addStat(STAT.INFO_WINDOW_DETAIL_LINK_CLICK)},n,"detailInfo")}),b.addEventListener("close",function(){i.label1&&i.label1.hide(),i.label2&&i.label2.hide(),i.sdLab&&i.sdLab.hide(),n.temp.infoWin.overlay&&n.temp.infoWin.overlay.hide(),i.onMarker=null,Share.mapSpotInf=null,b.removeEventListener("close",arguments.callee)}),i.onMarker)i.onMarker.openInfoWindow(b),Share.mapSpotInf||(Share.mapSpotInf=i.spotOnUid+"|"+(i.icType?i.icType:i.icType1));else if(!i.mkr1){var x=SUtil.parseGeo(o.geo,!0).point;if(i.icType){var w=MPC_ICON_IMGOFFSET.blank;i.ic.setImageOffset(new Size(w.x,w.y));var P=MPC_ICON_SIZE[w.s];i.ic.setSize(new Size(P.w,P.h)),i.ic.setAnchor(new Size(P.w/2,P.h/2))}i.mkr1=new Marker(x,{icon:i.ic,zIndexFixed:!0}),n.addOverlay(i.mkr1),i.mkr1.addEventListener("click",function(){Share.mapSpotInf=i.spotOnUid+"|"+(i.icType?i.icType:i.icType1),i.clickMkr(i.mkr1)}),i.mkr1.addEventListener("mouseout",function(){i.moveOutMkr(i.mkr1)}),i.mkr1.openInfoWindow(b)}i.label1&&i.label1.hide(),i.label2&&i.label2.hide(),i.sdLab&&i.sdLab.hide()}},o._cbGetCopyTime=function(t){var e=BMap.getServerUrl("pano","scape/")[0],i=this,n=(new Date).getTime(),o="Pano"+n;BMap[o]=function(t){var e=i.map.getPanorama(),n=t.content[0];e.setId(n.poiinfo.PID),e.show(),e.setPov({heading:n.poiinfo.Dir,pitch:n.poiinfo.Pitch})},n=(new Date).getTime(),e+="?qt=poi&udt=20131021&uid="+t+"&t="+n+"&fn=BMap."+o,DataMgr.request(e,!1)},o.moveOverSpot=function(t){var e=this.map;if(!(e.getZoom()<10)){var i=t.spots;if(i&&!(i.length<1)&&"MAP_CLICK_POI"==i[0].tag){var n=this,o=null,a=null,r=0;if(n.onMarker&&n.onMarker===n.mkr1?(o=n.mkr2,a=n.label2,r=2):(o=n.mkr1,a=n.label1,r=1),!e.temp.infoWin||1!=e.temp.infoWin.isOpen()||!Share.mapSpotInf||i[0].userdata.uid!=Share.mapSpotInf.split("|")[0]){if(i[0].userdata.type&&MPC_ICON_IMGOFFSET[i[0].userdata.type]){var s=MPC_ICON_IMGOFFSET.blank;n.icType1="blank"}else{var s=MPC_ICON_IMGOFFSET.blank;n.icType1="blank"}var l=MPC_ICON_SIZE[s.s];n.ic.setSize(new Size(l.w,l.h)),n.ic.setAnchor(new Size(l.w/2,l.h/2)),n.ic.setImageOffset(new Size(s.x,s.y));var h=i[0].userdata.iconpoint?i[0].userdata.iconpoint:i[0].pt;o&&o.map?(o.hide(),o.setPosition(h),o.setIcon(n.ic),o.show(),n.spotOnUid=i[0].userdata.uid):(o=new Marker(h,{icon:n.ic,zIndexFixed:!0,baseZIndex:3e6
}),n.spotOnUid=i[0].userdata.uid,e.addOverlay(o),1==r?n.mkr1=o:n.mkr2=o,o.addEventListener("click",function(){n.icType=n.icType1,Share.mapSpotInf=n.spotOnUid+"|"+n.icType1,n.clickMkr(o)}),o.addEventListener("mouseout",function(){n.moveOutMkr(o)})),o.setTop(!0);var c=[{backgroundColor:"#FFFFE1",borderColor:"#8C8C8C",color:"#4D4D4D"},{backgroundColor:"#F0F7FF",borderColor:"#7AA3CC",color:"#224B73"}];if(n.tMkr=o,a&&a.map)if(a.hide(),i[0].userdata.name){n.isOverSpot=1,a.setContent(i[0].userdata.name);var d=n.getLabelPoint(h,1,{x:Math.abs(i[0].bd[0])+6,y:-9});a.setPosition(d),a.setStyle(c[1]),a.show(),n.getShadowLabel({point:d,name:i[0].userdata.name})}else n.isOverSpot=2,a.setContent("点击可查看详情"),a.setStyle(c[0]),n.timeMachine(a);else if(i[0].userdata.name){n.isOverSpot=1;var d=n.getLabelPoint(h,1,{x:Math.abs(i[0].bd[0])+6,y:-9});a=new Label(i[0].userdata.name,{position:d}),e.addOverlay(a),1==r?n.label1=a:n.label2=a,a.setStyle(c[1]),n.getShadowLabel({point:d,name:i[0].userdata.name})}else n.isOverSpot=2,a=new Label("点击可查看详情",{position:n.getLabelPoint(t.point,0)}),e.addOverlay(a),a.hide(),1==r?n.label1=a:n.label2=a,a.setStyle(c[0]),n.timeMachine(a)}}}},o.timeMachine=function(t){var e=this,i=t;e.timer0=setInterval(function(){e.isMoving||setTimeout(function(){if(2!=e.isOverSpot)return void clearInterval(e.timer0);var t=e.getLabelPoint(e.overSpotPoint,0);i.setPosition(t),i.show(),e.getShadowLabel({point:t,name:"点击可查看详情"}),clearInterval(e.timer0)},500)},200)},o.getLabelPoint=function(t,e,i){var n=this.map,o=n.pointToPixel(t);if(i)var a=i;else if(0==e)var a={x:-1,y:24};else if(1==e)var a={x:12,y:-9};try{if(0==e)return n.pixelToPoint(new Pixel(o.x+a.x,o.y+a.y));if(1==e)return n.pixelToPoint(new Pixel(o.x+a.x,o.y+a.y))}catch(t){}},o.moveOutSpot=function(t){var e=this.map;if(!(e.getZoom()<10)){var i=this;i.isOverSpot=0,i.label1&&i.label1.hide(),i.label2&&i.label2.hide(),i.sdLab&&i.sdLab.hide(),i.timer0&&clearInterval(i.timer0),i.tMkr=null;var n=i.mkr2;if(n&&n.map&&(!e.temp.infoWin||0==e.temp.infoWin.isOpen()||e.temp.infoWin.overlay!==n)){if(i.onMarker&&i.onMarker===n)return;n.hide()}if((n=i.mkr1)&&n.map&&(!e.temp.infoWin||0==e.temp.infoWin.isOpen()||e.temp.infoWin.overlay!==n)){if(i.onMarker&&i.onMarker===n)return;n.hide()}}},o.moveOutMkr=function(t){var e=this.map;if(!(e.getZoom()<10)&&t){var i=this;if(i.label1&&i.label1.hide(),i.label2&&i.label2.hide(),i.sdLab&&i.sdLab.hide(),i.onMarker!==t)if(e.temp.infoWin&&1==e.temp.infoWin.isOpen()){if(e.temp.infoWin.overlay===t)return}else i.spotOnUid=""}},o.bindMapRequest=function(){var t=this,e=this.map;e.addEventListener("load",function(){t._bindMapRequest()}),e.addEventListener("moveend",function(){t._bindMapRequest()}),e.addEventListener("dragend",function(){t._bindMapRequest()}),e.addEventListener("zoomend",function(){t.clearCityCache(),t.clearPoiCache(),e.temp.infoWin&&1==e.temp.infoWin.isOpen()||(t.mkr1&&t.mkr1.hide(),t.mkr2&&t.mkr2.hide(),t.label1&&t.label1.hide(),t.label2&&t.label2.hide(),t.sdLab&&t.sdLab.hide(),t.isOverSpot=0,t.timer0&&clearInterval(t.timer0)),t._bindMapRequest()}),e.addEventListener("resize",function(){t._bindMapRequest()})},o._bindMapRequest=function(){var t=this,e=this.map;t.isOpen&&e.getZoom()<10&&(t.clearPoiCache(),t.citySpotId||(t.citySpotId=t.addSpots(clickCityData,"MAP_CLICK_CITY")))},o.sendRequest=function(t){var e=this,i=this.map,n=this.map.guid;if(t&&e.fetchId!=t.l+"_"+t.x+"_"+t.y){e.fetchId=t.l+"_"+t.x+"_"+t.y;var o=[],a=BMap.url.domain.TILE_ONLINE_URLS[Math.abs(t.x+t.y)%3];o.push(BMap.url.proto+a+"/js/?qt=vtileQuest&styles=pl"),o.push("&x="+t.x+"&y="+t.y+"&z="+i.zoomLevel+"&v=056&fn=MPC_Mgr."+n+".getPoiData"),DataMgr.request(o.join(""))}},o.getPoiData=function(t){var e=t.content[0],i=this.map;if(!(e.error_no>0||e.uids.length<1)){for(var n={},o=!1,a=this,r=[],s=e,l=0,h=s.uids.length;l<h;l++){var c=s.uids[l],d=(c.bound.xmax+c.bound.xmin)/2,u=(c.bound.ymax+c.bound.ymin)/2,p=i.pointToPixel(MercatorProjection.convertMC2LL(new Point(c.bound.xmin,c.bound.ymin))),_=i.pointToPixel(MercatorProjection.convertMC2LL(new Point(c.bound.xmax,c.bound.ymax))),g=[(p.x-_.x)/2,(_.y-p.y)/2,(_.x-p.x)/2,(p.y-_.y)/2];r.push({pt:MercatorProjection.convertMC2LL(new Point(d,u)),bd:g,userdata:{name:c.name?c.name:"",uid:c.uid,type:c.type,iconpoint:c.icon?MercatorProjection.convertMC2LL(new Point(c.icon.x,c.icon.y)):""},tag:"MAP_SPOT_INFO"})}a.curTileId&&a.curTileId==s.tileid&&(o=!0),n[s.tileid]=r;var m=e.tileid.split("_"),f=m[0]+"_"+m[1]+"_"+m[2];if(a.cacheData[f]=n,a.cacheIds.push(f),a.cacheIds.length>a.maxCache){var v=a.cacheIds.shift();delete a.cacheData[v],delete v}o&&a._addSpot(a.curTileId)}},o.clearPoiCache=function(){var t=this,e=this.map;t.poiSpotId&&(e.clearHotspots("MAP_CLICK_POI"),t.poiSpotId=null,t.spotOnId="",t.curTileId="")},o.clearCityCache=function(){var t=this,e=this.map;t.citySpotId&&(e.clearHotspots("MAP_CLICK_CITY"),t.citySpotId=null)},o.hideOverlays=function(){var t=this;t.mkr1&&t.mkr1.hide(),t.mkr2&&t.mkr2.hide(),t.label1&&t.label1.hide(),t.label2&&t.label2.hide(),t.sdLab&&t.sdLab.hide(),t.timer0&&clearInterval(t.timer0)},o._getCateInfo=function(t){for(var e=[],i=0,n=t.length;i<n;i++)e.push(t[i][1]),i<n-1&&e.push(", ");return e.join("")},o.addShadowLabel=function(){var t=this;t.sdLab||(t.sdLab=new Label("shadow"),this.map.addOverlay(t.sdLab),t.sdLab.setStyle({backgroundColor:"#BEBEBE",borderColor:"#BEBEBE",color:"#BEBEBE",zIndex:-2e4})),t.sdLab.hide()},o.getShadowLabel=function(t){this.map},o.m1=function(t){return Math.floor(parseInt(t,10)/this.squareSide)},o.addSpotEvent=function(){var t=this,e=this,i=this.map;e._moveOverSpot||(e._moveOverSpot=function(e){t.moveOverSpot(e)}),e._moveOutSpot||(e._moveOutSpot=function(e){t.moveOutSpot(e)}),e._clickSpot||(e._clickSpot=function(e){t.clickSpot(e)}),i.addEventListener("hotspotover",e._moveOverSpot),i.addEventListener("hotspotout",e._moveOutSpot),i.addEventListener("hotspotclick",e._clickSpot)},o.removeSpotEvent=function(){var t=this,e=this.map;e.removeEventListener("hotspotover",t._moveOverSpot),e.removeEventListener("hotspotout",t._moveOutSpot),e.removeEventListener("hotspotclick",t._clickSpot)},o.bindSpotEvent=function(){var t=this.map,e=this;e.addSpotEvent(),t.addEventListener("onmaptypechange",function(t){var i=t.mapType;i!=BMAP_NORMAL_MAP&&i!=BMAP_HYBRID_MAP?(e.clearPoiCache(),e.hideOverlays(),e.removeSpotEvent()):e.addSpotEvent()})},o.open=function(){var t=this;1!=t.isOpen&&(t.isOpen=!0,t.addSpotEvent())},o.close=function(){var t=this;0!=t.isOpen&&(t.isOpen=!1,t.clearPoiCache(),t.clearCityCache(),t.hideOverlays(),t.removeSpotEvent())};for(var MPC_ICON_SIZE=[{w:18,h:18},{w:20,h:20},{w:26,h:16},{w:15,h:15},{w:18,h:18},{w:24,h:24},{w:16,h:16},{w:20,h:20},{w:24,h:24},{w:5,h:5},{w:24,h:14},{w:34,h:16},{w:17,h:18},{w:21,h:22},{w:21,h:21},{w:23,h:23},{w:30,h:30}],MPC_ICON_IMGOFFSET={zhudijigou:{x:-195,y:0,s:0},zhongyangjigou:{x:-178,y:-190,s:0},zhongxiaoxue:{x:-196,y:-190,s:0},zhongheyiyuan_1:{x:-214,y:-190,s:0},zhongcan:{x:-232,y:-190,s:0},zhongcan_a:{x:-232,y:-190,s:0},zhongcan_b:{x:-232,y:-190,s:0},zhongbiaoyanjing:{x:-250,y:-190,s:0},youzheng:{x:-160,y:-208,s:0},xiyidian:{x:-178,y:-208,s:0},xinwenchuban:{x:-196,y:-208,s:0},xican:{x:-214,y:-208,s:0},xiaoxue_loupan:{x:-232,y:-208,s:0},wenhuabangong:{x:-285,y:-18,s:0},yinyueting:{x:-160,y:-226,s:0},tushuyinxiang:{x:-178,y:-226,s:0},tiyuyongpin:{x:-196,y:-226,s:0},tiyu:{x:-214,y:-226,s:0},tingchecang:{x:-232,y:-226,s:0},shoupiaochu:{x:-250,y:-226,s:0},yinghang:{x:-160,y:-244,s:0},sheyingshexiang:{x:-178,y:-244,s:0},shangwudasha:{x:-196,y:-244,s:0},shangchang:{x:-214,y:-244,s:0},sewaijigou:{x:-267,y:-54,s:0},qita:{x:-250,y:-244,s:0},yaodian_yaofang:{x:-160,y:-262,s:0},qiche:{x:-178,y:-262,s:0},meirongmeifa:{x:-196,y:-262,s:0},lingmu:{x:-214,y:-262,s:0},lianshuokuaishujiudiann:{x:-232,y:-262,s:0},keyangjigou:{x:-250,y:-262,s:0},hill:{x:-160,y:-280,s:0},jiaotang:{x:-178,y:-280,s:0},jiayouzhan:{x:-196,y:-280,s:0},jiguandanwei:{x:-249,y:-90,s:0},jiuba:{x:-232,y:-280,s:0},kafeiting:{x:-250,y:-280,s:0},guji:{x:-160,y:-298,s:0},gouwuzhongxin:{x:-178,y:-298,s:0},gongyuan:{x:-196,y:-298,s:0},gongjianfajigou:{x:-249,y:-108,s:0},gongce:{x:-232,y:-298,s:0},gewuting:{x:-250,y:-298,s:0},gaodengjiaoyu:{x:-160,y:-316,s:0},gangkou_matou:{x:-178,y:-316,s:0},fengjing:{x:-196,y:-316,s:0},fangwuzhongjie:{x:-214,y:-316,s:0},dujiachun:{x:-232,y:-316,s:0},dongwuyuan:{x:-250,y:-316,s:0},dongnanyacai:{x:-160,y:-334,s:0},dianyingyuan:{x:-178,y:-334,s:0},dianxinyingyeting:{x:-196,y:-334,s:0},dianxingongsi:{x:-214,y:-334,s:0},dianshita:{x:-232,y:-334,s:0},chongwudian:{x:-250,y:-334,s:0},chazhuo:{x:-160,y:-352,s:0},chaoshi:{x:-178,y:-352,s:0},changtuqichezhan:{x:-196,y:-352,s:0},bowuguan:{x:-214,y:-352,s:0},binguan:{x:-232,y:-352,s:0},atm:{x:-250,y:-352,s:0},blank:{x:-166,y:0,s:0},feijichang:{x:-167,y:-18,s:1},huochezhan:{x:-167,y:-40,s:1},tianam:{x:-164,y:-61,s:2},busstop_2:{x:-82,y:-289,s:12},busstop_3:{x:-124,y:-289,s:13},ditie_beijing_00:{x:-175,y:-90,s:9},ditie_beijing_0:{x:-8,y:0,s:3},ditie_beijing_1:{x:-27,y:0,s:4},ditie_beijing_2:{x:-51,y:0,s:5},ditie_shanghai_0:{x:-8,y:-23,s:3},ditie_shanghai_1:{x:-27,y:-23,s:4},ditie_shanghai_2:{x:-51,y:-23,s:5},ditie_guangzhou_0:{x:-8,y:-47,s:3},ditie_guangzhou_1:{x:-27,y:-47,s:4},ditie_guangzhou_2:{x:-51,y:-47,s:5},ditie_tianjin_0:{x:-8,y:-71,s:3},ditie_tianjin_1:{x:-27,y:-71,s:4},ditie_tianjin_2:{x:-51,y:-71,s:5},ditie_shenzhen_0:{x:-8,y:-95,s:3},ditie_shenzhen_1:{x:-27,y:-95,s:4},ditie_shenzhen_2:{x:-51,y:-95,s:5},ditie_xianggang_0:{x:-8,y:-120,s:3},ditie_xianggang_1:{x:-27,y:-120,s:4},ditie_xianggang_2:{x:-51,y:-120,s:5},ditie_nanjing_0:{x:-8,y:-142,s:3},ditie_nanjing_1:{x:-27,y:-142,s:4},ditie_nanjing_2:{x:-51,y:-142,s:5},ditie_chongqing_0:{x:-8,y:-166,s:3},ditie_chongqing_1:{x:-27,y:-166,s:4},ditie_chongqing_2:{x:-51,y:-166,s:5},ditie_wuhan_0:{x:-8,y:-191,s:3},ditie_wuhan_1:{x:-27,y:-191,s:4},ditie_wuhan_2:{x:-51,y:-191,s:5},ditie_changchun_0:{x:-8,y:-214,s:3},ditie_changchun_1:{x:-27,y:-214,s:4},ditie_changchun_2:{x:-51,y:-214,s:5},ditie_dalian_0:{x:-8,y:-238,s:3},ditie_dalian_1:{x:-27,y:-238,s:4},ditie_dalian_2:{x:-51,y:-238,s:5},ditie_chengdu_0:{x:-6,y:-316,s:14},ditie_chengdu_1:{x:-28,y:-316,s:15},ditie_chengdu_2:{x:-52,y:-316,s:16},ditie_shenyang_0:{x:-8,y:-289,s:3},ditie_shenyang_1:{x:-27,y:-289,s:4},ditie_shenyang_2:{x:-51,y:-289,s:5},trans_beijing_0:{x:-83,y:-1,s:6},trans_beijing_1:{x:-102,y:-1,s:7},trans_beijing_2:{x:-127,y:-1,s:8},trans_shanghai_0:{x:-83,y:-27,s:6},trans_shanghai_1:{x:-102,y:-27,s:7},trans_shanghai_2:{x:-127,y:-27,s:8},trans_guangzhou_0:{x:-83,y:-53,s:6},trans_guangzhou_1:{x:-102,y:-53,s:7},trans_guangzhou_2:{x:-127,y:-53,s:8},trans_tianjin_0:{x:-83,y:-79,s:6},trans_tianjin_1:{x:-102,y:-79,s:7},trans_tianjin_2:{x:-127,y:-79,s:8},trans_shenzhen_0:{x:-83,y:-105,s:6},trans_shenzhen_1:{x:-102,y:-105,s:7},trans_shenzhen_2:{x:-127,y:-105,s:8},trans_xianggang_0:{x:-83,y:-131,s:6},trans_xianggang_2:{x:-102,y:-131,s:7},trans_xianggang_3:{x:-127,y:-131,s:8},trans_nanjing_0:{x:-83,y:-157,s:6},trans_nanjing_1:{x:-102,y:-157,s:7},trans_nanjing_2:{x:-127,y:-157,s:8},trans_chongqing_0:{x:-83,y:-183,s:6},trans_chongqing_1:{x:-102,y:-183,s:7},trans_chongqing_2:{x:-127,y:-183,s:8},trans_wuhan_0:{x:-83,y:-209,s:6},trans_wuhan_1:{x:-102,y:-209,s:7},trans_wuhan_2:{x:-127,y:-209,s:8},trans_changchun_0:{x:-83,y:-235,s:6},trans_changchun_1:{x:-102,y:-235,s:7},trans_changchun_2:{x:-127,y:-235,s:8},trans_dalian_0:{x:-83,y:-261,s:6},trans_dalian_1:{x:-102,y:-261,s:7},trans_dalian_2:{x:-127,y:-261,s:8},gaosurukou:{x:-163,y:-131,s:10},gaosuchukou:{x:-163,y:-107,s:10},shoufeizhan:{x:-156,y:-153,s:11}},cBD=[-5,-4,4,4],ct2BD=[-12,-6,12,6],ct3BD=[-18,-6,18,6],ct3BD=[-18,-6,18,6],ct4BD=[-24,-6,24,6],clickCityData=[{n:"全国",pt:new Point(11999571.22,4112219.88),bd:[-19,-9,15,9],lr:[3,3]},{n:"北京市",pt:new Point(12990903,4825899),bd:[-6,-4,5,6],lr:[4,4]},{n:"北京市",pt:new Point(12960183,4824235),bd:[-6,-6,6,6],lr:[5,9]},{n:"天津市",pt:new Point(13048294.34,4712296.83),bd:cBD,lr:[5,9]},{n:"石家庄市",pt:new Point(12747812.4,4559586.74),bd:cBD,lr:[5,9]},{n:"唐山市",pt:new Point(13156656.16,4785778.65),bd:cBD,lr:[7,9]},{n:"秦皇岛市",pt:new Point(13314894.28,4829754.58),bd:cBD,lr:[7,9]},{n:"邯郸市",pt:new Point(12746205.45,4360272.57),bd:cBD,lr:[7,9]},{n:"邢台市",pt:new Point(12747493.44,4423803.15),bd:cBD,lr:[8,9]},{n:"保定市",pt:new Point(12854312.8,4677428.01),bd:cBD,lr:[7,9]},{n:"张家口市",pt:new Point(12790084.63,4959101.33),bd:cBD,lr:[7,9]},{n:"承德市",pt:new Point(13130326.91,4981742.46),bd:cBD,lr:[7,9]},{n:"沧州市",pt:new Point(13007293.7,4596691.7),bd:cBD,lr:[7,9]},{n:"廊坊市",pt:new Point(12992581.76,4769905.8),bd:cBD,lr:[8,9]},{n:"衡水市",pt:new Point(12880175.93,4516789.37),bd:cBD,lr:[7,9]},{n:"太原市",pt:new Point(12529077.01,4535262.32),bd:cBD,lr:[5,9]},{n:"大同市",pt:new Point(12613364.27,4850167.42),bd:cBD,lr:[7,9]},{n:"阳泉市",pt:new Point(12644591.26,4533525.33),bd:cBD,lr:[8,9]},{n:"长治市",pt:new Point(12593102.2,4302896.69),bd:cBD,lr:[7,9]},{n:"晋城市",pt:new Point(12563460.95,4206462.32),bd:cBD,lr:[7,9]},{n:"朔州市",pt:new Point(12516827.83,4742810.65),bd:cBD,lr:[7,9]},{n:"晋中市",pt:new Point(12552283.26,4509774.55),bd:cBD,lr:[7,9]},{n:"运城市",pt:new Point(12358083.71,4143552.84),bd:cBD,lr:[7,9]},{n:"忻州市",pt:new Point(12550781.32,4612328.73),bd:cBD,lr:[7,9]},{n:"临汾市",pt:new Point(12414951.46,4288092.81),bd:cBD,lr:[7,9]},{n:"吕梁市",pt:new Point(12373354.26,4486213.29),bd:cBD,lr:[7,9]},{n:"呼和浩特市",pt:new Point(12439719.97,4961446.57),bd:cBD,lr:[5,9]},{n:"包头市",pt:new Point(12228323.64,4934673.82),bd:cBD,lr:[7,9]},{n:"乌海市",pt:new Point(11892430.44,4793517.95),bd:cBD,lr:[7,9]},{n:"赤峰市",pt:new Point(13235547.33,5171648.96),bd:cBD,lr:[7,9]},{n:"通辽市",pt:new Point(13611472.47,5377912.47),bd:cBD,lr:[7,9]},{n:"鄂尔多斯市",pt:new Point(12248410.02,4812809.03),bd:cBD,lr:[7,9]},{n:"呼伦贝尔市",pt:new Point(13333153.54,6279368.64),bd:cBD,lr:[7,9]},{n:"巴彦淖尔市",pt:new Point(11955257.08,4947259.83),bd:cBD,lr:[7,9]},{n:"乌兰察布市",pt:new Point(12594852.29,4984078.08),bd:cBD,lr:[7,9]},{n:"兴安盟",pt:new Point(13588865.67,5762892.65),bd:cBD,lr:[7,9]},{n:"锡林郭勒盟",pt:new Point(12919226.01,5426155.97),bd:cBD,lr:[7,9]},{n:"阿拉善盟",pt:new Point(11770533.41,4674264.08),bd:cBD,lr:[7,9]},{n:"沈阳市",pt:new Point(13740366.03,5103661.8),bd:cBD,lr:[5,9]},{n:"大连市",pt:new Point(13538973.73,4683025.5),bd:cBD,lr:[7,9]},{n:"鞍山市",pt:new Point(13692513.69,5000950.08),bd:cBD,lr:[7,9]},{n:"抚顺市",pt:new Point(13799388.03,5114977.65),bd:cBD,lr:[7,9]},{n:"本溪市",pt:new Point(13778643.21,5028229.05),bd:cBD,lr:[7,9]},{n:"丹东市",pt:new Point(13847313.38,4857753.87),bd:cBD,lr:[7,9]},{n:"锦州市",pt:new Point(13485599,4998700.1),bd:cBD,lr:[7,9]},{n:"营口市",pt:new Point(13608006.02,4936051.67),bd:cBD,lr:[7,9]},{n:"阜新市",pt:new Point(13545067.45,5136335.54),bd:cBD,lr:[7,9]},{n:"辽阳市",pt:new Point(13712416.85,5024584.95),bd:cBD,lr:[8,9]},{n:"盘锦市",pt:new Point(13589876.45,5002667.8),bd:cBD,lr:[7,9]},{n:"铁岭市",pt:new Point(13787274.79,5175928.41),bd:cBD,lr:[7,9]},{n:"朝阳市",pt:new Point(13409297.34,5069601.1),bd:cBD,lr:[7,9]},{n:"葫芦岛市",pt:new Point(13452253.78,4942439.12),bd:cBD,lr:[7,9]},{n:"长春市",pt:new Point(13951696.47,5407899.41),bd:cBD,lr:[5,9]},{n:"吉林市",pt:new Point(14088310.69,5411361.75),bd:cBD,lr:[7,9]},{n:"四平市",pt:new Point(13843448.11,5308670.02),bd:cBD,lr:[7,9]},{n:"辽源市",pt:new Point(13931790.56,5266534.49),bd:cBD,lr:[7,9]},{n:"通化市",pt:new Point(14020458.02,5092482.52),bd:cBD,lr:[7,9]},{n:"白山市",pt:new Point(14074316.42,5124029.48),bd:cBD,lr:[8,9]},{n:"松原市",pt:new Point(13896319.29,5614174.46),bd:cBD,lr:[7,9]},{n:"白城市",pt:new Point(13675219.01,5689684.01),bd:cBD,lr:[7,9]},{n:"延边朝鲜族自治州",pt:new Point(14417763.73,5266998.98),bd:cBD,lr:[7,9]},{n:"哈尔滨市",pt:new Point(14086501.36,5722186.15),bd:cBD,lr:[5,9]},{n:"齐齐哈尔市",pt:new Point(13795282.3,5969334.56),bd:cBD,lr:[7,9]},{n:"鸡西市",pt:new Point(14580807.82,5638827.82),bd:cBD,lr:[7,9]},{n:"鹤岗市",pt:new Point(14505601.55,5968656.02),bd:cBD,lr:[7,9]},{n:"双鸭山市",pt:new Point(14601427.65,5854241.34),bd:cBD,lr:[7,9]},{n:"大庆市",pt:new Point(13927324.91,5844873.47),bd:cBD,lr:[7,9]},{n:"伊春市",pt:new Point(14350402.78,6030712.32),bd:cBD,lr:[7,9]},{n:"佳木斯市",pt:new Point(14508059.86,5878973.81),bd:cBD,lr:[7,9]},{n:"七台河市",pt:new Point(14584081.67,5713695.85),bd:cBD,lr:[7,9]},{n:"牡丹江市",pt:new Point(14430063.01,5527661.89),bd:cBD,lr:[7,9]},{n:"黑河市",pt:new Point(14196243.34,6457183.7),bd:cBD,lr:[7,9]},{n:"绥化市",pt:new Point(14134937.47,5855417.31),bd:cBD,lr:[7,9]},{n:"大兴安岭地区",pt:new Point(13838935.81,6763930.17),bd:cBD,lr:[7,9]},{n:"上海市",pt:new Point(13523148.5,3641129.98),bd:cBD,lr:[5,9]},{n:"南京市",pt:new Point(13224398.22,3749110.08),bd:cBD,lr:[5,9]},{n:"无锡市",pt:new Point(13392933.01,3684625.08),bd:cBD,lr:[8,9]},{n:"徐州市",pt:new Point(13046582.92,4040227.55),bd:cBD,lr:[7,9]},{n:"常州市",pt:new Point(13356312.14,3716455.43),bd:cBD,lr:[7,9]},{n:"苏州市",pt:new Point(13424367.52,3650025.6),bd:cBD,lr:[7,9]},{n:"南通市",pt:new Point(13458671.66,3738891.76),bd:cBD,lr:[7,9]},{n:"连云港市",pt:new Point(13272588.31,4085285.7),bd:cBD,lr:[7,9]},{n:"淮安市",pt:new Point(13249614.18,3953528.85),bd:cBD,lr:[7,9]},{n:"盐城市",pt:new Point(13377215.62,3919501.88),bd:cBD,lr:[7,9]},{n:"扬州市",pt:new Point(13293917.59,3792837.54),bd:cBD,lr:[7,9]},{n:"镇江市",pt:new Point(13298749.33,3767384.26),bd:cBD,lr:[8,9]},{n:"泰州市",pt:new Point(13350640.59,3800783.56),bd:cBD,lr:[8,9]},{n:"宿迁市",pt:new Point(13167237.96,4000367.15),bd:cBD,lr:[7,9]},{n:"杭州市",pt:new Point(13380521.4,3509725.46),bd:cBD,lr:[5,9]},{n:"宁波市",pt:new Point(13531717.19,3466700.47),bd:cBD,lr:[7,9]},{n:"温州市",pt:new Point(13437056.61,3228862.38),bd:cBD,lr:[7,9]},{n:"嘉兴市",pt:new Point(13442516.01,3578433.26),bd:cBD,lr:[7,9]},{n:"湖州市",pt:new Point(13368882.17,3597591.37),bd:cBD,lr:[7,9]},{n:"绍兴市",pt:new Point(13423534.39,3483350.89),bd:cBD,lr:[7,9]},{n:"金华市",pt:new Point(13319962.71,3365440.15),bd:cBD,lr:[7,9]},{n:"衢州市",pt:new Point(13233814.51,3347380.57),bd:cBD,lr:[7,9]},{n:"舟山市",pt:new Point(13604984.13,3480848.35),bd:cBD,lr:[7,9]},{n:"台州市",pt:new Point(13517355.59,3311823.54),bd:cBD,lr:[7,9]},{n:"丽水市",pt:new Point(13350634.45,3288178.9),bd:cBD,lr:[7,9]},{n:"合肥市",pt:new Point(13050460.54,3720544.86),bd:cBD,lr:[5,9]},{n:"芜湖市",pt:new Point(13179464.98,3655185.37),bd:cBD,lr:[7,9]},{n:"蚌埠市",pt:new Point(13068493.69,3861457.33),bd:cBD,lr:[7,9]},{n:"淮南市",pt:new Point(13025559.53,3823189.84),bd:cBD,lr:[7,9]},{n:"马鞍山市",pt:new Point(13192758.45,3701721.87),bd:cBD,lr:[7,9]},{n:"淮北市",pt:new Point(13002797.48,3999425.85),bd:cBD,lr:[8,9]},{n:"铜陵市",pt:new Point(13116556.18,3603277.27),bd:cBD,lr:[8,9]},{n:"安庆市",pt:new Point(13031623.75,3550019.08),bd:cBD,lr:[7,9]},{n:"黄山市",pt:new Point(13174278.86,3446439.23),bd:cBD,lr:[7,9]},{n:"滁州市",pt:new Point(13171837.94,3780786.48),bd:cBD,lr:[7,9]},{n:"阜阳市",pt:new Point(12893215.16,3858085.78),bd:cBD,lr:[7,9]},{n:"宿州市",pt:new Point(13021231.7,3958276.71),bd:cBD,lr:[7,9]},{n:"巢湖市",pt:new Point(13123851.59,3691564.79),bd:cBD,lr:[8,9]},{n:"六安市",pt:new Point(12970198.74,3707970.37),bd:cBD,lr:[7,9]},{n:"亳州市",pt:new Point(12889497.48,3985791.77),bd:cBD,lr:[8,9]},{n:"池州市",pt:new Point(13079874.8,3567450.98),bd:cBD,lr:[8,9]},{n:"宣城市",pt:new Point(13221018.86,3603632.56),bd:cBD,lr:[7,9]},{n:"福州市",pt:new Point(13280713.93,2989935.97),bd:cBD,lr:[5,9]},{n:"厦门市",pt:new Point(13146513.06,2794855.77),bd:cBD,lr:[7,9]},{n:"莆田市",pt:new Point(13248738.85,2913804.66),bd:cBD,lr:[7,9]},{n:"三明市",pt:new Point(13096399.79,3013435.8),bd:cBD,lr:[7,9]},{n:"泉州市",pt:new Point(13201910.12,2846954.45),bd:cBD,lr:[8,9]},{n:"漳州市",pt:new Point(13097299.4,2798905.67),bd:cBD,lr:[7,9]},{n:"南平市",pt:new Point(13156351.9,3060177),bd:cBD,lr:[7,9]},{n:"龙岩市",pt:new Point(13029047.54,2870546.66),bd:cBD,lr:[7,9]},{n:"宁德市",pt:new Point(13306472.99,3063294.93),bd:cBD,lr:[7,9]},{n:"南昌市",pt:new Point(12910017.55,3308071.83),bd:cBD,lr:[5,9]},{n:"景德镇市",pt:new Point(13045488.05,3394401.41),bd:cBD,lr:[7,9]},{n:"萍乡市",pt:new Point(12675159.81,3182197.09),bd:cBD,lr:[8,9]},{n:"九江市",pt:new Point(12914084.97,3445118.73),bd:cBD,lr:[7,9]},{n:"新余市",pt:new Point(12793320.28,3206680.44),bd:cBD,lr:[8,9]},{n:"鹰潭市",pt:new Point(13032952.25,3262112.41),bd:cBD,lr:[8,9]},{n:"赣州市",pt:new Point(12795185.35,2959890.57),bd:cBD,lr:[7,9]},{n:"吉安市",pt:new Point(12801884.97,3118790.33),bd:cBD,lr:[7,9]},{n:"宜春市",pt:new Point(12736934.92,3206538.71),bd:cBD,lr:[7,9]},{n:"抚州市",pt:new Point(12953213,3222556.21),bd:cBD,lr:[7,9]},{n:"上饶市",pt:new Point(13133880.04,3285299.92),bd:cBD,lr:[7,9]},{n:"济南市",pt:new Point(13024581.37,4367507.59),bd:cBD,lr:[5,9]},{n:"青岛市",pt:new Point(13401831.29,4285182.82),bd:cBD,lr:[7,9]},{n:"淄博市",pt:new Point(13142686.3,4388052.83),bd:cBD,lr:[7,9]},{n:"枣庄市",pt:new Point(13061274.78,4114277.91),bd:cBD,lr:[7,9]},{n:"东营市",pt:new Point(13211656.35,4474393.79),bd:cBD,lr:[7,9]},{n:"烟台市",pt:new Point(13520352.99,4478575.49),bd:cBD,lr:[7,9]},{n:"潍坊市",pt:new Point(13265878.88,4373424.04),bd:cBD,lr:[7,9]},{n:"济宁市",pt:new Point(12979324.04,4196136.66),bd:cBD,lr:[7,9]},{n:"泰安市",pt:new Point(13034988.61,4303535.5),bd:cBD,lr:[7,9]},{n:"威海市",pt:new Point(13595631.29,4485000.06),bd:cBD,lr:[7,9]},{n:"日照市",pt:new Point(13307109.51,4195766.38),bd:cBD,lr:[7,9]},{n:"莱芜市",pt:new Point(13100456.67,4305551.29),bd:cBD,lr:[8,9]},{n:"临沂市",pt:new Point(13175462.45,4147217.21),bd:cBD,lr:[7,9]},{n:"德州市",pt:new Point(12947622.04,4476813.41),bd:cBD,lr:[7,9]},{n:"聊城市",pt:new Point(12912310.75,4338690.92),bd:cBD,lr:[7,9]},{n:"滨州市",pt:new Point(13134584.6,4466450.28),bd:cBD,lr:[8,9]},{n:"菏泽市",pt:new Point(12856033.48,4171820.25),bd:cBD,lr:[7,9]},{n:"郑州市",pt:new Point(12648663.61,4105852.45),bd:cBD,lr:[5,9]},{n:"开封市",pt:new Point(12725500.83,4112517.32),bd:cBD,lr:[7,9]},{n:"洛阳市",pt:new Point(12519082.39,4088441.36),bd:cBD,lr:[7,9]},{n:"平顶山市",pt:new Point(12614390.72,3969016.16),bd:cBD,lr:[7,9]},{n:"安阳市",pt:new Point(12735043.36,4289478.97),bd:cBD,lr:[7,9]},{n:"鹤壁市",pt:new Point(12711802.8,4262428.36),bd:cBD,lr:[8,9]},{n:"新乡市",pt:new Point(12683052.11,4179998.27),bd:cBD,lr:[7,9]},{n:"焦作市",pt:new Point(12606908.19,4169148.29),bd:cBD,lr:[8,9]},{n:"濮阳市",pt:new Point(12806228.38,4243123.16),bd:cBD,lr:[8,9]},{n:"许昌市",pt:new Point(12674841.33,4010264.96),bd:cBD,lr:[8,9]},{n:"漯河市",pt:new Point(12693143.11,3949716.47),bd:cBD,lr:[8,9]},{n:"三门峡市",pt:new Point(12379841.12,4110225.01),bd:cBD,lr:[7,9]},{n:"南阳市",pt:new Point(12527475.32,3871404.82),bd:cBD,lr:[7,9]},{n:"商丘市",pt:new Point(12875114.84,4065382.71),bd:cBD,lr:[7,9]},{n:"信阳市",pt:new Point(12698935.02,3757290.11),bd:cBD,lr:[7,9]},{n:"周口市",pt:new Point(12764020.8,3955188.99),bd:cBD,lr:[7,9]},{n:"驻马店市",pt:new Point(12695259.9,3870201.61),bd:cBD,lr:[7,9]},{n:"武汉市",pt:new Point(12724558.82,3558883.15),bd:cBD,lr:[5,9]},{n:"黄石市",pt:new Point(12806831.16,3508246.06),bd:cBD,lr:[8,9]},{n:"十堰市",pt:new Point(12333819.83,3826557.97),bd:cBD,lr:[7,9]},{n:"宜昌市",pt:new Point(12389264.78,3571550.15),bd:cBD,lr:[7,9]},{n:"襄樊市",pt:new Point(12485804.42,3744176.48),bd:cBD,lr:[7,9]},{n:"荆门市",pt:new Point(12490831.2,3615936.83),bd:cBD,lr:[7,9]},{n:"孝感市",pt:new Point(12681976.45,3601581.31),bd:cBD,lr:[8,9]},{n:"荆州市",pt:new Point(12495313.2,3525594.67),bd:cBD,lr:[7,9]},{n:"黄冈市",pt:new Point(12788727.31,3541014.86),bd:cBD,lr:[7,9]},{n:"咸宁市",pt:new Point(12727136.79,3462404.52),bd:cBD,lr:[7,9]},{n:"随州市",pt:new Point(12622531.73,3700874.41),bd:cBD,lr:[7,9]},{n:"恩施土家族苗族自治州",pt:new Point(12189032.67,3517579.64),bd:cBD,lr:[7,9]},{n:"仙桃市",pt:new Point(12630567.86,3529164.83),bd:cBD,lr:[9,9]},{n:"潜江市",pt:new Point(12568735.44,3534321.2),bd:cBD,lr:[9,9]},{n:"天门市",pt:new Point(12598443.93,3567930.91),bd:cBD,lr:[9,9]},{n:"神农架林区",pt:new Point(12321205.2,3707164.42),bd:cBD,lr:[9,9]},{n:"长沙市",pt:new Point(12572347.48,3258455.64),bd:cBD,lr:[5,9]},{n:"株洲市",pt:new Point(12594927.63,3207920.8),bd:cBD,lr:[7,9]},{n:"湘潭市",pt:new Point(12573615.87,3208214.06),bd:cBD,lr:[7,9]},{n:"衡阳市",pt:new Point(12532300.4,3091412.15),bd:cBD,lr:[7,9]},{n:"邵阳市",pt:new Point(12409390.43,3134535.06),bd:cBD,lr:[7,9]},{n:"岳阳市",pt:new Point(12594102,3400788.63),bd:cBD,lr:[7,9]},{n:"常德市",pt:new Point(12435079.12,3359523.26),bd:cBD,lr:[7,9]},{n:"张家界市",pt:new Point(12299442.66,3370126.24),bd:cBD,lr:[7,9]},{n:"益阳市",pt:new Point(12508177.66,3299123.14),bd:cBD,lr:[7,9]},{n:"郴州市",pt:new Point(12581582.51,2952694.08),bd:cBD,lr:[7,9]},{n:"永州市",pt:new Point(12425662.51,3032983.5),bd:cBD,lr:[7,9]},{n:"怀化市",pt:new Point(12245712.5,3174098.87),bd:cBD,lr:[7,9]},{n:"娄底市",pt:new Point(12468037.65,3191557.89),bd:cBD,lr:[8,9]},{n:"湘西土家族苗族自治州",pt:new Point(12216983.61,3268959.39),bd:cBD,lr:[7,9]},{n:"广州市",pt:new Point(12609307.83,2631271.83),bd:cBD,lr:[5,9]},{n:"韶关市",pt:new Point(12646446.31,2835068.76),bd:cBD,lr:[7,9]},{n:"深圳市",pt:new Point(12689198.96,2569212.32),bd:cBD,lr:[8,9]},{n:"汕头市",pt:new Point(12989836.15,2658196.76),bd:cBD,lr:[7,9]},{n:"佛山市",pt:new Point(12593519.42,2618810.41),bd:cBD,lr:[8,9]},{n:"江门市",pt:new Point(12589077.06,2565305.02),bd:cBD,lr:[7,9]},{n:"湛江市",pt:new Point(12286019.39,2409244.55),bd:cBD,lr:[7,9]},{n:"茂名市",pt:new Point(12348999.61,2455913.03),bd:cBD,lr:[7,9]},{n:"肇庆市",pt:new Point(12520445.64,2621563.68),bd:cBD,lr:[7,9]},{n:"惠州市",pt:new Point(12737692.87,2629228.47),bd:cBD,lr:[8,9]},{n:"梅州市",pt:new Point(12927552.25,2771587.26),bd:cBD,lr:[7,9]},{n:"汕尾市",pt:new Point(12844409.79,2590115.95),bd:cBD,lr:[7,9]},{n:"河源市",pt:new Point(12769271.56,2705584.51),bd:cBD,lr:[7,9]},{n:"阳江市",pt:new Point(12466694.44,2479195.46),bd:cBD,lr:[7,9]},{n:"清远市",pt:new Point(12586213.67,2698112.83),bd:cBD,lr:[7,9]},{n:"东莞市",pt:new Point(12663617.76,2618331.04),bd:cBD,lr:[7,9]},{n:"中山市",pt:new Point(12623653.08,2557824.08),bd:cBD,lr:[8,9]},{n:"潮州市",pt:new Point(12983266.14,2695080.32),bd:cBD,lr:[8,9]},{n:"揭阳市",pt:new Point(12955409.7,2682130.11),bd:cBD,lr:[8,9]},{n:"云浮市",pt:new Point(12473607.14,2605655.19),bd:cBD,lr:[7,9]},{n:"南宁市",pt:new Point(12063576.78,2594028.7),bd:cBD,lr:[5,9]},{n:"柳州市",pt:new Point(12180922.28,2776089.56),bd:cBD,lr:[7,9]},{n:"桂林市",pt:new Point(12278276.01,2891719.35),bd:cBD,lr:[7,9]},{n:"梧州市",pt:new Point(12388367.17,2673421.13),bd:cBD,lr:[7,9]},{n:"北海市",pt:new Point(12148034.92,2434259.23),bd:cBD,lr:[7,9]},{n:"防城港市",pt:new Point(12062758.24,2458819.91),bd:cBD,lr:[7,9]},{n:"钦州市",pt:new Point(12096184.74,2493766.85),bd:cBD,lr:[8,9]},{n:"贵港市",pt:new Point(12201118.42,2628719.18),bd:cBD,lr:[8,9]},{n:"玉林市",pt:new Point(12264309.72,2572247.58),bd:cBD,lr:[7,9]},{n:"百色市",pt:new Point(11869501.63,2724850.41),bd:cBD,lr:[7,9]},{n:"贺州市",pt:new Point(12420506.04,2785419.69),bd:cBD,lr:[7,9]},{n:"河池市",pt:new Point(12032932.45,2820780.9),bd:cBD,lr:[7,9]},{n:"来宾市",pt:new Point(12159496.06,2706113.22),bd:cBD,lr:[7,9]},{n:"崇左市",pt:new Point(11952831.16,2541092.75),bd:cBD,lr:[7,9]},{n:"海口市",pt:new Point(12283403.23,2262634.65),bd:cBD,lr:[5,9]},{n:"三亚市",pt:new Point(12191593.61,2054280.47),bd:cBD,lr:[7,9]},{n:"五指山市",pt:new Point(12192203.4,2115118.31),bd:cBD,lr:[9,9]},{n:"琼海市",pt:new Point(12298839.41,2171833.78),bd:cBD,lr:[9,9]},{n:"儋州市",pt:new Point(12199334.74,2202719.22),bd:cBD,lr:[9,9]},{n:"文昌市",pt:new Point(12334754.47,2205345.6),bd:cBD,lr:[9,9]},{n:"万宁市",pt:new Point(12289688.86,2117494.22),bd:cBD,lr:[9,9]},{n:"东方市",pt:new Point(12094938.19,2153087.07),bd:cBD,lr:[9,9]},{n:"定安县",pt:new Point(12281881.48,2223659.92),bd:cBD,lr:[9,9]},{n:"屯昌县",pt:new Point(12257508.59,2183877.5),bd:cBD,lr:[9,9]},{n:"澄迈县",pt:new Point(12246793.54,2228213.81),bd:cBD,lr:[9,9]},{n:"临高县",pt:new Point(11635683.84,3284342.89),bd:cBD,lr:[9,9]},{n:"白沙黎族自治县",pt:new Point(14272157.15,5044605.41),bd:cBD,lr:[9,9]},{n:"昌江黎族自治县",pt:new Point(14272157.15,5044605.41),bd:cBD,lr:[9,9]},{n:"乐东黎族自治县",pt:new Point(14272157.15,5044605.41),bd:cBD,lr:[9,9]},{n:"陵水黎族自治县",pt:new Point(14272157.15,5044605.41),bd:cBD,lr:[9,9]},{n:"保亭黎族苗族自治县",pt:new Point(14272157.15,5044605.41),bd:cBD,lr:[9,9]},{n:"琼中黎族苗族自治县",pt:new Point(14272157.15,5044605.41),bd:cBD,lr:[9,9]},{n:"重庆市",pt:new Point(11849846.38,3437582.53),bd:cBD,lr:[5,9]},{n:"成都市",pt:new Point(11585248.88,3567151.84),bd:cBD,lr:[5,9]},{n:"自贡市",pt:new Point(11664710.81,3398518.18),bd:cBD,lr:[8,9]},{n:"攀枝花市",pt:new Point(11323995.44,3052819.58),bd:cBD,lr:[7,9]},{n:"泸州市",pt:new Point(11738662.93,3339244.88),bd:cBD,lr:[7,9]},{n:"德阳市",pt:new Point(11622326.81,3627742.01),bd:cBD,lr:[7,9]},{n:"绵阳市",pt:new Point(11653709.54,3671830.29),bd:cBD,lr:[7,9]},{n:"广元市",pt:new Point(11783301.89,3798266.61),bd:cBD,lr:[7,9]},{n:"遂宁市",pt:new Point(11752615.68,3550145.61),bd:cBD,lr:[7,9]},{n:"内江市",pt:new Point(11695933.16,3429168.69),bd:cBD,lr:[7,9]},{n:"乐山市",pt:new Point(11551959.65,3425604.02),bd:cBD,lr:[7,9]},{n:"南充市",pt:new Point(11813039.76,3590300.79),bd:cBD,lr:[7,9]},{n:"眉山市",pt:new Point(11561215.96,3492381.09),bd:cBD,lr:[8,9]},{n:"宜宾市",pt:new Point(11649686.4,3324145.29),bd:cBD,lr:[7,9]},{n:"广安市",pt:new Point(11871206.28,3541167.9),bd:cBD,lr:[7,9]},{n:"达州市",pt:new Point(11964624.16,3639026.15),bd:cBD,lr:[7,9]},{n:"雅安市",pt:new Point(11468234.33,3480224.33),bd:cBD,lr:[7,9]},{n:"巴中市",pt:new Point(11883640.69,3723597.18),bd:cBD,lr:[7,9]},{n:"资阳市",pt:new Point(11648045.68,3499522.66),bd:cBD,lr:[8,9]},{n:"阿坝藏族羌族自治州",pt:new Point(11380507.4,3728228.76),bd:cBD,lr:[7,9]},{n:"甘孜藏族自治州",pt:new Point(11351325.58,3489245.11),bd:cBD,lr:[7,9]},{n:"凉山彝族自治州",pt:new Point(11385246.65,3214579.77),bd:cBD,lr:[7,9]},{n:"贵阳市",pt:new Point(11870519.66,3060500.8),bd:cBD,lr:[5,9]},{n:"六盘水市",pt:new Point(11670589.44,3054081.9),bd:cBD,lr:[7,9]},{n:"遵义市",pt:new Point(11903921.55,3195127.87),bd:cBD,lr:[7,9]},{n:"安顺市",pt:new Point(11794868.99,3012140.6),bd:cBD,lr:[7,9]},{n:"铜仁地区",pt:new Point(12152507.78,3190837.66),bd:cBD,lr:[7,9]},{n:"黔西南布依族苗族自治州",pt:new Point(11679001.08,2869017.96),bd:cBD,lr:[7,9]},{n:"毕节地区",pt:new Point(11721031.41,3142281.31),bd:cBD,lr:[7,9]},{n:"黔东南苗族侗族自治州",pt:new Point(12020550.46,3053190.16),bd:cBD,lr:[7,9]},{n:"黔南布依族苗族自治州",pt:new Point(11970164.71,3012312.19),bd:cBD,lr:[7,9]},{n:"昆明市",pt:new Point(11435436.7,2863224.69),bd:cBD,lr:[5,9]},{n:"曲靖市",pt:new Point(11555382.53,2918266.01),bd:cBD,lr:[7,9]},{n:"玉溪市",pt:new Point(11416286.45,2779261.88),bd:cBD,lr:[7,9]},{n:"保山市",pt:new Point(11039628.37,2872619.83),bd:cBD,lr:[7,9]},{n:"昭通市",pt:new Point(11546391.16,3146685.98),bd:cBD,lr:[7,9]},{n:"丽江市",pt:new Point(11158367.61,3089380.29),bd:cBD,lr:[7,9]},{n:"临沧市",pt:new Point(11141635.22,2721813.79),bd:cBD,lr:[7,9]},{n:"楚雄彝族自治州",pt:new Point(11302890.47,2863837.49),bd:cBD,lr:[7,9]},{n:"红河哈尼族彝族自治州",pt:new Point(11380507.4,3740772.75),bd:cBD,lr:[7,9]},{n:"文山壮族苗族自治州",pt:new Point(11606070.41,2660260.24),bd:cBD,lr:[7,9]},{n:"普洱市",pt:new Point(11240810.51,2589692.16),bd:cBD,lr:[8,9]},{n:"西双版纳傣族自治州",pt:new Point(11221584.75,2496986.94),bd:cBD,lr:[7,9]},{n:"大理白族自治州",pt:new Point(11162593.44,2932487.29),bd:cBD,lr:[7,9]},{n:"德宏傣族景颇族自治州",pt:new Point(10975263.62,2789037.62),bd:cBD,lr:[7,9]},{n:"怒江傈僳族自治州",pt:new Point(11005077.24,2963098.98),bd:cBD,lr:[7,9]},{n:"迪庆藏族自治州",pt:new Point(11099724.07,3206846.47),bd:cBD,lr:[7,9]},{n:"拉萨市",pt:new Point(10143520,3437204.04),bd:cBD,lr:[5,9]},{n:"昌都地区",pt:new Point(10818609.6,3629569.73),bd:cBD,lr:[7,9]},{n:"山南地区",pt:new Point(10217255.03,3384053.82),bd:cBD,lr:[7,9]},{n:"日喀则地区",pt:new Point(9895060.53,3389319.88),bd:cBD,lr:[7,9]},{n:"那曲地区",pt:new Point(10248989.14,3672743.64),bd:cBD,lr:[7,9]},{n:"阿里地区",pt:new Point(9033914.88,3534099.27),bd:cBD,lr:[7,9]},{n:"林芝地区",pt:new Point(10504953.82,3440916.27),bd:cBD,lr:[7,9]},{n:"西安市",pt:new Point(12126852.48,4041048.13),bd:cBD,lr:[5,9]},{n:"铜川市",pt:new Point(12128561.49,4126022.53),bd:cBD,lr:[7,9]},{n:"宝鸡市",pt:new Point(11927681.36,4054988.15),bd:cBD,lr:[7,9]},{n:"咸阳市",pt:new Point(12102356.68,4049604.29),bd:cBD,lr:[8,9]},{n:"渭南市",pt:new Point(12191495.18,4072416.28),bd:cBD,lr:[7,9]},{n:"延安市",pt:new Point(12189211.44,4356570.08),bd:cBD,lr:[7,9]},{n:"汉中市",pt:new Point(11914639.81,3881566.87),bd:cBD,lr:[7,9]},{n:"榆林市",pt:new Point(12216464.44,4593874.99),bd:cBD,lr:[7,9]},{n:"安康市",pt:new Point(12137752.12,3831579.1),bd:cBD,lr:[7,9]},{n:"商洛市",pt:new Point(12238758.85,3988163.54),bd:cBD,lr:[7,9]},{n:"兰州市",pt:new Point(11559160.65,4284481.62),bd:cBD,lr:[5,9]},{n:"嘉峪关市",pt:new Point(10942391.53,4806166.82),bd:cBD,lr:[8,9]},{n:"金昌市",pt:new Point(11376333.55,4627477.91),bd:cBD,lr:[7,9]},{n:"白银市",pt:new Point(11593403,4350996.94),bd:cBD,lr:[7,9]},{n:"天水市",
pt:new Point(11770106.49,4083646.7),bd:cBD,lr:[7,9]},{n:"武威市",pt:new Point(11426447.1,4544105.57),bd:cBD,lr:[7,9]},{n:"张掖市",pt:new Point(11182855.71,4684858.01),bd:cBD,lr:[7,9]},{n:"平凉市",pt:new Point(11874734.04,4213583.82),bd:cBD,lr:[7,9]},{n:"酒泉市",pt:new Point(10965135.56,4801282.37),bd:cBD,lr:[7,9]},{n:"庆阳市",pt:new Point(11982494.48,4240364.21),bd:cBD,lr:[7,9]},{n:"定西市",pt:new Point(11647778.93,4218809.12),bd:cBD,lr:[7,9]},{n:"陇南市",pt:new Point(11680753.14,3925419.77),bd:cBD,lr:[7,9]},{n:"临夏回族自治州",pt:new Point(11490235.88,4221664.83),bd:cBD,lr:[7,9]},{n:"甘南藏族自治州",pt:new Point(11456970.69,4137705.18),bd:cBD,lr:[7,9]},{n:"西宁市",pt:new Point(11330424.55,4360836.12),bd:cBD,lr:[5,9]},{n:"海东地区",pt:new Point(11367724.54,4345818.22),bd:cBD,lr:[7,9]},{n:"海北藏族自治州",pt:new Point(11233079.71,4407698.25),bd:cBD,lr:[7,9]},{n:"黄南藏族自治州",pt:new Point(11367018.69,4210804.21),bd:cBD,lr:[7,9]},{n:"海南藏族自治州",pt:new Point(11201876.52,4315364.9),bd:cBD,lr:[7,9]},{n:"果洛藏族自治州",pt:new Point(11160063.36,4068657.46),bd:cBD,lr:[7,9]},{n:"玉树藏族自治州",pt:new Point(10800746.97,3875570.18),bd:cBD,lr:[7,9]},{n:"海西蒙古族藏族自治州",pt:new Point(10816936.01,4468024.21),bd:cBD,lr:[7,9]},{n:"银川市",pt:new Point(11832898.83,4616373.5),bd:cBD,lr:[5,9]},{n:"石嘴山市",pt:new Point(11841711.18,4698078.16),bd:cBD,lr:[7,9]},{n:"吴忠市",pt:new Point(11822829.87,4553415.21),bd:cBD,lr:[7,9]},{n:"固原市",pt:new Point(11827731.54,4278231.51),bd:cBD,lr:[8,9]},{n:"中卫市",pt:new Point(11708737.7,4485946.9),bd:cBD,lr:[7,9]},{n:"乌鲁木齐市",pt:new Point(9753667.88,5409369.63),bd:cBD,lr:[5,9]},{n:"克拉玛依市",pt:new Point(9450655.5,5683311.14),bd:cBD,lr:[7,9]},{n:"吐鲁番地区",pt:new Point(9929119.54,5277242.75),bd:cBD,lr:[7,9]},{n:"哈密地区",pt:new Point(10410950.95,5256019.72),bd:cBD,lr:[7,9]},{n:"昌吉回族自治州",pt:new Point(9719944.71,5438088.99),bd:cBD,lr:[7,9]},{n:"博尔塔拉蒙古自治州",pt:new Point(9137172.41,5576651.41),bd:cBD,lr:[7,9]},{n:"巴音郭楞蒙古自治州",pt:new Point(9590451.71,5097890.07),bd:cBD,lr:[7,9]},{n:"阿克苏地区",pt:new Point(8935351.95,5009761.4),bd:cBD,lr:[7,9]},{n:"喀什地区",pt:new Point(8459954.24,4762722.83),bd:cBD,lr:[7,9]},{n:"和田地区",pt:new Point(8898707.07,4429816.8),bd:cBD,lr:[7,9]},{n:"伊犁哈萨克自治州",pt:new Point(9054161.44,5423973.33),bd:cBD,lr:[7,9]},{n:"塔城地区",pt:new Point(9238596.44,5870707.55),bd:cBD,lr:[7,9]},{n:"阿勒泰地区",pt:new Point(9812358.95,6050881.84),bd:cBD,lr:[7,9]},{n:"石河子市",pt:new Point(9583272.07,5483579.8),bd:cBD,lr:[9,9]},{n:"阿拉尔市",pt:new Point(9049687.77,4918103.23),bd:cBD,lr:[9,9]},{n:"图木舒克市",pt:new Point(8802730.81,4819584.88),bd:cBD,lr:[9,9]},{n:"五家渠市",pt:new Point(9746120.75,5462086.91),bd:cBD,lr:[9,9]},{n:"香港特别行政区",pt:new Point(12714333.69,2538103.92),bd:cBD,lr:[5,9]},{n:"澳门特别行政区",pt:new Point(12642583.48,2514883.38),bd:cBD,lr:[5,9]}],i=0,n=clickCityData.length;i<n;i++)clickCityData[i].pt=MercatorProjection.convertMC2LL(clickCityData[i].pt);window._mapclick=2,window._coordtransutils=1,baidu.extend(CoordTransUtils,{asyncConvertPtToPix3D:function(t,e,i){var n=MercatorProjection.convertLL2MC(t),o=e.currentCity,a=e.mercatorCenter,r=CoordTrans.getOMap_pts(o||"bj",n),s=new Point(r.x,r.y),l=e.getZoom(),h=e.getMapType(),c=h.getZoomUnits(l),d=e.getSize(),u=Math.round((s.lng-a.lng)/c+d.width/2),p=Math.round((a.lat-s.lat)/c+d.height/2),_=new Pixel(u,p);i&&i(_)},asyncConvertPixToPt3D:function(t,e,i){var n=e.getZoom(),o=e.getMapType(),a=o.getZoomUnits(n),r=e.getSize(),s=e.mercatorCenter,l=e.currentCity,h=s.lng+a*(t.x-r.width/2),c=s.lat-a*(t.y-r.height/2),d=new Point(h,c),u=CoordTrans.getMapJw_pts(l||"bj",d),p=new Point(u.lng,u.lat),_=MercatorProjection.convertMC2LL(p);i&&i(_)}}),window._coordtransutils=2,window._coordtrans=1,baidu.extend(CoordTrans,{num:{bj:{num:Math.sin(Math.PI/4),num2:Math.sin(Math.PI/6)},gz:{num:Math.sin(Math.PI/4),num2:Math.sin(Math.PI/4)},sz:{num:Math.sin(Math.PI/4),num2:Math.sin(Math.PI/4)},sh:{num:Math.sin(Math.PI/4),num2:Math.sin(Math.PI/4)}},correct_pts:{bj:[{j:116.305687,w:39.990912,utm_x:12947230.73,utm_y:4836903.65,x:630412,y:547340},{j:116.381837,w:40.000198,utm_x:12955707.8,utm_y:4838247.62,x:667412,y:561832},{j:116.430651,w:39.995216,utm_x:12961141.81,utm_y:4837526.55,x:686556,y:573372},{j:116.474111,w:39.976323,utm_x:12965979.81,utm_y:4834792.55,x:697152,y:586816},{j:116.280328,w:39.953159,utm_x:12944407.75,utm_y:4831441.53,x:603272,y:549976},{j:116.316117,w:39.952496,utm_x:12948391.8,utm_y:4831345.64,x:618504,y:557872},{j:116.350477,w:39.938107,utm_x:12952216.78,utm_y:4829264.65,x:627044,y:568220},{j:116.432025,w:39.947158,utm_x:12961294.76,utm_y:4830573.59,x:666280,y:584016},{j:116.46873,w:39.949516,utm_x:12965380.79,utm_y:4830914.63,x:683328,y:591444},{j:116.280077,w:39.913823,utm_x:12944379.8,utm_y:4825753.62,x:586150,y:558552},{j:116.308625,w:39.91374,utm_x:12947557.79,utm_y:4825741.62,x:598648,y:564732},{j:116.369853,w:39.912979,utm_x:12954373.73,utm_y:4825631.62,x:624561,y:578039},{j:116.433552,w:39.914694,utm_x:12961464.75,utm_y:4825879.53,x:652972,y:591348},{j:116.457034,w:39.914273,utm_x:12964078.78,utm_y:4825818.67,x:663028,y:596444},{j:116.490927,w:39.914127,utm_x:12967851.77,utm_y:4825797.57,x:677968,y:604188},{j:116.483839,w:39.877198,utm_x:12967062.73,utm_y:4820460.67,x:658596,y:610312},{j:116.405777,w:39.864461,utm_x:12958372.82,utm_y:4818620.62,x:619256,y:596088},{j:116.35345,w:39.859774,utm_x:12952547.74,utm_y:4817943.6,x:594633,y:585851},{j:116.403818,w:39.9141,utm_x:12958154.74,utm_y:4825793.66,x:639699,y:585226},{j:116.318111,w:39.891101,utm_x:12948613.78,utm_y:4822469.56,x:592856,y:571480},{j:116.413047,w:39.907238,utm_x:12959182.12,utm_y:4824801.76,x:640680,y:588704},{j:116.390843,w:39.906113,utm_x:12956710.35,utm_y:4824639.16,x:630620,y:584108},{j:116.446527,w:39.899438,utm_x:12962909.14,utm_y:4823674.4,x:651752,y:597416},{j:116.388665,w:39.95527,utm_x:12956467.9,utm_y:4831746.87,x:650656,y:572800},{j:116.398343,w:39.939704,utm_x:12957545.26,utm_y:4829495.6,x:648036,y:578452},{j:116.355101,w:39.973581,utm_x:12952731.53,utm_y:4834395.82,x:643268,y:560944},{j:116.380727,w:39.88464,utm_x:12955584.23,utm_y:4821535.94,x:616920,y:586496},{j:116.360843,w:39.946452,utm_x:12953370.73,utm_y:4830471.48,x:635293,y:568765},{j:116.340955,w:39.973421,utm_x:12951156.79,utm_y:4834372.67,x:638420,y:558632},{j:116.322585,w:40.023941,utm_x:12949111.83,utm_y:4841684.79,x:652135,y:543802},{j:116.356486,w:39.883341,utm_x:12952885.71,utm_y:4821348.24,x:606050,y:581443},{j:116.339592,w:39.992259,utm_x:12951005.06,utm_y:4837098.59,x:645664,y:554400},{j:116.3778,w:39.86392,utm_x:12955258.4,utm_y:4818542.48,x:606848,y:590328},{j:116.377354,w:39.964124,utm_x:12955208.75,utm_y:4833027.64,x:649911,y:568581},{j:116.361837,w:39.963897,utm_x:12953481.39,utm_y:4832994.8,x:643286,y:565175},{j:116.441397,w:39.939403,utm_x:12962338.06,utm_y:4829452.07,x:666772,y:587728},{j:116.359176,w:40.006631,utm_x:12953185.16,utm_y:4839178.78,x:660440,y:555411}],sz:[{w:22.64013,utm_x:12702380.956942065,utm_y:2571960.0116783115,j:114.106188,y:1127307,x:1115245},{w:22.637228,utm_x:12702545.043656897,utm_y:2571612.010208761,j:114.107662,y:1128764,x:1114460},{w:22.693756,utm_x:12690318.02302569,utm_y:2578392.0635360866,j:113.997826,y:1075100,x:1092860},{w:22.632675,utm_x:12701660.044075537,utm_y:2571066.039426582,j:114.099712,y:1127789,x:1108695},{w:22.575488,utm_x:12703273.97161397,utm_y:2564210.0447740625,j:114.11421,y:1151852,x:1087608},{w:22.686028,utm_x:12692022.009012084,utm_y:2577463.069432582,j:114.013115,y:1082536,x:1095900},{w:22.568363,utm_x:12702879.00576307,utm_y:2563356.0495723216,j:114.110662,y:1153048,x:1082584},{w:22.562197,utm_x:12702892.03028521,utm_y:2562617.0351656377,j:114.110779,y:1155088,x:1079696},{w:22.667571,utm_x:12695257.9905002,utm_y:2575251.043949781,j:114.042202,y:1097676,x:1099972},{w:22.555513,utm_x:12702901.047262078,utm_y:2561815.97459149,j:114.11086,y:1157472,x:1076524},{w:22.547152,utm_x:12702917.96800879,utm_y:2560813.9850610085,j:114.111012,y:1160352,x:1072596},{w:22.685995,utm_x:12697851.98549955,utm_y:2576857.04456148,j:114.060024,y:1096992,x:1116880},{w:22.543839,utm_x:12702925.98309934,utm_y:2560416.969240369,j:114.111084,y:1161532,x:1070952},{w:22.648144,utm_x:12700445.980498897,utm_y:2572921.0715934536,j:114.088806,y:1119056,x:1111392},{w:22.657182,utm_x:12698131.957065225,utm_y:2574003.0814059502,j:114.068001,y:1109360,x:1106636},{w:22.639438,utm_x:12698147.98724632,utm_y:2571877.02788222,j:114.068163,y:1115416,x:1098248},{w:22.605861,utm_x:12696532.946500868,utm_y:2567851.022680913,j:114.053655,y:1122268,x:1075532},{w:22.571091,utm_x:12695789.992135335,utm_y:2563683.019582462,j:114.046981,y:1131924,x:1055628},{w:22.551433,utm_x:12695702.048780708,utm_y:2561327.016160744,j:114.046191,y:1138368,x:1045996},{w:22.524394,utm_x:12696497.991800422,utm_y:2558086.957458219,j:114.053341,y:1149832,x:1036168},{w:22.548395,utm_x:12698580.022891007,utm_y:2560962.9433782403,j:114.072044,y:1147584,x:1056116},{w:22.5714,utm_x:12702350.00978689,utm_y:2563720.0558210905,j:114.10591,y:1150556,x:1081960},{w:22.567754,utm_x:12701658.0403029,utm_y:2563283.0575275063,j:114.099694,y:1149780,x:1077572},{w:22.55442,utm_x:12700296.031513225,utm_y:2561684.985028421,j:114.087459,y:1150392,x:1065776},{w:22.643315,utm_x:12705757.981759684,utm_y:2572341.9584462773,j:114.136524,y:1135876,x:1130032},{w:22.688688,utm_x:12685956.03263626,utm_y:2577784.084634392,j:113.958642,y:1064312,x:1073348},{w:22.646409,utm_x:12708413.98239008,utm_y:2572713.001028291,j:114.160383,y:1142128,x:1142372},{w:22.650595,utm_x:12709970.023163443,utm_y:2573215.0132753854,j:114.174361,y:1144976,x:1150520},{w:22.65905,utm_x:12710695.94546156,utm_y:2574229.0388875483,j:114.180882,y:1144192,x:1157580},{w:22.730669,utm_x:12685601.030917399,utm_y:2582819.0711735473,j:113.955453,y:1048920,x:1092104},{w:22.66381,utm_x:12708942.97836626,utm_y:2574799.9433185956,j:114.165135,y:1137944,x:1152920},{w:22.664761,utm_x:12708098.944803257,utm_y:2574914.0066678426,j:114.157553,y:1135032,x:1149792},{w:22.733853,utm_x:12680970.980277415,utm_y:2583203.0732337763,j:113.913861,y:1035040,x:1075104},{w:22.664361,utm_x:12707258.028219912,utm_y:2574866.030398267,j:114.149999,y:1132860,x:1146160},{w:22.718919,utm_x:12679128.956620466,utm_y:2581411.0613699006,j:113.897314,y:1035016,x:1060548},{w:22.665803,utm_x:12706352.990912184,utm_y:2575038.9855144112,j:114.141869,y:1129858,x:1143236},{w:22.668704,utm_x:12704991.984008826,utm_y:2575386.9403167954,j:114.129643,y:1125104,x:1139351},{w:22.653555,utm_x:12705065.010389376,utm_y:2573570.005001661,j:114.130299,y:1130376,x:1132292},{w:22.679693,utm_x:12672189.001412787,utm_y:2576705.0620572325,j:113.834972,y:1028584,x:1014064},{w:22.659833,utm_x:12704299.012638519,utm_y:2574322.9488912285,j:114.123418,y:1126112,x:1132174},{w:22.675775,utm_x:12679563.997924108,utm_y:2576235.0888426476,j:113.901222,y:1050868,x:1041628},{w:22.644524,utm_x:12707016.01701364,utm_y:2572486.9446672536,j:114.147825,y:1138800,x:1135876},{w:22.655039,utm_x:12711226.054644758,utm_y:2573747.983497185,j:114.185644,y:1146968,x:1157804},{w:22.648419,utm_x:12676422.97299485,utm_y:2572954.0513219936,j:113.873006,y:1051384,x:1015916},{w:22.649461,utm_x:12712507.021963337,utm_y:2573079.015117772,j:114.197151,y:1152476,x:1160272},{w:22.64605,utm_x:12712815.04634593,utm_y:2572669.948142515,j:114.199918,y:1154480,x:1159776},{w:22.643032,utm_x:12712206.010784972,utm_y:2572308.020584318,j:114.194447,y:1153780,x:1155966},{w:22.640188,utm_x:12711515.0431873,utm_y:2571966.966986786,j:114.18824,y:1152692,x:1151836},{w:22.637837,utm_x:12710239.975865932,utm_y:2571685.0395354074,j:114.176786,y:1150108,x:1145592},{w:22.62692,utm_x:12708906.019893175,utm_y:2570375.9575785324,j:114.164803,y:1150072,x:1134992},{w:22.62496,utm_x:12707132.013185183,utm_y:2570140.9407190788,j:114.148867,y:1145732,x:1127028},{w:22.628688,utm_x:12706963.028359462,utm_y:2570587.955286152,j:114.147349,y:1144084,x:1127956},{w:22.650412,utm_x:12671869.956280688,utm_y:2573191.027627148,j:113.832124,y:1037620,x:998888},{w:22.610098,utm_x:12674040.042046603,utm_y:2568358.9996707155,j:113.8516,y:1057544,x:988080},{w:22.637211,utm_x:12706081.034437057,utm_y:2571609.9716279865,j:114.139426,y:1138792,x:1128464},{w:22.625069,utm_x:12704441.94841996,utm_y:2570154.0104452157,j:114.124702,y:1138254,x:1116140},{w:22.596786,utm_x:12679777.956313463,utm_y:2566763.0676068626,j:113.903144,y:1078300,x:1004384},{w:22.630623,utm_x:12703168.99619193,utm_y:2570819.9808256472,j:114.113267,y:1132824,x:1113684},{w:22.614769,utm_x:12703871.986425424,utm_y:2568919.0275739594,j:114.119582,y:1140148,x:1108828},{w:22.576848,utm_x:12675897.984563945,utm_y:2564373.058056766,j:113.86829,y:1074048,x:979136},{w:22.547144,utm_x:12681814.011954099,utm_y:2560813.026363442,j:113.921434,y:1100660,x:988708},{w:22.615011,utm_x:12705232.993328782,utm_y:2568948.042603041,j:114.131808,y:1143897,x:1114378},{w:22.613267,utm_x:12704373.040905386,utm_y:2568738.943713605,j:114.124083,y:1142088,x:1110108},{w:22.617938,utm_x:12705683.953492817,utm_y:2569298.9846684644,j:114.135859,y:1144180,x:1117626},{w:22.611966,utm_x:12705516.97243973,utm_y:2568582.9605660276,j:114.134359,y:1145704,x:1114060},{w:22.586692,utm_x:12686244.019292483,utm_y:2565553.0350825675,j:113.961229,y:1099664,x:1025376},{w:22.616821,utm_x:12706311.023007508,utm_y:2569165.0574746304,j:114.141492,y:1146304,x:1119648},{w:22.621842,utm_x:12682990.003850635,utm_y:2569767.079046454,j:113.931998,y:1078732,x:1029496},{w:22.612167,utm_x:12709515.946019748,utm_y:2568607.0593253355,j:114.170282,y:1156700,x:1130468},{w:22.613576,utm_x:12706801.947303584,utm_y:2568775.9914291506,j:114.145902,y:1148804,x:1120144},{w:22.574378,utm_x:12683946.026039906,utm_y:2564076.9983744184,j:113.940586,y:1097328,x:1010312},{w:22.611382,utm_x:12708546.00874272,utm_y:2568512.94248236,j:114.161569,y:1154328,x:1126136},{w:22.604993,utm_x:12709700.961026568,utm_y:2567746.95948682,j:114.171944,y:1159710,x:1127654},{w:22.511024,utm_x:12685851.947779836,utm_y:2556485.0795987877,j:113.957707,y:1124272,x:987540},{w:22.58836,utm_x:12707986.956176987,utm_y:2565752.9827533993,j:114.156547,y:1160618,x:1112692},{w:22.582237,utm_x:12707456.95831449,utm_y:2565019.014191418,j:114.151786,y:1161244,x:1107516},{w:22.52487,utm_x:12683306.043323778,utm_y:2558143.9905549595,j:113.934837,y:1112404,x:984092},{w:22.578199,utm_x:12707285.96971613,utm_y:2564534.994186402,j:114.15025,y:1162084,x:1104920},{w:22.583238,utm_x:12706369.021093281,utm_y:2565139.002548978,j:114.142013,y:1157896,x:1103632},{w:22.545433,utm_x:12683161.994335314,utm_y:2560607.986213337,j:113.933543,y:1105004,x:993388},{w:22.589845,utm_x:12706079.03066442,utm_y:2565930.9957805504,j:114.139408,y:1154772,x:1105712},{w:22.594817,utm_x:12705193.029196743,utm_y:2566527.023902914,j:114.131449,y:1150548,x:1104536},{w:22.50306,utm_x:12678975.00008952,utm_y:2555530.9764195657,j:113.895931,y:1107832,x:955864},{w:22.600122,utm_x:12705160.968834551,utm_y:2567162.995054428,j:114.131161,y:1148724,x:1106704},{w:22.605844,utm_x:12704694.980375737,utm_y:2567848.984570506,j:114.126975,y:1145540,x:1107972},{w:22.479986,utm_x:12681018.959500002,utm_y:2552766.97859523,j:113.914292,y:1121312,x:953272},{w:22.600773,utm_x:12704274.967366874,utm_y:2567241.0395935406,j:114.123202,y:1146008,x:1103676},{w:22.596118,utm_x:12703816.993998608,utm_y:2566682.9873895603,j:114.119088,y:1146260,x:1099504},{w:22.596619,utm_x:12703293.00745402,utm_y:2566743.047515687,j:114.114381,y:1144704,x:1097664},{w:22.510923,utm_x:12682778.939799534,utm_y:2556472.979248104,j:113.930102,y:1115680,x:975172},{w:22.607521,utm_x:12702910.95480456,utm_y:2568050.039394434,j:114.110949,y:1139888,x:1101488},{w:22.591163,utm_x:12703252.041435665,utm_y:2566088.991460755,j:114.114013,y:1146404,x:1094980},{w:22.585115,utm_x:12703099.977356654,utm_y:2565363.9980804115,j:114.112647,y:1148038,x:1091506},{w:22.546443,utm_x:12687379.045170663,utm_y:2560726.9834858673,j:113.971425,y:1116664,x:1010468},{w:22.562664,utm_x:12690460.958807131,utm_y:2562673.0054078405,j:113.99911,y:1119860,x:1030228},{w:22.568521,utm_x:12703396.980989743,utm_y:2563374.9868063666,j:114.115315,y:1154540,x:1084704},{w:22.565326,utm_x:12703409.003625568,utm_y:2562992.051435101,j:114.115423,y:1155640,x:1083228},{w:22.593649,utm_x:12692930.942544388,utm_y:2566387.005686037,j:114.021298,y:1116412,x:1055212},{w:22.562288,utm_x:12703414.01305716,utm_y:2562627.941557536,j:114.115468,y:1156600,x:1081828},{w:22.559376,utm_x:12703418.020602433,utm_y:2562278.940627611,j:114.115504,y:1157656,x:1080412},{w:22.613985,utm_x:12694766.954883425,utm_y:2568825.028826114,j:114.037791,y:1114688,x:1072432},{w:22.556515,utm_x:12703416.016829796,utm_y:2561936.0592670436,j:114.115486,y:1158616,x:1079164},{w:22.639797,utm_x:12694530.95499506,utm_y:2571920.078671633,j:114.035671,y:1105248,x:1083784},{w:22.552977,utm_x:12703516.984706562,utm_y:2561512.05165048,j:114.116393,y:1160176,x:1077768},{w:22.549814,utm_x:12703639.994082335,utm_y:2561132.9947977727,j:114.117498,y:1161660,x:1076680},{w:22.623585,utm_x:12696746.904890222,utm_y:2569976.0712206727,j:114.055577,y:1116856,x:1084876},{w:22.544891,utm_x:12703709.012917612,utm_y:2560543.0353987366,j:114.118118,y:1163512,x:1074580},{w:22.541519,utm_x:12704183.016466973,utm_y:2560138.956052524,j:114.122376,y:1165924,x:1074896},{w:22.633392,utm_x:12699172.916950166,utm_y:2571152.0169191645,j:114.07737,y:1120344,x:1099296},{w:22.544774,utm_x:12704771.012415241,utm_y:2560529.014684796,j:114.127658,y:1166572,x:1078796},{w:22.545341,utm_x:12705219.968806641,utm_y:2560596.9613336376,j:114.131691,y:1167612,x:1080856},{w:22.662143,utm_x:12700194.952315757,utm_y:2574600.0045506186,j:114.086551,y:1113564,x:1117216},{w:22.545124,utm_x:12705705.994991824,utm_y:2560570.957027271,j:114.136057,y:1168996,x:1082684},{w:22.551491,utm_x:12705856.055298198,utm_y:2561333.9669379084,j:114.137405,y:1167292,x:1086372},{w:22.575796,utm_x:12703844.044929208,utm_y:2564246.9623455456,j:114.119331,y:1153340,x:1089992},{w:22.580185,utm_x:12704324.950362097,utm_y:2564773.046808735,j:114.123651,y:1153168,x:1093968},{w:22.654839,utm_x:12703160.981101383,utm_y:2573723.997063562,j:114.113195,y:1124512,x:1125272},{w:22.571984,utm_x:12704951.01799047,utm_y:2563790.0533428797,j:114.129275,y:1157752,x:1092536},{w:22.55503,utm_x:12701967.95713743,utm_y:2561758.0897786245,j:114.102478,y:1154984,x:1072592},{w:22.573769,utm_x:12705731.042149788,utm_y:2564004.003107545,j:114.136282,y:1159404,x:1096572},{w:22.579968,utm_x:12705532.00073451,utm_y:2564747.035854812,j:114.134494,y:1156684,x:1098676},{w:22.571884,utm_x:12699403.907406935,utm_y:2563778.067444574,j:114.079445,y:1141884,x:1070604},{w:22.572442,utm_x:12707141.030162051,utm_y:2563844.948869521,j:114.148948,y:1163676,x:1101544},{w:22.565476,utm_x:12706548.024782188,utm_y:2563010.0294207213,j:114.143621,y:1164424,x:1095840},{w:22.540961,utm_x:12701221.997112941,utm_y:2560072.08979264,j:114.095777,y:1157664,x:1062946},{w:22.560219,utm_x:12706116.991023822,utm_y:2562379.972753817,j:114.139749,y:1164988,x:1091624},{w:22.542062,utm_x:12699890.935478438,utm_y:2560204.025094793,j:114.08382,y:1153464,x:1058228},{w:22.559268,utm_x:12707377.030050412,utm_y:2562265.997055159,j:114.151068,y:1168784,x:1096288},{w:22.55296,utm_x:12706992.973628312,utm_y:2561510.0143312225,j:114.147618,y:1169844,x:1091728},{w:22.560904,utm_x:12699430.958337536,utm_y:2562462.0693069235,j:114.079688,y:1145700,x:1065448},{w:22.551925,utm_x:12706255.028694374,utm_y:2561385.978019464,j:114.140989,y:1168216,x:1088116},{w:22.548804,utm_x:12705873.977931231,utm_y:2561011.957312782,j:114.137566,y:1168220,x:1085200},{w:22.548788,utm_x:12705452.96303605,utm_y:2561010.0398944863,j:114.133784,y:1167076,x:1083484},{w:22.565459,utm_x:12697372.972518595,utm_y:2563007.9919146895,j:114.061201,y:1138304,x:1059480},{w:22.555563,utm_x:12705442.053607246,utm_y:2561821.966819853,j:114.133686,y:1164708,x:1086644},{w:22.562572,utm_x:12705768.00062287,utm_y:2562661.979135111,j:114.136614,y:1163224,x:1091372},{w:22.562155,utm_x:12692888.974639712,utm_y:2562612.001448756,j:114.020921,y:1126952,x:1039700},{w:22.567628,utm_x:12705438.046061972,utm_y:2563267.9557658527,j:114.13365,y:1160536,x:1092432},{w:22.562973,utm_x:12705158.965061912,utm_y:2562710.039356587,j:114.131143,y:1161336,x:1089020},{w:22.555004,utm_x:12704883.001041513,utm_y:2561754.9738317807,j:114.128664,y:1163304,x:1084172},{w:22.549897,utm_x:12704863.965201462,utm_y:2561142.941482429,j:114.128493,y:1165016,x:1081600},{w:22.536387,utm_x:12692264.910783976,utm_y:2559523.988498151,j:114.015315,y:1134e3,x:1024952},{w:22.549547,utm_x:12704485.029531656,utm_y:2561100.997672521,j:114.125089,y:1164084,x:1079976},{w:22.546192,utm_x:12704502.952164687,utm_y:2560698.9417545213,j:114.12525,y:1165256,x:1078452},{w:22.547086,utm_x:12690846.907681165,utm_y:2560806.0758077735,j:114.002577,y:1126384,x:1024360},{w:22.54807,utm_x:12694310.985287795,utm_y:2560922.0785720455,j:114.033695,y:1135728,x:1038720},{w:22.562347,utm_x:12704079.042931251,utm_y:2562635.012738591,j:114.121442,y:1158452,x:1084464},{w:22.668221,utm_x:12714081.987256048,utm_y:2575329.007304823,j:114.211299,y:1150576,x:1175404},{w:22.667771,utm_x:12715699.031774139,utm_y:2575275.0326346117,j:114.225825,y:1155468,x:1181588},{w:22.553261,utm_x:12686124.906141283,utm_y:2561546.0869038766,j:113.960159,y:1110752,x:1008856},{w:22.659842,utm_x:12715091.999985818,utm_y:2574324.0283197085,j:114.220372,y:1156352,x:1175016},{w:22.652696,utm_x:12714284.034330284,utm_y:2573466.984645893,j:114.213114,y:1156384,x:1168748},{w:22.557499,utm_x:12684523.001238672,utm_y:2562053.9875916084,j:113.945769,y:1104696,x:1004564},{w:22.658983,utm_x:12713574.03089256,utm_y:2574221.0031908206,j:114.206736,y:1152236,x:1169004},{w:22.662577,utm_x:12713723.979878232,utm_y:2574652.057958506,j:114.208083,y:1151360,x:1171356},{w:22.664136,utm_x:12714428.973884363,utm_y:2574839.043808805,j:114.214416,y:1152868,x:1174780},{w:22.656423,utm_x:12713438.998880964,utm_y:2573913.970586595,j:114.205523,y:1152710,x:1167132},{w:22.544349,utm_x:12685244.915991515,utm_y:2560478.084842147,j:113.952254,y:1111292,x:1001196},{w:22.638254,utm_x:12715530.046948414,utm_y:2571735.0450267605,j:114.224307,y:1164926,x:1166734},{w:22.526723,utm_x:12689398.9593095,utm_y:2558366.014146093,j:113.98957,y:1129120,x:1008920},{w:22.593841,utm_x:12721561.959189411,utm_y:2566410.022296701,j:114.278492,y:1196888,x:1169472},{w:22.596327,utm_x:12720740.969011737,utm_y:2566708.042385358,j:114.271117,y:1193832,x:1167304},{w:22.59807,utm_x:12720011.039168343,utm_y:2566916.995355996,j:114.26456,y:1191212,x:1165180},{w:22.526206,utm_x:12686170.992911933,utm_y:2558304.067703528,j:113.960573,y:1120056,x:996088},{w:22.601807,utm_x:12719310.052707486,utm_y:2567365.0005046166,j:114.258263,y:1188028,x:1164196},{w:22.592523,utm_x:12719472.02432898,utm_y:2566252.023508253,j:114.259718,y:1191592,x:1160320},{w:22.587634,utm_x:12721014.038693884,utm_y:2565665.9548689993,j:114.27357,y:1197552,x:1164308},{w:22.523502,utm_x:12685222.98581321,utm_y:2557980.0808457886,j:113.952057,y:1118304,x:991e3},{w:22.537539,utm_x:12684847.946367979,utm_y:2559662.030644149,j:113.948688,y:1112436,x:996340},{w:22.533867,utm_x:12682195.953282857,utm_y:2559222.0253653345,j:113.924865,y:1106224,x:983900},{w:22.569656,utm_x:12679644.037508886,utm_y:2563511.0239114636,j:113.901941,y:1087052,x:990716},{w:22.610107,utm_x:12684290.007009264,utm_y:2568360.0787040573,j:113.943676,y:1086272,x:1029208},{w:22.630807,utm_x:12684507.972943895,utm_y:2570842.044408167,j:113.945634,y:1079852,x:1040052},{w:22.564399,utm_x:12709377.01778358,utm_y:2562880.9479228994,j:114.169034,y:1172624,x:1106772},{w:22.565734,utm_x:12710867.045380622,utm_y:2563040.951602268,j:114.182419,y:1176288,x:1113444},{w:22.646618,utm_x:12683008.037804369,utm_y:2572738.0652955617,j:113.93216,y:1070324,x:1041496},{w:22.661877,utm_x:12680141.975009192,utm_y:2574568.1009313217,j:113.906414,y:1057260,x:1037256},{w:22.560453,utm_x:12716187.952297576,utm_y:2562408.0173693686,j:114.230217,y:1193284,x:1131892},{w:22.559794,utm_x:12717338.006470535,utm_y:2562329.0371435457,j:114.240548,y:1196852,x:1136024},{w:22.569372,utm_x:12718837.051044444,utm_y:2563476.9845647896,j:114.254014,y:1197780,x:1146740},{w:22.606136,utm_x:12725551.025226945,utm_y:2567883.992149347,j:114.314326,y:1204040,x:1191436},{w:22.611741,utm_x:12727655.988382155,utm_y:2568555.984385173,j:114.333235,y:1208124,x:1202368},{w:22.68652,utm_x:12716590.042673409,utm_y:2577524.009050615,j:114.233829,y:1151596,x:1194036},{w:22.681176,utm_x:12714509.013469143,utm_y:2576882.954901272,j:114.215135,y:1147428,x:1183188},{w:22.700882,utm_x:12715939.039207775,utm_y:2579246.9673801344,j:114.227981,y:1144828,x:1198360},{w:22.695239,utm_x:12716750.010522265,utm_y:2578569.974845045,j:114.235266,y:1149052,x:1198892},{w:22.702591,utm_x:12717292.031020584,utm_y:2579452.0022288463,j:114.240135,y:1148204,x:1204600},{w:22.707367,utm_x:12716606.963420121,utm_y:2580025.0097718714,j:114.233981,y:1144536,x:1204152},{w:22.710801,utm_x:12715587.04314787,utm_y:2580437.021408431,j:114.224819,y:1140456,x:1201616},{w:22.725394,utm_x:12715569.009194136,utm_y:2582188.0075282007,j:114.224657,y:1135400,x:1208664},{w:22.735602,utm_x:12718401.007854482,utm_y:2583412.9582015467,j:114.250097,y:1140020,x:1224752},{w:22.738852,utm_x:12720423.037086658,utm_y:2583802.9746446265,j:114.268261,y:1144506,x:1234520},{w:22.737602,utm_x:12719350.016839525,utm_y:2583652.967210535,j:114.258622,y:1141936,x:1229488},{w:22.733652,utm_x:12721865.97602673,utm_y:2583178.9528368358,j:114.281223,y:1150172,x:1237724},{w:22.729402,utm_x:12719358.031930074,utm_y:2582668.95283919,j:114.258694,y:1144756,x:1225628},{w:22.722844,utm_x:12719395.992289474,utm_y:2581882.0242928,j:114.259035,y:1147016,x:1222820},{w:22.736311,utm_x:12722587.000213958,utm_y:2583498.040988913,j:114.2877,y:1151262,x:1242012},{w:22.723586,utm_x:12725147.04239918,utm_y:2581971.0588195287,j:114.310697,y:1162744,x:1246028},{w:22.724361,utm_x:12723596.011057409,utm_y:2582064.0536243524,j:114.296764,y:1158184,x:1240226},{w:22.730202,utm_x:12723535.007312682,utm_y:2582764.9516139254,j:114.296216,y:1156032,x:1242880},{w:22.716335,utm_x:12725500.040345404,utm_y:2581101.0132384477,j:114.313868,y:1166316,x:1244102},{w:22.699024,utm_x:12726390.049358355,utm_y:2579024.0594040775,j:114.321863,y:1174708,x:1239172},{w:22.694214,utm_x:12724895.01232972,utm_y:2578447.0082907625,j:114.308433,y:1172068,x:1231020},{w:22.673982,utm_x:12724921.951939618,utm_y:2576020.0188517785,j:114.308675,y:1179036,x:1221432},{w:22.664819,utm_x:12723774.012859998,utm_y:2574920.963238676,j:114.298363,y:1178932,x:1212444},{w:22.667362,utm_x:12722108.989119323,utm_y:2575225.9758119322,j:114.283406,y:1173488,x:1206980},{w:22.694089,utm_x:12723639.982734721,utm_y:2578432.0124331703,j:114.297159,y:1168616,x:1226e3},{w:22.694039,utm_x:12722208.955109771,utm_y:2578426.014094008,j:114.284304,y:1164660,x:1220216},{w:22.702499,utm_x:12721921.970339866,utm_y:2579440.9645935497,j:114.281726,y:1161026,x:1223128},{w:22.712918,utm_x:12721051.999053285,utm_y:2580691.0244725277,j:114.273911,y:1155064,x:1224596},{w:22.723544,utm_x:12721639.995001554,utm_y:2581966.0191162946,j:114.279193,y:1152976,x:1232148},{w:22.727494,utm_x:12720675.957721734,utm_y:2582439.9980541077,j:114.270533,y:1148992,x:1230084},{w:22.731394,utm_x:12720465.004991334,utm_y:2582907.9908419675,j:114.268638,y:1147092,x:1231100},{w:22.714035,utm_x:12719859.976975651,utm_y:2580825.0465853293,j:114.263203,y:1151388,x:1220360},{w:22.703416,utm_x:12718554.96438543,utm_y:2579550.9813588182,j:114.25148,y:1151412,x:1210036},{w:22.715043,utm_x:12718346.015427666,utm_y:2580945.9913932686,j:114.249603,y:1146752,x:1214736},{w:22.712793,utm_x:12717302.04988377,utm_y:2580676.0265430557,j:114.240225,y:1144708,x:1209540},{w:22.725769,utm_x:12717811.008133577,utm_y:2582233.00554941,j:114.244797,y:1141616,x:1217656},{w:22.731786,utm_x:12717795.9798388,utm_y:2582955.0308636553,j:114.244662,y:1139532,x:1220540},{w:22.732061,utm_x:12718844.954814289,utm_y:2582988.0309602725,j:114.254085,y:1142404,x:1224848},{w:22.689955,utm_x:12683168.005653227,utm_y:2577936.0772274863,j:113.933597,y:1055992,x:1062868},{w:22.696682,utm_x:12683471.020604227,utm_y:2578743.0893372595,j:113.936319,y:1054556,x:1067328},{w:22.704467,utm_x:12682276.994753957,utm_y:2579677.075645295,j:113.925593,y:1048536,x:1066348},{w:22.720569,utm_x:12681626.99317464,utm_y:2581609.0441184905,j:113.919754,y:1041353,x:1071364},{w:22.703084,utm_x:12687399.97346265,utm_y:2579511.149684903,j:113.971613,y:1063488,x:1085952},{w:22.724803,utm_x:12683760.009146769,utm_y:2582117.0909000486,j:113.938915,y:1045776,x:1081904},{w:22.737804,utm_x:12682375.958858084,utm_y:2583677.2083179015,j:113.926482,y:1037552,x:1082696},{w:22.737004,utm_x:12679209.998091565,utm_y:2583581.204144669,j:113.898042,y:1029096,x:1069544},{w:22.698691,utm_x:12679402.91686823,utm_y:2578984.109051273,j:113.899775,y:1042644,x:1051856},{w:22.498861,utm_x:12677279.029193671,utm_y:2555027.9501714734,j:113.880696,y:1104472,x:947240},{w:22.511666,utm_x:12676964.993493168,utm_y:2556561.9949082513,j:113.877875,y:1099292,x:952144},{w:22.67455,utm_x:12669674.934677515,utm_y:2576088.150030207,j:113.812388,y:1023316,x:1001556},{w:22.66653,utm_x:12671630.950733371,utm_y:2575126.1834164895,j:113.829959,y:1031436,x:1005680},{w:22.672466,utm_x:12676969.001038441,utm_y:2575838.177174477,j:113.877911,y:1044776,x:1029604},{w:22.678435,utm_x:12689543.008297963,utm_y:2576554.1605501333,j:113.990864,y:1078072,x:1082408},{w:22.518068,utm_x:12681938.023216192,utm_y:2557329.0112674907,j:113.922548,y:1110980,x:975308},{w:22.513194,utm_x:12682415.032424508,utm_y:2556745.059590403,j:113.926833,y:1113928,x:974900},{w:22.651272,utm_x:12692724.99924558,utm_y:2573294.1661653207,j:114.019448,y:1096332,x:1082040},{w:22.629782,utm_x:12692744.925651249,utm_y:2570719.136244626,j:114.019627,y:1103696,x:1071804},{w:22.516215,utm_x:12680162.012735562,utm_y:2557107.001743537,j:113.906594,y:1106764,x:967164},{w:22.521749,utm_x:12680803.99922433,utm_y:2557770.0439763535,j:113.912361,y:1106604,x:972412},{w:22.519537,utm_x:12681081.967017366,utm_y:2557505.015560909,j:113.914858,y:1108040,x:972456},{w:22.521023,utm_x:12682261.96645918,utm_y:2557683.0585893025,j:113.925458,y:1110800,x:977956},{w:22.591164,utm_x:12689953.002443641,utm_y:2566089.1113366606,j:113.994547,y:1108948,x:1042148},{w:22.52396,utm_x:12682625.985154908,utm_y:2558034.9568667775,j:113.928728,y:1110896,x:980892},{w:22.527265,utm_x:12682713.037943915,utm_y:2558430.956316405,j:113.92951,y:1110004,x:982864},{w:22.520555,utm_x:12683146.966040537,utm_y:2557626.985609654,j:113.933408,y:1113444,x:981296},{w:22.617723,utm_x:12688530.991795557,utm_y:2569273.206295867,j:113.981773,y:1095844,x:1049408},{w:22.51927,utm_x:12682624.983268589,utm_y:2557473.0255315853,j:113.928719,y:1112416,x:978576},{w:22.516257,utm_x:12683061.026458548,utm_y:2557112.0337663167,j:113.932636,y:1114684,x:978932},{w:22.510539,utm_x:12683727.948784575,utm_y:2556426.974036045,j:113.938627,y:1118452,x:978864},{w:22.627681,utm_x:12689288.974455867,utm_y:2570467.20738494,j:113.988582,y:1094640,x:1057132},{w:22.510414,utm_x:12683335.988592632,utm_y:2556411.9984089644,j:113.935106,y:1117452,x:977192},{w:22.522266,utm_x:12683770.028009953,utm_y:2557831.9883974562,j:113.939005,y:1114604,x:984628},{w:22.52073,utm_x:12684530.0144429,utm_y:2557647.9530475056,j:113.945832,y:1117256,x:986876},{w:22.530604,utm_x:12684493.946535435,utm_y:2558831.0393203734,j:113.945508,y:1113804,x:991560},{w:22.532381,utm_x:12683386.973474173,utm_y:2559043.9655909073,j:113.935564,y:1110076,x:987960},{w:22.590856,utm_x:12683523.007372087,utm_y:2565629.1539610676,j:113.929482,y:1088328,x:1013344},{w:22.537639,utm_x:12687295.999926928,utm_y:2559674.0135242804,j:113.970679,y:1119464,x:1006076},{w:22.500706,utm_x:12683920.978881944,utm_y:2555248.973138607,j:113.940361,y:1122320,x:974864},{w:22.597321,utm_x:12677143.997182075,utm_y:2566827.203992507,j:113.879483,y:1070768,x:994136},{w:22.496082,utm_x:12682944.028400686,utm_y:2554695.043699158,j:113.931585,y:1121196,x:968724},{w:22.623527,utm_x:12675665.992220856,
utm_y:2569969.11676213,j:113.866206,y:1057616,x:1001040},{w:22.499037,utm_x:12682184.041967738,utm_y:2555049.0340765286,j:113.924758,y:1118084,x:967128},{w:22.636804,utm_x:12674001.970366498,utm_y:2571561.1656820793,j:113.851258,y:1048412,x:1000748},{w:22.534501,utm_x:12681231.025437422,utm_y:2559297.9949302957,j:113.916197,y:1103440,x:980448},{w:22.569957,utm_x:12688439.931461273,utm_y:2563547.1009020996,j:113.980955,y:1111680,x:1025952},{w:22.562699,utm_x:12686399.979596067,utm_y:2562677.200187463,j:113.96263,y:1108280,x:1014428},{w:22.5584,utm_x:12682741.981326452,utm_y:2562161.9694563043,j:113.92977,y:1099420,x:997860},{w:22.580568,utm_x:12681317.96690573,utm_y:2564818.955644197,j:113.916978,y:1087964,x:1002776},{w:22.550249,utm_x:12689417.995149551,utm_y:2561185.1250797957,j:113.989741,y:1121244,x:1020292},{w:22.58066,utm_x:12678671.98513852,utm_y:2564829.983373251,j:113.893209,y:1080528,x:992088},{w:22.587576,utm_x:12679605.965828784,utm_y:2565659.002248114,j:113.901599,y:1080788,x:999196},{w:22.591931,utm_x:12679362.952736191,utm_y:2566181.056416798,j:113.899416,y:1078672,x:1000308},{w:22.561865,utm_x:12688505.944637595,utm_y:2562575.2074224525,j:113.981548,y:1114632,x:1022260},{w:22.595751,utm_x:12678298.949465925,utm_y:2566638.9913895614,j:113.889858,y:1074484,x:997960},{w:22.587709,utm_x:12678599.960644288,utm_y:2565674.9453314315,j:113.892562,y:1077980,x:995224},{w:22.584056,utm_x:12676653.963451618,utm_y:2565237.055627874,j:113.875081,y:1073796,x:985668},{w:22.546628,utm_x:12693209.912223743,utm_y:2560751.190489212,j:114.023804,y:1133184,x:1033556},{w:22.575321,utm_x:12677944.949633382,utm_y:2564190.0278140297,j:113.886678,y:1080428,x:986612},{w:22.567745,utm_x:12676203.003287584,utm_y:2563281.9788297825,j:113.87103,y:1077964,x:976056},{w:22.53376,utm_x:12695149.898098502,utm_y:2559209.204038221,j:114.041231,y:1142892,x:1035212},{w:22.567345,utm_x:12674873.054860098,utm_y:2563234.0367806535,j:113.859083,y:1074408,x:970648},{w:22.561054,utm_x:12677979.013768211,utm_y:2562480.04670937,j:113.886984,y:1085360,x:979868},{w:22.55689,utm_x:12680064.05051775,utm_y:2561981.0013635466,j:113.905714,y:1092484,x:986240},{w:22.523336,utm_x:12695238.954660147,utm_y:2557960.1913290303,j:114.042031,y:1146674,x:1030594},{w:22.567503,utm_x:12681449.99325837,utm_y:2563252.973873247,j:113.918164,y:1092744,x:997036},{w:22.575104,utm_x:12680628.001194376,utm_y:2564164.017788848,j:113.91078,y:1087944,x:997272},{w:22.5381,utm_x:12697593.94411218,utm_y:2559729.254715209,j:114.063186,y:1148228,x:1047180},{w:22.669472,utm_x:12693701.949726839,utm_y:2575479.057829028,j:114.028224,y:1092852,x:1094564},{w:22.534344,utm_x:12696606.974767735,utm_y:2559279.1822449057,j:114.05432,y:1146728,x:1041440},{w:22.661468,utm_x:12694358.964510383,utm_y:2574519.0462402306,j:114.034126,y:1097368,x:1093464},{w:22.650428,utm_x:12695868.027947476,utm_y:2573194.985256673,j:114.047682,y:1105312,x:1094252},{w:22.548356,utm_x:12697052.925500179,utm_y:2560958.269685555,j:114.058326,y:1143212,x:1049932},{w:22.659208,utm_x:12696361.957902508,utm_y:2574247.9887552443,j:114.052119,y:1103660,x:1100500},{w:22.641614,utm_x:12696936.038763018,utm_y:2572137.972574285,j:114.057276,y:1111316,x:1094304},{w:22.55982,utm_x:12696634.916263951,utm_y:2562332.1531998497,j:114.054571,y:1138084,x:1053624},{w:22.646192,utm_x:12693749.03838381,utm_y:2572686.97740406,j:114.028647,y:1100848,x:1083656},{w:22.579177,utm_x:12697850.98361323,utm_y:2564652.222083278,j:114.065495,y:1135008,x:1067924},{w:22.68101,utm_x:12695348.048948167,utm_y:2576863.042321648,j:114.043011,y:1093424,x:1106752},{w:22.667112,utm_x:12691404.958360579,utm_y:2575195.990051849,j:114.00759,y:1087224,x:1084372},{w:22.628774,utm_x:12672906.908620356,utm_y:2570598.267462188,j:113.841421,y:1047904,x:992400}],gz:[{w:23.051769,utm_x:12624758.7,utm_y:2621406.72,j:113.409047,y:1147200,x:1111520},{w:23.13078,utm_x:12623603.75,utm_y:2630905.58,j:113.398528,y:1123834,x:1138742},{w:23.128337,utm_x:12624897.74,utm_y:2630611.55,j:113.410152,y:1127673,x:1142147},{w:23.15111,utm_x:12618491.79,utm_y:2633340.62,j:113.35293,y:1105352,x:1130048},{w:23.039565,utm_x:12614599.8,utm_y:2619614.78,j:113.317788,y:1128720,x:1070656},{w:23.092382,utm_x:12634883.65,utm_y:2626284.73,j:113.499856,y:1162270,x:1161722},{w:23.07255,utm_x:12618161.73,utm_y:2623898.65,j:113.349642,y:1127096,x:1097039},{w:23.140368,utm_x:12615074.58,utm_y:2632003.65,j:113.322162,y:1100352,x:1113984},{w:23.114602,utm_x:12625021.08,utm_y:2629374.58,j:113.409823,y:1131614,x:1136537},{w:23.137219,utm_x:12625225.13,utm_y:2631672.64,j:113.41338,y:1125880,x:1146984},{w:23.150479,utm_x:12625369.85,utm_y:2632559.39,j:113.41356,y:1122120,x:1152640},{w:23.043637,utm_x:12621207.01,utm_y:2620340.65,j:113.377106,y:1142384,x:1096456},{w:23.053231,utm_x:12623908.1,utm_y:2621578.61,j:113.398819,y:1145720,x:1108056},{w:23.141174,utm_x:12619308.66,utm_y:2632124.62,j:113.359765,y:1110272,x:1128608},{w:23.102686,utm_x:12619745.6,utm_y:2628052.62,j:113.358049,y:1121240,x:1111728},{w:23.126119,utm_x:12612217.2,utm_y:2630156.61,j:113.296206,y:1097784,x:1098208},{w:23.123891,utm_x:12621642.28,utm_y:2630016.4,j:113.381195,y:1121176,x:1129360},{w:23.152432,utm_x:12613956.59,utm_y:2632883.79,j:113.311436,y:1094088,x:1114904},{w:23.152316,utm_x:12609534.48,utm_y:2632837.81,j:113.268622,y:1082624,x:1098432},{w:23.117908,utm_x:12615042.3,utm_y:2629344.37,j:113.321261,y:1106736,x:1104472},{w:23.070206,utm_x:12614172.66,utm_y:2623576.6,j:113.313485,y:1118176,x:1082408},{w:23.118741,utm_x:12612147.74,utm_y:2629904.71,j:113.302948,y:1101736,x:1097712},{w:23.017586,utm_x:12617618.93,utm_y:2617323.5,j:113.345161,y:1142376,x:1072040},{w:23.055499,utm_x:12613814.87,utm_y:2621075.45,j:113.306462,y:1121048,x:1072952},{w:23.036022,utm_x:12620229.62,utm_y:2619712.69,j:113.361247,y:1141304,x:1085712},{w:23.08481,utm_x:12608169.69,utm_y:2625469.68,j:113.258769,y:1099520,x:1067056},{w:23.059151,utm_x:12615561.61,utm_y:2622198.7,j:113.329375,y:1109960,x:1109088},{w:23.147086,utm_x:12616385.71,utm_y:2631876.66,j:113.339115,y:1102912,x:1123304},{w:23.058884,utm_x:12616361.78,utm_y:2621798.62,j:113.334048,y:1126504,x:1085856},{w:23.113041,utm_x:12616097.62,utm_y:2628694.63,j:113.333472,y:1111960,x:1106192},{w:23.146124,utm_x:12607776.73,utm_y:2632276.52,j:113.263396,y:1082984,x:1094008},{w:23.160314,utm_x:12612712.8,utm_y:2634644.59,j:113.300981,y:1089032,x:1114128},{w:23.098948,utm_x:12609740.2,utm_y:2627106.8,j:113.273452,y:1099688,x:1078072},{w:23.097467,utm_x:12613010.14,utm_y:2626888.53,j:113.303473,y:1108096,x:1088784},{w:23.048832,utm_x:12617955.78,utm_y:2621245.53,j:113.347037,y:1133664,x:1085608},{w:23.196846,utm_x:12611909.73,utm_y:2638578.59,j:113.288702,y:1075184,x:1124496},{w:23.12272,utm_x:12615005.67,utm_y:2629715.52,j:113.314033,y:1103408,x:1103648},{w:23.129832,utm_x:12615292.66,utm_y:2631012.58,j:113.327651,y:1104888,x:1111712},{w:23.13957,utm_x:12616316.7,utm_y:2631972.59,j:113.330957,y:1103152,x:1117280},{w:23.13721,utm_x:12616695.74,utm_y:2631636.66,j:113.340371,y:1106112,x:1119696},{w:23.132026,utm_x:12617240.66,utm_y:2631035.57,j:113.342419,y:1108136,x:1118320},{w:23.133804,utm_x:12615122.67,utm_y:2631841.52,j:113.327768,y:1103752,x:1113376},{w:23.142967,utm_x:12611814.66,utm_y:2632220.43,j:113.291512,y:1091560,x:1103320},{w:23.12949,utm_x:12620250.66,utm_y:2630858.28,j:113.368425,y:1116024,x:1127024},{w:23.130421,utm_x:12620254.67,utm_y:2631708.27,j:113.358759,y:1113096,x:1123892},{w:23.139261,utm_x:12619889.65,utm_y:2632002.33,j:113.369,y:1113216,x:1131256},{w:23.14049,utm_x:12619759.62,utm_y:2632099.34,j:113.364149,y:1111912,x:1130200},{w:23.145973,utm_x:12618829.65,utm_y:2632240.29,j:113.360951,y:1109144,x:1131056},{w:23.12733,utm_x:12618374.79,utm_y:2630807.49,j:113.349668,y:1111520,x:1119136},{w:23.128028,utm_x:12617691.73,utm_y:2630270.34,j:113.340326,y:1108800,x:1115872},{w:23.123541,utm_x:12617254.68,utm_y:2630074.29,j:113.34144,y:1110360,x:1114472},{w:23.131653,utm_x:12605429.75,utm_y:2630802.68,j:113.23297,y:1078944,x:1076616},{w:23.104732,utm_x:12607587.82,utm_y:2628334.81,j:113.258968,y:1094216,x:1074896},{w:23.104499,utm_x:12607662.85,utm_y:2628366.82,j:113.255482,y:1093304,x:1073416},{w:23.110782,utm_x:12607935.81,utm_y:2628492.82,j:113.256848,y:1092024,x:1076432},{w:23.117711,utm_x:12610309.83,utm_y:2629432.7,j:113.285109,y:1097788,x:1089535},{w:23.217094,utm_x:12616092.72,utm_y:2641489.56,j:113.328972,y:1079880,x:1147760},{w:23.216396,utm_x:12616673.81,utm_y:2641234.59,j:113.336051,y:1081888,x:1150512},{w:23.206133,utm_x:12615459.75,utm_y:2639906.47,j:113.332493,y:1084104,x:1144832},{w:23.196467,utm_x:12616490.8,utm_y:2638843.51,j:113.334398,y:1086744,x:1142432},{w:23.186037,utm_x:12616663.79,utm_y:2638442.52,j:113.339428,y:1091752,x:1139376},{w:23.179558,utm_x:12615612.81,utm_y:2637108.61,j:113.326349,y:1089992,x:1131728},{w:23.161883,utm_x:12614848.82,utm_y:2634364.58,j:113.315597,y:1092264,x:1120328},{w:23.207437,utm_x:12612004.8,utm_y:2639994.51,j:113.293256,y:1073392,x:1130520},{w:23.184616,utm_x:12610732.85,utm_y:2637114.51,j:113.283914,y:1077456,x:1117592},{w:23.174284,utm_x:12610586.8,utm_y:2636808.45,j:113.280536,y:1079232,x:1112424},{w:23.153451,utm_x:12608161.79,utm_y:2633725.47,j:113.259884,y:1079800,x:1095712},{w:23.15262,utm_x:12608603.84,utm_y:2633386.48,j:113.263764,y:1081160,x:1096904},{w:23.15169,utm_x:12608998.92,utm_y:2633035.47,j:113.267897,y:1082608,x:1098048},{w:23.148201,utm_x:12609026.97,utm_y:2632929.42,j:113.267537,y:1083568,x:1096504},{w:23.146406,utm_x:12609060.03,utm_y:2632487.41,j:113.267465,y:1083992,x:1095720},{w:23.140724,utm_x:12609134.06,utm_y:2632393.4,j:113.268436,y:1085984,x:1093648},{w:23.140292,utm_x:12609251.06,utm_y:2631922.4,j:113.269981,y:1086544,x:1094040},{w:23.124207,utm_x:12609391.1,utm_y:2630843.6,j:113.268831,y:1090280,x:1087808},{w:23.114368,utm_x:12607950.17,utm_y:2628778.63,j:113.260459,y:1091448,x:1079880},{w:23.110978,utm_x:12607325.1,utm_y:2628635.54,j:113.239726,y:1086703,x:1070640},{w:23.111909,utm_x:12607007.06,utm_y:2628604.62,j:113.246445,y:1088240,x:1073616},{w:23.118058,utm_x:12608106.13,utm_y:2629241.59,j:113.260279,y:1090320,x:1081248},{w:23.130222,utm_x:12608288.14,utm_y:2630864.42,j:113.260854,y:1086912,x:1086464},{w:23.136869,utm_x:12608347.14,utm_y:2631605.36,j:113.261393,y:1085160,x:1089344},{w:23.139062,utm_x:12608302.05,utm_y:2631906.39,j:113.260387,y:1084304,x:1089968},{w:23.138697,utm_x:12608807.11,utm_y:2631877.39,j:113.265202,y:1085688,x:1091648},{w:23.130815,utm_x:12623858.78,utm_y:2630845.76,j:113.40761,y:1126344,x:1142280},{w:23.132128,utm_x:12622135.76,utm_y:2631007.77,j:113.384191,y:1119512,x:1133992},{w:23.133557,utm_x:12621530.73,utm_y:2631387.75,j:113.380849,y:1118208,x:1133448},{w:23.137943,utm_x:12621065.64,utm_y:2631728.85,j:113.373986,y:1114904,x:1132424},{w:23.139372,utm_x:12617979.72,utm_y:2632248.96,j:113.341935,y:1105936,x:1121112},{w:23.141233,utm_x:12617984.61,utm_y:2632396.89,j:113.349193,y:1107304,x:1124640},{w:23.154326,utm_x:12617500.7,utm_y:2632847.92,j:113.339815,y:1101144,x:1126312},{w:23.146683,utm_x:12615891.67,utm_y:2632906.91,j:113.328352,y:1100176,x:1118992},{w:23.11113,utm_x:12615231.76,utm_y:2628576.7,j:113.322172,y:1109448,x:1101408},{w:23.117786,utm_x:12612348.67,utm_y:2629449.67,j:113.298537,y:1101112,x:1096016},{w:23.114429,utm_x:12611891.7,utm_y:2629395.64,j:113.292824,y:1100784,x:1091248},{w:22.942118,utm_x:12622630.47,utm_y:2608146.6,j:113.39363,y:1177584,x:1059128},{w:22.934629,utm_x:12622828.51,utm_y:2607366.61,j:113.392264,y:1179320,x:1055560},{w:22.941352,utm_x:12622835.52,utm_y:2607807.56,j:113.387665,y:1176040,x:1056648},{w:22.952534,utm_x:12622477.74,utm_y:2608697.55,j:113.390935,y:1173840,x:1062368},{w:23.134894,utm_x:12615010.79,utm_y:2631320.7,j:113.322092,y:1101976,x:1111784},{w:23.137619,utm_x:12613924.86,utm_y:2631162.67,j:113.313647,y:1098984,x:1109760},{w:23.12145,utm_x:12610953.71,utm_y:2629781.72,j:113.285854,y:1096400,x:1092320},{w:23.119988,utm_x:12610079.62,utm_y:2629789.78,j:113.273134,y:1093328,x:1086856},{w:23.118758,utm_x:12609296.7,utm_y:2629402.86,j:113.270079,y:1092872,x:1085184},{w:23.13182,utm_x:12607510.78,utm_y:2631018.96,j:113.253586,y:1084560,x:1084496},{w:23.13162,utm_x:12606846.75,utm_y:2630950.11,j:113.248412,y:1083128,x:1082392},{w:23.130768,utm_x:12604813.7,utm_y:2630736.12,j:113.230526,y:1078456,x:1075464},{w:23.129438,utm_x:12604287.71,utm_y:2630871.16,j:113.225963,y:1077688,x:1073072},{w:23.145034,utm_x:12604426.64,utm_y:2632621.26,j:113.226259,y:1073214,x:1079596},{w:22.93532,utm_x:12623402.82,utm_y:2607337.64,j:113.396148,y:1180400,x:1057296},{w:22.946004,utm_x:12621740.8,utm_y:2608688.78,j:113.382889,y:1173424,x:1056688},{w:22.945904,utm_x:12622516.81,utm_y:2608729.76,j:113.392052,y:1176216,x:1059976},{w:22.942676,utm_x:12620776.87,utm_y:2608289.03,j:113.37272,y:1171656,x:1051616},{w:23.147602,utm_x:12605751.69,utm_y:2633558.38,j:113.236761,y:1075328,x:1084576},{w:22.939849,utm_x:12620434,utm_y:2608181.94,j:113.370341,y:1171792,x:1049272},{w:22.938257,utm_x:12620618.68,utm_y:2608090.6,j:113.373761,y:1173248,x:1050048},{w:22.943981,utm_x:12621161.71,utm_y:2608215.59,j:113.377247,y:1172464,x:1053760},{w:23.138888,utm_x:12605674.77,utm_y:2632081.53,j:113.237184,y:1077880,x:1081112},{w:23.126559,utm_x:12605549.76,utm_y:2630284.42,j:113.236357,y:1081376,x:1075824},{w:22.946302,utm_x:12620726.78,utm_y:2608699.48,j:113.372297,y:1170464,x:1053016},{w:22.944538,utm_x:12620276.82,utm_y:2608483.49,j:113.368848,y:1170056,x:1050824},{w:22.949697,utm_x:12620767.85,utm_y:2609244.43,j:113.372549,y:1169720,x:1054120},{w:22.959014,utm_x:12621118.85,utm_y:2609331.46,j:113.377148,y:1168024,x:1059904},{w:22.952459,utm_x:12620519.72,utm_y:2609467.4,j:113.370932,y:1168232,x:1054816},{w:22.955154,utm_x:12620205.68,utm_y:2609480.38,j:113.368453,y:1166760,x:1055072},{w:23.106966,utm_x:12630709.68,utm_y:2628067.66,j:113.46581,y:1148696,x:1154768},{w:23.107332,utm_x:12630167.66,utm_y:2627995.7,j:113.46184,y:1147544,x:1153464},{w:23.106269,utm_x:12629900.6,utm_y:2627903.65,j:113.45645,y:1146296,x:1150904},{w:22.952742,utm_x:12619378.91,utm_y:2608942.5,j:113.364959,y:1166618,x:1052728},{w:23.124592,utm_x:12626352.48,utm_y:2630176.83,j:113.422933,y:1132240,x:1145640},{w:22.946102,utm_x:12619376.9,utm_y:2608921.47,j:113.363684,y:1167576,x:1050168},{w:22.946202,utm_x:12619301.87,utm_y:2608746.47,j:113.359767,y:1167080,x:1048128},{w:23.129703,utm_x:12626475.49,utm_y:2630775.96,j:113.424325,y:1131115,x:1148193},{w:23.138643,utm_x:12626590.48,utm_y:2631868.96,j:113.425223,y:1128656,x:1152240},{w:22.940553,utm_x:12619392.93,utm_y:2608034.59,j:113.360594,y:1168928,x:1046152},{w:22.934662,utm_x:12619464.96,utm_y:2607625.6,j:113.362211,y:1171128,x:1044176},{w:23.083957,utm_x:12614979.51,utm_y:2625271.04,j:113.321056,y:1116430,x:1090563},{w:23.082976,utm_x:12612278.43,utm_y:2625101.03,j:113.296972,y:1110368,x:1080848},{w:22.939961,utm_x:12618959.78,utm_y:2607963.44,j:113.356595,y:1168048,x:1044368},{w:23.109894,utm_x:12611547.49,utm_y:2627939.99,j:113.290981,y:1101528,x:1088904},{w:23.112553,utm_x:12611436.51,utm_y:2629075.04,j:113.282429,y:1098424,x:1086528},{w:23.112719,utm_x:12609959.5,utm_y:2628722.07,j:113.275781,y:1096744,x:1084160},{w:23.108099,utm_x:12609460.57,utm_y:2628800.05,j:113.277901,y:1098528,x:1083240},{w:23.116741,utm_x:12609391.55,utm_y:2629203.08,j:113.270679,y:1094200,x:1083888},{w:23.106711,utm_x:12605632.69,utm_y:2628008.94,j:113.237093,y:1087313,x:1067891},{w:23.112612,utm_x:12608887.49,utm_y:2628759.01,j:113.266331,y:1094040,x:1080624},{w:23.105266,utm_x:12609329.54,utm_y:2627824.95,j:113.270248,y:1097192,x:1079232},{w:23.0926,utm_x:12610097.43,utm_y:2626303.86,j:113.276895,y:1102392,x:1077e3},{w:23.088269,utm_x:12610389.42,utm_y:2625789.85,j:113.279823,y:1104359,x:1076388},{w:23.077075,utm_x:12610370.39,utm_y:2624872.8,j:113.286345,y:1109008,x:1074496},{w:23.071405,utm_x:12613123.35,utm_y:2623748.87,j:113.304598,y:1113832,x:1077280},{w:23.061995,utm_x:12613615.39,utm_y:2622628.88,j:113.308802,y:1119096,x:1077456},{w:23.059601,utm_x:12613490.37,utm_y:2622335.96,j:113.307508,y:1119464,x:1076088},{w:23.0462,utm_x:12614010.24,utm_y:2620853.89,j:113.314299,y:1125800,x:1071952},{w:23.035624,utm_x:12615118.22,utm_y:2619289.93,j:113.328241,y:1132575,x:1073047},{w:23.031932,utm_x:12614538.12,utm_y:2619017.03,j:113.31685,y:1130664,x:1067240},{w:23.109733,utm_x:12621043.82,utm_y:2628372.6,j:113.375424,y:1122704,x:1118888},{w:23.109833,utm_x:12619810.72,utm_y:2628394.62,j:113.364465,y:1121096,x:1116848},{w:23.111029,utm_x:12619060.75,utm_y:2628515.56,j:113.357602,y:1118944,x:1114704},{w:23.118466,utm_x:12617149.71,utm_y:2629423.56,j:113.340551,y:1111681,x:1112024},{w:23.101914,utm_x:12617090.71,utm_y:2627411.72,j:113.339949,y:1116616,x:1104520},{w:23.102247,utm_x:12616406.75,utm_y:2627452.75,j:113.333841,y:1114880,x:1102328},{w:23.036412,utm_x:12622184.86,utm_y:2619567.64,j:113.385818,y:1147960,x:1095040},{w:23.016555,utm_x:12622968.89,utm_y:2617176.42,j:113.397271,y:1156848,x:1091016},{w:23.013096,utm_x:12622942.95,utm_y:2616759.27,j:113.392815,y:1157808,x:1086920},{w:22.98778,utm_x:12623101.69,utm_y:2615987.75,j:113.397774,y:1165344,x:1079464},{w:23.016166,utm_x:12622801.68,utm_y:2617136.74,j:113.391243,y:1155256,x:1088744},{w:23.015966,utm_x:12622440.67,utm_y:2617104.75,j:113.388116,y:1154472,x:1087456},{w:23.015809,utm_x:12622096.69,utm_y:2617073.85,j:113.38499,y:1153685,x:1086163},{w:23.007318,utm_x:12622262.67,utm_y:2616218.62,j:113.387182,y:1156744,x:1083496},{w:23.005545,utm_x:12626451.78,utm_y:2615879.65,j:113.423968,y:1166312,x:1092072},{w:23.002951,utm_x:12625945.83,utm_y:2615551.62,j:113.419692,y:1165392,x:1088352},{w:22.994042,utm_x:12624402.81,utm_y:2614456.48,j:113.405706,y:1165600,x:1085004},{w:23.013454,utm_x:12628162.78,utm_y:2616810.61,j:113.439518,y:1167016,x:1097096},{w:23.01525,utm_x:12628975.86,utm_y:2617027.67,j:113.446812,y:1167752,x:1102040},{w:23.119024,utm_x:12630743.75,utm_y:2629458.7,j:113.45999,y:1143584,x:1157528},{w:23.118127,utm_x:12631042.75,utm_y:2629386.73,j:113.465415,y:1145224,x:1159264},{w:23.126352,utm_x:12604827.95,utm_y:2630214.62,j:113.228651,y:1079272,x:1072848},{w:23.169019,utm_x:12604844.99,utm_y:2635548.6,j:113.230448,y:1067200,x:1090920},{w:23.12342,utm_x:12627543.61,utm_y:2630019.77,j:113.43392,y:1135470,x:1149182},{w:23.121767,utm_x:12626658.72,utm_y:2629820.83,j:113.425971,y:1133825,x:1145575},{w:23.119648,utm_x:12626689.67,utm_y:2629565.81,j:113.426249,y:1134526,x:1144794},{w:23.116383,utm_x:12626364.72,utm_y:2629560.75,j:113.423959,y:1134816,x:1142584},{w:23.141904,utm_x:12607185.95,utm_y:2631760.51,j:113.24889,y:1080160,x:1086728},{w:23.126104,utm_x:12625891.72,utm_y:2630026.75,j:113.41405,y:1129368,x:1142800},{w:23.051676,utm_x:12621776.86,utm_y:2621295.45,j:113.381866,y:1141520,x:1101248},{w:23.082581,utm_x:12620890.97,utm_y:2624921.52,j:113.373728,y:1130912,x:1110056},{w:23.086671,utm_x:12621767.96,utm_y:2625815.48,j:113.382387,y:1132200,x:1114784},{w:23.085573,utm_x:12621402.94,utm_y:2625359.47,j:113.380196,y:1131880,x:1113440},{w:23.075934,utm_x:12629879.79,utm_y:2623905.75,j:113.458104,y:1158669,x:1142149},{w:23.068112,utm_x:12633023.71,utm_y:2623360.77,j:113.482968,y:1164760,x:1145168},{w:23.031475,utm_x:12631756.65,utm_y:2619453.86,j:113.472628,y:1172168,x:1127296},{w:23.029646,utm_x:12631982.64,utm_y:2618730.92,j:113.47385,y:1173288,x:1125792},{w:23.119554,utm_x:12607327.77,utm_y:2629554.5,j:113.25232,y:1087723,x:1078911},{w:23.094575,utm_x:12623715.96,utm_y:2626888.65,j:113.394182,y:1133232,x:1122208},{w:23.00207,utm_x:12630907.72,utm_y:2615421.76,j:113.46414,y:1178779,x:1110804},{w:23.001072,utm_x:12630414.68,utm_y:2615311.86,j:113.459864,y:1177816,x:1108776},{w:23.001504,utm_x:12630609.72,utm_y:2615359.83,j:113.461517,y:1178192,x:1109584},{w:23.114852,utm_x:12607364.84,utm_y:2629176.61,j:113.255276,y:1089936,x:1078064},{w:23.105396,utm_x:12623798,utm_y:2627386.69,j:113.403543,y:1132840,x:1129928},{w:22.999666,utm_x:12631002.68,utm_y:2615132.7,j:113.464993,y:1179667,x:1110153},{w:23.103526,utm_x:12623328.01,utm_y:2627645.65,j:113.394075,y:1130944,x:1125592},{w:23.102262,utm_x:12623698.93,utm_y:2627717.61,j:113.400713,y:1132992,x:1127536},{w:23.119248,utm_x:12606891.73,utm_y:2629517.67,j:113.248403,y:1086740,x:1077282},{w:22.98763,utm_x:12630785.6,utm_y:2613445.58,j:113.467427,y:1183816,x:1106040},{w:23.116016,utm_x:12606689.79,utm_y:2629372.65,j:113.245008,y:1086856,x:1074656},{w:22.987257,utm_x:12630507.52,utm_y:2613644.68,j:113.460437,y:1182080,x:1103264},{w:22.997503,utm_x:12630060.46,utm_y:2614871.66,j:113.456377,y:1179136,x:1104800},{w:23.10178,utm_x:12614684.62,utm_y:2627407.63,j:113.318515,y:1110968,x:1096376},{w:23.059981,utm_x:12624907.76,utm_y:2622386.6,j:113.411248,y:1147264,x:1115584},{w:23.101556,utm_x:12614251.59,utm_y:2627372.61,j:113.314517,y:1109976,x:1094672},{w:23.058975,utm_x:12625238.83,utm_y:2622349.55,j:113.422127,y:1150462,x:1119288},{w:22.962752,utm_x:12625503.66,utm_y:2610694.78,j:113.415523,y:1177432,x:1076e3},{w:23.101506,utm_x:12613770.57,utm_y:2627382.6,j:113.310196,y:1108802,x:1093049},{w:23.103019,utm_x:12613751.53,utm_y:2627564.66,j:113.310025,y:1108392,x:1093531},{w:22.95425,utm_x:12625957.74,utm_y:2609676.78,j:113.419818,y:1181032,x:1074096},{w:22.9541,utm_x:12625883.71,utm_y:2609654.79,j:113.419009,y:1180872,x:1073607},{w:23.06545,utm_x:12624519.7,utm_y:2622868.51,j:113.407223,y:1144800,x:1115984},{w:23.107898,utm_x:12613321.5,utm_y:2628151.78,j:113.306162,y:1106134,x:1093882},{w:23.062932,utm_x:12624287.7,utm_y:2623017.56,j:113.402444,y:1144136,x:1113192},{w:23.10587,utm_x:12613278.42,utm_y:2627935.78,j:113.305703,y:1106480,x:1093064},{w:22.975614,utm_x:12635216.84,utm_y:2612240.95,j:113.502849,y:1197148,x:1114691},{w:23.059814,utm_x:12619902.67,utm_y:2622554.53,j:113.374084,y:1137200,x:1101472},{w:22.976995,utm_x:12636669.79,utm_y:2612406.97,j:113.515865,y:1200104,x:1119912},{w:23.116614,utm_x:12621607.77,utm_y:2629228.72,j:113.380346,y:1123008,x:1126248},{w:23.115567,utm_x:12620418.75,utm_y:2629066.73,j:113.369953,y:1120464,x:1121848},{w:22.974989,utm_x:12635795.7,utm_y:2612165.82,j:113.508049,y:1198577,x:1116171},{w:23.060379,utm_x:12621442.68,utm_y:2622246.46,j:113.379367,y:1138472,x:1103672},{w:23.115501,utm_x:12620091.8,utm_y:2629062.76,j:113.36698,y:1119664,x:1120744},{w:23.059066,utm_x:12621860.69,utm_y:2622248.51,j:113.382798,y:1139824,x:1104456},{w:22.987349,utm_x:12634383.71,utm_y:2613651.77,j:113.495329,y:1191496,x:1116464},{w:23.117312,utm_x:12620110.84,utm_y:2629284.68,j:113.367151,y:1119246,x:1121418},{w:22.978325,utm_x:12635407.64,utm_y:2612582.86,j:113.504563,y:1196672,x:1116152},{w:23.065999,utm_x:12622486.76,utm_y:2622866.58,j:113.385979,y:1138840,x:1108344},{w:23.067296,utm_x:12622958.76,utm_y:2623294.49,j:113.393417,y:1140544,x:1111480},{w:22.982766,utm_x:12635278.51,utm_y:2613112.8,j:113.503511,y:1195008,x:1117648},{w:22.989121,utm_x:12634848.59,utm_y:2613905.94,j:113.500025,y:1192328,x:1119048},{w:23.116315,utm_x:12619490.89,utm_y:2629164.69,j:113.361582,y:1117992,x:1119008},{w:23.117112,utm_x:12618628.94,utm_y:2629360.62,j:113.353983,y:1115640,x:1116488},{w:23.122895,utm_x:12618498.92,utm_y:2629612.62,j:113.354198,y:1114064,x:1118896},{w:23.118973,utm_x:12618169.96,utm_y:2629483.61,j:113.349599,y:1113936,x:1115672},{w:23.121657,utm_x:12617897.9,utm_y:2629807.59,j:113.347272,y:1112528,x:1115859},{w:23.12189,utm_x:12617635.96,utm_y:2629835.63,j:113.344919,y:1111795,x:1115079},{w:22.923546,utm_x:12627390.88,utm_y:2605982.65,j:113.432368,y:1193240,x:1066248},{w:22.943199,utm_x:12625845.86,utm_y:2608304.53,j:113.418561,y:1183888,x:1068920},{w:22.942567,utm_x:12625133.85,utm_y:2608268.59,j:113.412273,y:1182435,x:1066380},{w:23.124349,utm_x:12616456.96,utm_y:2629919.52,j:113.334723,y:1108408,x:1112168},{w:22.938881,utm_x:12625101.9,utm_y:2607829.55,j:113.412094,y:1183424,x:1064832},{w:22.943107,utm_x:12625107.8,utm_y:2608313.54,j:113.411842,y:1182256,x:1066472},{w:23.050636,utm_x:12622202.67,utm_y:2621190.44,j:113.385726,y:1142832,x:1102296},{w:22.942316,utm_x:12624665.75,utm_y:2608238.43,j:113.408104,y:1181360,x:1064656},{w:23.121906,utm_x:12615022.93,utm_y:2629837.56,j:113.321266,y:1105608,x:1106048},{w:23.055457,utm_x:12622790.77,utm_y:2621394.45,j:113.395716,y:1144304,x:1108016},{w:23.050835,utm_x:12622562.79,utm_y:2621306.4,j:113.390147,y:1144016,x:1104176},{w:23.118051,utm_x:12614317.93,utm_y:2629373.61,j:113.315113,y:1105059,x:1102065},{w:23.11791,utm_x:12614640.87,utm_y:2629356.65,j:113.318014,y:1105858,x:1103136},{w:22.936135,utm_x:12624651.94,utm_y:2607495.56,j:113.407872,y:1183176,x:1061928},{w:23.118143,utm_x:12613999.89,utm_y:2629384.69,j:113.312256,y:1104286,x:1101010},{w:23.118217,utm_x:12613832.8,utm_y:2629393.59,j:113.310755,y:1103884,x:1100464},{w:22.936743,utm_x:12624528.71,utm_y:2607732.68,j:113.410286,y:1183640,x:1063128},{w:23.050884,utm_x:12623368.86,utm_y:2621372.31,j:113.395699,y:1145560,x:1106160},{w:23.115201,utm_x:12613936.88,utm_y:2629030.63,j:113.31169,y:1104995,x:1099597},{w:22.941719,utm_x:12623709.61,utm_y:2608198.64,j:113.399623,y:1179216,x:1061208},{w:23.11334,utm_x:12613908.83,utm_y:2628806.67,j:113.311438,y:1105472,x:1098760},{w:22.942334,utm_x:12623667.65,utm_y:2608474.6,j:113.399443,y:1179048,x:1061336},{w:23.114845,utm_x:12613568.74,utm_y:2628975.75,j:113.308347,y:1104208,x:1098200},{w:22.944431,utm_x:12623685.57,utm_y:2608492.63,j:113.399263,y:1178432,x:1062080},{w:23.115144,utm_x:12613359.68,utm_y:2629031.71,j:113.306541,y:1103632,x:1097656},{w:23.11536,utm_x:12613231.67,utm_y:2629057.71,j:113.305319,y:1103288,x:1097312},{w:23.117287,utm_x:12613090.62,utm_y:2629084.66,j:113.304061,y:1102344,x:1097568},{w:23.118708,utm_x:12611996.67,utm_y:2629536.69,j:113.294764,y:1099456,x:1094488},{w:23.119207,utm_x:12611826.69,utm_y:2629503.71,j:113.292752,y:1098128,x:1093560},{w:23.124566,utm_x:12610935.79,utm_y:2630157.69,j:113.284731,y:1095119,x:1093159},{w:23.126552,utm_x:12610597.93,utm_y:2630396.72,j:113.281696,y:1093719,x:1092791},{w:22.935446,utm_x:12621734.34,utm_y:2607404.7,j:113.381591,y:1176296,x:1051816},{w:23.128828,utm_x:12610600.93,utm_y:2630510.69,j:113.283951,y:1092752,x:1096888},{w:22.940979,utm_x:12621655.3,utm_y:2607825.71,j:113.380522,y:1174232,x:1053824},{w:23.055102,utm_x:12611566.64,utm_y:2622131.7,j:113.300675,y:1119608,x:1070472},{w:22.940488,utm_x:12621365.31,utm_y:2607766.7,j:113.377881,y:1173632,x:1052576},{w:23.128829,utm_x:12610274.88,utm_y:2630350.74,j:113.278543,y:1092192,x:1092528},{w:23.121816,utm_x:12609986.89,utm_y:2630181.76,j:113.277321,y:1093984,x:1089224},{w:22.939331,utm_x:12621980.25,utm_y:2607887.72,j:113.383764,y:1175632,x:1054384},{w:23.135385,utm_x:12609875.79,utm_y:2631055.79,j:113.274023,y:1089064,x:1093504},{w:23.131862,utm_x:12609511.77,utm_y:2631027.75,j:113.271939,y:1089504,x:1091304},{w:22.935304,utm_x:12618841.78,utm_y:2607383.67,j:113.355859,y:1169176,x:1042184},{w:23.008632,utm_x:12618120.65,utm_y:2616850.78,j:113.350603,y:1146440,x:1070440},{w:22.945047,utm_x:12618578.84,utm_y:2608582.65,j:113.353317,y:1165624,x:1045248},{w:22.945846,utm_x:12618825.86,utm_y:2608660.65,j:113.355329,y:1166e3,x:1046296},{w:23.134945,utm_x:12609501.75,utm_y:2631414.83,j:113.269801,y:1088016,x:1091816},{w:22.946154,utm_x:12619007.87,utm_y:2608887.7,j:113.357351,y:1166384,x:1047120},{w:22.998652,utm_x:12616126.67,utm_y:2615850.79,j:113.333912,y:1144936,x:1060080},{w:23.13791,utm_x:12609530.81,utm_y:2631743.78,j:113.272038,y:1087776,x:1093792},{w:23.018345,utm_x:12616962.69,utm_y:2616238.82,j:113.328379,y:1137656,x:1066032},{w:23.140502,utm_x:12609558.75,utm_y:2632075.75,j:113.272361,y:1087106,x:1095e3},{w:22.9484,utm_x:12618896,utm_y:2609137.7,j:113.357891,y:1165872,x:1048288},{w:22.988406,utm_x:12617618.7,utm_y:2614274.81,j:113.350226,y:1152212,x:1061870},{w:23.142487,utm_x:12610246.82,utm_y:2632314.68,j:113.278542,y:1088221,x:1098186},{w:23.151891,utm_x:12610415.81,utm_y:2632986.71,j:113.281021,y:1086120,x:1102968},{w:22.956279,utm_x:12619177.97,utm_y:2609664.76,j:113.359094,y:1163984,x:1051968},{w:23.004773,utm_x:12617018.8,utm_y:2615366.81,j:113.344262,y:1145872,x:1066456},{w:23.101058,utm_x:12608118.82,utm_y:2627328.69,j:113.259426,y:1095320,x:1073552},{w:23.096047,utm_x:12608273.89,utm_y:2626725.72,j:113.260819,y:1096934,x:1072184},{w:23.090394,utm_x:12608919.88,utm_y:2626873.48,j:113.270718,y:1101291,x:1073708},{w:23.097508,utm_x:12609080.85,utm_y:2626895.5,j:113.268059,y:1098640,x:1075480},{w:23.149523,utm_x:12619935.73,utm_y:2633161.62,j:113.365398,y:1109320,x:1134208},{w:23.114777,utm_x:12615187.79,utm_y:2628979.6,j:113.322927,y:1108067,x:1103769},{w:23.168795,utm_x:12620536.75,utm_y:2635481.66,j:113.370546,y:1105104,x:1144096},{w:23.114245,utm_x:12614556.72,utm_y:2628911.61,j:113.317186,y:1106760,x:1101336},{w:23.114685,utm_x:12614256.71,utm_y:2628968.53,j:113.314563,y:1105922,x:1100510},{w:23.154009,utm_x:12605129.74,utm_y:2633701.63,j:113.232575,y:1072279,x:1085734},{w:23.108668,utm_x:12614255.7,utm_y:2628204.49,j:113.314518,y:1108056,x:1097400},{w:23.103749,utm_x:12614257.71,utm_y:2627636.5,j:113.314446,y:1109424,x:1095488},{w:23.149232,utm_x:12614967.71,utm_y:2632854.54,j:113.320698,y:1097472,x:1117104},{w:23.161511,utm_x:12625795.88,utm_y:2634636.77,j:113.417933,y:1120080,x:1158968},{w:23.054013,utm_x:12621159.7,utm_y:2621680.73,j:113.376321,y:1139368,x:1100160},{w:23.102329,utm_x:12615592.78,utm_y:2627465.63,j:113.326529,y:1113008,x:1099600},{w:23.157796,utm_x:12614835.69,utm_y:2634141.5,j:113.319548,y:1094680,x:1120184},{w:23.10168,utm_x:12615916.83,utm_y:2627431.58,j:113.329476,y:1113840,x:1100472},{w:23.052949,utm_x:12621921.69,utm_y:2621520.75,j:113.383634,y:1141696,x:1102400},{w:23.16984,utm_x:12615371.69,utm_y:2635071.49,j:113.323321,y:1092072,x:1126656},{w:23.165795,utm_x:12615724.69,utm_y:2635144.44,j:113.327858,y:1094416,x:1126464},{w:23.047114,utm_x:12625301.72,utm_y:2620822.85,j:113.413781,y:1151400,x:1111504},{w:23.058221,utm_x:12624297.72,utm_y:2622269.68,j:113.406091,y:1146280,x:1112808},{w:23.162946,utm_x:12615992.64,utm_y:2634781.47,j:113.32987,y:1095928,x:1126472},{w:23.131652,utm_x:12617445.82,utm_y:2630850.58,j:113.34781,y:1109704,x:1120224},{w:23.164592,utm_x:12628647.8,utm_y:2634975.66,j:113.443839,y:1125928,x:1170104},{w:22.897973,utm_x:12619753.72,utm_y:2602911.73,j:113.363799,y:1182328,x:1029584},{w:22.91342,utm_x:12619084.8,utm_y:2604649.77,j:113.358409,y:1176288,x:1034072},{w:23.041445,utm_x:12622824.73,utm_y:2620144.96,j:113.391638,y:1146944,x:1101088},{w:22.911422,utm_x:12618861.82,utm_y:2604513.75,j:113.355823,y:1176176,x:1032320},{w:22.913253,utm_x:12618701.85,utm_y:2604744.69,j:113.354494,y:1175344,x:1032528},{w:23.047505,utm_x:12623196.65,utm_y:2620877.94,j:113.394727,y:1146192,x:1104584},{w:22.916564,utm_x:12618925.83,utm_y:2605151.69,j:113.356326,y:1174784,x:1034592},{w:23.143776,utm_x:12621863.81,utm_y:2632561.8,j:113.382467,y:1115704,x:1138192},{w:23.16101,utm_x:12615824.66,utm_y:2634596.44,j:113.328648,y:1096008,x:1124968},{w:23.157781,utm_x:12625254.63,utm_y:2633635.66,j:113.415765,y:1120656,x:1156608},{w:23.055327,utm_x:12618046.62,utm_y:2621866.82,j:113.348608,y:1131448,x:1090144},{w:23.176605,utm_x:12618209.82,utm_y:2636353.93,j:113.346553,y:1096304,x:1138264},{w:23.034667,utm_x:12616684.61,utm_y:2619369.79,j:113.335978,y:1134856,x:1075648},{w:23.173918,utm_x:12624930.69,utm_y:2636110.49,j:113.409118,y:1114112,x:1160592},{w:23.163739,utm_x:12629759.78,utm_y:2634872.97,j:113.453828,y:1128809,x:1173544},{w:22.903723,utm_x:12617722.68,utm_y:2603620.62,j:113.345698,y:1175712,x:1025416},{w:22.902241,utm_x:12617344.63,utm_y:2603422.61,j:113.342302,y:1175256,x:1023385},{w:23.165636,utm_x:12628673.74,utm_y:2635093.4,j:113.443856,y:1125632,x:1170464},{w:23.16638,utm_x:12629756.78,utm_y:2635190.92,j:113.453801,y:1128036,x:1174564},{w:23.025854,utm_x:12617281.73,utm_y:2618249.86,j:113.341485,y:1138928,x:1074016},{w:23.151681,utm_x:12616005.67,utm_y:2633425.36,j:113.330274,y:1099232,x:1121736},{w:23.105495,utm_x:12620314.67,utm_y:2627738.55,j:113.357412,y:1126616,x:1120696},{
w:23.177436,utm_x:12628753.78,utm_y:2636542,j:113.444755,y:1122408,x:1175744},{w:23.140416,utm_x:12612646.67,utm_y:2632201.41,j:113.313862,y:1098255,x:1110917},{w:23.179482,utm_x:12629671.84,utm_y:2636804.35,j:113.452894,y:1123976,x:1179736},{w:23.177588,utm_x:12628095.76,utm_y:2636552.11,j:113.438881,y:1120848,x:1173504},{w:23.100608,utm_x:12621347.72,utm_y:2627502.57,j:113.379735,y:1127784,x:1119024},{w:23.169516,utm_x:12630851.95,utm_y:2635556.43,j:113.46407,y:1129880,x:1179960},{w:23.138355,utm_x:12612410.67,utm_y:2631689.38,j:113.297836,y:1094600,x:1103856},{w:23.172195,utm_x:12626914.76,utm_y:2635887.03,j:113.428379,y:1119688,x:1167160},{w:23.111121,utm_x:12621821.73,utm_y:2627823.62,j:113.380687,y:1125208,x:1123312},{w:23.137749,utm_x:12611682.64,utm_y:2631708.39,j:113.287703,y:1092104,x:1099664},{w:23.030368,utm_x:12613876.77,utm_y:2618816.67,j:113.309964,y:1129232,x:1063976},{w:23.137716,utm_x:12610794.63,utm_y:2631704.42,j:113.284218,y:1091160,x:1098272},{w:23.132807,utm_x:12616323.71,utm_y:2631181.57,j:113.331622,y:1105064,x:1114560},{w:23.148416,utm_x:12611045.66,utm_y:2632660.38,j:113.28773,y:1088824,x:1104048},{w:22.899154,utm_x:12627053.69,utm_y:2603035.72,j:113.429088,y:1199568,x:1054960},{w:23.127839,utm_x:12602000.63,utm_y:2630587.6,j:113.204574,y:1072496,x:1064264},{w:22.890686,utm_x:12624340.47,utm_y:2601850.25,j:113.404751,y:1195632,x:1042016},{w:23.120776,utm_x:12601973.47,utm_y:2629673.52,j:113.204366,y:1074512,x:1061112},{w:23.112101,utm_x:12602072.43,utm_y:2628652.63,j:113.205264,y:1077224,x:1057936},{w:22.89262,utm_x:12623651.73,utm_y:2601998.62,j:113.397558,y:1193072,x:1040192},{w:23.100602,utm_x:12602951.31,utm_y:2627273.82,j:113.213006,y:1082617,x:1056217},{w:22.885237,utm_x:12622965.77,utm_y:2601335.7,j:113.392905,y:1194072,x:1035256},{w:23.097693,utm_x:12602668.33,utm_y:2626927.75,j:113.210572,y:1082888,x:1054184},{w:23.19685,utm_x:12625604.85,utm_y:2638731.64,j:113.417726,y:1109640,x:1173384},{w:23.089082,utm_x:12601588.41,utm_y:2625887.67,j:113.200763,y:1082663,x:1046823},{w:22.886743,utm_x:12621343.83,utm_y:2601552.54,j:113.378191,y:1188752,x:1030448},{w:23.080745,utm_x:12599941.42,utm_y:2624884.59,j:113.185968,y:1081307,x:1037530},{w:22.885228,utm_x:12620354.85,utm_y:2601374.62,j:113.369307,y:1187472,x:1026536},{w:22.880833,utm_x:12619024.79,utm_y:2600867.77,j:113.357378,y:1185600,x:1020312},{w:23.077827,utm_x:12599799.49,utm_y:2624533.52,j:113.184693,y:1081835,x:1035863},{w:22.88081,utm_x:12618383.81,utm_y:2600847.83,j:113.351637,y:1183929,x:1018132},{w:23.196761,utm_x:12627277,utm_y:2638812.92,j:113.432136,y:1113488,x:1179040},{w:23.065184,utm_x:12600798.37,utm_y:2623012.51,j:113.193666,y:1087857,x:1034117},{w:23.064569,utm_x:12601031.36,utm_y:2622938.52,j:113.195759,y:1088594,x:1034664},{w:23.06289,utm_x:12601697.39,utm_y:2622736.54,j:113.201742,y:1090624,x:1036265},{w:23.194146,utm_x:12629768.02,utm_y:2638377.98,j:113.450812,y:1119120,x:1184960},{w:23.185276,utm_x:12630408.12,utm_y:2637504.03,j:113.458969,y:1123832,x:1184416},{w:23.052332,utm_x:12603439.34,utm_y:2621466.5,j:113.217354,y:1097864,x:1037984},{w:22.903478,utm_x:12610263.63,utm_y:2603559.22,j:113.278513,y:1157856,x:999720},{w:23.17507,utm_x:12629920.09,utm_y:2636353.09,j:113.456094,y:1126096,x:1179088},{w:23.171805,utm_x:12630402.1,utm_y:2635946.02,j:113.457307,y:1127424,x:1178224},{w:23.16104,utm_x:12630520.1,utm_y:2634859.12,j:113.470997,y:1134222,x:1179549},{w:23.049098,utm_x:12603895.2,utm_y:2621073.52,j:113.221665,y:1100008,x:1038208},{w:23.048233,utm_x:12605258.21,utm_y:2620975.49,j:113.233343,y:1103432,x:1042352},{w:23.051967,utm_x:12605273.35,utm_y:2621422.59,j:113.234009,y:1102432,x:1044096},{w:23.059507,utm_x:12607214.22,utm_y:2622297.59,j:113.251372,y:1105016,x:1053816},{w:22.98974,utm_x:12608046.46,utm_y:2613947.3,j:113.258812,y:1127232,x:1027752},{w:23.056897,utm_x:12608070.17,utm_y:2622015.62,j:113.258989,y:1107867,x:1055540},{w:23.058992,utm_x:12608387.1,utm_y:2622292.65,j:113.261792,y:1107960,x:1057536},{w:23.168276,utm_x:12631819.11,utm_y:2635235.22,j:113.472471,y:1132499,x:1182515},{w:23.063208,utm_x:12610316.18,utm_y:2622762.77,j:113.278985,y:1111376,x:1065544},{w:23.049047,utm_x:12603870.15,utm_y:2621077.49,j:113.221045,y:1099928,x:1038096},{w:23.070174,utm_x:12611626.31,utm_y:2623612.81,j:113.290934,y:1112174,x:1073735},{w:23.072515,utm_x:12599940.2,utm_y:2623874.47,j:113.185813,y:1083624,x:1034048},{w:23.160486,utm_x:12630139.28,utm_y:2634581.39,j:113.453141,y:1129544,x:1171968},{w:23.089172,utm_x:12602835.2,utm_y:2625902.47,j:113.211747,y:1085616,x:1051016},{w:23.149605,utm_x:12629473.13,utm_y:2633019.46,j:113.444138,y:1130416,x:1163928},{w:23.068778,utm_x:12612495.39,utm_y:2623432.84,j:113.298705,y:1114544,x:1076224},{w:23.072036,utm_x:12612479.36,utm_y:2623780.87,j:113.298418,y:1113712,x:1077200},{w:23.105702,utm_x:12602286.06,utm_y:2627961.53,j:113.207039,y:1079600,x:1056040},{w:23.108461,utm_x:12602173.18,utm_y:2628264.54,j:113.206644,y:1078656,x:1056936},{w:23.109558,utm_x:12602117.18,utm_y:2628351.54,j:113.205513,y:1078045,x:1057007},{w:23.147712,utm_x:12629547.16,utm_y:2632807.6,j:113.452493,y:1133784,x:1167040},{w:23.120518,utm_x:12601942.19,utm_y:2629658.6,j:113.203788,y:1074e3,x:1061096},{w:23.130788,utm_x:12600979.26,utm_y:2630900.53,j:113.1952,y:1069152,x:1061856},{w:23.122272,utm_x:12630774.69,utm_y:2629657.64,j:113.466107,y:1144112,x:1161464},{w:23.120777,utm_x:12631844.71,utm_y:2629746.69,j:113.477857,y:1147880,x:1164984},{w:23.148958,utm_x:12599778.22,utm_y:2633097.58,j:113.184718,y:1061184,x:1065272},{w:23.161078,utm_x:12601982.15,utm_y:2634584.64,j:113.204192,y:1062824,x:1077824},{w:23.16151,utm_x:12602152.14,utm_y:2634603.66,j:113.205989,y:1062960,x:1078632},{w:22.997614,utm_x:12608096.22,utm_y:2614629.98,j:113.261307,y:1125680,x:1031928},{w:23.161618,utm_x:12602386.13,utm_y:2635013.58,j:113.20818,y:1063480,x:1079744},{w:23.166867,utm_x:12602653.08,utm_y:2635279.52,j:113.210229,y:1062560,x:1082576},{w:22.985046,utm_x:12607895.17,utm_y:2613374.89,j:113.257417,y:1128275,x:1025258},{w:23.170098,utm_x:12603981.92,utm_y:2635638.53,j:113.222264,y:1064759,x:1088430},{w:22.976138,utm_x:12608159.23,utm_y:2612303.95,j:113.259789,y:1131209,x:1022652},{w:23.188354,utm_x:12605971,utm_y:2637832.63,j:113.240096,y:1064360,x:1102728},{w:23.213109,utm_x:12606716.06,utm_y:2640805.6,j:113.246861,y:1058920,x:1115400},{w:22.970124,utm_x:12609222.23,utm_y:2611580.97,j:113.269338,y:1137856,x:1024016},{w:23.215135,utm_x:12606868.02,utm_y:2641061.65,j:113.24819,y:1058736,x:1116816},{w:23.221346,utm_x:12607295.93,utm_y:2641808.72,j:113.252035,y:1058096,x:1120992},{w:23.225099,utm_x:12607753.91,utm_y:2642254.84,j:113.256167,y:1058008,x:1123944},{w:23.231302,utm_x:12607996.92,utm_y:2643008.84,j:113.258331,y:1056828,x:1127325},{w:23.238781,utm_x:12608608.85,utm_y:2643922.72,j:113.263749,y:1056136,x:1132432},{w:23.236622,utm_x:12608896.95,utm_y:2644241.69,j:113.266983,y:1057804,x:1132656},{w:22.964992,utm_x:12609906.29,utm_y:2610964.05,j:113.275483,y:1139221,x:1023862},{w:23.241579,utm_x:12609178.92,utm_y:2644226.75,j:113.268769,y:1056688,x:1135360},{w:22.959269,utm_x:12609847.29,utm_y:2610248.1,j:113.27445,y:1140536,x:1021296},{w:22.94342,utm_x:12610777.27,utm_y:2608367.15,j:113.283199,y:1147536,x:1017984},{w:22.892974,utm_x:12612214.31,utm_y:2602353.17,j:113.295533,y:1165608,x:1001912},{w:22.890501,utm_x:12616072.35,utm_y:2602016.04,j:113.330873,y:1175544,x:1014168},{w:22.884249,utm_x:12614791.38,utm_y:2601260.97,j:113.319366,y:1174320,x:1007136},{w:22.893495,utm_x:12619644.41,utm_y:2602367.82,j:113.363141,y:1183336,x:1027544},{w:22.886086,utm_x:12619198.45,utm_y:2601481.66,j:113.358955,y:1184551,x:1023038},{w:22.906511,utm_x:12624244.51,utm_y:2603923.65,j:113.404104,y:1190824,x:1048376},{w:23.187178,utm_x:12599386.15,utm_y:2637687.05,j:113.180728,y:1048968,x:1079456},{w:23.164379,utm_x:12597203.04,utm_y:2635237.99,j:113.163776,y:1051048,x:1063520},{w:23.14548,utm_x:12594737.96,utm_y:2632674.95,j:113.139441,y:1049888,x:1046544},{w:23.132951,utm_x:12593590.02,utm_y:2631126.92,j:113.128949,y:1050736,x:1037368},{w:23.226627,utm_x:12604504.68,utm_y:2642441.77,j:113.226744,y:1049640,x:1113504},{w:23.126968,utm_x:12592787.06,utm_y:2630442.81,j:113.121628,y:1050480,x:1032192},{w:23.131089,utm_x:12592690.99,utm_y:2630765.73,j:113.120335,y:1048808,x:1033480},{w:23.241156,utm_x:12609223.67,utm_y:2644199.77,j:113.269602,y:1048936,x:1122864},{w:23.119706,utm_x:12591657.16,utm_y:2629538.85,j:113.114029,y:1050592,x:1026440},{w:23.197995,utm_x:12600611.57,utm_y:2639009.56,j:113.192455,y:1048776,x:1088312},{w:23.114704,utm_x:12592413.14,utm_y:2628954.81,j:113.118341,y:1053160,x:1025936},{w:23.114072,utm_x:12592046.22,utm_y:2628516.77,j:113.115826,y:1052608,x:1024584},{w:23.110981,utm_x:12591786.18,utm_y:2628545.77,j:113.115251,y:1053352,x:1023200},{w:23.103354,utm_x:12590426.06,utm_y:2627604.98,j:113.100491,y:1051715,x:1014396},{w:23.167057,utm_x:12597075.36,utm_y:2635400.4,j:113.161372,y:1049656,x:1063696},{w:23.069126,utm_x:12591111.13,utm_y:2623478.79,j:113.106609,y:1063264,x:1002728},{w:22.897089,utm_x:12639339.71,utm_y:2602851.65,j:113.542292,y:1230504,x:1097168},{w:23.065321,utm_x:12587662.3,utm_y:2623036.93,j:113.075556,y:1056192,x:989360},{w:22.925486,utm_x:12644755.68,utm_y:2605883.75,j:113.590154,y:1234946,x:1127472},{w:23.052194,utm_x:12587917.34,utm_y:2621437.87,j:113.077883,y:1060600,x:984856},{w:22.947751,utm_x:12647603.71,utm_y:2609115.7,j:113.616205,y:1235624,x:1146168},{w:23.13547,utm_x:12592974.3,utm_y:2631374.02,j:113.127945,y:1049720,x:1038144},{w:23.044903,utm_x:12591261.3,utm_y:2620572.91,j:113.107994,y:1070777,x:993255},{w:23.122517,utm_x:12591664.28,utm_y:2630051.06,j:113.113015,y:1049328,x:1027136},{w:22.972509,utm_x:12648275.64,utm_y:2610323.71,j:113.622169,y:1230030,x:1158913},{w:23.042384,utm_x:12589030.32,utm_y:2620225.9,j:113.087881,y:1066120,x:984600},{w:22.976967,utm_x:12651859.73,utm_y:2612299.5,j:113.650088,y:1236240,x:1171272},{w:23.028523,utm_x:12591376.29,utm_y:2618546.79,j:113.108919,y:1075760,x:986840},{w:23.118962,utm_x:12591413.25,utm_y:2629495.29,j:113.110581,y:1049288,x:1024056},{w:23.017314,utm_x:12592125.26,utm_y:2617282.85,j:113.115324,y:1080632,x:984672},{w:23.007468,utm_x:12593669.17,utm_y:2616089.84,j:113.129984,y:1083232,x:984744},{w:22.988595,utm_x:12653059.65,utm_y:2613789.56,j:113.663132,y:1236360,x:1180984},{w:22.996671,utm_x:12653660.78,utm_y:2614752.63,j:113.668532,y:1235112,x:1188072},{w:22.881859,utm_x:12636466.74,utm_y:2601317.8,j:113.515622,y:1227792,x:1080680},{w:23.058541,utm_x:12587089.11,utm_y:2622277.38,j:113.075977,y:1058184,x:986656},{w:22.851556,utm_x:12633866.74,utm_y:2597245.8,j:113.491763,y:1230208,x:1059424},{w:22.821746,utm_x:12632146.72,utm_y:2593333.81,j:113.473402,y:1232464,x:1040534},{w:22.806555,utm_x:12629682.75,utm_y:2591365.87,j:113.458633,y:1234320,x:1028288},{w:22.793711,utm_x:12625919.78,utm_y:2590459.78,j:113.417393,y:1227169,x:1007205},{w:23.242408,utm_x:12608866.67,utm_y:2644318.67,j:113.265677,y:1055504,x:1134536},{w:23.247838,utm_x:12608764.59,utm_y:2644948.68,j:113.265407,y:1053728,x:1136736},{w:23.271122,utm_x:12609802.65,utm_y:2647850.7,j:113.27468,y:1049616,x:1149808},{w:23.006892,utm_x:12654330.82,utm_y:2615305.6,j:113.684864,y:1236792,x:1196944},{w:23.033044,utm_x:12590351.14,utm_y:2619138.51,j:113.100393,y:1070448,x:983216},{w:23.024729,utm_x:12590848.08,utm_y:2618146.43,j:113.108262,y:1076704,x:985112},{w:23.019822,utm_x:12591303.27,utm_y:2617404.43,j:113.112252,y:1079208,x:984544},{w:23.247523,utm_x:12608814.9,utm_y:2644982.77,j:113.264745,y:1053848,x:1136360},{w:22.854236,utm_x:12634745.84,utm_y:2597831.69,j:113.498295,y:1231072,x:1062992},{w:23.247398,utm_x:12608951.94,utm_y:2644943.74,j:113.26921,y:1055048,x:1137968},{w:23.253508,utm_x:12609011.94,utm_y:2645683.77,j:113.267377,y:1050840,x:1142616},{w:22.774552,utm_x:12624765.71,utm_y:2587955.73,j:113.406451,y:1229776,x:995032},{w:23.04539,utm_x:12588415.39,utm_y:2620475.48,j:113.082357,y:1063712,x:983688},{w:22.814,utm_x:12617885.65,utm_y:2592467.72,j:113.346695,y:1202240,x:988896},{w:23.30342,utm_x:12613629.64,utm_y:2651993.81,j:113.313422,y:1050464,x:1177936},{w:23.179834,utm_x:12634772.78,utm_y:2636846.73,j:113.498393,y:1136320,x:1197344},{w:23.020596,utm_x:12656636.94,utm_y:2617965.56,j:113.687973,y:1233608,x:1203728},{w:23.274591,utm_x:12612978.63,utm_y:2648207.82,j:113.302974,y:1056176,x:1161928},{w:23.197398,utm_x:12635303.78,utm_y:2638749.58,j:113.497342,y:1130832,x:1204032},{w:23.026666,utm_x:12657708.96,utm_y:2618219.55,j:113.698537,y:1234589,x:1210270},{w:23.281438,utm_x:12610736.63,utm_y:2649036.81,j:113.282906,y:1048824,x:1157144},{w:23.21589,utm_x:12633916.83,utm_y:2641128.61,j:113.490668,y:1123752,x:1209200},{w:23.029061,utm_x:12656171.96,utm_y:2618667.54,j:113.69109,y:1231915,x:1208395},{w:23.335171,utm_x:12620227.73,utm_y:2655584.81,j:113.365219,y:1055088,x:1210504},{w:23.033011,utm_x:12656703.96,utm_y:2619142.6,j:113.695869,y:1231988,x:1211832},{w:23.281653,utm_x:12611153.64,utm_y:2649082.72,j:113.286652,y:1049776,x:1158664},{w:23.284649,utm_x:12611210.64,utm_y:2649435.78,j:113.2872,y:1049043,x:1160083},{w:23.033677,utm_x:12656518.05,utm_y:2619662.65,j:113.686509,y:1229344,x:1208608},{w:23.32904,utm_x:12620293.74,utm_y:2655245.72,j:113.366602,y:1057120,x:1208424},{w:23.030275,utm_x:12654954.11,utm_y:2618957.5,j:113.677994,y:1228136,x:1203832},{w:23.287696,utm_x:12611810.55,utm_y:2649790.89,j:113.292589,y:1049608,x:1163400},{w:23.3416,utm_x:12619440.8,utm_y:2656299.78,j:113.361132,y:1052120,x:1211584},{w:23.288229,utm_x:12612320.62,utm_y:2649871.15,j:113.297171,y:1050672,x:1165336},{w:23.067465,utm_x:12585645.62,utm_y:2623422.85,j:113.0578,y:1050832,x:983496},{w:23.042938,utm_x:12654699.07,utm_y:2620336.56,j:113.677859,y:1224378,x:1209003},{w:23.289821,utm_x:12612873.55,utm_y:2650099.02,j:113.300701,y:1051136,x:1167408},{w:23.315,utm_x:12622061.85,utm_y:2653105.51,j:113.384785,y:1066224,x:1209544},{w:23.044252,utm_x:12655359.98,utm_y:2620494.61,j:113.683796,y:1225548,x:1211865},{w:23.293809,utm_x:12620980.81,utm_y:2650531.63,j:113.375182,y:1069800,x:1197080},{w:23.069958,utm_x:12585703.73,utm_y:2624069.85,j:113.058349,y:1050192,x:984712},{w:23.047569,utm_x:12655032.92,utm_y:2620725.55,j:113.681074,y:1223872,x:1212120},{w:23.294173,utm_x:12612001.35,utm_y:2650583.45,j:113.294303,y:1048999,x:1167334},{w:23.304316,utm_x:12624276.79,utm_y:2651865.82,j:113.403316,y:1074408,x:1211864},{w:23.081246,utm_x:12586484.75,utm_y:2624980.84,j:113.068212,y:1049960,x:992688},{w:23.284248,utm_x:12611717.37,utm_y:2649387.46,j:113.291752,y:1050384,x:1161632},{w:23.296783,utm_x:12624761.71,utm_y:2651165.99,j:113.408391,y:1078056,x:1210832},{w:23.049806,utm_x:12654219.84,utm_y:2621162.66,j:113.673554,y:1221210,x:1210278},{w:23.278315,utm_x:12610798.42,utm_y:2648640.51,j:113.282599,y:1049632,x:1155776},{w:23.280987,utm_x:12611195.39,utm_y:2648826.55,j:113.290548,y:1051052,x:1159857},{w:23.167897,utm_x:12637865.93,utm_y:2635373.55,j:113.526035,y:1147296,x:1202856},{w:23.151375,utm_x:12639328.91,utm_y:2633284.52,j:113.535943,y:1154920,x:1199816},{w:23.059325,utm_x:12653942.76,utm_y:2622307.69,j:113.671065,y:1217547,x:1212005},{w:23.130273,utm_x:12642780.97,utm_y:2630844.56,j:113.567959,y:1169416,x:1203384},{w:23.063173,utm_x:12653141.7,utm_y:2622770.59,j:113.663869,y:1214758,x:1212006},{w:22.769387,utm_x:12631949.68,utm_y:2587467.79,j:113.4735,y:1233634,x:993870},{w:23.116131,utm_x:12644049.02,utm_y:2629102.6,j:113.581542,y:1177504,x:1202952},{w:23.065917,utm_x:12652444.72,utm_y:2623092.63,j:113.6575,y:1212352,x:1210696},{w:23.071137,utm_x:12651621.72,utm_y:2623728.66,j:113.650215,y:1208758,x:1210081},{w:23.080364,utm_x:12650863.74,utm_y:2624838.75,j:113.643406,y:1204276,x:1211238},{w:23.086272,utm_x:12649677.84,utm_y:2625577.6,j:113.632753,y:1199616,x:1209768},{w:23.081801,utm_x:12646342,utm_y:2624999.61,j:113.602679,y:1192776,x:1196528},{w:23.092389,utm_x:12649368.93,utm_y:2626285.57,j:113.629978,y:1197169,x:1211192},{w:23.265348,utm_x:12628240.7,utm_y:2647150.2,j:113.441116,y:1095768,x:1210392},{w:23.023235,utm_x:12656604.99,utm_y:2617986.84,j:113.695375,y:1216e3,x:1205776},{w:23.118216,utm_x:12645361.94,utm_y:2629401.53,j:113.592258,y:1179280,x:1207688},{w:23.255347,utm_x:12628370.61,utm_y:2645873.27,j:113.44099,y:1098832,x:1206312},{w:23.121407,utm_x:12646096.99,utm_y:2629805.54,j:113.600586,y:1180520,x:1212200},{w:23.135341,utm_x:12644325.87,utm_y:2631442.51,j:113.584676,y:1172208,x:1211960},{w:23.220622,utm_x:12633593.56,utm_y:2641886.53,j:113.489525,y:1121784,x:1210440},{w:23.140142,utm_x:12643817.81,utm_y:2632032.42,j:113.580112,y:1169613,x:1212061},{w:23.151955,utm_x:12642581.81,utm_y:2633454.37,j:113.569009,y:1164603,x:1210536},{w:23.220157,utm_x:12634050.64,utm_y:2641218.45,j:113.493846,y:1123208,x:1212144},{w:23.156856,utm_x:12640379.78,utm_y:2634044.36,j:113.549228,y:1156615,x:1207110},{w:23.173452,utm_x:12639436.78,utm_y:2636054.38,j:113.540829,y:1149528,x:1210728},{w:23.33294,utm_x:12618429.12,utm_y:2655255.84,j:113.352044,y:1052136,x:1204752},{w:23.328585,utm_x:12619353.08,utm_y:2654730.89,j:113.360344,y:1055617,x:1206027},{w:22.959698,utm_x:12598939.65,utm_y:2609959.73,j:113.178514,y:1114624,x:984808},{w:22.986999,utm_x:12595237.68,utm_y:2613609.69,j:113.143714,y:1097280,x:983200},{w:22.978149,utm_x:12596905.7,utm_y:2611885.71,j:113.159057,y:1104080,x:984952},{w:22.959998,utm_x:12599023.69,utm_y:2609991.71,j:113.177688,y:1114408,x:984664},{w:22.922456,utm_x:12603291.62,utm_y:2605859.6,j:113.217052,y:1135704,x:984376},{w:23.328335,utm_x:12617106.74,utm_y:2654700.75,j:113.340165,y:1050344,x:1198336},{w:23.298947,utm_x:12613187.69,utm_y:2651586.7,j:113.304673,y:1049592,x:1172656},{w:23.323465,utm_x:12616465.75,utm_y:2654113.74,j:113.334407,y:1050246,x:1194139},{w:22.886543,utm_x:12608146.54,utm_y:2600700.67,j:113.259567,y:1157680,x:985576},{w:23.307328,utm_x:12615963.7,utm_y:2652452.75,j:113.329681,y:1053632,x:1185656},{w:22.865699,utm_x:12610322.52,utm_y:2598588.64,j:113.280408,y:1169528,x:984888},{w:23.300889,utm_x:12615354.66,utm_y:2651392.8,j:113.324426,y:1054152,x:1180944},{w:23.301495,utm_x:12618338.72,utm_y:2651469.8,j:113.350334,y:1060888,x:1191032},{w:23.3097,utm_x:12615292.77,utm_y:2652454.68,j:113.32387,y:1051417,x:1184410},{w:22.850306,utm_x:12612676.51,utm_y:2596291.7,j:113.29638,y:1178232,x:984536},{w:22.813343,utm_x:12616662.46,utm_y:2592516.83,j:113.338977,y:1200408,x:985648}],sh:[{j:121.524411,w:31.245875,utm_x:13528182.75,utm_y:3642354.51,x:1086581,y:1065728},{j:121.419229,w:31.244887,utm_x:13516473.81,utm_y:3642226.51,x:1032616,y:1029148},{j:121.405637,w:31.237871,utm_x:13514960.74,utm_y:3641317.54,x:1022724,y:1027244},{j:121.415348,w:31.222879,utm_x:13516041.78,utm_y:3639375.47,x:1018548,y:1036980},{j:121.422561,w:31.224261,utm_x:13516844.73,utm_y:3639554.48,x:1022976,y:1038908},{j:121.412581,w:31.204148,utm_x:13515733.75,utm_y:3636949.48,x:1006568,y:1043696},{j:121.443025,w:31.206202,utm_x:13519122.8,utm_y:3637215.49,x:1022656,y:1053704},{j:121.524061,w:31.246917,utm_x:13528143.79,utm_y:3642489.52,x:1082052,y:1064124},{j:121.529343,w:31.217769,utm_x:13528731.78,utm_y:3638713.59,x:1072696,y:1079064},{j:121.530268,w:31.210341,utm_x:13528834.75,utm_y:3637751.53,x:1068748,y:1082416},{j:121.511601,w:31.227303,utm_x:13526756.73,utm_y:3639948.53,x:1069276,y:1068716},{j:121.4966,w:31.243614,utm_x:13525086.81,utm_y:3642061.58,x:1071220,y:1056805},{j:121.485021,w:31.26138,utm_x:13523797.82,utm_y:3644363.54,x:1075708,y:1045540},{j:121.465114,w:31.278803,utm_x:13521581.76,utm_y:3646621.48,x:1073740,y:1031268},{j:121.454784,w:31.266566,utm_x:13520431.82,utm_y:3645035.58,x:1063591,y:1033191},{j:121.46851,w:31.24951,utm_x:13521959.81,utm_y:3642825.48,x:1060200,y:1044520},{j:121.446384,w:31.248422,utm_x:13519496.73,utm_y:3642684.51,x:1048784,y:1037750},{j:121.509499,w:31.246469,utm_x:13526522.73,utm_y:3642431.47,x:1079309,y:1060105},{j:121.481643,w:31.283943,utm_x:13523421.78,utm_y:3647287.68,x:1087096,y:1035304},{j:121.508054,w:31.280609,utm_x:13526361.87,utm_y:3646855.56,x:1098432,y:1045648},{j:121.493854,w:31.19121,utm_x:13524781.12,utm_y:3635274.07,x:1039624,y:1077288},{j:121.500079,w:31.185541,utm_x:13525474.09,utm_y:3634540.04,x:1039960,y:1081640},{j:121.484482,w:31.202846,utm_x:13523737.82,utm_y:3636780.87,x:1041388,y:1069232},{j:121.480877,w:31.189587,utm_x:13523336.51,utm_y:3635063.92,x:1032484,y:1073640},{j:121.502652,w:31.195209,utm_x:13525760.52,utm_y:3635791.9,x:1046384,y:1078728}]},getLnglatIndex:function(t,e,i){for(var n=0,o=0,a=1e7,r=1e9,s=0;s<this.correct_pts[t].length;s++){var l=this.getDis(this.correct_pts[t][s].x,this.correct_pts[t][s].y,e,i);l<r&&(l<a?(r=a,a=l,o=n,n=s):(sedMinDis=l,o=s))}return{lt:n,rb:o}},getOMapIndex_mm:function(t,e,i){for(var n=0,o=0,a=1294723e3,r=1294723e3,s=0;s<this.correct_pts[t].length;s++){var l=this.getDis(this.correct_pts[t][s].utm_x,this.correct_pts[t][s].utm_y,e,i);l<r&&(l<a?(r=a,a=l,o=n,n=s):(sedMinDis=l,o=s))}return{lt:n,rb:o}},getDis:function(t,e,i,n){return Math.abs(t-i)+Math.abs(e-n)},toMap:function(t,e,i){return{x:(e-i)*this.num[t].num,y:(e+i)*this.num[t].num*this.num[t].num2}},fromMap:function(t,e,i){return i/=this.num[t].num2,{x:(e+i)/(2*this.num[t].num),y:(i-e)/(2*this.num[t].num)}},getDgPix_mm:function(t,e,i){var n=this.fromMap(t,this.correct_pts[t][e].x,this.correct_pts[t][e].y),o=this.fromMap(t,this.correct_pts[t][i].x,this.correct_pts[t][i].y),a=n.x,r=n.y,s=o.x,l=o.y,h=this.correct_pts[t][e].utm_x,c=this.correct_pts[t][e].utm_y,d=this.correct_pts[t][i].utm_x,u=this.correct_pts[t][i].utm_y,p=Math.abs(1e5*(d-h)/(s-a)),_=Math.abs(1e5*(u-c)/(l-r));return{j:p,w:_,x:1e5/p,y:1e5/_}},getPx_mm:function(t,e,i,n,o){var a=this.correct_pts[t][n],r=this.correct_pts[t][n],s=this.getDgPix_mm(t,n,o),l=this.fromMap(t,a.x,a.y),h=r.utm_x,c=r.utm_y,d=e,u=i,p=l.x,_=l.y,g=d-h,m=u-c,f=g*s.x+p,v=-m*s.y+_;return this.toMap(t,f,v)},getJw_mm:function(t,e,i,n,o){var a=this.correct_pts[t][n],r=this.correct_pts[t][n],s=this.getDgPix_mm(t,n,o),l=this.fromMap(t,e,i),h=this.fromMap(t,a.x,a.y),c=r.utm_x,d=r.utm_y,u=h.x,p=h.y,_=l.x-u,g=p-l.y;return{lng:_/s.x+c,lat:g/s.y+d}},getOMap_pts:function(t,e){return this.getOMap_index(t,e.lng,e.lat,e.lt,e.rb)},getMapJw_pts:function(t,e){return this.getMapJw_index(t,e.lng,9998336-e.lat,e.lt,e.rb)},getOMap_index:function(t,e,i,n,o){if(n&&o)var a={lt:n,rb:o};else var a=this.getOMapIndex_mm(t,e,i);var r=this.getPx_mm(t,e,i,a.lt,a.rb);return{x:Math.floor(r.x),y:9998336-Math.floor(r.y),lt:a.lt,rb:a.rb}},getMapJw_index:function(t,e,i,n,o){if(n&&o)var a={lt:n,rb:o};else var a=this.getLnglatIndex(t,e,i);var r=this.getJw_mm(t,e,i,a.lt,a.rb);return{lng:r.lng,lat:r.lat,lt:a.lt,rb:a.rb}}}),window._coordtrans=2,window._convertor=1,baidu.extend(Convertor.prototype,{_asyncConvertor:function(){for(var t=0,e=this._queryList.length;t<e;t++){var i=this._queryList[t];this[i.method].apply(this,i.arguments)}delete this._queryList},translate:function(t,e,i,n){if(e=e||1,i=i||5,t.length>100)return void(n&&n({status:25,message:"最多一次转100个"}));var o=BMap.searchUrl+"/search/v1/geoconv?coords=";baidu.each(t,function(t,e){o+=t.lng+","+t.lat+";"}),o=o.replace(/;$/gi,""),o=o+"&from="+e+"&to="+i,DataMgr.ajax({url:o,success:function(t){if(0===t.status){var e=[];baidu.each(t.result,function(t,i){e.push(new BMap.Point(t.x,t.y))}),delete t.result,t.points=e}n&&n(t)}})}}),window._convertor=2,window._pservice=1,PanoramaService.SERVICE_DOMAIN=BMap.getServerUrl("pano")[0],PanoramaService.SERVICE_URL=PanoramaService.SERVICE_DOMAIN,PanoramaService.BAIDU_MAP_PHPUI=BMap.getServerUrl("baidumap"),PanoramaService.PHPUI_BASE_URL=BMap.getServerUrl("main_domain_nocdn"),PanoramaService._mercatorProjection=new MercatorProjection,PanoramaService._panoCityCodeList=[],baidu.extend(PanoramaService.prototype,{_checkStatus:function(){var t=this;for(var e in this._asynMethodAndArgsMath)if(0!==this._asynMethodAndArgsMath[e].length)switch(e){case"getPanoramaById":baidu.each(this._asynMethodAndArgsMath[e],function(e){t.getPanoramaById.apply(t,e)});break;case"getPanoramaByLocation":baidu.each(this._asynMethodAndArgsMath[e],function(e){t.getPanoramaByLocation.apply(t,e)});break;case"getVisiblePOIs":baidu.each(this._asynMethodAndArgsMath[e],function(e){t.getVisiblePOIs.apply(t,e)});break;case"getRecommendPanosById":baidu.each(this._asynMethodAndArgsMath[e],function(e){t.getRecommendPanosById.apply(t,e)});break;case"getPanoramaVersions":baidu.each(this._asynMethodAndArgsMath[e],function(e){t.getPanoramaVersions.apply(t,e)});break;case"checkPanoSupportByCityCode":baidu.each(this._asynMethodAndArgsMath[e],function(e){t.checkPanoSupportByCityCode.apply(t,e)});break;case"getPanoramaByPOIId":baidu.each(this._asynMethodAndArgsMath[e],function(e){t.getPanoramaByPOIId.apply(t,e)});break;case"getCopyrightProviders":baidu.each(this._asynMethodAndArgsMath[e],function(e){t.getCopyrightDataByPanoId.apply(t,e)})}},getPanoramaById:function(t,e,i){map.config.enableWheelZoom&&(map.config.enableWheelZoomLast=map.config.enableWheelZoom,map.disableScrollWheelZoom()),"BD09"===BMap.tileType?this._getDataByUrl(PanoramaService.SERVICE_URL+"scape?qt=sdata&sid="+t,e,i):this._getDataByUrl(PanoramaService.SERVICE_URL+"panorama/si?qt=sdata&sid="+t,e,i)},getPanoramaByLocation:function(t,e,i){"function"==typeof e&&(i=e,e=300);var n=PanoramaService._mercatorProjection.lngLatToPoint(t);if("BD09"===BMap.tileType)var o=PanoramaService.SERVICE_URL+"scape?qt=qsdata&x="+n.x+"&y="+n.y+"&r="+e+"&action=1&coord_type="+BMap.coordReturn[BMap.tileDir];else var o=PanoramaService.SERVICE_URL+"panorama/qsi?qt=qsdata&x="+n.x+"&y="+n.y+"&r="+e+"&action=1&fn=&coord_type="+BMap.coordReturn[BMap.tileDir];this._getDataByUrl(o,i)},getVisiblePOIs:function(t,e,i,n){function o(t){for(var e=[],i=null,n=t.length-1;n>=0;n--)i=t[n],e.push({iconType:i.Type,title:i.name,altitude:i.Height,panoInfo:{panoId:i.PID,panoIId:i.IID,heading:i.Dir,pitch:i.Pitch},position:PanoramaService._mercatorProjection.pointToLngLat(new Pixel(i.X,i.Y))});return e}var a=PanoramaService._mercatorProjection.lngLatToPoint(t),r=PanoramaService.SERVICE_URL+"qt=search&x="+a.x+"&y="+a.y+"&radius="+e+"&tag="+i+"&fn=";this._request(r,function(t){var e=o(t.content);n(e)})},getRecommendPanosById:function(t,e){function i(t){for(var e=[],i=null,n=0,o=t.length;n<o;n++)i=t[n],e.push({panoId:i.PID,heading:i.Dir,name:i.Info,recoType:i.Type,pitch:i.Pitch,catlog:i.Catalog,floor:i.Floor});return e}var n=PanoramaService.SERVICE_URL+"qt=guide&sid="+t+"&fn=";this._request(n,function(t){if(t.content){var n=i(t.content);e(n)}})},getCopyrightProviders:function(t){var e=PanoramaService.BAIDU_MAP_PHPUI+"?qt=panoCMS&file=pano_copyright&callback=";this._request(e,function(e){t(e)})},getPanoramaVersions:function(t){var e=PanoramaService.BAIDU_MAP_PHPUI+"?qt=pver&callback=";this._request(e,function(e){e?t&&t(e):t&&t(null)})},checkPanoSupportByCityCode:function(t,e){function i(t,e){for(var i=0,n=e.length;i<n;i++)if(e[i]==t)return!0;return!1}if(0===PanoramaService._panoCityCodeList.length){var n=PanoramaService.PHPUI_BASE_URL+"?qt=panoCityList&t="+(new Date).getTime()+"&callback=";this._request(n,function(n){if(n){PanoramaService._panoCityCodeList=n;var o=i(t,PanoramaService._panoCityCodeList);e(o)}else e(!1)})}else{var o=i(t,PanoramaService._panoCityCodeList);e(o)}},getPanoramaByPOIId:function(t,e){var i=this;this.getPanoramaVersions(function(n){if(n&&n.panoUdt){var o=n.panoUdt.version,a=PanoramaService.SERVICE_URL+"qt=poi&udt="+o+"&uid="+t+"&fn=";i._request(a,function(t){if(t&&t.content&&t.content[0]&&t.content[0].poiinfo){var n=t.content[0].poiinfo,o={id:n.IID||n.PID,pid:n.PID,type:1==n.hasinter?BMAP_PANORAMA_INDOOR_SCENE:BMAP_PANORAMA_STREET_SCENE,description:n.name,links:null,position:PanoramaService._mercatorProjection.pointToLngLat(new Pixel(n.X,n.Y)),tiles:null,pov:1==n.hasinter?null:{heading:n.Dir,pitch:n.Pitch}};o.type===BMAP_PANORAMA_INDOOR_SCENE?i._getPanoinfoByIID(n.IID,function(t){if(t){for(var i=t.Defaultfloor,n=null,a=0,r=t.Floors.length;a<r;a++)if(t.Floors[a].Floor===i){n=t.Floors[a];break}n&&(o.interID=n.StartID)}e(o)}):e(o)}else e(null)})}})},_getDataByUrl:function(t,e,i){var n=this;this._request(t,function(t){t&&t.result&&0==t.result.error?e&&e(n._makeData(t,i)):e&&e(null)})},_request:function(t,e){DataMgr.ajax({url:t,method:"GET",success:function(t){e(t)}})},_makeData:function(t,e){var i={},n=t.content[0];if(n){i.description=n.Rname||n.Info||"",i.id=n.ID,i.pointX=n.X/100,i.pointY=n.Y/100,i.position=PanoramaService._mercatorProjection.pointToLngLat(new Pixel(i.pointX,i.pointY));var o=this._makeLinksData(n,i.id,i.pointX,i.pointY,n.NorthDir);if(i.links=o[0],i.roads=o[1],i.links.sort(function(t,e){return t.refinedDir-e.refinedDir}),i.mode=n.Mode,i.relevants=[],n.SwitchID)for(var a=0;a<n.SwitchID.length;a++)i.relevants[a]={id:n.SwitchID[a].ID,mode:n.SwitchID[a].Time.toLowerCase()};var r=(180+n.NorthDir)%360;if(i.tiles=new PanoramaTileData({dirNorth:n.NorthDir,centerHeading:r,pitch:n.Pitch}),n.Enters&&n.Enters.length>0){i.indoorPois=[];for(var a=0,s=n.Enters.length;a<s;a++)i.indoorPois.push({panoIId:n.Enters[a].IID,panoId:n.Enters[a].BreakID,title:n.Enters[a].Name,pointX:n.Enters[a].X/100,pointY:n.Enters[a].Y/100})}var l=[],h=n.VPoint;if(h)for(var c=h.length,a=0;a<c;a++){var d={};d.PID=h[a].PID;var u=PanoramaService._mercatorProjection.pointToLngLat(new Pixel(h[a].X/100,h[a].Y/100));d.X=-(u.lat-i.position.lat)/180*Math.PI*6378137,d.Z=(u.lng-i.position.lng)/180*Math.PI*6378137,l.push(d)}return i.VPoint=l,n.Inters&&n.Inters.length>0&&(i.breakId=n.Inters[0].BreakID,i.breakIId=n.Inters[0].IID,i.heading=n.MoveDir,i.pitch=n.Pitch),e&&(i.breakId=e.breakId),i.copyright={},i.copyright.admission=n.Admission,i.copyright.dataProviderIndex=n.Provider,i.copyright.photoDate=n.Date,i.copyright.roadName=n.Rname,i.copyright.username=n.Username||"",i}},_makeLinksData:function(t,e,i,n,o){var a=[],r={};if(t.Links)for(var s=0;s<t.Links.length;s++)a.push({id:t.Links[s].PID,dir:t.Links[s].DIR,x:t.Links[s].X/100,y:t.Links[s].Y/100,heading:t.Links[s].DIR,refinedDir:this._getRefinedDir(t.Links[s].DIR,o)});if(!t.Roads)return[a,r];for(s=0;s<t.Roads.length;s++)if(t.Roads[s].Panos)for(var l=0;l<t.Roads[s].Panos.length;l++){var h=t.Roads[s].Width||0;if(t.Roads[s].Panos[l].PID==e){var c=t.Roads[s].Name;""==c&&(c=t.Rname||"未知");for(var d,u,p=null,_=null,g=l-1;g>=0;g--){t.Roads[s].Panos[g]&&null===p&&(p=t.Roads[s].Panos[g],d=(p.DIR+180)%360,r[d]=[]);var m=t.Roads[s].Panos[g];r[d]&&r[d].push({id:m.PID,x:m.X/100,y:m.Y/100,distanceToCurrent:this._getDistance(m.X/100,m.Y/100,i,n)})}for(p&&a.push({id:p.PID,dir:d,heading:d,description:c,roadWidth:h,x:p.X/100,y:p.Y/100,refinedDir:this._getRefinedDir(d,o)}),g=l+1;g<t.Roads[s].Panos.length;g++){t.Roads[s].Panos[g]&&null===_&&(_=t.Roads[s].Panos[g],u=_.DIR,0==u&&(u=t.Roads[s].Panos[l].DIR),r[u]=[]);var m=t.Roads[s].Panos[g];r[u]&&r[u].push({id:m.PID,x:m.X/100,y:m.Y/100,distanceToCurrent:this._getDistance(m.X/100,m.Y/100,i,n)})}null!=_&&a.push({id:_.PID,dir:u,heading:u,description:c,roadWidth:h,x:_.X/100,y:_.Y/100,refinedDir:this._getRefinedDir(u,o)})}for(var g=0;g<a.length;g++)t.Roads[s].Panos[l].PID==a[g].id&&(a[g].description=t.Roads[s].Name,""==a[g].description&&(a[g].description=t.Rname||"未知"))}for(var s=0;s<a.length;s++){var f=a[s].dir,v=!1;for(var y in r)if(y==f){v=!0;break}if(v)break;r[f]=[{id:a[s].id,x:a[s].x,y:a[s].y,distanceToCurrent:this._getDistance(a[s].x,a[s].y,i,n)}]}return[a,r]},_getRefinedDir:function(t,e){var i=t+e;return i>360&&(i%=360),i=Math.round(100*i)/100},_getDistance:function(t,e,i,n){return Math.round(Math.sqrt(Math.pow(t-i,2)+Math.pow(e-n,2)))},_getPanoinfoByIID:function(t,e){this._request(PanoramaService.SERVICE_URL+"qt=idata&l=17&iid="+t+"&fn=",function(t){e(t&&t.result&&0===t.result.error?t.content[0].interinfo:null)})}});var PanoramaServiceP=PanoramaService.prototype;exportSymbol(PanoramaServiceP,{getPanoramaById:PanoramaServiceP.getPanoramaById,getPanoramaByLocation:PanoramaServiceP.getPanoramaByLocation,getPanoramaByPOIId:PanoramaServiceP.getPanoramaByPOIId}),
PanoramaTileData.TILE_BASE_URLS="BD09"===BMap.tileType?BMap.getServerUrl("pano","scape/"):BMap.getServerUrl("pano","panorama/image"),PanoramaTileData.TILE_URL_TEMPLATE="?qt=pdata&sid={sid}&pos={y}_{x}&z={zoom}",baidu.extend(PanoramaTileData.prototype,{getTilesUrl:function(t,e,i){var n=(e.x+e.y)%PanoramaTileData.TILE_BASE_URLS.length;return PanoramaTileData.TILE_BASE_URLS[n]+PanoramaTileData.TILE_URL_TEMPLATE.replace("{sid}",t).replace("{x}",e.x).replace("{y}",e.y).replace("{zoom}",i)},getTotalRows:function(t){return Math.pow(2,t-2)},getTotalCols:function(t){return 2*this.getTotalRows(t)}}),window._pservice=2,window._panorama=1;var WebGLState={get:function(t,e){var i="inst_"+e;return WebGLState[i]||(WebGLState[i]=new WebGLStateSingleton(t)),WebGLState[i]}};baidu.extend(WebGLStateSingleton.prototype,{initAttribute:function(){for(var t=0,e=this._attributes.length;t<e;t++)this._attributes[t]=0},enableAttribute:function(t){this._attributes[t]=1,0===this._enabledAttributes[t]&&(this._gl.enableVertexAttribArray(t),this._enabledAttributes[t]=1)},disableUnusedAttributes:function(){for(var t=0,e=this._enabledAttributes.length;t<e;t++)this._enabledAttributes[t]!==this._attributes[t]&&(this._gl.disableVertexAttribArray(t),this._enabledAttributes[t]=0)}}),CachePool.prototype.setData=function(t,e){0!==this._size&&(this._removeOld(),this._cache[t]||this._cache.push(e),this._cache[t]=e,e._key_=t)},CachePool.prototype.getData=function(t){return this._cache[t]},CachePool.prototype._removeOld=function(){if(this._cache.length>this._size){for(var t=Math.round(.6*this._size),e=0;e<t;e++){var i=this._cache[e]._key_;this._options.clearCallback&&this._options.clearCallback(this._cache[i]),delete this._cache[i]}this._cache.splice(0,t)}},CachePool.prototype.clear=function(){for(var t=0;t<this._cache.length;t++){var e=this._cache[t]._key_;this._options.clearCallback&&this._options.clearCallback(this._cache[e]),delete this._cache[e]}this._cache=[]},ImagePool.prototype.getImage=function(){var t=null;for(var e in this._imageCollection)if(this._imageCollection[e]&&!0===this._imageCollection[e]._free)return this._imageCollection[e]._free=!1,this._imageCollection[e];t=new Image;var e=this.getGUID();return this._imageCollection[e]=t,t},ImagePool.prototype.freeImage=function(t){t&&(t._free=!0,t.src="")},ImagePool.prototype.getGUID=function(){return"img_"+ ++this._counter},ImagePool.prototype.clear=function(){for(var t in this._imageCollection)this._imageCollection[t]&&(this._imageCollection[t].onload=this._imageCollection[t].onerror=null);this._imageCollection={},this._counter=0},Panorama.TILE_MAX_ZOOM=5,Panorama.TILE_MIN_ZOOM=4,baidu.extend(Panorama.prototype,{_draw:function(){this._createDoms();for(var t=0;t<BMap._panoRegister.length;t++)BMap._panoRegister[t](this);null!=this._id?"inter"===this._panoType?this.setIid(this._id):this.dispatchEvent(new BaseEvent("onid_changed")):null!=this._position&&(this.dispatchEvent(new BaseEvent("onposition_changed")),this.dispatchEvent(new BaseEvent("onposition_changed_inner"))),this._opts.visible?this.show():this.hide(),null!=this._visiblePOIType&&this.dispatchEvent(new BaseEvent("onvisible_poi_type_changed"),{visiblePOIType:this._visiblePOIType});var e=null;for(var i in this._panoOverlays)e=this._panoOverlays[i],delete this._panoOverlays[i],this.addOverlay(e);this.hide()},setPanoramaPOIType:function(t){this._visiblePOIType=t||BMAP_PANORAMA_POI_NONE,this.dispatchEvent(new BaseEvent("onvisible_poi_type_changed"),{visiblePOIType:this._visiblePOIType})},addOverlay:function(t){var e=t.getOverlayId();this._panoOverlays[e]=t,this.dispatchEvent(new BaseEvent("onadd_overlay"),{overlay:t})},removeOverlay:function(t){var e=t.getOverlayId();delete this._panoOverlays[e],this.dispatchEvent(new BaseEvent("onremove_overlay"),{overlay:t})},_createInterExitBtn:function(t,e){var i=create("div"),n=i.style;return i.className="pano_m_indoor_exit",i.title=t,i.onclick=e,n.display="none",n.zIndex=Panorama.MIN_ZINDEX+1,i.innerHTML='<span style="float:right;margin-right:12px;">出口</span>',i},_createBtn:function(t,e){var i=create("div"),n=i.style;return n.position="absolute",n.zIndex=Panorama.MIN_ZINDEX+1,n.right=n.top="10px",n.width="17px",n.height="16px",n.background='url("'+MapConfig.imgPath+'st-close.png") no-repeat 50% 50%',isMobile()&&(n.right=n.top="0px",n.width="42.5px",n.height="40px",n.backgroundSize="25.5px 24px"),n.cursor="pointer",i.title=t,i.onclick=e,n.display="none",i},setId:function(t,e,i){"object"==typeof e&&(i=e,e=void 0),t!=this._id&&(this._lastId=this._id,this._lastPosition=this._position,this._id=t,this._iid=null,this._panoType=e||"street",i=i||{animation:!1},this._useAnimation=i.animation,"inter"===e?this.setIid(t):this.dispatchEvent(new BaseEvent("onid_changed")),this.setNextPanoOptions(i))},setNextPanoOptions:function(t){this._nextPanoOptions={id:this.getId(),pov:t.pov}},getNextPanoOptions:function(t,e){var i,n;if(this._nextPanoOptions&&t===this._nextPanoOptions.id){i={};for(var o=0;o<e.length;o++)n=e[o],i[n]=this._nextPanoOptions[n];this._nextPanoOptions=null}return i},setPosition:function(t,e){t.equals(this._position)||(this._lastId=this._id,this._lastPosition=this._position,this._position=t,this._id=null,this._streetId=null,e=e||{animation:!1},this._useAnimation=e.animation,this.dispatchEvent(new BaseEvent("onposition_changed_inner")))},setPov:function(t){var e={heading:this._pov.heading,pitch:this._pov.pitch},i=t.pitch,n=t.heading;n=this.degreeNormalized(n),i>this._maxPitch?i=this._maxPitch:i<this._minPitch&&(i=this._minPitch),this._pov.pitch=i,this._pov.heading=n,e.heading==this._pov.heading&&e.pitch==this._pov.pitch||(this._povChangedByUser=!0,this.dispatchEvent(new BaseEvent("onpov_changed")))},degreeNormalized:function(t){return t-360*Math.floor(t/360)},setPovWithAnimation:function(t){var e=this._pov,i=t.heading-e.heading,n=t.pitch-e.pitch,o=this;new Animation({fps:30,duration:200,transition:Transitions.easeInOutQuad,render:function(t){var a={heading:e.heading+t*i,pitch:e.pitch+t*n};o.setPov(a)},finish:function(){o.setPov(t)}})},setZoom:function(t,e){if(t!=this._zoom){if(t>Panorama.MAX_ZOOM&&(t=Panorama.MAX_ZOOM),t<Panorama.MIN_ZOOM&&(t=Panorama.MIN_ZOOM),t!=this._zoom){this._zoom=t;var i=new BaseEvent("onzoom_changed_inner");e=e||{},i.noAnimation=e.noAnimation||!1,this.dispatchEvent(i),useWebGL()&&!i.noAnimation||this.dispatchEvent(new BaseEvent("onzoom_changed"))}"cssRender"===this._getRenderType()&&this.setPov(this._pov)}},_setOverlays:function(){if(this._map){for(var t=this._map.getOverlays(),e=0;e<t.length;e++)(t[e]instanceof Marker||t[e]instanceof Label)&&t[e].point&&this._overlays.push(t[e]);this.dispatchEvent(new BaseEvent("onoverlay_changed"))}},hideOverlays:function(){this._overlayContainer.style.visibility="hidden"},showOverlays:function(){this.dispatchEvent(new BaseEvent("onoverlay_show")),this._overlayContainer.style.visibility="visible"},show:function(){this._opts.visible=!0,this._svContainer&&baidu.dom.show(this._svContainer),this._opts.closeControl&&this._closeBtn&&this._map&&this._map.getContainer()===this._container&&baidu.dom.show(this._closeBtn),this._navigationControl&&this._navigationControl.show(),this._setOverlays(),this.dispatchEvent(new BaseEvent("onvisible_changed"))},hide:function(){this._opts.visible=!1,this._svContainer&&baidu.dom.hide(this._svContainer),this._opts.closeControl&&this._closeBtn&&baidu.dom.hide(this._closeBtn),this._navigationControl&&this._navigationControl.hide(),this.dispatchEvent(new BaseEvent("onvisible_changed"))},setMap:function(t){this._map=t,this._setOverlays()},_createDoms:function(){var t=create("div"),e=t.style;e.overflow="hidden",e.position="absolute",e.zIndex=Panorama.MIN_ZINDEX,e.top=e.left="0px",e.height=e.width="100%",e.backgroundColor="#e5e3df",this._svContainer=t,this._tileContainer=this._createContainer("1"),this._linksContainer=this._createContainer("4"),this._overlayContainer=this._createContainer("5"),t.appendChild(this._tileContainer),t.appendChild(this._linksContainer),t.appendChild(this._overlayContainer),useWebGL()||(this._maskLayer=this._createContainer("3"),this._maskLayer.style.width=this._container.clientWidth+"px",this._maskLayer.style.height=this._container.clientHeight+"px",this._maskLayer.style.overflow="hidden",this._maskLayer.style.WebkitUserSelect="none",t.appendChild(this._maskLayer),useThumb()&&(this._thumbContainer=this._createThumbImg(),this._tileContainer.appendChild(this._thumbContainer),this._thumbContainer2=this._createThumbImg(),this._tileContainer.appendChild(this._thumbContainer2))),this._container.appendChild(t),"absolute"!=getCurrentStyle(this._container).position&&(this._container.style.position="relative")},_createContainer:function(t){var e=create("div"),i=e.style;return i.position="absolute",i.top=i.left="0",i.zIndex=t||"0",i.WebkitUserSelect="none",e},_createThumbImg:function(){var t=create("img");return thumbStyle=t.style,thumbStyle.position="absolute",thumbStyle.top=thumbStyle.left="0",thumbStyle.zIndex="1",thumbStyle.opacity="0",thumbStyle.transition=thumbStyle.WebkitTransition="opacity 300ms ease-out",t.onload=function(){this.style.visibility="",this.style.opacity="1"},t},getContainer:function(){return this._container},getContainerSize:function(){return new Size(this._container.clientWidth,this._container.clientHeight)},getRenderType:function(){return this._renderType},getTmpDataId:function(){return this._tmpDataId},setTmpDataId:function(t){this._tmpDataId=t},setIid:function(t){t!=this._iid&&(this._lastIid=this._iid,this._iid=t,this._id=null,this.dispatchEvent(new BaseEvent("oniid_changed")),this.dispatchEvent(new BaseEvent("onid_changed")),_addStat(STAT.PANORAMA_SET_ID_TO_PANORAMA,{type:this._opts.panoramaRenderer}))},clear:function(){this._data=null,this._id=null,this._position=null,this._links=[],this.dispatchEvent(new BaseEvent("onclear"))},exitInter:function(){var t=this._data.breakId;this._exitFromInterIId=this._data.breakIId,this.clear(),this._exitFromInter=!0,this.setId(t)}});var PanoramaP=Panorama.prototype;exportSymbol(PanoramaP,{setId:PanoramaP.setId,setPosition:PanoramaP.setPosition,setPov:PanoramaP.setPov,setZoom:PanoramaP.setZoom,show:PanoramaP.show,hide:PanoramaP.hide,setPanoramaPOIType:PanoramaP.setPanoramaPOIType,addOverlay:PanoramaP.addOverlay,removeOverlay:PanoramaP.removeOverlay,exitInter:PanoramaP.exitInter}),isDesktop()&&BMap.panoRegister(function(t){new PanoramaNavigationControl(t)}),baidu.extend(PanoramaNavigationControl.prototype,{_initialize:function(t){this._pano=t,this._zoomInEnabled=!0,this._zoomOutEnabled=!0,this._render(),this._bind()},_render:function(){baidu.browser.ie;this._container=create("div");var t=this._container.style;t.position="absolute",t.left="10px",t.top="10px",t.zIndex=Panorama.MIN_ZINDEX+1;var e=this._container;e.innerHTML=this._generateHtml();if(isDesktop()?(this._panBtnContainer=baidu.g(e.children[2]),this._panBtns=[baidu.g(this._panBtnContainer.children[0]),baidu.g(this._panBtnContainer.children[1]),baidu.g(this._panBtnContainer.children[2]),baidu.g(this._panBtnContainer.children[3])],isSvg()?this._svgDirGroup=baidu.g(e.children[1].childNodes[0]):isVml()&&(this._vmlDirGroup=baidu.g(e.children[1].childNodes[0])),this._zoomContainer=baidu.g(e.children[3])):isMobile()&&(this._zoomContainer=baidu.g(e.children[0])),this._btnZoomIn=baidu.g(this._zoomContainer.children[0]),this._btnZoomOut=baidu.g(this._zoomContainer.children[1]),baidu.browser.ie&&(this._panBtnContainer.style.background='url("'+MapConfig.imgPath+'blank.gif") repeat'),6==baidu.browser.ie&&this._rerenderForIE6(),isMobile()){this._zoomContainer.style.left=this._zoomContainer.style.top="0",this._zoomContainer.style.width="36px",this._zoomContainer.style.height="78px",this._btnZoomIn.style.width=this._btnZoomOut.style.width="33px",this._btnZoomIn.style.height=this._btnZoomOut.style.height="36px",this._btnZoomOut.style.top="37.5px"}this._pano.getZoom()==Panorama.MAX_ZOOM&&this._setZoomBtnEnabled("zoomIn",!1),this._pano.getZoom()==Panorama.MIN_ZOOM&&this._setZoomBtnEnabled("zoomOut",!1),this._pano.getContainer().appendChild(e)},_generateHtml:function(){var t=[];return isDesktop()&&(t.push(this._generatePanHtml()),t.push(this._generateDirHtml()),t.push(this._generatePanBtnHtml())),t.push(this._generateZoomContainerHtml()),t.join("")},_generateDirHtml:function(){return isSvg()?'<svg version="1.1" overflow="hidden" width="82px" height="82px" viewBox="0 0 82 82" style="position: absolute; top: 0px; left: 0px;"><g transform="rotate(0, 41, 41)"><rect x="33" y="1" width="14" height="12" rx="4" ry="4" stroke="#868685" stroke-width="1" fill="#f8f8f8"></rect><polyline points="37.5,9.5 37.5,3.5 42.5,9.5 42.5,3.5" stroke-linejoin="bevel" stroke-width="1.5" fill="#f2f4f6" stroke="#868685"></polyline></g></svg>':isVml()?'<div style="position:absolute;top:0;left:0;z-index:0"><v:group style="position:absolute;width:82px;height:82px; behavior:url(#default#VML);rotation:0" unselectable="on" coordsize="82,82" coordorigin="-41,-41"><v:roundrect style="width:14px;height:12px;top:-40px; behavior:url(#default#VML);left:-7px;z-index:2" fillcolor="#f8f8f8" arcsize ="19661f" coordsize="21600,21600" strokecolor="#868685" strokeweight="1pt"></v:roundrect><v:polyline style="behavior: url(#default#VML);z-index:3" fillcolor="#f2f4f6" points="-3,-31,-3,-37,3,-31,3,-37" strokeweight="1.2pt"><v:stroke style="behavior:url(#default#VML)" color="#868685" joinstyle="bevel"></v:stroke></v:polyline></v:group></div>':void 0},_generatePanHtml:function(){return'<div style="position:absolute;top:4px;left:4px;width:74px;height:74px;background:url('+MapConfig.imgPath+'st-navictrl.png) no-repeat;-webkit-user-select:none;overflow:hidden"><div></div></div>'},_generatePanBtnHtml:function(){return'<div style="position:absolute;top:0px;left:0;width:82px;height:82px;-webkit-user-select:none;cursor:'+MapConfig.defaultCursor+'"><div style="position:absolute;left:32px;top:13px;cursor:pointer;width:17px;height:17px;" title="向上平移"></div><div style="position:absolute;left:14px;top:32px;cursor:pointer;width:17px;height:17px;" title="向左平移"></div><div style="position:absolute;left:51px;top:32px;cursor:pointer;width:17px;height:17px;" title="向右平移"></div><div style="position:absolute;left:33px;top:51px;cursor:pointer;width:17px;height:17px;" title="向下平移"></div></div>'},_generateZoomContainerHtml:function(){var t="background-image:url('"+MapConfig.imgPath+"st-navictrl.png');background-repeat:no-repeat;background-position:-74px 0;";return isMobile()&&(t="background-image:url('"+MapConfig.imgPath+"st-navictrl-hd.png');background-repeat:no-repeat;background-position:0 0;background-size:180px 78px;"),'<div style="position:absolute;top:84px;left:30px;width:24px;height:52px;'+t+'-webkit-user-select:none;overflow:hidden"><div style="position:absolute;cursor:pointer;width:22px;height:24px;top:0;left:0;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)" title="放大一级"></div><div style="position:absolute;cursor:pointer;width:22px;height:24px;top:25px;left:0;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)" title="缩小一级"></div><div></div></div>'},_bind:function(){var t=this._pano,e=this;if(isDesktop()){baidu.on(this._panBtns[0],"click",function(){var e=t.getPov();t.setPovWithAnimation({heading:e.heading,pitch:e.pitch+30})}),baidu.on(this._panBtns[1],"click",function(){var e=t.getPov();t.setPovWithAnimation({heading:e.heading-45,pitch:e.pitch})}),baidu.on(this._panBtns[2],"click",function(){var e=t.getPov();t.setPovWithAnimation({heading:e.heading+45,pitch:e.pitch})}),baidu.on(this._panBtns[3],"click",function(){var e=t.getPov();t.setPovWithAnimation({heading:e.heading,pitch:e.pitch-30})});for(var i=0;i<this._panBtns.length;i++)baidu.on(this._panBtns[i],"mousedown",stopBubble);e._mousedown=!1,baidu.on(this._panBtnContainer,"mousedown",function(i){e._mousedown=!0,e._panBtnContainer.style.cursor=MapConfig.draggingCursor,baidu.browser.ie&&e._panBtnContainer.setCapture&&e._panBtnContainer.setCapture(),e._startHeading=e._calcAngle(i),e._curHeading=t.getPov().heading,baidu.browser.ie||preventDefault(i)}),baidu.on(document,"mousemove",function(i){e._mousedown&&t.setPov({heading:e._curHeading+360-(e._calcAngle(i)-e._startHeading),pitch:t.getPov().pitch})}),baidu.on(document,"mouseup",function(){e._mousedown&&(e._mousedown=!1,e._panBtnContainer.style.cursor=MapConfig.defaultCursor,baidu.browser.ie&&e._panBtnContainer.releaseCapture&&e._panBtnContainer.releaseCapture(),e._startHeading=null)}),t.addEventListener("position_changed",function(){var i=360-this.getPov().heading;isSvg()?e._svgDirGroup.setAttribute("transform","rotate("+i+", 41, 41)"):isVml()&&(e._vmlDirGroup.style.rotation=i),t.removeEventListener("position_changed",arguments.callee)}),t.addEventListener("pov_changed",function(){var t=360-this.getPov().heading;isSvg()?e._svgDirGroup.setAttribute("transform","rotate("+t+", 41, 41)"):isVml()&&(e._vmlDirGroup.style.rotation=t)}),t.addEventListener("navigation_visible_changed",function(){isDesktop()&&(t._opts.navigationControl?e.show():e.hide())}),t.addEventListener("visible_changed",function(){t.getVisible()&&t._opts.navigationControl?e.show():e.hide()})}baidu.on(this._container,"mousemove",function(){t.dispatchEvent(new BaseEvent("hide_ellipse"))}),baidu.on(this._container,"mouseout",function(){t.dispatchEvent(new BaseEvent("show_ellipse"))}),baidu.on(this._btnZoomIn,"click",function(){t.setZoom(t.getZoom()+1)}),baidu.on(this._btnZoomOut,"click",function(){t.setZoom(t.getZoom()-1)}),isDesktop()?(baidu.on(this._btnZoomIn,"mousedown",function(){e._redrawZoomBtn(e._zoomInEnabled,-98)}),baidu.on(this._btnZoomOut,"mousedown",function(){e._redrawZoomBtn(e._zoomOutEnabled,-122)}),baidu.on(this._btnZoomIn,"mouseup",function(){e._redrawZoomBtn(e._zoomInEnabled,-74)}),baidu.on(this._btnZoomOut,"mouseup",function(){e._redrawZoomBtn(e._zoomOutEnabled,-74)})):isMobile()&&(baidu.on(this._btnZoomIn,"touchstart",function(){e._redrawZoomBtn(e._zoomInEnabled,-98)}),baidu.on(this._btnZoomOut,"touchstart",function(){e._redrawZoomBtn(e._zoomOutEnabled,-122)}),baidu.on(this._btnZoomIn,"touchend",function(){e._redrawZoomBtn(e._zoomInEnabled,-74)}),baidu.on(this._btnZoomOut,"touchend",function(){e._redrawZoomBtn(e._zoomOutEnabled,-74)})),this._pano.addEventListener("zoom_changed_inner",function(){this.getZoom()==Panorama.MAX_ZOOM?e._setZoomBtnEnabled("zoomIn",!1):this.getZoom()==Panorama.MIN_ZOOM?e._setZoomBtnEnabled("zoomOut",!1):(e._setZoomBtnEnabled("zoomIn",!0),e._setZoomBtnEnabled("zoomOut",!0))})},_redrawZoomBtn:function(t,e){if(t)if(6==baidu.browser.ie)this._zoomContainer.children[2].style.left=e+"px";else{if(isMobile()){var i=(e+74)/24;e=36*i}this._zoomContainer.style.backgroundPosition=e+"px 0"}},_rerenderForIE6:function(){var t=this._container.children[0];t.style.background="",t.children[0].style.cssText+="position:absolute;left:0;top:0;width:98px;height:74px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+MapConfig.imgPath+"st-navictrl.png')",this._zoomContainer.style.background="",this._zoomContainer.children[2].style.cssText+="position:absolute;z-index:-1;left:-74px;top:0;width:98px;height:74px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+MapConfig.imgPath+"st-navictrl.png')"},show:function(){this._container.style.display=""},hide:function(){this._container.style.display="none"},_calcAngle:function(t){var t=window.event||t,e=t.pageX||t.clientX,i=t.pageY||t.clientY,n=getPosition(this._pano.getContainer());e=e-n.left-50,i=-(i-n.top-50);var o=Math.atan2(i,e)/Math.PI*180;return o<90?90-o:450-o},_setZoomBtnEnabled:function(t,e){var i=this._zoomContainer.children[2];if("zoomIn"==t)if(e)if(this._zoomInEnabled=!0,this._btnZoomIn.style.cursor="pointer",6==baidu.browser.ie)i.style.left="-74px";else{var n=-74;isMobile()&&(n=0),this._zoomContainer.style.backgroundPosition=n+"px 0"}else if(this._zoomInEnabled=!1,this._btnZoomIn.style.cursor="",6==baidu.browser.ie)i.style.left="-170px";else{var n=-170;isMobile()&&(n=-144),this._zoomContainer.style.backgroundPosition=n+"px 0"}if("zoomOut"==t)if(e)if(this._zoomOutEnabled=!0,this._btnZoomOut.style.cursor="pointer",6==baidu.browser.ie)i.style.left="-74px";else{var n=-74;isMobile()&&(n=0),this._zoomContainer.style.backgroundPosition=n+"px 0"}else if(this._zoomOutEnabled=!1,this._btnZoomOut.style.cursor="",6==baidu.browser.ie)i.style.left="-146px";else{var n=-146;isMobile()&&(n=-108),this._zoomContainer.style.backgroundPosition=n+"px 0"}}}),BMap.panoRegister(function(t){t._renderer=new PanoramaRenderer(t)}),baidu.lang.inherits(PanoramaRenderer,baidu.lang.Class,"PanoramaRenderer"),baidu.extend(PanoramaRenderer.prototype,{_bind:function(){var t=this._pano,e=this;t.addEventListener("links_visible_changed",function(i){!0===t._opts.linksControl?e._panoLinksRenderer.show():e._panoLinksRenderer.hide(),e._pano.dispatchEvent(new BaseEvent("onrefresh"))}),t.addEventListener("clickonroad_changed",function(i){!0===t._opts.clickOnRoad?e._panoLinksRenderer.enableClickOnRoad():e._panoLinksRenderer.disableClickOnRoad(),e._pano.dispatchEvent(new BaseEvent("onrefresh"))}),t.addEventListener("dataload",function(i){e._data=i.data,e._calcDisplayZoom(),e._setData(i.data),e.render(t.getPov(),e.getImageZoom(),e.getDisplayTileSize())}),t.addEventListener("pov_changed",function(i){e._data&&e.render(t.getPov(),e.getImageZoom(),e.getDisplayTileSize())}),t.addEventListener("clear",function(t){e._data=null,e._setData(null),e._panoTileRenderer.render(),e._panoLinksRenderer&&e._panoLinksRenderer.render()}),t.addEventListener("zoom_changed_inner",function(i){if(e._data){e._imgZoom;e._calcDisplayZoom(),e._setZoom(t.getPov(),e.getImageZoom(),e.getDisplayTileSize(),i.noAnimation)}}),t.addEventListener("size_changed",function(t){e._resize(t)}),t.addEventListener("dblclick",function(){var e=t.getZoom();e===Panorama.MAX_ZOOM?t.setZoom(1):t.setZoom(e+1),t.dispatchEvent(new BaseEvent("ondblclickzoomend"))}),t._containerSize=t.getContainerSize(),setInterval(function(){if(t.getId()){var i=t.getContainerSize();if(!i.equals(t._containerSize)){t._containerSize=i;var n=new BaseEvent("onsize_changed");n.preSize=t._containerSize,n.size=i,t.dispatchEvent(n);var o=e.getImageZoom();e._calcDisplayZoom(),o!=e.getImageZoom()&&e._panoTileRenderer.keepOldTiles&&e._panoTileRenderer.keepOldTiles(),e.render(t.getPov(),e.getImageZoom(),e.getDisplayTileSize())}}},80),useWebGL()&&t.addEventListener("refresh",function(){e._panoTileRenderer._startRenderThread()})},_resize:function(t){var e=this,i=e.getImageZoom();e._calcDisplayZoom(),i!=e.getImageZoom()&&e._panoTileRenderer.keepOldTiles&&e._panoTileRenderer.keepOldTiles(),e._panoTileRenderer.resize&&e._panoTileRenderer.resize(),e._panoLinksRenderer.resize&&e._panoLinksRenderer.resize();var n=e._pano;e.render(n.getPov(),e.getImageZoom(),e.getDisplayTileSize()),"cssRender"===n._getRenderType()&&n.setPov(n.getPov())},_setData:function(t){var e=this;t&&"number"==typeof t.heading&&!1===this._pano._povChangedByUser&&(this._pano._pov.heading=t.heading,this._pano._pov.pitch=t.pitch);var i=this._pano.getNextPanoOptions(t&&t.id,["pov"]);if(i&&i.pov&&(this._pano._pov.heading=i.pov.heading,this._pano._pov.pitch=i.pov.pitch),this._pano._exitFromInter&&t.indoorPois){for(var n=null,o=this._pano._exitFromInterIId,a=0,r=t.indoorPois.length;a<r;a++)o==t.indoorPois[a].panoIId&&(n=t.indoorPois[a]);if(n){var s=calcAngle(n.pointX-t.pointX,n.pointY-t.pointY);this._pano._pov.heading=s,this._pano._pov.pitch=0}this._pano._exitFromInter=!1,this._pano._exitFromInterPov=null}this._pano._povChangedByUser&&(this._pano._povChangedByUser=!1);e._pano.getSceneType();t&&t.breakId?(e._pano.setMaxZoom(4),e._pano.setTileMaxZoom(5),e._pano.setSceneType("inter")):(e._pano.setMaxZoom(3),e._pano.setTileMaxZoom(4),e._pano.setSceneType("street")),this._panoTileRenderer.setData(t,e.getSceneZoom(),e.getImageZoom()),this._panoLinksRenderer.setData(t)},_setZoom:function(t,e,i,n){var o=this;this._panoTileRenderer.setZoom(o.getSceneZoom(),o.getImageZoom(),{noAnimation:n,renderCallback:function(t){o._overlayRenderer._refreshRenderOverlays(t)}}),"cvsRender"!=this._pano.getRenderType()&&this._panoTileRenderer.render(t,e,i),this._panoLinksRenderer.render(t,e,i)},render:function(t,e,i){this._panoTileRenderer.render(t,e,i),this._panoLinksRenderer.render(t,e,i)},getImageZoom:function(){return this._imgZoom},getSceneZoom:function(){return this._pano.getZoom()},getDisplayTileSize:function(){return this._tileSize},_calcDisplayZoom:function(){var t=calcDisplayZoom(this._pano.getContainerSize(),this._pano.getZoom());this._tileSize=t.displayTileSize,this._imgZoom=t.imgZoom}}),BMap.panoRegister(function(t){var e=new PanoramaOperation(t);t.addEventListener("dataload",function(t){e._data=t.data,e._initialize()}),t.addEventListener("zoom_changed_inner",function(){e.dragAni&&(e.dragAni.stop(),e.dragAni=null)})}),PanoramaOperation.prototype._initialize=function(){function t(t,e){w._renderer._panoTileRenderer._moving||(g=!0,T.dragAni&&T.dragAni.stop(),l=t,h=e,u=w.getPov().heading,p=w.getPov().pitch,w.dispatchEvent(new BaseEvent("ontouchstart")))}function e(t,e){g&&(w._showCover&&isMobile()||(b=!0,T._isMoved||(T._isMoved=!0,T._dragStartTime=getCurrentTime()),a(t,e),c=m-t,d=f-e,m=t,f=e,T._lastMoveTime=getCurrentTime()))}function i(t){g&&(g=!1,b||x||!C||T._clickInRange&&(T._clickInRange=!1,T._firstTouch?(T._clickTimer&&(clearTimeout(T._clickTimer),T._clickTimer=null),l-T._firstTouch.x<10&&h-T._firstTouch.y<10&&w.dispatchEvent(new BaseEvent("ondblclick")),T._firstTouch=null):(T._firstTouch={x:l,y:h},T._clickTimer=setTimeout(function(){var t=w._linksRenderer,e=l,i=h,o=n(e,i);useWebGL()&&(o.x*=2,o.y*=2),0===t.goByTouchingOnRoad(o.x,o.y)&&w.dispatchEvent(new BaseEvent("onclick")),T._firstTouch=null},400))),T._isMoved=!1,o(t),b=!1,x=!1)}function n(t,e){for(var i=w._svContainer,n=0,o=0;i.offsetParent;)n+=i.offsetLeft,o+=i.offsetTop,i=i.offsetParent;return{x:t-n,y:e-o}}function o(t){if(t){var e=getCurrentTime(),i=e-T._lastMoveTime;if(!(i>100||i>10&&Math.abs(c)<10&&Math.abs(d)<10)){var n,o;isMobile()?(n=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY):(n=t.clientX,o=t.clientY);var r=new Pixel(l,h),s=new Pixel(n,o),_=[s.x-r.x>0?1:-1,s.y-r.y>0?1:-1],g=Math.abs(r.x-s.x),m=Math.abs(r.y-s.y),f=0,v=0;if(0==m)f=g;else{var y=Math.abs(r.x-s.x)/Math.abs(r.y-s.y);v=Math.round(Math.sqrt(24336/(1+y*y))),f=Math.round(y*v)}-1==_[0]&&(f=-f),-1==_[1]&&(v=-v),T.dragAni&&T.dragAni.stop(),u=w.getPov().heading,p=w.getPov().pitch,T.dragAni=new Animation({duration:625,fps:60,transition:function(t){return.3125*t-.15625*t*t},render:function(t){t*=6.4,a(t*f,t*v)},finish:function(){T.dragAni=null},onStop:function(t){T.dragAni=null}})}}}function a(t,e){v=-t*T._anglePerPixel,y=e*T._anglePerPixel;var i=u+v,n=p+y;n>w._maxPitch&&(n=w._maxPitch),n<w._minPitch&&(n=w._minPitch),w.setPov({heading:i,pitch:n})}function r(t,e){var i=t.srcElement||t.target,n=t.offsetX||t.layerX||0,o=t.offsetY||t.layerY||0;for(1!=i.nodeType&&(i=i.parentNode);i&&i!=w.getContainer();){if(i.guid&&(baidu.lang.instance(i.guid)instanceof OverlayInternal&&(overlay=baidu.lang.instance(i.guid)),baidu.lang.instance(i.guid)instanceof InfoWindow&&(infoWindow=baidu.lang.instance(i.guid))),0==i.clientWidth&&0==i.clientHeight&&i.offsetParent&&"TD"==i.offsetParent.nodeName||"http://www.w3.org/2000/svg"==i.namespaceURI){if("http://www.w3.org/2000/svg"==i.namespaceURI){var a=w._renderer._panoLinksRenderer&&w._renderer._panoLinksRenderer._svg||null;if(navigator.userAgent.indexOf("Opera")>-1&&"svg"!=i.tagName){var r=baidu.lang.instance(i.guid);if(r){var s=r.getBounds();n+=T.pointToPixel(s.getSouthWest()).x,o+=T.pointToPixel(s.getNorthEast()).y}break}a&&(!baidu.browser.ie||baidu.browser.ie>=9&&"svg"==i.nodeName.toLowerCase())&&(n+=parseInt(a.style.left),o+=parseInt(a.style.top))}}else n+=i.offsetLeft||0,o+=i.offsetTop||0;i=i.offsetParent}return e.x=n,e.y=o,e}function s(t){if(w._opts.enableScrollWheelZoom){var t=window.event||t,e=new BaseEvent("onmousewheel");e.trend=t.wheelDelta>=0||t.detail<0;var i=new Date;if(i-S<220)return void preventDefault(t);S=i;if("path"==(t.srcElement||t.target).tagName)return void preventDefault(t);r(t,e.inherit(t));var n,o=w.getContainerSize(),a=180/Math.pow(2,w.getZoom()),s=a/o.width,l=o.width/2,h=o.height/2,c=e.x-l,d=h-e.y;w.getPov().heading,w.getPov().pitch;if(1==e.trend){if(w.getZoom()==Panorama.MAX_ZOOM)return void preventDefault(t);n=w.getZoom()+2/3}else if(0==e.trend){if(w.getZoom()==Panorama.MIN_ZOOM)return void preventDefault(t);n=w.getZoom()-2/3}w.setZoom(n),preventDefault(t)}}if(!this._initialized){this._initialized=!0;var l,h,c,d,u,p,_,g=!1,m=0,f=0,v=0,y=0,b=!1,x=!1,w=this._pano,P=!1,M=0;this._anglePerPixel=this._calcAnglePerPixel(),this._lastMoveTime=0,this._dragStartTime=0,this._isMoved=!1,this._firstTouch=null,this._scale=1;var T=this,C=!1;isMobile()?(baidu.on(w._svContainer,"touchstart",function(e){C=!0;for(var i=e.target;i&&i!=w._svContainer;){if(i===w._overlayContainer){C=!1;break}i=i.offsetParent}T._clickInRange=!0;var n=e.touches[0].clientX,o=e.touches[0].clientY,a=w._linksRenderer;if(useWebGL()){if(a){var r=e.touches[0].pageX*a._ratio,s=e.touches[0].pageY*a._ratio;null!=a._getIdByTouchPos(r,s)&&(C=!1)}}else if(!isSvg()&&a){var l=getPosition(w._svContainer),h=a.getHitLinkIndex(n-l.left,o-l.top);-1!=h&&(C=!1)}t(n,o),baidu.platform.isAndroid&&-1!=navigator.userAgent.indexOf("QQBrowser")||e.preventDefault(),e.stopPropagation()}),baidu.on(w._svContainer,"touchmove",function(t){var i=t.touches[0],n=i.clientX-l,o=i.clientY-h;if(!P&&(Math.abs(n)>3||Math.abs(o)>3)){e(n,o);var a=new BaseEvent("ontouchmove");a.touchPos=new Pixel(t.touches[0].pageX,t.touches[0].pageY),w.dispatchEvent(a)}t.preventDefault(),t.stopPropagation()}),baidu.on(document,"touchend",function(t){i(t),C=!1}),w._svContainer.addEventListener("gesturestart",function(t){M=w.getZoom()},!1),w._svContainer.addEventListener("gesturechange",function(t){T._scale=t.scale,P=!0,x=!0;var e=T._scale*M;e>4?e=4:e<1&&(e=1),e=Math.round(100*e)/100,w.setZoom(e,{noAnimation:!0})},!1),w._svContainer.addEventListener("gestureend",function(){P=!1,w.getZoom()!=M&&w.dispatchEvent(new BaseEvent("onpinchtozoomend"))},!1)):(baidu.on(w._svContainer,"mousedown",function(e){t(e.clientX||e.pageX||0,e.clientY||e.pageY||0),_=e.target||e.srcElement,baidu.browser.ie&&_.setCapture&&_.setCapture(),T._prevCursor=w._svContainer.style.cursor,w._svContainer.style.cursor=MapConfig.draggingCursor,baidu.browser.ie||preventDefault(e)}),baidu.on(document,"mousemove",function(t){e((t.clientX||t.pageX||0)-l,(t.clientY||t.pageY||0)-h),stopAndPrevent(t)}),baidu.on(document,"mouseup",function(t){stopBubble(t),i(t),baidu.browser.ie&&_&&_.releaseCapture&&_.releaseCapture(),w._svContainer.style.cursor=T._prevCursor||MapConfig.defaultCursor})),w.addEventListener("zoom_changed_inner",function(){T._anglePerPixel=T._calcAnglePerPixel()}),w.addEventListener("size_changed",function(){T._anglePerPixel=T._calcAnglePerPixel()});var S=new Date;baidu.on(w.getContainer(),"mousewheel",s),window.addEventListener&&w.getContainer().addEventListener("DOMMouseScroll",s,!1)}},PanoramaOperation.prototype._calcAnglePerPixel=function(){if(!this._data)return null;var t=this._pano,e=calcDisplayZoom(t.getContainerSize(),t.getZoom()),i=e.imgZoom,n=e.displayTileSize;if("cssRender"!==t._getRenderType()||useWebGL()){var o=this._pano.getZoom(),a=this._pano.getContainerSize().height;return 180/Math.pow(2,o)/a}return 360/(this._data.tiles.getTotalCols(i)*n)},baidu.extend(PanoramaLabel.prototype,{initialize:function(t){this._pano=t,this.getPosition()||this.setPosition(this._pano.getPosition()),this._createDom(),this._bindOverlayEvent()},getDom:function(){return this._dom},hide:function(){this._visible=!1,this._dom&&(this._dom.style.display="none")},show:function(){this._visible=!0,this._dom&&(this._dom.style.display="block")},isVisible:function(){return this._visible},updatedDistance:function(){var t=this._getDistance();t>100?(t/=1e3,t=t<100?t.toFixed(2):t.toFixed(0),
t+="公里"):(t=t<100?t.toFixed(2):t.toFixed(0),t+="米"),this._distanceDom.innerHTML=t},_createDom:function(){var t=this.getContent(),e=create("div"),i=e.style;i.position="absolute",i.backgroundColor="rgba(29, 29, 29, 0.8)",i.padding="7px 0",i.height="19px",i.font="16px arial",i.color="white",i.whiteSpace="nowrap",i.borderRadius="4px",i.left="-1000px",i.top="-1000px";var n=create("div");n.style.float="left",n.style.lineHeight="19px",e.appendChild(n);var o=create("span");o.style.margin="0 14px",o.innerHTML=t,n.appendChild(o);var a=create("span");a.style.color="color:rgba(255,255,255,0.3)",a.innerHTML="|",n.appendChild(a);var r=create("span");r.style.margin="0 8px",r.style.color="#60c7fa",r.style.fontSize="12px",r.innerHTML="0米",n.appendChild(r),!1===this._displayDistance&&(r.style.display="none",a.style.display="none"),this._dom=e,this._distanceDom=r,this._titleDom=o},_bindOverlayEvent:function(){var t=this;this._clickCopatibilityHandle(this._dom,function(e){t.dispatchEvent(new BaseEvent("onclick"),{type:"click",target:t}),preventDefault(e)}),baidu.on(this._dom,"mouseenter",function(e){t.dispatchEvent(new BaseEvent("onmouseover"),{type:"mouseover",target:t})}),baidu.on(this._dom,"mouseleave",function(e){t.dispatchEvent(new BaseEvent("onmouseout"),{type:"mouseout",target:t})})},_clickCopatibilityHandle:function(t,e){if(isMobile()){var i=0,n=0,o=0;t.addEventListener("touchstart",function(t){i=(new Date).getTime(),n=t.touches[0].pageX,o=t.touches[0].pageY},!1),t.addEventListener("touchend",function(t){(new Date).getTime()-i>=200||Math.abs(t.changedTouches[0].pageX-n)>=5||Math.abs(t.changedTouches[0].pageY-o)>=5||e.call(this,t)},!1)}else baidu.on(this._dom,"click",e)},_setOverlayProperty:function(t,e){this._dom&&("content"===t&&(this._titleDom.innerHTML=e),this._pano.dispatchEvent(new BaseEvent("onoverlay_property_changed")))},remove:function(){this._titleDom=null,this._distanceDom=null,this._dom=null,this.dispatchEvent(new BaseEvent("onremove"),{type:"remove",target:this})}}),baidu.extend(PanoramaMarker.prototype,{initialize:function(t){this._pano=t,this._createDom();var e=this.getPanoInfo();e&&(e.panoId||e.panoIId)&&this._bindOverlayEvent(e)},getDom:function(){return this._dom},hide:function(){this._visible=!1,this._dom.style.display="none"},show:function(){this._visible=!0,this._dom.style.display="block"},isVisible:function(){return this._visible},updatedDistance:function(){var t=this._pano.getPosition(),e=this.getPosition(),i=MercatorProjection.getDistanceByLL(t,e);i>100?(i/=1e3,i=i<100?i.toFixed(2):i.toFixed(0),i+="公里"):(i=i<100?i.toFixed(2):i.toFixed(0),i+="米"),this._distanceDom.innerHTML=i},_bindOverlayEvent:function(t){function e(e){var i=t.panoIId;n._pano.setIid(i),e.stopPropagation(),e.preventDefault()}function i(e){var i=t.panoId,o=function(){n._pano.setPov(n.getPov()),n._pano.removeEventListener("dataload",o)};n._pano.getId()!=i&&(n._pano.setId(i),n._pano.addEventListener("dataload",o)),e.stopPropagation(),e.preventDefault()}var n=this;t.panoIId&&(isMobile()?baidu.on(this._iconDom,"touchend",function(t){e(t)}):(this._iconDom.style.cursor="pointer",baidu.on(this._iconDom,"click",function(t){e(t)}))),t.panoId&&(baidu.on(this._dom,"touchend",function(t){i(t)}),this._dom.style.cursor="pointer",baidu.on(this._dom,"click",function(t){i(t)}))},_createDom:function(){var t=this.getTitle(),e=create("div"),i=e.style;i.position="absolute",i.backgroundColor="rgba(29, 29, 29, 0.8)",i.padding="7px 0",i.height="19px",i.font="16px arial",i.color="white",i.whiteSpace="nowrap",i.borderRadius="4px",i.left="-1000px",i.top="-1000px";var n=create("img");n.src=this.getIcon(),n.style.width="24px",n.style.height="24px",n.style.position="absolute",n.style.left="5px",n.style.top="5px",i.paddingLeft="40px",e.appendChild(n);var o=create("div");o.style.float="left",o.style.lineHeight="19px",e.appendChild(o);var a=create("span");a.style.margin="0 14px",a.innerHTML=t,o.appendChild(a);var r=create("span");r.style.color="color:rgba(255,255,255,0.3)",r.innerHTML="|",o.appendChild(r);var s=create("span");s.style.margin="0 8px",s.style.color="#60c7fa",s.style.fontSize="12px",s.innerHTML="0米",o.appendChild(s),this._dom=e,this._iconDom=n,this._distanceDom=s,this._titleDom=a},_setOverlayProperty:function(t,e){switch(t){case"title":this._titleDom.innerHTML=e;break;case"altitude":case"position":this._pano.dispatchEvent(new BaseEvent("onoverlay_position_changed"))}},remove:function(){this._dom=null,this._iconDom=null,this._distanceDom=null,this._titleDom=null,this.dispatchEvent(new BaseEvent("onremove"),{type:"remove",target:this})}}),baidu.lang.inherits(PanoramaOverlayMgr,baidu.lang.Class,"PanoramaOverlayMgr"),baidu.extend(PanoramaOverlayMgr.prototype,{_bindPanoOverlayEvents:function(){var t=this,e=this._pano;e.addEventListener("add_overlay",function(i){var n=i.overlay;n.initialize(e),t._overlayArray.push(n),t._renderOverlays()}),e.addEventListener("dataload",function(e){t._panoDataLoaded=!0,t._renderOverlays()}),e.addEventListener("remove_overlay",function(e){for(var i=e.overlay,n=0,o=t._overlayArray.length;n<o;n++)i==t._overlayArray[n]&&t._overlayArray.splice(n,1);i.remove(),t._renderOverlays()}),e.addEventListener("clear",function(){t._panoDataLoaded=!1}),e.addEventListener("zoom_changed",function(){t._refreshRenderOverlays()}),e.addEventListener("dataload",function(){t._renderOverlays()}),e.addEventListener("pov_changed",function(){t._refreshRenderOverlays()}),e.addEventListener("size_changed",function(){t._refreshRenderOverlays()}),e.addEventListener("onoverlay_property_changed",function(){t._renderOverlays()})},_renderOverlays:function(){if(this._removeOverlayDoms(),0!=this._overlayArray.length&&this._panoDataLoaded){for(var t,e,i,n,o=this._overlayArray.length-1;o>=0;o--)i=this._overlayArray[o],ovarlayDom=i.getDom(),(n=i.getPov())&&(t=n.heading,i.updatedDistance(),e=i.getOverlayId(),this._poiStack[t]||(this._poiStack[t]={}),this._poiStack[t][e]={dom:ovarlayDom,pov:n},this._pano._overlayContainer.appendChild(ovarlayDom));this._refreshRenderOverlays()}},_refreshRenderOverlays:function(t){var e=(this._pano.getPov(),t||this._render.getImageZoom()),i=this._render.getDisplayTileSize(),n=function(){function t(t){t.top=Math.floor(t.top);var i=e[t.top];if(!i)return!1;for(var n=i.length-1;n>=0;n--){if(t.left>=i[n].left&&t.left<=i[n].right)return!0;if(t.right>=i[n].left&&t.right<=i[n].right)return!0}return!1}var e={};return function(i){for(i.top=Math.floor(i.top);t(i);)i.top+=-36;return e[i.top]?e[i.top].push(i):e[i.top]=[i],i}}();for(var o in this._poiStack)for(var a in this._poiStack[o]){var r=this._poiStack[o][a],s=this._povToPoint(o,r.pov.pitch,e,i),l=r.dom,h=n({top:s[1],left:s[0],right:s[0]+l.offsetWidth});l.style.left=h.left-l.offsetWidth/2+"px",l.style.top=h.top+l.offsetHeight/2+"px"}},_povToPoint:function(t,e,i,n){if(useWebGL())return this._povToPointGL(t,e);var o=this._pano;for(svHeading=o.getPov().heading%360;svHeading<0;)svHeading=(svHeading+360)%360;var a=(t-svHeading)%360,r=o.getContainerSize(),s=2*Math.pow(2,i-2),l=360/(s*n);return a>180?a-=360:a<-180&&(a+=360),[Math.round(r.width/2+a/l),Math.round(r.height/2-(e-o.getPov().pitch)/l)]},_povToPointGL:function(t,e){var i=500*Math.cos(toRadian(e));i=Math.round(100*i)/100,"string"==typeof t&&(t=parseFloat(t));var n={};n.refinedAngle=t+this._pano._data.tiles.dirNorth,n.refinedAngle%=360,n.sphereX=Math.cos(toRadian(n.refinedAngle))*i,n.sphereY=500*Math.sin(toRadian(e)),n.sphereZ=Math.sin(toRadian(n.refinedAngle))*i;var o=this._pano._renderer._panoTileRenderer,a=vec4.fromValues(n.sphereX,n.sphereY,n.sphereZ,1),r=vec4.create(),s=o._mvMatrixInfo[0],l=o._pMatrix;if(mat4.multiply(r,s,a),mat4.multiply(r,l,r),r[3]<0)return[-1e3,-1e3];var h=this._pano._containerSize;return[(r[0]/r[3]+1)/2*h.width,(1-r[1]/r[3])/2*h.height]},_removeOverlayDoms:function(){for(var t in this._poiStack)for(var e in this._poiStack[t]){var i=this._poiStack[t][e].dom;i.parentNode.removeChild(i)}this._poiStack={}}});var doc=document,m=Math,dummyStyle=doc.createElement("div").style,vendor=function(){for(var t="t,webkitT,MozT,msT,OT".split(","),e=0,i=t.length;e<i;e++)if(t[e]+"ransform"in dummyStyle)return t[e].substr(0,t[e].length-1);return!1}(),cssVendor=vendor?"-"+vendor.toLowerCase()+"-":"",transform=prefixStyle("transform"),transitionProperty=prefixStyle("transitionProperty"),transitionDuration=prefixStyle("transitionDuration"),transformOrigin=prefixStyle("transformOrigin"),transitionTimingFunction=prefixStyle("transitionTimingFunction"),transitionDelay=prefixStyle("transitionDelay"),isAndroid=/android/gi.test(navigator.appVersion),isIDevice=/iphone|ipad/gi.test(navigator.appVersion),isTouchPad=/hp-tablet/gi.test(navigator.appVersion),has3d=prefixStyle("perspective")in dummyStyle,hasTouch="ontouchstart"in window&&!isTouchPad,hasTransform=!1!==vendor,hasTransitionEnd=prefixStyle("transition")in dummyStyle,RESIZE_EV="onorientationchange"in window?"orientationchange":"resize",START_EV=hasTouch?"touchstart":"mousedown",MOVE_EV=hasTouch?"touchmove":"mousemove",END_EV=hasTouch?"touchend":"mouseup",CANCEL_EV=hasTouch?"touchcancel":"mouseup",TRNEND_EV=function(){return!1!==vendor&&{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[vendor]}(),CLICK_EV="click",nextFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),cancelFrame=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),translateZ=has3d?" translateZ(0)":"",iScroll=function(t,e){var i,n=this;n.wrapper="object"==typeof t?t:doc.getElementById(t),n.wrapper.style.overflow="hidden",n.scroller=n.wrapper.children[0],n.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:isAndroid,hideScrollbar:isIDevice,fadeScrollbar:isIDevice&&has3d,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(i in e)n.options[i]=e[i];n.x=n.options.x,n.y=n.options.y,n.options.useTransform=hasTransform&&n.options.useTransform,n.options.hScrollbar=n.options.hScroll&&n.options.hScrollbar,n.options.vScrollbar=n.options.vScroll&&n.options.vScrollbar,n.options.zoom=n.options.useTransform&&n.options.zoom,n.options.useTransition=hasTransitionEnd&&n.options.useTransition,n.options.zoom&&isAndroid&&(translateZ=""),n.scroller.style[transitionProperty]=n.options.useTransform?cssVendor+"transform":"top left",n.scroller.style[transitionDuration]="0",n.scroller.style[transformOrigin]="0 0",n.options.useTransition&&(n.scroller.style[transitionTimingFunction]="cubic-bezier(0.33,0.66,0.66,1)"),n.options.useTransform?n.scroller.style[transform]="translate("+n.x+"px,"+n.y+"px)"+translateZ:n.scroller.style.cssText+=";position:absolute;top:"+n.y+"px;left:"+n.x+"px",n.options.useTransition&&(n.options.fixedScrollbar=!0),n.refresh(),n._bind(RESIZE_EV,window),n._bind(START_EV),hasTouch||"none"!=n.options.wheelAction&&(n._bind("DOMMouseScroll"),n._bind("mousewheel")),n.options.checkDOMChanges&&(n.checkDOMTime=setInterval(function(){n._checkDOMChanges()},500)),this.options.handleClick&&(Event.prototype.stopImmediatePropagation||(document.body.removeEventListener=function(t,e,i){var n=Node.prototype.removeEventListener;"click"===t?n.call(document.body,t,e.hijacked||e,i):n.call(document.body,t,e,i)},document.body.addEventListener=function(t,e,i){var n=Node.prototype.addEventListener;"click"===t?n.call(document.body,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),i):n.call(document.body,t,e,i)}),n._bind(CLICK_EV,document.body,!0))};iScroll.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(t){var e=this;switch(t.type){case START_EV:if(!hasTouch&&0!==t.button)return;e._start(t);break;case MOVE_EV:e._move(t);break;case END_EV:case CANCEL_EV:e._end(t);break;case RESIZE_EV:e._resize();break;case"DOMMouseScroll":case"mousewheel":e._wheel(t);break;case TRNEND_EV:e._transitionEnd(t);break;case CLICK_EV:e._click(t)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(t){var e,i=this;if(!i[t+"Scrollbar"])return void(i[t+"ScrollbarWrapper"]&&(hasTransform&&(i[t+"ScrollbarIndicator"].style[transform]=""),i[t+"ScrollbarWrapper"].parentNode.removeChild(i[t+"ScrollbarWrapper"]),i[t+"ScrollbarWrapper"]=null,i[t+"ScrollbarIndicator"]=null));i[t+"ScrollbarWrapper"]||(e=doc.createElement("div"),i.options.scrollbarClass?e.className=i.options.scrollbarClass+t.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+("h"==t?"height:7px;bottom:1px;left:2px;right:"+(i.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(i.hScrollbar?"7":"2")+"px;top:2px;right:1px"),e.style.cssText+=";pointer-events:none;"+cssVendor+"transition-property:opacity;"+cssVendor+"transition-duration:"+(i.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(i.options.hideScrollbar?"0":"1"),i.wrapper.appendChild(e),i[t+"ScrollbarWrapper"]=e,e=doc.createElement("div"),i.options.scrollbarClass||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+cssVendor+"background-clip:padding-box;"+cssVendor+"box-sizing:border-box;"+("h"==t?"height:100%":"width:100%")+";"+cssVendor+"border-radius:3px;border-radius:3px"),e.style.cssText+=";pointer-events:none;"+cssVendor+"transition-property:"+cssVendor+"transform;"+cssVendor+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+cssVendor+"transition-duration:0;"+cssVendor+"transform: translate(0,0)"+translateZ,i.options.useTransition&&(e.style.cssText+=";"+cssVendor+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),i[t+"ScrollbarWrapper"].appendChild(e),i[t+"ScrollbarIndicator"]=e),"h"==t?(i.hScrollbarSize=i.hScrollbarWrapper.clientWidth,i.hScrollbarIndicatorSize=m.max(m.round(i.hScrollbarSize*i.hScrollbarSize/i.scrollerW),8),i.hScrollbarIndicator.style.width=i.hScrollbarIndicatorSize+"px",i.hScrollbarMaxScroll=i.hScrollbarSize-i.hScrollbarIndicatorSize,i.hScrollbarProp=i.hScrollbarMaxScroll/i.maxScrollX):(i.vScrollbarSize=i.vScrollbarWrapper.clientHeight,i.vScrollbarIndicatorSize=m.max(m.round(i.vScrollbarSize*i.vScrollbarSize/i.scrollerH),8),i.vScrollbarIndicator.style.height=i.vScrollbarIndicatorSize+"px",i.vScrollbarMaxScroll=i.vScrollbarSize-i.vScrollbarIndicatorSize,i.vScrollbarProp=i.vScrollbarMaxScroll/i.maxScrollY),i._scrollbarPos(t,!0)},_resize:function(){var t=this;setTimeout(function(){t.refresh()},isAndroid?200:0)},_pos:function(t,e){this.zoomed||(t=this.hScroll?t:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[transform]="translate("+t+"px,"+e+"px) scale("+this.scale+")"+translateZ:(t=m.round(t),e=m.round(e),this.scroller.style.left=t+"px",this.scroller.style.top=e+"px"),this.x=t,this.y=e,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(t,e){var i,n=this,o="h"==t?n.x:n.y;n[t+"Scrollbar"]&&(o=n[t+"ScrollbarProp"]*o,o<0?(n.options.fixedScrollbar||(i=n[t+"ScrollbarIndicatorSize"]+m.round(3*o),i<8&&(i=8),n[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=i+"px"),o=0):o>n[t+"ScrollbarMaxScroll"]&&(n.options.fixedScrollbar?o=n[t+"ScrollbarMaxScroll"]:(i=n[t+"ScrollbarIndicatorSize"]-m.round(3*(o-n[t+"ScrollbarMaxScroll"])),i<8&&(i=8),n[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=i+"px",o=n[t+"ScrollbarMaxScroll"]+(n[t+"ScrollbarIndicatorSize"]-i))),n[t+"ScrollbarWrapper"].style[transitionDelay]="0",n[t+"ScrollbarWrapper"].style.opacity=e&&n.options.hideScrollbar?"0":"1",n[t+"ScrollbarIndicator"].style[transform]="translate("+("h"==t?o+"px,0)":"0,"+o+"px)")+translateZ)},_click:function(t){if(!0===t._fake)return this.actualClickElement=t.target,this.fakeClickTimeStamp=Date.now(),!0;if(this.actualClickElement&&this.fakeClickTimeStamp){if(Date.now()-this.fakeClickTimeStamp>600)return this.actualClickElement=null,this.fakeClickTimeStamp=null,!0}else{for(var e=t.target;e!=this.scroller&&e!=document.body;)e=e.parentNode;if(e==document.body)return!0}for(var i=t.target;1!=i.nodeType;)i=i.parentNode;var n=i.tagName.toLowerCase();return"select"!=n&&"input"!=n&&"textarea"!=n?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),this.actualClickElement=null,this.fakeClickTimeStamp=null,!1):void 0},_start:function(t){var e,i,n,o,a,r=this,s=hasTouch?t.touches[0]:t;r.enabled&&(r.options.onBeforeScrollStart&&r.options.onBeforeScrollStart.call(r,t),(r.options.useTransition||r.options.zoom)&&r._transitionTime(0),r.moved=!1,r.animating=!1,r.zoomed=!1,r.distX=0,r.distY=0,r.absDistX=0,r.absDistY=0,r.dirX=0,r.dirY=0,r.options.zoom&&hasTouch&&t.touches.length>1&&(o=m.abs(t.touches[0].pageX-t.touches[1].pageX),a=m.abs(t.touches[0].pageY-t.touches[1].pageY),r.touchesDistStart=m.sqrt(o*o+a*a),r.originX=m.abs(t.touches[0].pageX+t.touches[1].pageX-2*r.wrapperOffsetLeft)/2-r.x,r.originY=m.abs(t.touches[0].pageY+t.touches[1].pageY-2*r.wrapperOffsetTop)/2-r.y,r.options.onZoomStart&&r.options.onZoomStart.call(r,t)),r.options.momentum&&(r.options.useTransform?(e=getComputedStyle(r.scroller,null)[transform].replace(/[^0-9\-.,]/g,"").split(","),i=+(e[12]||e[4]),n=+(e[13]||e[5])):(i=+getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,""),n=+getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,"")),i==r.x&&n==r.y||(r.options.useTransition?r._unbind(TRNEND_EV):cancelFrame(r.aniTime),r.steps=[],r._pos(i,n),r.options.onScrollEnd&&r.options.onScrollEnd.call(r))),r.absStartX=r.x,r.absStartY=r.y,r.startX=r.x,r.startY=r.y,r.pointX=s.pageX,r.pointY=s.pageY,r.startTime=t.timeStamp||Date.now(),r.options.onScrollStart&&r.options.onScrollStart.call(r,t),r._bind(MOVE_EV,window),r._bind(END_EV,window),r._bind(CANCEL_EV,window))},_move:function(t){var e,i,n,o=this,a=hasTouch?t.touches[0]:t,r=a.pageX-o.pointX,s=a.pageY-o.pointY,l=o.x+r,h=o.y+s,c=t.timeStamp||Date.now();if(o.options.onBeforeScrollMove&&o.options.onBeforeScrollMove.call(o,t),o.options.zoom&&hasTouch&&t.touches.length>1)return e=m.abs(t.touches[0].pageX-t.touches[1].pageX),i=m.abs(t.touches[0].pageY-t.touches[1].pageY),o.touchesDist=m.sqrt(e*e+i*i),o.zoomed=!0,n=1/o.touchesDistStart*o.touchesDist*this.scale,n<o.options.zoomMin?n=.5*o.options.zoomMin*Math.pow(2,n/o.options.zoomMin):n>o.options.zoomMax&&(n=2*o.options.zoomMax*Math.pow(.5,o.options.zoomMax/n)),o.lastScale=n/this.scale,l=this.originX-this.originX*o.lastScale+this.x,h=this.originY-this.originY*o.lastScale+this.y,this.scroller.style[transform]="translate("+l+"px,"+h+"px) scale("+n+")"+translateZ,void(o.options.onZoom&&o.options.onZoom.call(o,t));o.pointX=a.pageX,o.pointY=a.pageY,(l>0||l<o.maxScrollX)&&(l=o.options.bounce?o.x+r/2:l>=0||o.maxScrollX>=0?0:o.maxScrollX),(h>o.minScrollY||h<o.maxScrollY)&&(h=o.options.bounce?o.y+s/2:h>=o.minScrollY||o.maxScrollY>=0?o.minScrollY:o.maxScrollY),o.distX+=r,o.distY+=s,o.absDistX=m.abs(o.distX),o.absDistY=m.abs(o.distY),o.absDistX<6&&o.absDistY<6||(o.options.lockDirection&&(o.absDistX>o.absDistY+5?(h=o.y,s=0):o.absDistY>o.absDistX+5&&(l=o.x,r=0)),o.moved=!0,o._pos(l,h),o.dirX=r>0?-1:r<0?1:0,o.dirY=s>0?-1:s<0?1:0,c-o.startTime>300&&(o.startTime=c,o.startX=o.x,o.startY=o.y),o.options.onScrollMove&&o.options.onScrollMove.call(o,t))},_end:function(t){if(!hasTouch||0===t.touches.length){var e,i,n,o,a,r,s,l,h=this,c=hasTouch?t.changedTouches[0]:t,d={dist:0,time:0},u={dist:0,time:0},p=(t.timeStamp||Date.now())-h.startTime,_=h.x,g=h.y;if(h._unbind(MOVE_EV,window),h._unbind(END_EV,window),h._unbind(CANCEL_EV,window),h.options.onBeforeScrollEnd&&h.options.onBeforeScrollEnd.call(h,t),h.zoomed)return l=h.scale*h.lastScale,l=Math.max(h.options.zoomMin,l),l=Math.min(h.options.zoomMax,l),h.lastScale=l/h.scale,h.scale=l,h.x=h.originX-h.originX*h.lastScale+h.x,h.y=h.originY-h.originY*h.lastScale+h.y,h.scroller.style[transitionDuration]="200ms",h.scroller.style[transform]="translate("+h.x+"px,"+h.y+"px) scale("+h.scale+")"+translateZ,h.zoomed=!1,h.refresh(),void(h.options.onZoomEnd&&h.options.onZoomEnd.call(h,t));if(!h.moved){if(hasTouch)if(h.doubleTapTimer&&h.options.zoom)clearTimeout(h.doubleTapTimer),h.doubleTapTimer=null,h.options.onZoomStart&&h.options.onZoomStart.call(h,t),h.zoom(h.pointX,h.pointY,1==h.scale?h.options.doubleTapZoom:1),h.options.onZoomEnd&&setTimeout(function(){h.options.onZoomEnd.call(h,t)},200);else if(this.options.handleClick){for(e=c.target;1!=e.nodeType;)e=e.parentNode;i=e.tagName.toLowerCase(),"select"!=i&&"input"!=i&&"textarea"!=i?(n=doc.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,t.view,1,c.screenX,c.screenY,c.clientX,c.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),n._fake=!0,e.dispatchEvent(n)):e.focus()}return h._resetPos(400),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,t))}if(p<300&&h.options.momentum&&(d=_?h._momentum(_-h.startX,p,-h.x,h.scrollerW-h.wrapperW+h.x,h.options.bounce?h.wrapperW:0):d,u=g?h._momentum(g-h.startY,p,-h.y,h.maxScrollY<0?h.scrollerH-h.wrapperH+h.y-h.minScrollY:0,h.options.bounce?h.wrapperH:0):u,_=h.x+d.dist,g=h.y+u.dist,(h.x>0&&_>0||h.x<h.maxScrollX&&_<h.maxScrollX)&&(d={dist:0,time:0}),(h.y>h.minScrollY&&g>h.minScrollY||h.y<h.maxScrollY&&g<h.maxScrollY)&&(u={dist:0,time:0})),d.dist||u.dist)return r=m.max(m.max(d.time,u.time),10),h.options.snap&&(o=_-h.absStartX,a=g-h.absStartY,m.abs(o)<h.options.snapThreshold&&m.abs(a)<h.options.snapThreshold?h.scrollTo(h.absStartX,h.absStartY,200):(s=h._snap(_,g),_=s.x,g=s.y,r=m.max(s.time,r))),h.scrollTo(m.round(_),m.round(g),r),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,t));if(h.options.snap)return o=_-h.absStartX,a=g-h.absStartY,m.abs(o)<h.options.snapThreshold&&m.abs(a)<h.options.snapThreshold?h.scrollTo(h.absStartX,h.absStartY,200):(s=h._snap(h.x,h.y),s.x==h.x&&s.y==h.y||h.scrollTo(s.x,s.y,s.time)),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,t));h._resetPos(200),h.options.onTouchEnd&&h.options.onTouchEnd.call(h,t)}},_resetPos:function(t){var e=this,i=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,n=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;if(i==e.x&&n==e.y)return e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e)),e.hScrollbar&&e.options.hideScrollbar&&("webkit"==vendor&&(e.hScrollbarWrapper.style[transitionDelay]="300ms"),e.hScrollbarWrapper.style.opacity="0"),void(e.vScrollbar&&e.options.hideScrollbar&&("webkit"==vendor&&(e.vScrollbarWrapper.style[transitionDelay]="300ms"),e.vScrollbarWrapper.style.opacity="0"));e.scrollTo(i,n,t||0)},_wheel:function(t){var e,i,n,o,a,r=this;if("wheelDeltaX"in t)e=t.wheelDeltaX/12,i=t.wheelDeltaY/12;else if("wheelDelta"in t)e=i=t.wheelDelta/12;else{if(!("detail"in t))return;e=i=3*-t.detail}if("zoom"==r.options.wheelAction)return a=r.scale*Math.pow(2,1/3*(i?i/Math.abs(i):0)),a<r.options.zoomMin&&(a=r.options.zoomMin),a>r.options.zoomMax&&(a=r.options.zoomMax),void(a!=r.scale&&(!r.wheelZoomCount&&r.options.onZoomStart&&r.options.onZoomStart.call(r,t),r.wheelZoomCount++,r.zoom(t.pageX,t.pageY,a,400),setTimeout(function(){!--r.wheelZoomCount&&r.options.onZoomEnd&&r.options.onZoomEnd.call(r,t)},400)));n=r.x+e,o=r.y+i,n>0?n=0:n<r.maxScrollX&&(n=r.maxScrollX),o>r.minScrollY?o=r.minScrollY:o<r.maxScrollY&&(o=r.maxScrollY),r.maxScrollY<0&&r.scrollTo(n,o,0)},_transitionEnd:function(t){var e=this;t.target==e.scroller&&(e._unbind(TRNEND_EV),e._startAni())},_startAni:function(){var t,e,i,n=this,o=n.x,a=n.y,r=Date.now();if(!n.animating){if(!n.steps.length)return void n._resetPos(400);if(t=n.steps.shift(),t.x==o&&t.y==a&&(t.time=0),n.animating=!0,n.moved=!0,n.options.useTransition)return n._transitionTime(t.time),n._pos(t.x,t.y),n.animating=!1,void(t.time?n._bind(TRNEND_EV):n._resetPos(0));i=function(){var s,l,h=Date.now();if(h>=r+t.time)return n._pos(t.x,t.y),n.animating=!1,n.options.onAnimationEnd&&n.options.onAnimationEnd.call(n),void n._startAni();h=(h-r)/t.time-1,e=m.sqrt(1-h*h),s=(t.x-o)*e+o,l=(t.y-a)*e+a,n._pos(s,l),n.animating&&(n.aniTime=nextFrame(i))},i()}},_transitionTime:function(t){t+="ms",this.scroller.style[transitionDuration]=t,this.hScrollbar&&(this.hScrollbarIndicator.style[transitionDuration]=t),this.vScrollbar&&(this.vScrollbarIndicator.style[transitionDuration]=t)},_momentum:function(t,e,i,n,o){var a=m.abs(t)/e,r=a*a/.0012,s=0,l=0;return t>0&&r>i?(l=o/(6/(r/a*6e-4)),i+=l,a=a*i/r,r=i):t<0&&r>n&&(l=o/(6/(r/a*6e-4)),n+=l,a=a*n/r,r=n),r*=t<0?-1:1,s=a/6e-4,{dist:r,time:m.round(s)}},_offset:function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return t!=this.wrapper&&(e*=this.scale,i*=this.scale),{left:e,top:i}},_snap:function(t,e){var i,n,o,a,r,s,l=this;for(o=l.pagesX.length-1,i=0,n=l.pagesX.length;i<n;i++)if(t>=l.pagesX[i]){o=i;break}for(o==l.currPageX&&o>0&&l.dirX<0&&o--,t=l.pagesX[o],r=m.abs(t-l.pagesX[l.currPageX]),r=r?m.abs(l.x-t)/r*500:0,l.currPageX=o,o=l.pagesY.length-1,i=0;i<o;i++)if(e>=l.pagesY[i]){o=i;break}return o==l.currPageY&&o>0&&l.dirY<0&&o--,e=l.pagesY[o],s=m.abs(e-l.pagesY[l.currPageY]),s=s?m.abs(l.y-e)/s*500:0,l.currPageY=o,a=m.round(m.max(r,s))||200,{x:t,y:e,time:a}},_bind:function(t,e,i){(e||this.scroller).addEventListener(t,this,!!i)},_unbind:function(t,e,i){(e||this.scroller).removeEventListener(t,this,!!i)},destroy:function(){var t=this;t.scroller.style[transform]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(RESIZE_EV,window),t._unbind(START_EV),t._unbind(MOVE_EV,window),t._unbind(END_EV,window),t._unbind(CANCEL_EV,window),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(TRNEND_EV),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var t,e,i,n,o=this,a=0,r=0;if(o.scale<o.options.zoomMin&&(o.scale=o.options.zoomMin),o.wrapperW=o.wrapper.clientWidth||1,o.wrapperH=o.wrapper.clientHeight||1,o.minScrollY=-o.options.topOffset||0,o.scrollerW=m.round(o.scroller.offsetWidth*o.scale),o.scrollerH=m.round((o.scroller.offsetHeight+o.minScrollY)*o.scale),o.maxScrollX=o.wrapperW-o.scrollerW,o.maxScrollY=o.wrapperH-o.scrollerH+o.minScrollY,o.dirX=0,o.dirY=0,o.options.onRefresh&&o.options.onRefresh.call(o),o.hScroll=o.options.hScroll&&o.maxScrollX<0,o.vScroll=o.options.vScroll&&(!o.options.bounceLock&&!o.hScroll||o.scrollerH>o.wrapperH),o.hScrollbar=o.hScroll&&o.options.hScrollbar,o.vScrollbar=o.vScroll&&o.options.vScrollbar&&o.scrollerH>o.wrapperH,t=o._offset(o.wrapper),o.wrapperOffsetLeft=-t.left,o.wrapperOffsetTop=-t.top,"string"==typeof o.options.snap)for(o.pagesX=[],o.pagesY=[],n=o.scroller.querySelectorAll(o.options.snap),e=0,i=n.length;e<i;e++)a=o._offset(n[e]),a.left+=o.wrapperOffsetLeft,a.top+=o.wrapperOffsetTop,o.pagesX[e]=a.left<o.maxScrollX?o.maxScrollX:a.left*o.scale,o.pagesY[e]=a.top<o.maxScrollY?o.maxScrollY:a.top*o.scale;else if(o.options.snap){for(o.pagesX=[];a>=o.maxScrollX;)o.pagesX[r]=a,a-=o.wrapperW,r++;for(o.maxScrollX%o.wrapperW&&(o.pagesX[o.pagesX.length]=o.maxScrollX-o.pagesX[o.pagesX.length-1]+o.pagesX[o.pagesX.length-1]),a=0,r=0,o.pagesY=[];a>=o.maxScrollY;)o.pagesY[r]=a,a-=o.wrapperH,r++;o.maxScrollY%o.wrapperH&&(o.pagesY[o.pagesY.length]=o.maxScrollY-o.pagesY[o.pagesY.length-1]+o.pagesY[o.pagesY.length-1])}o._scrollbar("h"),o._scrollbar("v"),o.zoomed||(o.scroller.style[transitionDuration]="0",o._resetPos(400))},scrollTo:function(t,e,i,n){var o,a,r=this,s=t;for(r.stop(),s.length||(s=[{x:t,y:e,time:i,relative:n}]),o=0,a=s.length;o<a;o++)s[o].relative&&(s[o].x=r.x-s[o].x,s[o].y=r.y-s[o].y),r.steps.push({x:s[o].x,y:s[o].y,time:s[o].time||0});r._startAni()},scrollToElement:function(t,e){var i,n=this;(t=t.nodeType?t:n.scroller.querySelector(t))&&(i=n._offset(t),i.left+=n.wrapperOffsetLeft,i.top+=n.wrapperOffsetTop,i.left=i.left>0?0:i.left<n.maxScrollX?n.maxScrollX:i.left,i.top=i.top>n.minScrollY?n.minScrollY:i.top<n.maxScrollY?n.maxScrollY:i.top,e=void 0===e?m.max(2*m.abs(i.left),2*m.abs(i.top)):e,n.scrollTo(i.left,i.top,e))},scrollToPage:function(t,e,i){var n,o,a=this;i=void 0===i?400:i,a.options.onScrollStart&&a.options.onScrollStart.call(a),a.options.snap?(t="next"==t?a.currPageX+1:"prev"==t?a.currPageX-1:t,e="next"==e?a.currPageY+1:"prev"==e?a.currPageY-1:e,t=t<0?0:t>a.pagesX.length-1?a.pagesX.length-1:t,e=e<0?0:e>a.pagesY.length-1?a.pagesY.length-1:e,a.currPageX=t,a.currPageY=e,n=a.pagesX[t],o=a.pagesY[e]):(n=-a.wrapperW*t,o=-a.wrapperH*e,n<a.maxScrollX&&(n=a.maxScrollX),o<a.maxScrollY&&(o=a.maxScrollY)),a.scrollTo(n,o,i)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(MOVE_EV,window),this._unbind(END_EV,window),this._unbind(CANCEL_EV,window)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(TRNEND_EV):cancelFrame(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(t,e,i,n){var o=this,a=i/o.scale;o.options.useTransform&&(o.zoomed=!0,n=void 0===n?200:n,t=t-o.wrapperOffsetLeft-o.x,e=e-o.wrapperOffsetTop-o.y,o.x=t-t*a+o.x,o.y=e-e*a+o.y,o.scale=i,o.refresh(),o.x=o.x>0?0:o.x<o.maxScrollX?o.maxScrollX:o.x,o.y=o.y>o.minScrollY?o.minScrollY:o.y<o.maxScrollY?o.maxScrollY:o.y,o.scroller.style[transitionDuration]=n+"ms",o.scroller.style[transform]="translate("+o.x+"px,"+o.y+"px) scale("+i+")"+translateZ,o.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},dummyStyle=null,baidu.extend(CvsRenderer.prototype,{_bind:function(){var t=this,e=t._pano;e.addEventListener("size_changed",function(i){t.setSize(e._renderer.getImageZoom(),e._renderer.getSceneZoom(),i.size)})},setData:function(t,e,i){t&&(this._data=t,this._loadData(e,i))},_createContainer:function(){var t=create("canvas");t.width=this._pano.getContainer().clientWidth,t.height=this._pano.getContainer().clientHeight;var e=t.style;e.position="absolute",e.left=e.top="0",this._tileContainer.appendChild(t),this.canvascxt=t.getContext("2d"),this.picArray=[],this.aniPictures=[],this.canvasRender=new CanvasRender(this.canvascxt,this.picArray,this.aniPictures,t.width,t.height,this._pano);var i=0,n=0;for(i=0;i<16;i++)for(this.picArray[i]=[],n=0;n<8;n++){var o=new DataImage(this._pano);o.localx=i,o.localy=n,o.canvas=this.canvasRender,this.picArray[i][n]=o}this.lastid=[],this._pano.canvasScene=this.canvasRender},render:function(t,e){if(t&&e){var i=t.heading%360,n=t.pitch;this._getRenderPic({heading:i,pitch:n},e),this.canvasRender.draw({heading:i,pitch:n},e)}},_loadData:function(t,e){this.canvasRender.dataLoad(),this._getAniPicture(this._data),this.canvasRender.getdirNorth(this._data),this._reshapeScene(t,e),this._getPictures(e,!0)},setZoom:function(t,e){var i=this,n=!0;e==this.canvasRender.scene.zoom&&(n=!1);this._reshapeScene(t,e);n&&this._getPictures(e,!0),setTimeout(function(){i._getRenderPic()},1e3)},_getAniPicture:function(t){var e=this,i=t.tiles,n={};n.image=[],n.image[0]=new Image,n.image[0].src=i.getTilesUrl(t.id,{x:0,y:0},2),n.image[1]=new Image,n.image[1].src=i.getTilesUrl(t.id,{x:1,y:0},2),e.waitImage=0,n.image[0].onload=function(){e.lowImageCome()},n.image[1].onload=function(){e.lowImageCome()},this.aniPictures[0]=n},lowImageCome:function(){
2==++this.waitImage&&(this.canvasRender.setPresentPic(this.aniPictures[0].image),this.canvasRender.lowImageCome())},_getRenderPic:function(t,e){if(this._data&&this._data.tiles)for(var i=this._data.tiles,n=[],e=e||this.canvasRender.scene.zoom,n=(Math.pow(2,e-1),Math.pow(2,e-2),this.picArray),o=this.canvasRender.getBound(t),a=o.uplimit,r=o.downlimit,s=o.leftlimit,l=o.rightlimit,h=l>s?l-s:64+l-s,c=0,d=0,u=0;u<h+Math.pow(2,7-e);){for(var p=a;p<r+Math.pow(2,7-e);){var _=u+s;if(_>63?_%=64:_<0&&(_+=64),c=Math.floor(_*Math.pow(2,e-7)),d=Math.floor(p*Math.pow(2,e-7)),c<Math.pow(2,e-1)&&d<Math.pow(2,e-2)&&0==n[c][d].datastate){var g=i.getTilesUrl(this._data.id,{x:c,y:d},e);n[c][d].setsrc(g)}p+=Math.pow(2,7-e)}u+=Math.pow(2,7-e)}},_getPictures:function(t,e){var i=!1;if(e&&(i=!0),!i){if(!this.zoom_changedflag)return;this.zoom_changedflag=!1}if(this._data&&this._data.tiles){for(var n=this._data.tiles,o=[],a=Math.pow(2,t-1),r=Math.pow(2,t-2),o=this.picArray,s=0;s<a;s++)for(var l=0;l<r;l++)o[s][l].resetsrc();for(var h=this.canvasRender.getBound(),c=h.uplimit,d=h.downlimit,u=h.leftlimit,p=h.rightlimit,_=p>u?p-u:64+p-u,g=0,m=0,s=0;s<_+Math.pow(2,7-t);){for(var l=c;l<d+Math.pow(2,7-t);){var f=s+u;if(f>63?f%=64:f<0&&(f+=64),g=Math.floor(f*Math.pow(2,t-7)),m=Math.floor(l*Math.pow(2,t-7)),g<Math.pow(2,t-1)&&m<Math.pow(2,t-2)){var v=n.getTilesUrl(this._data.id,{x:g,y:m},t);o[g][m].setsrc(v)}l+=Math.pow(2,7-t)}s+=Math.pow(2,7-t)}}},setSize:function(t,e,i){t!=this.canvasRender.scene.zoom&&(this.zoom_changedflag=!0),this.canvasRender.resize(t,e,i),this._getPictures(t),this._getRenderPic(),this.canvasRender.refresh()},_reshapeScene:function(t,e){var i=!1;return e==this.canvasRender.scene.zoom?this.zoom_changedflag=!1:(this.zoom_changedflag=!0,e<this.canvasRender.scene.zoom&&(i=!0)),this.canvasRender.reshapeScene(t,e),i},getOverlayProject:function(t){return this.canvasRender.getPovbyPoint(t)},getCoordbyPix:function(t,e){return this.canvasRender.getCoordbyPix(t,e)},getSceneDist:function(){return this.canvasRender.scene.dist}}),baidu.extend(CanvasRender.prototype,{_adaptScene:function(){if(baidu.browser.chrome){var t=navigator.userAgent.substr(navigator.userAgent.indexOf("Chrome"),12);t+="1";var e=/[1-9][0-9]*/;Number(e.exec(t)[0])>27?(this.scene.basicxyoffset=1/128,this.scene.poleroffset=2):(this.scene.basicxyoffset=1/64,this.scene.poleroffset=4),this.scene.over=0,this.scene.temoffset=0}else baidu.browser.ie?(this.scene.basicxyoffset=1/128,this.scene.over=0,this.scene.temoffset=6,this.scene.poleroffset=2):baidu.browser.firefox?(this.scene.basicxyoffset=1/128,this.scene.over=0,this.scene.temoffset=4,this.scene.poleroffset=2):(baidu.browser.safari,this.scene.basicxyoffset=1/128,this.scene.over=0,this.scene.temoffset=4,this.scene.poleroffset=2)},setPresentPic:function(t){this.presentPic=t},getDist:function(){var t=this.scene,e=Math.PI/Math.pow(2,this.scene.scenezoom);e>Math.PI/2+.1&&(e=2*Math.PI/3);var i=e/2;return t.w/2/Math.tan(i)},resize:function(t,e,i){var n=this.scene;n.w=i.width,n.h=i.height,this.cxt.canvas.width=i.width,this.cxt.canvas.height=i.height,n.zoom=t,n.scenezoom=e,n.dist=this.getDist(),n.unit=16*Math.pow(2,t-2),n.pow_1=Math.pow(2,t-1),n.pow_2=Math.pow(2,t-2),n.pow_clearlevel_zoom=Math.pow(2,7-t)},reshapeScene:function(t,e){var i=this.scene;if(0==this.scene.dist)i.zoom=e,i.scenezoom=t,i.dist=this.getDist(),i.unit=16*Math.pow(2,e-2),i.pow_1=Math.pow(2,e-1),i.pow_2=Math.pow(2,e-2),i.pow_clearlevel_zoom=Math.pow(2,7-e),i.xyoffset=i.basicxyoffset*Math.pow(2,-t);else{if(t==i.scenezoom&&e==i.zoom)return;this.aniflag=!0;var n=this.scene.dist;i.unit=16*Math.pow(2,e-2),i.zoom=e,i.scenezoom=t,i.pow_1=Math.pow(2,e-1),i.pow_2=Math.pow(2,e-2),i.pow_clearlevel_zoom=Math.pow(2,7-e);var o=(this.getDist()-n)/32;this._pano.hideOverlays(),this._zoomChangeAni(0,o),i.xyoffset=i.basicxyoffset*Math.pow(2,-t)}},getdirNorth:function(t){this.scene.heading-=this.scene.dirNorth/180*Math.PI,this.scene.dirNorth=t.tiles.dirNorth,this.scene.heading+=t.tiles.dirNorth/180*Math.PI,this.scene.camPitch=t.tiles.pitch||0},_zoomChangeAni:function(t,e){var i=this;if(t<5)this.scene.dist+=e*Math.pow(2,t),this._drawZoomChange(),setTimeout(function(){i._zoomChangeAni(t+1,e)},0);else if(5==t){this.aniflag=!1;var n=this.scene.zoom;this.scene.dist=this.getDist(),this.scene.unit=16*Math.pow(2,n-2),this.scene.pow_1=Math.pow(2,n-1),this.scene.pow_2=Math.pow(2,n-2),this.scene.pow_clearlevel_zoom=Math.pow(2,7-n),this._pano.showOverlays(),this.refresh()}},povChangeAni:function(t,e){this.aniflag=!0;var i=this.scene;this.nextdata={data:t,assist:e};var n=this;e.lastMC,e.nextMC;n.nextdata.distance=0;var o=Math.cos((t.dir+i.dirNorth)/180*Math.PI),a=-Math.sin((t.dir+i.dirNorth)/180*Math.PI);o=0,a=0,this._pano.hideOverlays(),n._drawPovChange({index:1,deltax:o,deltaz:a})},drawComeingImage:function(t,e){if(!this.aniflag&&this.ifDataArrive)if(this.scene.scenezoom>1)this.refresh();else{var i=this.scene,n=i.unit,o=512/n,a=i.pow_clearlevel_zoom,r=Math.cos(i.pitch),s=Math.cos(i.heading),l=Math.sin(i.heading),h=-i.dist*r*s,c=i.dist*Math.sin(i.pitch),d=i.dist*r*l;i.Xsm=h,i.Ysm=c,i.Zsm=d,i.cosheading=s,i.sinheading=l;for(var u=0;u<o;u++)for(var p=0;p<o;p++){var _={x:u*n,y:p*n-1},g={x:u*n-1,y:p*n},m={x:u*n-1,y:p*n+n+1},f={x:u*n+n+1,y:p*n-1},v={x:u*n+n+1,y:p*n+n},y={x:u*n+n,y:p*n+n+1},b={point1:_,point2:m,point3:v},x={point1:g,point2:f,point3:y};if(0==u)var w=-1;else if(u==a-1)var w=1;if(0==p)var P=-1;else if(p==a-1)var P=1;this.drawTriLeftDown(b,t,e,i.zoom,w,P),this.drawTriRightUp(x,t,e,i.zoom,w,P)}}},_drawPovChange:function(t){var e=this.scene;this.cxt.clearRect(0,0,e.w,e.h);e.heading-=e.dirNorth/180*Math.PI,e.dirNorth=this.nextdata.assist.prenorth,e.heading+=e.dirNorth/180*Math.PI,this.presentPic=this.nextdata.data.image,this.aniflag=!1,this._pano.showOverlays(),this.refresh()},_aniPoint2DtoSphereto2D:function(t,e,i,n,o,a){var r=t.x,s=t.y,l={w:512,h:512},h=this.scene,c=(.5*t.x/l.w+e/2)*Math.PI*2,d=(.5-t.y/l.h)*Math.PI,u=(h.heading,h.dist),p=(h.pitch,Math.cos(d)),_=Math.sin(Math.abs(d));_<.4?_=.4:_>.98&&(_=h.poleroffset),c+=n*_,d+=o*_;var g=-p*Math.cos(c),m=Math.sin(d),f=p*Math.sin(c),v=h.cosheading,y=h.sinheading,b=h.Xsm,x=h.Ysm,w=h.Zsm,P=b*g+m*x+f*w;P<0&&(P=!1);var M=u*u/P,r=M*g,s=M*m,T=M*f,C=r-b,S=s-x,E=T-w,I=Math.pow(C,2)+Math.pow(S,2)+Math.pow(E,2),L=Math.sqrt(I);if(0==I)var A=0,B=0;else{var R=(C*y+E*v)/L;R>1?R=1:R<-1&&(R=-1);var D=Math.acos(R);C*v*x+S*y*w-S*v*b-E*x*y<0&&(D=2*Math.PI-D);var A=L*Math.cos(D),B=L*Math.sin(D)}return{x:h.w/2+A,y:h.h/2-B}},drawAniTriRightUp:function(t,e,i,n,o,a){var r=this.cxt,s=0,l=0,h=0,c=0,d=this.scene.xyoffset;n&&(1==n?l=d:-1==n&&(s=d)),o&&(-1==o?h=d:1==o&&(c=d));var u=this.scene.over,p=this._aniPoint2DtoSphereto2D(t.point1,e,i,-u-s,h,a);if(!p)return!1;var _=this._aniPoint2DtoSphereto2D(t.point2,e,i,u+l,u+h,a);if(!_)return!1;var g=this._aniPoint2DtoSphereto2D(t.point3,e,i,l,-u-c,a);if(!g)return!1;var m={point1:p,point2:_,point3:g};if(m){var f=m.point1,v=m.point2,y=m.point3;r.save(),r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(v.x,v.y),r.lineTo(y.x,y.y),r.closePath(),r.clip();var b=this.getTransMatrix(t,m);r.transform(b[0],b[1],b[2],b[3],b[4],b[5]),r.drawImage(this.presentPic[e],0,0),r.restore()}},drawAniTriLeftDown:function(t,e,i,n,o,a){var r=this.cxt,s=0,l=0,h=0,c=0,d=this.scene.xyoffset;n&&(1==n?l=d:-1==n&&(s=d)),o&&(-1==o?h=d:1==o&&(c=d));var u=this.scene.over,p=this._aniPoint2DtoSphereto2D(t.point1,e,i,-s,u+h,a);if(!p)return!1;var _=this._aniPoint2DtoSphereto2D(t.point2,e,i,-u-s,-u-c,a);if(!_)return!1;var g=this._aniPoint2DtoSphereto2D(t.point3,e,i,u+l,-c,a);if(!g)return!1;var m={point1:p,point2:_,point3:g};if(m){var f=m.point1,v=m.point2,y=m.point3;r.save(),r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(v.x,v.y),r.lineTo(y.x,y.y),r.closePath(),r.clip();var b=this.getTransMatrix(t,m);r.transform(b[0],b[1],b[2],b[3],b[4],b[5]),r.drawImage(this.presentPic[e],0,0),r.restore()}},dataLoad:function(){this.ifDataArrive=!1,this._pano.hideOverlays()},lowImageCome:function(){this.ifDataArrive=!0,this.refresh(),this._pano.showOverlays()},draw:function(t,e){if(this.ifDataArrive&&!this.aniflag){var i=this.scene;i.pitch=t.pitch/180*Math.PI-i.camPitch/180*Math.PI,i.heading=(t.heading+i.dirNorth)/180*Math.PI,i.heading>2*Math.PI?i.heading=i.heading-2*Math.PI:i.heading<0&&(i.heading=i.heading+2*Math.PI);var n=i.unit;this.cxt.clearRect(0,0,i.w,i.h);var o=(i.pow_1,i.pow_2,i.bound),a=o.uplimit,r=o.downlimit,s=o.leftlimit,l=o.rightlimit,h=l>s?l-s:64+l-s,c=i.pow_clearlevel_zoom,d=i.temoffset,u=Math.cos(i.pitch),p=Math.cos(i.heading),_=Math.sin(i.heading),g=-i.dist*u*p,m=i.dist*Math.sin(i.pitch),f=i.dist*u*_;i.Xsm=g,i.Ysm=m,i.Zsm=f,i.cosheading=p,i.sinheading=_;for(var v=0;v<h;v++)for(var y=a;y<r;y++){var b=v+s;b>63?b%=64:b<0&&(b+=64);var x=Math.floor(b/c),w=Math.floor(y/c),P=b%c,M=y%c,T={x:P*n,y:M*n-d},C={x:P*n-d,y:M*n},S={x:P*n-d,y:M*n+n+d},E={x:P*n+n+d,y:M*n-d},I={x:P*n+n+d,y:M*n+n},L={x:P*n+n,y:M*n+n+d},A={point1:T,point2:S,point3:I},B={point1:C,point2:E,point3:L};if(0==P)var R=-1;else if(P==c-1)var R=1;if(0==M)var D=-1;else if(M==c-1)var D=1;this.drawTriLeftDown(A,x,w,i.zoom,R,D),this.drawTriRightUp(B,x,w,i.zoom,R,D)}}},refresh:function(){if(this.ifDataArrive&&!this.aniflag){var t=this.scene,e=t.unit;this.cxt.clearRect(0,0,t.w,t.h);var i=(t.pow_1,t.pow_2,this.getBound()),n=i.uplimit,o=i.downlimit,a=i.leftlimit,r=i.rightlimit,s=r>a?r-a:64+r-a,l=t.pow_clearlevel_zoom,h=Math.cos(t.pitch),c=Math.cos(t.heading),d=Math.sin(t.heading),u=-t.dist*h*c,p=t.dist*Math.sin(t.pitch),_=t.dist*h*d;t.Xsm=u,t.Ysm=p,t.Zsm=_,t.cosheading=c,t.sinheading=d;for(var g=t.temoffset,m=0;m<s;m++)for(var f=n;f<o;f++){var v=m+a;v>63?v%=64:v<0&&(v+=64);var y=Math.floor(v/l),b=Math.floor(f/l),x=v%l,w=f%l,P={x:x*e,y:w*e-g},M={x:x*e-g,y:w*e},T={x:x*e-g,y:w*e+e+g},C={x:x*e+e+g,y:w*e-g},S={x:x*e+e+g,y:w*e+e},E={x:x*e+e,y:w*e+e+g},I={point1:P,point2:T,point3:S},L={point1:M,point2:C,point3:E};if(0==x)var A=-1;else if(x==l-1)var A=1;if(0==w)var B=-1;else if(w==l-1)var B=1;this.drawTriLeftDown(I,y,b,t.zoom,A,B),this.drawTriRightUp(L,y,b,t.zoom,A,B)}}},_drawZoomChange:function(){var t=this.scene;this.cxt.clearRect(0,0,t.w,t.h);var e=t.temoffset,i=Math.cos(t.pitch),n=Math.cos(t.heading),o=Math.sin(t.heading),a=-t.dist*i*n,r=t.dist*Math.sin(t.pitch),s=t.dist*i*o;t.Xsm=a,t.Ysm=r,t.Zsm=s,t.cosheading=n,t.sinheading=o;for(var l=0;l<16;l++)for(var h=0;h<16;h++){var c={x:32*l,y:32*h-e},d={x:32*l-e,y:32*h},u={x:32*l-e,y:32*h+32+e},p={x:32*l+32+e,y:32*h-e},_={x:32*l+32+e,y:32*h+32},g={x:32*l+32,y:32*h+32+e},m={point1:c,point2:u,point3:_},f={point1:d,point2:p,point3:g};if(0==l)var v=-1;else if(15==l)var v=1;if(0==h)var y=-1;else if(15==h)var y=1;this.drawAniTriLeftDown(m,0,2,v,y),this.drawAniTriRightUp(f,0,2,v,y),this.drawAniTriLeftDown(m,1,2,v,y),this.drawAniTriRightUp(f,1,2,v,y)}},getCoordbyPix:function(t,e){var i=this.scene,n=t-i.w/2,o=i.h/2-e,a=i.pitch+i.camPitch/180*Math.PI,r=i.heading-i.dirNorth/180*Math.PI,s=-i.dist*Math.cos(a)*Math.cos(r),l=i.dist*Math.sin(a),h=i.dist*Math.cos(a)*Math.sin(r),c=n*Math.sin(r),d=n*Math.cos(r),u=o*Math.sin(a)*Math.cos(r),o=o*Math.cos(a),p=-o*Math.sin(a)*Math.sin(r),_=s+c+u,g=l+o,m=h+d+p,f=this.getPov(_,g,m);if(g>2)return!1;var v=2.08/(2.08-g);return _*=v,m*=v,{X:_,Z:m,dist:Math.sqrt(Math.pow(_,2)+Math.pow(m,2)),scenedist:i.dist,heading:f.heading}},getBound:function(t){var e=this.scene;t&&(e.heading=(t.heading+e.dirNorth)/180*Math.PI,e.heading>2*Math.PI?e.heading=e.heading-2*Math.PI:e.heading<0&&(e.heading=e.heading+2*Math.PI),e.pitch=t.pitch/180*Math.PI-e.camPitch/180*Math.PI);var i=Math.cos(e.pitch),n=Math.sin(e.pitch),o=Math.cos(e.heading),a=Math.sin(e.heading),r=-e.dist*i*o,s=e.dist*n,l=e.dist*i*a,h=e.h/2*n*o,c=e.h/2*i,d=-e.h/2*n*a,u=-e.h/2*n*o,p=-e.h/2*i,_=e.h/2*n*a,g=-e.w/2*a,m=-e.w/2*o,f=e.w/2*a,v=e.w/2*o;if(e.pitch>0)var y=r+h+g,b=s+c+0,x=l+d+m,w=this.getPov(y,b,x),P=r+u,M=s+p,T=l+_,C=this.getPov(P,M,T),S=r+u+f,E=s+p+0,I=l+_+v,L=this.getPov(S,E,I);else var A=r+h,B=s+c,R=l+d,D=this.getPov(A,B,R),k=A+g,O=B+0,N=R+m,j=this.getPov(k,O,N),z=r+u+f,U=s+p+0,Y=l+_+v,W=this.getPov(z,U,Y);var H=Math.atan(e.h/2/e.dist);if(e.pitch+H>Math.PI/2)var V=0,G=C.pitch<L.pitch?C.pitch:L.pitch,F=Math.ceil(32*(Math.PI/2-G)/Math.PI);else if(e.pitch-H<-Math.PI/2)var q=D.pitch>j.pitch?D.pitch:j.pitch,V=Math.floor(32*(Math.PI/2-q)/Math.PI),F=32;else if(e.pitch>0)var V=Math.floor(32*(Math.PI/2-e.pitch-H)/Math.PI),G=C.pitch>L.pitch?L.pitch:C.pitch,F=Math.ceil(32*(Math.PI/2-G)/Math.PI);else var q=D.pitch>j.pitch?D.pitch:j.pitch,V=Math.floor(32*(Math.PI/2-q)/Math.PI),F=Math.ceil(32*(Math.PI/2-e.pitch+H)/Math.PI);if(Math.abs(e.pitch)>=Math.PI/2-H)var Z=0,X=64;else if(e.pitch>0){var Z=Math.floor(32*w.heading/Math.PI);if(e.heading>w.heading)var X=Math.ceil(32*(2*e.heading-w.heading)/Math.PI);else var X=Math.ceil(32*(2*e.heading+2*Math.PI-w.heading)/Math.PI)}else{var X=Math.ceil(32*W.heading/Math.PI);if(e.heading>W.heading)var Z=Math.floor(32*(2*e.heading-2*Math.PI-W.heading)/Math.PI);else var Z=Math.floor(32*(2*e.heading-W.heading)/Math.PI)}return Z<0&&(Z+=64),X>64&&(X-=64),F>32&&(F=32),V<0&&(V=0),e.bound={uplimit:V,downlimit:F,leftlimit:Z,rightlimit:X},{uplimit:V,downlimit:F,leftlimit:Z,rightlimit:X}},drawTriLeftDown:function(t,e,i,n,o,a){if(2==this.picArray[e][i].datastate){var r=this.cxt,s=0,l=0,h=0,c=0,d=this.scene.xyoffset;o&&(1==o?l=d:-1==o&&(s=d)),a&&(-1==a?h=d:1==a&&(c=d));var u=this.scene.over,p=this._point2DtoSphereto2D(t.point1,e,i,n,0,-s,u,h);if(!p)return!1;var _=this._point2DtoSphereto2D(t.point2,e,i,n,-u,-s,-u,-c);if(!_)return!1;var g=this._point2DtoSphereto2D(t.point3,e,i,n,u,l,0,-c);if(!g)return!1;var m={point1:p,point2:_,point3:g};if(m){var f=m.point1,v=m.point2,y=m.point3;r.save(),r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(v.x,v.y),r.lineTo(y.x,y.y),r.closePath(),r.clip();var b=this.getTransMatrix(t,m);r.transform(b[0],b[1],b[2],b[3],b[4],b[5]),r.drawImage(this.picArray[e][i].image,0,0)}}else{var r=this.cxt,s=0,l=0,h=0,c=0,d=1/128;o&&(1==o?l=d:-1==o&&(s=d)),a&&(-1==a?h=d:1==a&&(c=d));var u=1/128,p=this._point2DtoSphereto2D(t.point1,e,i,n,0,-s,u,h);if(!p)return!1;var _=this._point2DtoSphereto2D(t.point2,e,i,n,-u,-s,-u,-c);if(!_)return!1;var g=this._point2DtoSphereto2D(t.point3,e,i,n,u,l,0,-c);if(!g)return!1;var m={point1:p,point2:_,point3:g},f=m.point1,v=m.point2,y=m.point3;r.save(),r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(v.x,v.y),r.lineTo(y.x,y.y),r.closePath(),r.clip();var x=t.point1,w=t.point2,P=t.point3,M=(this.scene.pow_1,this.scene.pow_2),T=512*e,C=512*i;if(e>=M){t.point1={x:(T+x.x)/M-512,y:(C+x.y)/M},t.point2={x:(T+w.x)/M-512,y:(C+w.y)/M},t.point3={x:(T+P.x)/M-512,y:(C+P.y)/M};var b=this.getTransMatrix(t,m);r.transform(b[0],b[1],b[2],b[3],b[4],b[5]),r.drawImage(this.presentPic[1],0,0)}else{t.point1={x:(T+x.x)/M,y:(C+x.y)/M},t.point2={x:(T+w.x)/M,y:(C+w.y)/M},t.point3={x:(T+P.x)/M,y:(C+P.y)/M};var b=this.getTransMatrix(t,m);r.transform(b[0],b[1],b[2],b[3],b[4],b[5]),r.drawImage(this.presentPic[0],0,0)}}r.restore()},drawTriRightUp:function(t,e,i,n,o,a){if(2==this.picArray[e][i].datastate){var r=this.cxt,s=0,l=0,h=0,c=0,d=this.scene.xyoffset;o&&(1==o?l=d:-1==o&&(s=d)),a&&(-1==a?h=d:1==a&&(c=d));var u=this.scene.over,p=this._point2DtoSphereto2D(t.point1,e,i,n,-u,-s,0,h);if(!p)return!1;var _=this._point2DtoSphereto2D(t.point2,e,i,n,u,l,u,h);if(!_)return!1;var g=this._point2DtoSphereto2D(t.point3,e,i,n,0,l,-u,-c);if(!g)return!1;var m={point1:p,point2:_,point3:g},f=m.point1,v=m.point2,y=m.point3;r.save(),r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(v.x,v.y),r.lineTo(y.x,y.y),r.closePath(),r.clip();var b=this.getTransMatrix(t,m);r.transform(b[0],b[1],b[2],b[3],b[4],b[5]),r.drawImage(this.picArray[e][i].image,0,0)}else{var r=this.cxt,s=0,l=0,h=0,c=0,d=1/128;o&&(1==o?l=d:-1==o&&(s=d)),a&&(-1==a?h=d:1==a&&(c=d));var u=1/128,p=this._point2DtoSphereto2D(t.point1,e,i,n,-u,-s,0,h);if(!p)return!1;var _=this._point2DtoSphereto2D(t.point2,e,i,n,u,l,u,h);if(!_)return!1;var g=this._point2DtoSphereto2D(t.point3,e,i,n,0,l,-u,-c);if(!g)return!1;var m={point1:p,point2:_,point3:g},f=m.point1,v=m.point2,y=m.point3;r.save(),r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(v.x,v.y),r.lineTo(y.x,y.y),r.closePath(),r.clip();var x=t.point1,w=t.point2,P=t.point3,M=(this.scene.pow_1,this.scene.pow_2),T=512*e,C=512*i;if(e>=M){t.point1={x:(T+x.x)/M-512,y:(C+x.y)/M},t.point2={x:(T+w.x)/M-512,y:(C+w.y)/M},t.point3={x:(T+P.x)/M-512,y:(C+P.y)/M};var b=this.getTransMatrix(t,m);r.transform(b[0],b[1],b[2],b[3],b[4],b[5]),r.drawImage(this.presentPic[1],0,0)}else{t.point1={x:(T+x.x)/M,y:(C+x.y)/M},t.point2={x:(T+w.x)/M,y:(C+w.y)/M},t.point3={x:(T+P.x)/M,y:(C+P.y)/M};var b=this.getTransMatrix(t,m);r.transform(b[0],b[1],b[2],b[3],b[4],b[5]),r.drawImage(this.presentPic[0],0,0)}}r.restore()},_point2DtoSphereto2D:function(t,e,i,n,o,a,r,s){var l=t.x,h=t.y,c={w:512,h:512},d=this.scene,u=(1/d.pow_1*t.x/c.w+e/d.pow_1)*Math.PI*2,p=(.5-1/d.pow_2*t.y/c.h-i/d.pow_2)*Math.PI,_=Math.sin(Math.abs(p));_<.4?_=.4:_>.98&&(_=d.poleroffset),u+=(o+a)*_,p+=(r+s)*_;var g=(d.heading,d.dist),m=(d.pitch,Math.cos(p)),f=-m*Math.cos(u),v=Math.sin(p),y=m*Math.sin(u),b=d.cosheading,x=d.sinheading,w=d.Xsm,P=d.Ysm,M=d.Zsm,T=w*f+v*P+y*M;if(T<0)return!1;var C=g*g/T,l=C*f,h=C*v,S=C*y,E=l-w,I=h-P,L=S-M,A=Math.pow(E,2)+Math.pow(I,2)+Math.pow(L,2),B=Math.sqrt(A);if(0==A)var R=0,D=0;else{var k=(E*x+L*b)/B;k>1?k=1:k<-1&&(k=-1);var O=Math.acos(k);E*b*P+I*x*M-I*b*w-L*P*x<0&&(O=2*Math.PI-O);var R=B*Math.cos(O),D=B*Math.sin(O)}return{x:d.w/2+R,y:d.h/2-D}},getPovbyPoint:function(t){var e=this._pano.getPosition();if(e){var i=this.scene,n=i.heading,o=i.dist,a=i.pitch+i.camPitch/180*Math.PI;n-=i.dirNorth/180*Math.PI;var r=-(t.lat-e.lat)/180*Math.PI*6378137,s=(t.lng-e.lng)/180*Math.PI*6378137,l=Math.sqrt(Math.pow(r,2)+Math.pow(s,2)),h=Math.cos(a),c=Math.cos(n),d=Math.sin(n),u=-o*h*c,p=o*Math.sin(a),_=o*h*d,g=u*r+-2.08*p+s*_;if(g<0)return!1;var m=o*o/g,f=m*r,v=-2.08*m,y=m*s,b=f-u,x=v-p,w=y-_,P=Math.pow(b,2)+Math.pow(x,2)+Math.pow(w,2),M=Math.sqrt(P);if(0==P)var T=0,C=0;else{var S=(b*d+w*c)/M;S>1?S=1:S<-1&&(S=-1);var E=Math.acos(S);b*c*p+x*d*_-x*c*u-w*p*d<0&&(E=2*Math.PI-E);var T=M*Math.cos(E),C=M*Math.sin(E)}return{x:i.w/2+T,y:i.h/2-C,dist:l}}return!1},getPov:function(t,e,i){var n=Math.pow(t,2),o=Math.pow(e,2),a=Math.pow(i,2),r=Math.asin(e/Math.sqrt(n+o+a)),s=Math.sqrt(n+a);if(s<Math.abs(t)&&(s=Math.abs(t)),i>0)var l=Math.PI-Math.acos(t/Math.sqrt(n+a));else var l=Math.PI+Math.acos(t/Math.sqrt(n+a));return{heading:l,pitch:r}},getTransMatrix:function(t,e){var i=t.point1.x,n=t.point1.y,o=t.point2.x,a=t.point2.y,r=t.point3.x,s=t.point3.y,l=e.point1.x,h=e.point1.y,c=e.point2.x,d=e.point2.y,u=e.point3.x,p=e.point3.y,_=a-n,g=s-n,m=o-i,f=r-i,_=a-n,g=s-n,v=u-l,y=d-h,b=c-l,x=p-h,w=v*_-b*g,P=f*_-m*g,M=v*m-b*f,T=-P,C=x*_-y*g,S=P,E=y*f-x*m,I=P,L=[w/P,C/S,M/T,E/I];return L[4]=l-L[0]*i-L[2]*n,L[5]=h-L[3]*n-L[1]*i,L}}),CssRenderer.CACHE_SIZE=100;var imageCache={};if(baidu.extend(CssRenderer.prototype,{_bind:function(){var t=this,e=t._pano;e.addEventListener("size_changed",function(e){t._cachedData={}}),e.addEventListener("zoom_changed_inner",function(e){t._cachedData={}})},setData:function(t){this._data&&t&&t.id==this._data.id||(t?(this.keepOldTiles(),this._preId=this._data?this._data.id:null,this._preDirNorth=this._data?this._data.tiles.dirNorth:null,this._preHeading=this._heading||null):(this._preId=null,this._preDirNorth=null),this._thumbRendered=!1,this._cachedData={},this._data=t,this._heading=this._pano.getPov().heading)},keepOldTiles:function(){if(useThumb()){var t=this._pano._thumbContainer.style,e=this._pano._thumbContainer2.style;t.transition=t.WebkitTransition="",e.transition=e.WebkitTransition="",t.visibility=e.visibility="hidden",t.opacity=e.opacity="0"}for(var i in this._tileInDom)this._tileInDomOld[i]=this._tileInDom[i],this._tileInDomOld[i].style.zIndex="0"},render:function(t,e,i){if(this._data){var n,o,a,r,s,l,h,c,d=t.heading,u=t.pitch,p=this._pano;Math.ceil(c/i),Math.ceil(h/i);if(this._cachedData[this._data.id]){var _=this._cachedData[this._data.id];o=_.dirNorth,a=_.totalCols,r=_.totalRows,s=_.dirSingle,l=_.anglePerPixel,h=_.containerWidth,c=_.containerHeight}else n=this._data.tiles,o=n.dirNorth,h=p.getContainer().clientWidth,c=p.getContainer().clientHeight,a=n.getTotalCols(e),r=n.getTotalRows(e),s=360/a,l=360/(a*i),this._cachedData[this._data.id]={dirNorth:o,totalCols:a,totalRows:r,dirSingle:s,anglePerPixel:l,containerWidth:h,containerHeight:c},this._calcPitchLimit();this._preHeading=this._heading||null,this._heading=d,useThumb()&&this._showThumb(d,u,e,i,l,h,c,o,a,r),this._tileSize=i;var g=o+d,m=90-u,f=g/s,v=Math.floor(f),y=m/s,b=Math.floor(y),x=h/2,w=c/2,P=Math.round(x-g%s/l);v<0&&(P-=i);var M,T,C,S=Math.round(w-m%s/l);this._preDirNorth&&(M=this._preDirNorth+this._preHeading,T=Math.round(x-M%s/l),C=Math.floor(M/s)),C&&C<0&&(T-=i);var E=b-Math.ceil(S/i),I=b+Math.ceil((c-S-i)/i);E=E<0?0:E,I=I>r-1?r-1:I;for(var L=v-Math.ceil(P/i),A=v+Math.ceil((h-P-i)/i),B=[],R={},D=L;D<=A;D++)for(var k=E;k<=I;k++)B.push([D,k]),R[this._calcTileKey(this._data.id,D,k,e)]=!0;for(var O in this._tileInDom)if(!R[O]&&!this._tileInDomOld[O]){var N=this._tileInDom[O];N&&(N.style.display="none")}this._numImgToLoad+=B.length,B.sort(function(t){return function(e,i){return.4*Math.abs(e[0]-t[0])+.6*Math.abs(e[1]-t[1])-(.4*Math.abs(i[0]-t[0])+.6*Math.abs(i[1]-t[1]))}}([v,b]));for(var D=0;D<B.length;D++){var j=B[D][0],z=B[D][1];this._showTile(j,z,e,v,b,P,S,C,T)}this.cssScene.anglePerPixel=l,this.cssScene.width=h,this.cssScene.height=c,this.cssScene.heading=t.heading,this.cssScene.pitch=t.pitch}else{for(var O in this._tileInDom){var N=this._tileInDom[O];N&&N.parentNode&&N.parentNode.removeChild(N),delete this._tileInDom[O]}if(useThumb()){var U=this._pano._thumbContainer,Y=this._pano._thumbContainer2;U&&(U.src=Y.src="",U.style.visibility=Y.style.visibility="hidden")}}},_showThumb:function(t,e,i,n,o,a,r,s,l,h){var c=this._pano._thumbContainer,d=this._pano._thumbContainer2,u=this,p=[l*n,h*n];if(!this._thumbRendered||p!==this._curWorldSize){this._thumbRendered=!0,c.style.transition=c.style.WebkitTransition=d.style.transition=d.style.WebkitTransition="opacity 300ms ease-out",c.style.width=d.style.width=p[0]+"px",c.style.height=d.style.height=p[1]+"px",c.style.backgroundSize=d.style.backgroundSize=p[0]+"px, "+p[1]+"px",c.style.left=Math.round((0-s-t)/o+a/2)+"px",d.style.left=parseInt(c.style.left)+p[0]+"px",c.onload=function(){-1!=this.src.indexOf("pos=0_0&z=1")&&u._pano.dispatchEvent(new BaseEvent("onthumbnail_complete"))};var _="//mapsv0.bdimg.com/scape/?qt=pdata&sid="+this._data.id+"&pos=0_0&z=1";c.src!=_&&(c.src=d.src=_)}this._curWorldSize=p;var g=Math.round((0-s-t)%360/o+a/2);c.style.top=d.style.top=Math.round(-(90-e)/o+r/2)+"px",g>0&&g-p[0]<0?(c.style.left=g+"px",d.style.left=parseInt(c.style.left)-p[0]+"px"):g-p[0]>=0?(d.style.left=g-p[0]+"px",c.style.left=parseInt(d.style.left)-p[0]+"px"):g+p[0]<a&&g+p[0]>=0?(c.style.left=g+"px",d.style.left=parseInt(c.style.left)+p[0]+"px"):g+p[0]<0?(d.style.left=g+p[0]+"px",c.style.left=parseInt(d.style.left)+p[0]+"px"):(c.style.left=g+"px",d.style.left=g+p[0]+"px")},_showTile:function(t,e,i,n,o,a,r,s,l){var h=this._data.tiles,c=this._tileSize,d=h.getTotalCols(i),u=this._calcTileKey(this._preId,t,e,i),p=this._tileInDomOld[u];if(p){var _=p.style;s=s||n,l=l||a,_.top=Math.round((e-o)*c+r)+"px",_.left=Math.round((t-s)*c+l)+"px",_.width=_.height=Math.ceil(c)+"px"}var g=this._calcTileKey(this._data.id,t,e,i),m=this._tileInDom[g];if(m){var f=m.style;return f.top=Math.round((e-o)*c+r)+"px",f.left=Math.round((t-n)*c+a)+"px",f.width=f.height=Math.ceil(c)+"px",f.zIndex="2",f.display="",this._checkTilesLoaded(),m._tileInfo.x=t,void(m._tileInfo.y=e)}m=this._imgPool.getImage(),m.setAttribute("errorCount",0);for(var v=t;v<0;)v=d+v;v=(v+d)%d;var y=h.getTilesUrl(this._data.id,new Pixel(v,e),i),b=this;m.onload=function(){b._checkTilesLoaded(),b._tileContainer.appendChild(this),m.style.opacity="1"},m.onerror=function(){var t=this,e=t.getAttribute("errorCount");e<3?(e++,setTimeout(function(){t.src=y},100),t.setAttribute("errorCount",e)):b._checkTilesLoaded()};var f=m.style;f.position="absolute",f.zIndex="2",f.border="none",f.display="",f.WebkitUserSelect="none",f.WebkitUserDrag="none",f.width=f.height=Math.ceil(c)+"px",f.top=Math.round((e-o)*c+r)+"px",f.left=Math.round((t-n)*c+a)+"px",f.opacity="0",f.transition=f.WebkitTransition="opacity 300ms ease-out",m.src=y,m.width>0&&(f.opacity="1"),m._tileInfo={id:this._data.id,zoom:i,x:t,y:e},m.ontouchstart=function(t){t.preventDefault()},this._tileInDom[g]=m},_hideTile:function(t){var e=this._tileInDom[t];e&&(delete e._tileInfo,e.onerror=e.onload=e.ontouchstart=null,e.style.display="none"),delete this._tileInDom[t],delete this._tileInDomOld[t],this._imgPool.freeImage(e),e=null},setZoom:function(t,e){var i=this._imageZoom;this._imageZoom=e,i!=this._imageZoom&&this.keepOldTiles()},resize:function(){this._cachedData={}},_checkTilesLoaded:function(){var t=this;if(0==--this._numImgToLoad){for(var e in this._tileInDomOld)!function(){var i=e;setTimeout(function(){t._hideTile(i)},300)}();this._pano.dispatchEvent(new BaseEvent("ontilesloaded"))}},_calcTileKey:function(t,e,i,n){var o=this._data.tiles.getTotalCols(n),a=(e+o)%o;return 0==n&&(a=(e+2*o)%(2*o)),t+"_"+a+"_"+i+"_"+n},getOverlayProject:function(t){var e=this.cssScene,i=this._pano.getPosition();if(i){var n=-(t.lat-i.lat)/180*Math.PI*6378137,o=(t.lng-i.lng)/180*Math.PI*6378137,a=Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),r=e.heading%360-e.anglePerPixel*e.width/2,s=e.pitch+e.anglePerPixel*e.height/2,l=this.getPov(n,-2.08,o),h=l.heading%360/Math.PI*180-r,c=s-l.pitch/Math.PI*180;return{x:h/e.anglePerPixel,y:c/e.anglePerPixel,dist:a}}return!1},getPov:function(t,e,i){var n=Math.pow(t,2),o=Math.pow(e,2),a=Math.pow(i,2),r=Math.asin(e/Math.sqrt(n+o+a)),s=Math.sqrt(n+a);if(s<Math.abs(t)&&(s=Math.abs(t)),i>0)var l=Math.PI-Math.acos(t/Math.sqrt(n+a));else var l=Math.PI+Math.acos(t/Math.sqrt(n+a));return{heading:l,pitch:r}},_calcPitchLimit:function(){var t=this._pano,e=t.getContainerSize().height/2,i=this._cachedData[this._data.id].anglePerPixel,n=e*i;t.setPitchLimit(-90+n,90-n)}}),PanoramaLinksRenderer.ARROW_PATH=[[0,-11],[4,-6.5],[2,-6.5],[2,-3],[-2,-3],[-2,-6.5],[-4,-6.5]],PanoramaLinksRenderer.HIT_PATH=[[5,-2],[5,-12],[-5,-12],[-5,-2]],PanoramaLinksRenderer.ARROW_PATH_VML=[[0,-110],[40,-65],[20,-65],[20,-30],[-20,-30],[-20,-65],[-40,-65]],PanoramaLinksRenderer.HIT_PATH_VML=[[45,-20],[45,-120],[-45,-120],[-45,-20]],PanoramaLinksRenderer.DIR_TEXT=["北","东北","东","东南","南","西南","西","西北","北"],baidu.extend(PanoramaLinksRenderer.prototype,{_createSvg:function(){var t=create("svg",{version:"1.1",overflow:"hidden"},"http://www.w3.org/2000/svg"),e=this._pano,i=e.getContainer().clientWidth,n=e.getContainer().clientHeight;return this._svg=t,this._containerX=i,this._containerY=n,this._offsetLeft=e.getContainer().offsetLeft||0,this._offsetTop=e.getContainer().offsetTop||0,this._setSvgSize(i,n),t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.WebkitUserSelect=t.style.MsUserSelect=t.style.MozUserSelect="none",e._linksContainer.appendChild(t),isSvg()&&"cvsRender"==this._pano.getRenderType()&&this.setLongJump(t),t},setLongJump:function(t){var e=this,i=create("ellipse",{fill:"white","fill-rule":"evenodd","fill-opacity":"0.4",cx:"100",cy:"100",rx:"20",ry:"20"},"http://www.w3.org/2000/svg");i.setAttribute("visibility","hidden"),this.ellipse=i,t.appendChild(i);var n=this._pano.getContainer();baidu.on(n,"mousedown",function(t){e.mouseDownTime=(new Date).valueOf(),e.saveDown(t.offsetX||t.layerX||0,t.offsetY||t.layerY||0)}),baidu.on(n,"mouseup",function(t){(new Date).valueOf()-e.mouseDownTime<200&&e.longJumpflag&&e._pano._opts.visible&&e.click(),e.mouseDownTime=0}),baidu.on(n,"mousemove",function(t){e.saveMove(t.offsetX||t.layerX||0,t.offsetY||t.layerY||0),e.setEllipse(t.offsetX||t.layerX||0,t.offsetY||t.layerY||0)}),baidu.browser.firefox?baidu.on(n,"mouseout",function(t){var i=t.clientX||t.pageX||0,n=t.clientY||t.pageY||0;i-=e._offsetLeft,n-=e._offsetTop,(Math.abs(Math.abs(i-e._containerX/2)-e._containerX/2)<40||Math.abs(Math.abs(n-e._containerY/2)-e._containerY/2)<40)&&e.ellipse.setAttribute("visibility","hidden")}):baidu.on(n,"mouseout",function(t){e.ellipse.setAttribute("visibility","hidden")}),e._pano.addEventListener("hide_ellipse",function(){e.mouseonme=!0}),e._pano.addEventListener("show_ellipse",function(){e.mouseonme=!1})},_createCanvas:function(){var t=create("canvas"),e=this._pano,i=e.getContainer().clientWidth,n=e.getContainer().clientHeight;this._canvas=t,t.width=i,t.height=n;var o=t.style;return o.position="absolute",o.top=o.left="0",o.width=i+"px",o.height=n+"px",o.WebkitTapHighlightColor="rgba(0, 0, 0, 0)",e._linksContainer.appendChild(t),t},_createVml:function(){var t=this._pano.getContainer(),e=t.clientWidth,i=t.clientHeight,n=['<v:group style="behavior:url(#default#VML);z-index:1;width:',e+"px;height:"+i+'px;position:absolute;left:0;top:0;"','coordsize="'+e+","+i+'" ','coordorigin="-'+e/2+",-"+.75*i+'">',"</v:group>"].join("");return beforeEndHTML(this._pano._linksContainer,n)},_bind:function(){var t=this,e=t._pano;e.addEventListener("size_changed",function(e){var i=e.size;t.setSize(i.width,i.height),t._cachedData={}}),e.addEventListener("zoom_changed_inner",function(e){t._cachedData={}})},setSize:function(t,e){if(isSvg())this._setSvgSize(t,e);else if(isCanvas()){var i=this._canvas;i.width=t,i.height=e,i.style.width=t+"px",i.style.height=e+"px"}},_setSvgSize:function(t,e){this._svg&&(this._svg.setAttribute("width",t+"px"),this._svg.setAttribute("height",e+"px"),this._svg.setAttribute("viewBox","0 0 "+t+" "+e),this._containerX=t,this._containerY=e)},setData:function(t){this._data=t},render:function(t,e,i,n){if(!this._data)return void(isSvg()?this._prepareDoms(null,[]):(this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._hitPoints.length=0));this._pov=t,this._zoom=e,this._tileSize=i;var o,a,r,s,l,h,c,d=(t.heading+360)%360,u=t.pitch,p=this._pano,r=this._data.tiles;if(this._cachedData[this._data.id]){var _=this._cachedData[this._data.id];o=_.containerWidth,a=_.containerHeight,s=_.totalCols,l=_.totalRows,h=_.dirSingle,c=_.anglePerPixel}else o=p.getContainer().clientWidth,a=p.getContainer().clientHeight,s=r.getTotalCols(e),l=r.getTotalRows(e),h=360/s,c=360/(s*i),this._cachedData[this._data.id]={containerWidth:o,containerHeight:a,totalCols:s,totalRows:l,dirSingle:h,anglePerPixel:c};var g=p.getZoom()+1,m=.75*a+u/c*1/g;m<a/2&&(m=a/2);var f=90-u,v=f/200,y=10;isSvg()?this._prepareDoms(this._data.id,this._data.links):isCanvas()?(this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._data.id!=this._id&&(this._hitPoints.length=0)):isVml()&&(y=36,this._prepareVmlDoms(this._data.id,this._data.links));for(var b=0;b<this._data.links.length;b++){var x=this._data.links[b].dir-d;x=(360+x)%360;var w=o/2+50*Math.sin(toRadian(x)),P=m-60*Math.cos(toRadian(x))*v;if(isSvg())this._drawArrow(b,[o/2,m],[y,y*v],x),this._drawText(b,[w,P]);else if(isCanvas()){var M="#444";n==b&&(M=this.ARROW_HIGHLIGHT_COLOR),this._drawArrowCanvas([o/2,m+3],[y,y*v],x,"#000",.4),this._drawArrowCanvas([o/2,m],[y,y*v],x,"#fff",.95,M),this._drawTextCanvas(b,[w,P],M);var T=[o/2+60*Math.sin(toRadian(x)),m-50*Math.cos(toRadian(x))*v];this._hitPoints[b]=[Math.round(T[0]),Math.round(T[1])]}else if(isVml()){var C=1;-30<u&&(C=80>u- -30?C+Math.tan(toRadian(u- -30)):C+6);var S=-Math.sin(toRadian(Math.min(u,-30)))/C;this._vmlGroup.coordorigin=Math.round(-o/2)+","+Math.round(40-m),this._drawArrowVml(b,x,S)}}},_prepareDoms:function(t,e){if(t!=this._id){if(this._id=t,linksCount=e.length,linksCount>this._arrowDoms.length){for(var i=linksCount-this._arrowDoms.length,n=this._svg,o=0;o<i;o++){var a=create("path",{fill:"black","fill-rule":"evenodd","fill-opacity":"0.4",stroke:"none"},"http://www.w3.org/2000/svg"),r=create("path",{fill:"white","fill-rule":"evenodd","fill-opacity":"0.9",stroke:"#444","stroke-width":"0.2","stroke-linecap":"round"},"http://www.w3.org/2000/svg"),s=["M"],l=PanoramaLinksRenderer.ARROW_PATH;s.push(l[0][0]),
s.push(l[0][1]);for(var h=1;h<l.length;h++)s.push("L"),s.push(l[h][0]),s.push(l[h][1]);s.push(l[0][0]),s.push(l[0][1]),a.setAttribute("d",s.join(" ")),this._arrowShadowDoms.push(a),n.appendChild(a),r.setAttribute("d",s.join(" ")),this._arrowDoms.push(r),n.appendChild(r);var c=create("text",{fill:"#444","fill-rule":"evenodd",stroke:"none","font-size":"16px","font-family":"arial","text-anchor":"middle","alignment-baseline":"middle"},"http://www.w3.org/2000/svg");c.style.WebkitUserSelect=c.style.MsUserSelect=c.style.MozUserSelect="none",this._textDoms.push(c),n.appendChild(c);var d=create("path",{fill:"white","fill-rule":"evenodd","fill-opacity":"0",stroke:"none",cursor:"pointer"},"http://www.w3.org/2000/svg"),u=this;d._arrowDom=r,d._textDom=c,d.style.MozUserSelect="none";var p=["M"],_=PanoramaLinksRenderer.HIT_PATH;for(p.push(_[0][0]),p.push(_[0][1]),h=1;h<_.length;h++)p.push("L"),p.push(_[h][0]),p.push(_[h][1]);d.setAttribute("d",p.join(" "));var g=isMobile()?"touchstart":"mousedown";baidu.on(d,g,function(t){u._touchStartPov={heading:u._pov.heading,pitch:u._pov.pitch},u._curHit=this,this._arrowDom.setAttribute("stroke",u.ARROW_HIGHLIGHT_COLOR),this._textDom.setAttribute("fill",u.ARROW_HIGHLIGHT_COLOR),preventDefault(t)}),this._hitDoms.push(d),n.appendChild(d),baidu.on(d,"mousemove",function(t){u.mouseonme=!0}),baidu.on(d,"mouseout",function(t){u.mouseonme=!1})}var m=isMobile()?"touchend":"mouseup";baidu.on(this._pano._container,m,function(t){if(u._curHit){if(u._pov.heading==u._touchStartPov.heading&&u._pov.pitch==u._touchStartPov.pitch){var e=u._curHit.getAttribute("sid");e&&(u._pano.dispatchEvent(new BaseEvent("onlinkclick")),u._pano.setId(e)),u._touchStartX=u._touchStartY=null}u._curHit._arrowDom.setAttribute("stroke","#444"),u._curHit._textDom.setAttribute("fill","#444"),u._touchStartPov=null,u._curHit=null,t.stopPropagation()}})}for(var o=0;o<this._arrowDoms.length;o++){var f="";if(o<linksCount){var v=this._textDoms[o];v.childNodes.length>0&&v.removeChild(v.childNodes[0]);var c=this._getDirText(e[o].dir);v.appendChild(document.createTextNode(c)),this._hitDoms[o].setAttribute("sid",e[o].id)}else f="none";this._arrowDoms[o].style.display=f,this._arrowShadowDoms[o].style.display=f,this._textDoms[o].style.display=f,this._hitDoms[o].style.display=f}}},_bindCanvasClickEvent:function(){var t=this,e=t._pano;baidu.on(this._canvas,"touchstart",function(e){t._touchStartPov={heading:t._pov.heading,pitch:t._pov.pitch};var i=getPosition(t._canvas),n=e.touches[0].clientX-i.left,o=e.touches[0].clientY-i.top;t._hitLinkIndex=t.getHitLinkIndex(n,o),t.render(t._pov,t._zoom,t._tileSize,t._hitLinkIndex)}),baidu.on(this._canvas,"touchend",function(i){t._pov.heading==t._touchStartPov.heading&&t._pov.pitch==t._touchStartPov.pitch&&t._data.links[t._hitLinkIndex]&&(e.dispatchEvent(new BaseEvent("onlinkclick")),e.setId(t._data.links[t._hitLinkIndex].id)),t._hitLinkIndex=null})},getHitLinkIndex:function(t,e){for(var i=0;i<this._hitPoints.length;i++)if(Math.abs(t-this._hitPoints[i][0])<30&&Math.abs(e-this._hitPoints[i][1])<30)return i;return-1},_prepareVmlDoms:function(t,e){if(t!=this._id){if(this._id=t,linksCount=e.length,linksCount>this._arrowDoms.length)for(var i=linksCount-this._arrowDoms.length,n=(this._svg,0);n<i;n++){for(var o=[],a=PanoramaLinksRenderer.ARROW_PATH_VML,r=0;r<a.length;r++)o.push(a[r][0]),o.push(a[r][1]);o.push(a[0][0]),o.push(a[0][1]);var s=["<v:polyline ",'points="'+o.join(" ")+'"',' style="behavior:url(#default#VML);z-index:1;left:0;top:0;" stroked="false">','<v:fill style="behavior:url(#default#VML)" color="black" opacity="0.5"></v:fill>','<v:skew style="behavior:url(#default#VML)" on="true" origin="0,1.5" matrix="1,0,0,1,0,0" offset="0,0.05"></v:skew>',"</v:polyline>"].join(""),l=beforeEndHTML(this._vmlGroup,s);this._arrowShadowDoms.push(l),this._arrowShadowSkewDoms.push(l.getElementsByTagName("skew")[0]);var h=["<v:polyline ",'points="'+o.join(" ")+'"','fillcolor="white" stroked="true" strokecolor="#444" strokeweight="1" ',' style="behavior:url(#default#VML);z-index:2;left:0;top:0;">','<v:fill style="behavior:url(#default#VML)" color="white" opacity="1"></v:fill>','<v:skew style="behavior:url(#default#VML)" on="true" origin="0,1.5" matrix="1,0,0,1,0,0" offset="0,0"></v:skew>',"</v:polyline>"].join(""),c=beforeEndHTML(this._vmlGroup,h);this._arrowDoms.push(c),this._arrowSkewDoms.push(c.getElementsByTagName("skew")[0]);var d=[],u=PanoramaLinksRenderer.HIT_PATH_VML;for(r=0;r<u.length;r++)d.push(u[r][0]),d.push(u[r][1]);var p=['<v:polyline style="cursor:pointer;z-index:3;behavior:url(#default#VML);"',' points="'+d.join(" ")+'" stroked="false">','<v:fill style="behavior:url(#default#VML);" color="white" opacity="0"></v:fill>','<v:skew style="behavior:url(#default#VML);" on="true" origin="0,1.2" ','matrix="1,0,0,1,0,0"></v:skew>',"</v:polyline>"].join(""),_=beforeEndHTML(this._vmlGroup,p),g=this;baidu.on(_,"click",function(t){var e=t.srcElement.sid;e&&g._pano.setId(e)}),this._hitDoms.push(_),this._hitSkewDoms.push(_.getElementsByTagName("skew")[0])}for(var n=0;n<this._arrowDoms.length;n++){var m="";n<linksCount?this._hitDoms[n].sid=e[n].id:m="none",this._arrowDoms[n].style.display=m,this._arrowShadowDoms[n].style.display=m,this._hitDoms[n].style.display=m}}},_drawArrow:function(t,e,i,n){this._arrowDoms[t]&&(this._arrowDoms[t].setAttribute("transform","translate("+e[0]+" "+e[1]+")scale("+i[0]+" "+i[1]+")rotate("+n+")"),this._arrowShadowDoms[t].setAttribute("transform","translate("+e[0]+" "+(e[1]+4)+")scale("+i[0]+" "+i[1]+")rotate("+n+")"),this._hitDoms[t].setAttribute("transform","translate("+e[0]+" "+e[1]+")scale("+i[0]+" "+i[1]+")rotate("+n+")"))},_drawText:function(t,e){this._textDoms[t].setAttribute("transform","translate("+e[0]+" "+e[1]+")")},_drawArrowVml:function(t,e,i,n){this._applyToDom(this._arrowSkewDoms[t],e,0,i),this._applyToDom(this._arrowShadowSkewDoms[t],e,.6,i),this._applyToDom(this._hitSkewDoms[t],e,0,i)},_applyToDom:function(t,e,i,n){var o=toRadian(e);e=Math.cos(o),o=Math.sin(o),t.matrix=[Number(e).toFixed(4),Number(-o).toFixed(4),Number(o*n).toFixed(4),Number(e*n).toFixed(4),0,0].join(),t.offset="0,"+Math.round(50*i)/1e3},_drawArrowCanvas:function(t,e,i,n,o,a){var r=this._ctx;r.save(),r.fillStyle=n,r.globalAlpha=o,r.translate(t[0],t[1]),r.scale(e[0],e[1]),r.rotate(toRadian(i)),r.beginPath();var s=PanoramaLinksRenderer.ARROW_PATH;r.moveTo(s[0][0],s[0][1]);for(var l=1;l<s.length;l++)r.lineTo(s[l][0],s[l][1]);r.closePath(),r.fill(),a&&(r.lineWidth="0.2",r.lineCap="round",r.lineJoin="round",r.strokeStyle=a,r.stroke()),r.restore()},_drawTextCanvas:function(t,e,i){var n=this._ctx;n.save();var o=this._getDirText(this._data.links[t].dir);n.font="16px sans-serif",n.textAlign="center",n.textBaseline="middle",n.fillStyle=i,n.fillText(o,e[0],e[1]),n.restore()},_getDirText:function(t){t=(t+360)%360;var e=Math.ceil(Math.floor(t/22.5)/2);return PanoramaLinksRenderer.DIR_TEXT[e]},goByTouchingOnRoad:function(){return 0},click:function(){var t=this;if(!(Math.abs(t.downX-t.moveX)>2||Math.abs(t.downY-t.downY)>2)){var e=this.coord;if(e){for(var i=this._data,n=i.links,o=this.getHeading(e.X,e.Z),a=30,r=0,s=0;s<n.length;s++){var l=n[s].dir-o;r=Math.abs(l)>180?n[s].dir>o?360+o-n[s].dir:360-o+n[s].dir:Math.abs(l),r<a&&(s,a=r)}if(a<29){var h=this._pano.getPosition(),c=h.lat-180*e.X/Math.PI/6378137,d=h.lng+180*e.Z/Math.PI/6378137;this._pano.setPosition(new Point(d,c))}}}},saveDown:function(t,e){this.downX=t,this.downY=e},saveMove:function(t,e){this.moveX=t,this.moveY=e},setEllipse:function(t,e){coord=this._pano.scene.getCoordbyPix(t,e),this.coord=coord;var i=this.ellipse;if(coord&&!this.mouseonme&&this._pano._opts.visible){i.setAttribute("cx",t),i.setAttribute("cy",e);var n=Math.abs(2*coord.scenedist/(coord.dist-2)-2*coord.scenedist/(coord.dist+2))/2,o=2*coord.scenedist/coord.dist;if(coord.dist>4){if(o>100){var a=o/100;o=100,n/=a,n>o&&(n=o)}i.setAttribute("rx",o),i.setAttribute("ry",n),i.setAttribute("visibility","visible"),this.longJumpflag=!0}else this.longJumpflag=!1,i.setAttribute("visibility","hidden")}else this.longJumpflag=!1,i.setAttribute("visibility","hidden")},getHeading:function(t,e){var i=0;return t>0?i=Math.atan(e/t)/Math.PI*180:t<0?i=Math.atan(e/t)/Math.PI*180+180:0==t&&(i=e>0?90:-90),heading=180-i,heading>360?heading-=360:heading<0&&(heading+=360),heading},hide:function(){this._linkVisible=!1,this._pano._linksContainer&&(this._pano._linksContainer.style.visibility="hidden")},show:function(){this._linkVisible=!0,this._pano._linksContainer&&(this._pano._linksContainer.style.visibility="visible")},enableClickOnRoad:function(){this._enableClickOnRoad=!0},disableClickOnRoad:function(){this._enableClickOnRoad=!1}}),!GLMAT_EPSILON)var GLMAT_EPSILON=1e-6;if(!GLMAT_ARRAY_TYPE)var GLMAT_ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array;if(!GLMAT_RANDOM)var GLMAT_RANDOM=Math.random;var glMatrix={};glMatrix.setMatrixArrayType=function(t){GLMAT_ARRAY_TYPE=t},"undefined"!=typeof exports&&(exports.glMatrix=glMatrix);var degree=Math.PI/180;glMatrix.toRadian=function(t){return t*degree};var vec2={};vec2.create=function(){var t=new GLMAT_ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},vec2.clone=function(t){var e=new GLMAT_ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},vec2.fromValues=function(t,e){var i=new GLMAT_ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},vec2.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},vec2.set=function(t,e,i){return t[0]=e,t[1]=i,t},vec2.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},vec2.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},vec2.sub=vec2.subtract,vec2.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},vec2.mul=vec2.multiply,vec2.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},vec2.div=vec2.divide,vec2.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},vec2.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},vec2.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},vec2.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},vec2.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)},vec2.dist=vec2.distance,vec2.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n},vec2.sqrDist=vec2.squaredDistance,vec2.length=function(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)},vec2.len=vec2.length,vec2.squaredLength=function(t){var e=t[0],i=t[1];return e*e+i*i},vec2.sqrLen=vec2.squaredLength,vec2.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},vec2.normalize=function(t,e){var i=e[0],n=e[1],o=i*i+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t},vec2.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},vec2.cross=function(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t},vec2.lerp=function(t,e,i,n){var o=e[0],a=e[1];return t[0]=o+n*(i[0]-o),t[1]=a+n*(i[1]-a),t},vec2.random=function(t,e){e=e||1;var i=2*GLMAT_RANDOM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t},vec2.transformMat2=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o,t[1]=i[1]*n+i[3]*o,t},vec2.transformMat2d=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t},vec2.transformMat3=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[3]*o+i[6],t[1]=i[1]*n+i[4]*o+i[7],t},vec2.transformMat4=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[4]*o+i[12],t[1]=i[1]*n+i[5]*o+i[13],t},vec2.forEach=function(){var t=vec2.create();return function(e,i,n,o,a,r){var s,l;for(i||(i=2),n||(n=0),l=o?Math.min(o*i+n,e.length):e.length,s=n;s<l;s+=i)t[0]=e[s],t[1]=e[s+1],a(t,t,r),e[s]=t[0],e[s+1]=t[1];return e}}(),vec2.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},"undefined"!=typeof exports&&(exports.vec2=vec2);var vec3={};vec3.create=function(){var t=new GLMAT_ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},vec3.clone=function(t){var e=new GLMAT_ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},vec3.fromValues=function(t,e,i){var n=new GLMAT_ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=i,n},vec3.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},vec3.set=function(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t},vec3.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},vec3.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t},vec3.sub=vec3.subtract,vec3.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t},vec3.mul=vec3.multiply,vec3.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t},vec3.div=vec3.divide,vec3.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t},vec3.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t},vec3.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},vec3.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t},vec3.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(i*i+n*n+o*o)},vec3.dist=vec3.distance,vec3.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return i*i+n*n+o*o},vec3.sqrDist=vec3.squaredDistance,vec3.length=function(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)},vec3.len=vec3.length,vec3.squaredLength=function(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n},vec3.sqrLen=vec3.squaredLength,vec3.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},vec3.normalize=function(t,e){var i=e[0],n=e[1],o=e[2],a=i*i+n*n+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t},vec3.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},vec3.cross=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=i[0],s=i[1],l=i[2];return t[0]=o*l-a*s,t[1]=a*r-n*l,t[2]=n*s-o*r,t},vec3.lerp=function(t,e,i,n){var o=e[0],a=e[1],r=e[2];return t[0]=o+n*(i[0]-o),t[1]=a+n*(i[1]-a),t[2]=r+n*(i[2]-r),t},vec3.random=function(t,e){e=e||1;var i=2*GLMAT_RANDOM()*Math.PI,n=2*GLMAT_RANDOM()-1,o=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(i)*o,t[1]=Math.sin(i)*o,t[2]=n*e,t},vec3.transformMat4=function(t,e,i){var n=e[0],o=e[1],a=e[2];return t[0]=i[0]*n+i[4]*o+i[8]*a+i[12],t[1]=i[1]*n+i[5]*o+i[9]*a+i[13],t[2]=i[2]*n+i[6]*o+i[10]*a+i[14],t},vec3.transformMat3=function(t,e,i){var n=e[0],o=e[1],a=e[2];return t[0]=n*i[0]+o*i[3]+a*i[6],t[1]=n*i[1]+o*i[4]+a*i[7],t[2]=n*i[2]+o*i[5]+a*i[8],t},vec3.transformQuat=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=i[0],s=i[1],l=i[2],h=i[3],c=h*n+s*a-l*o,d=h*o+l*n-r*a,u=h*a+r*o-s*n,p=-r*n-s*o-l*a;return t[0]=c*h+p*-r+d*-l-u*-s,t[1]=d*h+p*-s+u*-r-c*-l,t[2]=u*h+p*-l+c*-s-d*-r,t},vec3.rotateX=function(t,e,i,n){var o=[],a=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],a[0]=o[0],a[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),a[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=a[0]+i[0],t[1]=a[1]+i[1],t[2]=a[2]+i[2],t},vec3.rotateY=function(t,e,i,n){var o=[],a=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],a[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),a[1]=o[1],a[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=a[0]+i[0],t[1]=a[1]+i[1],t[2]=a[2]+i[2],t},vec3.rotateZ=function(t,e,i,n){var o=[],a=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],a[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),a[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),a[2]=o[2],t[0]=a[0]+i[0],t[1]=a[1]+i[1],t[2]=a[2]+i[2],t},vec3.forEach=function(){var t=vec3.create();return function(e,i,n,o,a,r){var s,l;for(i||(i=3),n||(n=0),l=o?Math.min(o*i+n,e.length):e.length,s=n;s<l;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,r),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),vec3.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},"undefined"!=typeof exports&&(exports.vec3=vec3);var vec4={};vec4.create=function(){var t=new GLMAT_ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},vec4.clone=function(t){var e=new GLMAT_ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},vec4.fromValues=function(t,e,i,n){var o=new GLMAT_ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o},vec4.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},vec4.set=function(t,e,i,n,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t},vec4.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t},vec4.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t},vec4.sub=vec4.subtract,vec4.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t},vec4.mul=vec4.multiply,vec4.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t},vec4.div=vec4.divide,vec4.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t},vec4.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t},vec4.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},vec4.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t},vec4.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(i*i+n*n+o*o+a*a)},vec4.dist=vec4.distance,vec4.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return i*i+n*n+o*o+a*a},vec4.sqrDist=vec4.squaredDistance,vec4.length=function(t){var e=t[0],i=t[1],n=t[2],o=t[3];return Math.sqrt(e*e+i*i+n*n+o*o)},vec4.len=vec4.length,vec4.squaredLength=function(t){var e=t[0],i=t[1],n=t[2],o=t[3];return e*e+i*i+n*n+o*o},vec4.sqrLen=vec4.squaredLength,vec4.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},vec4.normalize=function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=i*i+n*n+o*o+a*a;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r),t},vec4.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},vec4.lerp=function(t,e,i,n){var o=e[0],a=e[1],r=e[2],s=e[3];return t[0]=o+n*(i[0]-o),t[1]=a+n*(i[1]-a),t[2]=r+n*(i[2]-r),t[3]=s+n*(i[3]-s),t},vec4.random=function(t,e){return e=e||1,t[0]=GLMAT_RANDOM(),t[1]=GLMAT_RANDOM(),t[2]=GLMAT_RANDOM(),t[3]=GLMAT_RANDOM(),vec4.normalize(t,t),vec4.scale(t,t,e),t},vec4.transformMat4=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3];return t[0]=i[0]*n+i[4]*o+i[8]*a+i[12]*r,t[1]=i[1]*n+i[5]*o+i[9]*a+i[13]*r,t[2]=i[2]*n+i[6]*o+i[10]*a+i[14]*r,t[3]=i[3]*n+i[7]*o+i[11]*a+i[15]*r,t},vec4.transformQuat=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=i[0],s=i[1],l=i[2],h=i[3],c=h*n+s*a-l*o,d=h*o+l*n-r*a,u=h*a+r*o-s*n,p=-r*n-s*o-l*a;return t[0]=c*h+p*-r+d*-l-u*-s,t[1]=d*h+p*-s+u*-r-c*-l,t[2]=u*h+p*-l+c*-s-d*-r,t},vec4.forEach=function(){var t=vec4.create();return function(e,i,n,o,a,r){var s,l;for(i||(i=4),n||(n=0),l=o?Math.min(o*i+n,e.length):e.length,s=n;s<l;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,r),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),vec4.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!=typeof exports&&(exports.vec4=vec4);var mat2={};mat2.create=function(){var t=new GLMAT_ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},mat2.clone=function(t){var e=new GLMAT_ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},mat2.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},mat2.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},mat2.transpose=function(t,e){if(t===e){var i=e[1];t[1]=e[2],t[2]=i}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},mat2.invert=function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=i*a-o*n;return r?(r=1/r,t[0]=a*r,t[1]=-n*r,t[2]=-o*r,t[3]=i*r,t):null},mat2.adjoint=function(t,e){var i=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=i,t},mat2.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},mat2.multiply=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=i[0],l=i[1],h=i[2],c=i[3];return t[0]=n*s+a*l,t[1]=o*s+r*l,t[2]=n*h+a*c,t[3]=o*h+r*c,t},mat2.mul=mat2.multiply,mat2.rotate=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l+a*s,t[1]=o*l+r*s,t[2]=n*-s+a*l,t[3]=o*-s+r*l,t},mat2.scale=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=i[0],l=i[1];return t[0]=n*s,t[1]=o*s,t[2]=a*l,t[3]=r*l,t},mat2.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},mat2.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},mat2.LDU=function(t,e,i,n){return t[2]=n[2]/n[0],i[0]=n[0],i[1]=n[1],i[3]=n[3]-t[2]*i[1],[t,e,i]},"undefined"!=typeof exports&&(exports.mat2=mat2);var mat2d={};mat2d.create=function(){var t=new GLMAT_ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},mat2d.clone=function(t){var e=new GLMAT_ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},mat2d.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mat2d.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},mat2d.invert=function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=e[4],s=e[5],l=i*a-n*o;return l?(l=1/l,t[0]=a*l,t[1]=-n*l,t[2]=-o*l,t[3]=i*l,t[4]=(o*s-a*r)*l,t[5]=(n*r-i*s)*l,t):null},mat2d.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},mat2d.multiply=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=e[4],l=e[5],h=i[0],c=i[1],d=i[2],u=i[3],p=i[4],_=i[5];return t[0]=n*h+a*c,t[1]=o*h+r*c,t[2]=n*d+a*u,t[3]=o*d+r*u,t[4]=n*p+a*_+s,t[5]=o*p+r*_+l,t},mat2d.mul=mat2d.multiply,mat2d.rotate=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=e[4],l=e[5],h=Math.sin(i),c=Math.cos(i);return t[0]=n*c+a*h,t[1]=o*c+r*h,t[2]=n*-h+a*c,t[3]=o*-h+r*c,t[4]=s,t[5]=l,t},mat2d.scale=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=e[4],l=e[5],h=i[0],c=i[1];return t[0]=n*h,t[1]=o*h,t[2]=a*c,t[3]=r*c,t[4]=s,t[5]=l,t},mat2d.translate=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=e[4],l=e[5],h=i[0],c=i[1];return t[0]=n,t[1]=o,t[2]=a,t[3]=r,t[4]=n*h+a*c+s,t[5]=o*h+r*c+l,t},mat2d.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},mat2d.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},"undefined"!=typeof exports&&(exports.mat2d=mat2d);var mat3={};mat3.create=function(){var t=new GLMAT_ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},mat3.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},mat3.clone=function(t){var e=new GLMAT_ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},mat3.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},mat3.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},mat3.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},mat3.invert=function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=e[4],s=e[5],l=e[6],h=e[7],c=e[8],d=c*r-s*h,u=-c*a+s*l,p=h*a-r*l,_=i*d+n*u+o*p;return _?(_=1/_,t[0]=d*_,t[1]=(-c*n+o*h)*_,t[2]=(s*n-o*r)*_,t[3]=u*_,t[4]=(c*i-o*l)*_,t[5]=(-s*i+o*a)*_,t[6]=p*_,t[7]=(-h*i+n*l)*_,t[8]=(r*i-n*a)*_,t):null},mat3.adjoint=function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=e[4],s=e[5],l=e[6],h=e[7],c=e[8];return t[0]=r*c-s*h,t[1]=o*h-n*c,t[2]=n*s-o*r,t[3]=s*l-a*c,t[4]=i*c-o*l,t[5]=o*a-i*s,t[6]=a*h-r*l,t[7]=n*l-i*h,t[8]=i*r-n*a,t},mat3.determinant=function(t){var e=t[0],i=t[1],n=t[2],o=t[3],a=t[4],r=t[5],s=t[6],l=t[7],h=t[8];return e*(h*a-r*l)+i*(-h*o+r*s)+n*(l*o-a*s)},mat3.multiply=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=e[4],l=e[5],h=e[6],c=e[7],d=e[8],u=i[0],p=i[1],_=i[2],g=i[3],m=i[4],f=i[5],v=i[6],y=i[7],b=i[8];return t[0]=u*n+p*r+_*h,t[1]=u*o+p*s+_*c,t[2]=u*a+p*l+_*d,t[3]=g*n+m*r+f*h,t[4]=g*o+m*s+f*c,t[5]=g*a+m*l+f*d,t[6]=v*n+y*r+b*h,t[7]=v*o+y*s+b*c,t[8]=v*a+y*l+b*d,t},mat3.mul=mat3.multiply,mat3.translate=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=e[4],l=e[5],h=e[6],c=e[7],d=e[8],u=i[0],p=i[1];return t[0]=n,t[1]=o,t[2]=a,t[3]=r,t[4]=s,t[5]=l,t[6]=u*n+p*r+h,t[7]=u*o+p*s+c,t[8]=u*a+p*l+d,t},mat3.rotate=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=e[4],l=e[5],h=e[6],c=e[7],d=e[8],u=Math.sin(i),p=Math.cos(i);return t[0]=p*n+u*r,t[1]=p*o+u*s,t[2]=p*a+u*l,t[3]=p*r-u*n,t[4]=p*s-u*o,t[5]=p*l-u*a,t[6]=h,t[7]=c,t[8]=d,t},mat3.scale=function(t,e,i){var n=i[0],o=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},mat3.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},mat3.fromQuat=function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=i+i,s=n+n,l=o+o,h=i*r,c=n*r,d=n*s,u=o*r,p=o*s,_=o*l,g=a*r,m=a*s,f=a*l;return t[0]=1-d-_,t[3]=c-f,t[6]=u+m,t[1]=c+f,t[4]=1-h-_,t[7]=p-g,t[2]=u-m,t[5]=p+g,t[8]=1-h-d,t},mat3.normalFromMat4=function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=e[4],s=e[5],l=e[6],h=e[7],c=e[8],d=e[9],u=e[10],p=e[11],_=e[12],g=e[13],m=e[14],f=e[15],v=i*s-n*r,y=i*l-o*r,b=i*h-a*r,x=n*l-o*s,w=n*h-a*s,P=o*h-a*l,M=c*g-d*_,T=c*m-u*_,C=c*f-p*_,S=d*m-u*g,E=d*f-p*g,I=u*f-p*m,L=v*I-y*E+b*S+x*C-w*T+P*M;return L?(L=1/L,t[0]=(s*I-l*E+h*S)*L,t[1]=(l*C-r*I-h*T)*L,t[2]=(r*E-s*C+h*M)*L,t[3]=(o*E-n*I-a*S)*L,t[4]=(i*I-o*C+a*T)*L,t[5]=(n*C-i*E-a*M)*L,t[6]=(g*P-m*w+f*x)*L,t[7]=(m*b-_*P-f*y)*L,t[8]=(_*w-g*b+f*v)*L,t):null},mat3.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},mat3.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},"undefined"!=typeof exports&&(exports.mat3=mat3);var mat4={};mat4.create=function(){var t=new GLMAT_ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},mat4.clone=function(t){var e=new GLMAT_ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},mat4.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},mat4.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},mat4.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],o=e[3],a=e[6],r=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=o,t[13]=r,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},mat4.invert=function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=e[4],s=e[5],l=e[6],h=e[7],c=e[8],d=e[9],u=e[10],p=e[11],_=e[12],g=e[13],m=e[14],f=e[15],v=i*s-n*r,y=i*l-o*r,b=i*h-a*r,x=n*l-o*s,w=n*h-a*s,P=o*h-a*l,M=c*g-d*_,T=c*m-u*_,C=c*f-p*_,S=d*m-u*g,E=d*f-p*g,I=u*f-p*m,L=v*I-y*E+b*S+x*C-w*T+P*M;return L?(L=1/L,t[0]=(s*I-l*E+h*S)*L,t[1]=(o*E-n*I-a*S)*L,t[2]=(g*P-m*w+f*x)*L,t[3]=(u*w-d*P-p*x)*L,t[4]=(l*C-r*I-h*T)*L,t[5]=(i*I-o*C+a*T)*L,t[6]=(m*b-_*P-f*y)*L,t[7]=(c*P-u*b+p*y)*L,t[8]=(r*E-s*C+h*M)*L,t[9]=(n*C-i*E-a*M)*L,t[10]=(_*w-g*b+f*v)*L,t[11]=(d*b-c*w-p*v)*L,t[12]=(s*T-r*S-l*M)*L,t[13]=(i*S-n*T+o*M)*L,t[14]=(g*y-_*x-m*v)*L,t[15]=(c*x-d*y+u*v)*L,t):null},mat4.adjoint=function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=e[4],s=e[5],l=e[6],h=e[7],c=e[8],d=e[9],u=e[10],p=e[11],_=e[12],g=e[13],m=e[14],f=e[15];return t[0]=s*(u*f-p*m)-d*(l*f-h*m)+g*(l*p-h*u),t[1]=-(n*(u*f-p*m)-d*(o*f-a*m)+g*(o*p-a*u)),t[2]=n*(l*f-h*m)-s*(o*f-a*m)+g*(o*h-a*l),t[3]=-(n*(l*p-h*u)-s*(o*p-a*u)+d*(o*h-a*l)),t[4]=-(r*(u*f-p*m)-c*(l*f-h*m)+_*(l*p-h*u)),t[5]=i*(u*f-p*m)-c*(o*f-a*m)+_*(o*p-a*u),t[6]=-(i*(l*f-h*m)-r*(o*f-a*m)+_*(o*h-a*l)),t[7]=i*(l*p-h*u)-r*(o*p-a*u)+c*(o*h-a*l),t[8]=r*(d*f-p*g)-c*(s*f-h*g)+_*(s*p-h*d),t[9]=-(i*(d*f-p*g)-c*(n*f-a*g)+_*(n*p-a*d)),t[10]=i*(s*f-h*g)-r*(n*f-a*g)+_*(n*h-a*s),t[11]=-(i*(s*p-h*d)-r*(n*p-a*d)+c*(n*h-a*s)),t[12]=-(r*(d*m-u*g)-c*(s*m-l*g)+_*(s*u-l*d)),t[13]=i*(d*m-u*g)-c*(n*m-o*g)+_*(n*u-o*d),t[14]=-(i*(s*m-l*g)-r*(n*m-o*g)+_*(n*l-o*s)),t[15]=i*(s*u-l*d)-r*(n*u-o*d)+c*(n*l-o*s),t},mat4.determinant=function(t){var e=t[0],i=t[1],n=t[2],o=t[3],a=t[4],r=t[5],s=t[6],l=t[7],h=t[8],c=t[9],d=t[10],u=t[11],p=t[12],_=t[13],g=t[14],m=t[15];return(e*r-i*a)*(d*m-u*g)-(e*s-n*a)*(c*m-u*_)+(e*l-o*a)*(c*g-d*_)+(i*s-n*r)*(h*m-u*p)-(i*l-o*r)*(h*g-d*p)+(n*l-o*s)*(h*_-c*p)},mat4.multiply=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=e[4],l=e[5],h=e[6],c=e[7],d=e[8],u=e[9],p=e[10],_=e[11],g=e[12],m=e[13],f=e[14],v=e[15],y=i[0],b=i[1],x=i[2],w=i[3];return t[0]=y*n+b*s+x*d+w*g,t[1]=y*o+b*l+x*u+w*m,t[2]=y*a+b*h+x*p+w*f,t[3]=y*r+b*c+x*_+w*v,y=i[4],b=i[5],x=i[6],w=i[7],t[4]=y*n+b*s+x*d+w*g,t[5]=y*o+b*l+x*u+w*m,t[6]=y*a+b*h+x*p+w*f,t[7]=y*r+b*c+x*_+w*v,y=i[8],b=i[9],x=i[10],w=i[11],t[8]=y*n+b*s+x*d+w*g,t[9]=y*o+b*l+x*u+w*m,t[10]=y*a+b*h+x*p+w*f,t[11]=y*r+b*c+x*_+w*v,y=i[12],b=i[13],x=i[14],w=i[15],t[12]=y*n+b*s+x*d+w*g,t[13]=y*o+b*l+x*u+w*m,t[14]=y*a+b*h+x*p+w*f,t[15]=y*r+b*c+x*_+w*v,t},mat4.mul=mat4.multiply,mat4.translate=function(t,e,i){var n,o,a,r,s,l,h,c,d,u,p,_,g=i[0],m=i[1],f=i[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*f+e[12],t[13]=e[1]*g+e[5]*m+e[9]*f+e[13],t[14]=e[2]*g+e[6]*m+e[10]*f+e[14],t[15]=e[3]*g+e[7]*m+e[11]*f+e[15]):(n=e[0],o=e[1],a=e[2],r=e[3],s=e[4],l=e[5],h=e[6],c=e[7],d=e[8],u=e[9],p=e[10],_=e[11],t[0]=n,t[1]=o,t[2]=a,t[3]=r,t[4]=s,t[5]=l,t[6]=h,t[7]=c,t[8]=d,t[9]=u,t[10]=p,t[11]=_,t[12]=n*g+s*m+d*f+e[12],t[13]=o*g+l*m+u*f+e[13],t[14]=a*g+h*m+p*f+e[14],t[15]=r*g+c*m+_*f+e[15]),t},mat4.scale=function(t,e,i){var n=i[0],o=i[1],a=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},mat4.rotate=function(t,e,i,n){var o,a,r,s,l,h,c,d,u,p,_,g,m,f,v,y,b,x,w,P,M,T,C,S,E=n[0],I=n[1],L=n[2],A=Math.sqrt(E*E+I*I+L*L);return Math.abs(A)<GLMAT_EPSILON?null:(A=1/A,E*=A,I*=A,L*=A,o=Math.sin(i),a=Math.cos(i),r=1-a,s=e[0],l=e[1],h=e[2],c=e[3],d=e[4],u=e[5],p=e[6],_=e[7],g=e[8],m=e[9],f=e[10],v=e[11],y=E*E*r+a,b=I*E*r+L*o,x=L*E*r-I*o,w=E*I*r-L*o,P=I*I*r+a,M=L*I*r+E*o,T=E*L*r+I*o,C=I*L*r-E*o,S=L*L*r+a,t[0]=s*y+d*b+g*x,t[1]=l*y+u*b+m*x,t[2]=h*y+p*b+f*x,t[3]=c*y+_*b+v*x,t[4]=s*w+d*P+g*M,t[5]=l*w+u*P+m*M,t[6]=h*w+p*P+f*M,t[7]=c*w+_*P+v*M,t[8]=s*T+d*C+g*S,t[9]=l*T+u*C+m*S,t[10]=h*T+p*C+f*S,t[11]=c*T+_*C+v*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},mat4.rotateX=function(t,e,i){var n=Math.sin(i),o=Math.cos(i),a=e[4],r=e[5],s=e[6],l=e[7],h=e[8],c=e[9],d=e[10],u=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*o+h*n,t[5]=r*o+c*n,t[6]=s*o+d*n,t[7]=l*o+u*n,t[8]=h*o-a*n,t[9]=c*o-r*n,t[10]=d*o-s*n,t[11]=u*o-l*n,t},mat4.rotateY=function(t,e,i){var n=Math.sin(i),o=Math.cos(i),a=e[0],r=e[1],s=e[2],l=e[3],h=e[8],c=e[9],d=e[10],u=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o-h*n,t[1]=r*o-c*n,t[2]=s*o-d*n,t[3]=l*o-u*n,t[8]=a*n+h*o,t[9]=r*n+c*o,t[10]=s*n+d*o,t[11]=l*n+u*o,t},mat4.rotateZ=function(t,e,i){var n=Math.sin(i),o=Math.cos(i),a=e[0],r=e[1],s=e[2],l=e[3],h=e[4],c=e[5],d=e[6],u=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o+h*n,t[1]=r*o+c*n,t[2]=s*o+d*n,t[3]=l*o+u*n,t[4]=h*o-a*n,t[5]=c*o-r*n,t[6]=d*o-s*n,t[7]=u*o-l*n,t},mat4.fromRotationTranslation=function(t,e,i){
var n=e[0],o=e[1],a=e[2],r=e[3],s=n+n,l=o+o,h=a+a,c=n*s,d=n*l,u=n*h,p=o*l,_=o*h,g=a*h,m=r*s,f=r*l,v=r*h;return t[0]=1-(p+g),t[1]=d+v,t[2]=u-f,t[3]=0,t[4]=d-v,t[5]=1-(c+g),t[6]=_+m,t[7]=0,t[8]=u+f,t[9]=_-m,t[10]=1-(c+p),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},mat4.fromQuat=function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=i+i,s=n+n,l=o+o,h=i*r,c=n*r,d=n*s,u=o*r,p=o*s,_=o*l,g=a*r,m=a*s,f=a*l;return t[0]=1-d-_,t[1]=c+f,t[2]=u-m,t[3]=0,t[4]=c-f,t[5]=1-h-_,t[6]=p+g,t[7]=0,t[8]=u+m,t[9]=p-g,t[10]=1-h-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},mat4.frustum=function(t,e,i,n,o,a,r){var s=1/(i-e),l=1/(o-n),h=1/(a-r);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*l,t[6]=0,t[7]=0,t[8]=(i+e)*s,t[9]=(o+n)*l,t[10]=(r+a)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=r*a*2*h,t[15]=0,t},mat4.perspective=function(t,e,i,n,o){var a=1/Math.tan(e/2),r=1/(n-o);return t[0]=a/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*r,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*r,t[15]=0,t},mat4.ortho=function(t,e,i,n,o,a,r){var s=1/(e-i),l=1/(n-o),h=1/(a-r);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+i)*s,t[13]=(o+n)*l,t[14]=(r+a)*h,t[15]=1,t},mat4.lookAt=function(t,e,i,n){var o,a,r,s,l,h,c,d,u,p,_=e[0],g=e[1],m=e[2],f=n[0],v=n[1],y=n[2],b=i[0],x=i[1],w=i[2];return Math.abs(_-b)<GLMAT_EPSILON&&Math.abs(g-x)<GLMAT_EPSILON&&Math.abs(m-w)<GLMAT_EPSILON?mat4.identity(t):(c=_-b,d=g-x,u=m-w,p=1/Math.sqrt(c*c+d*d+u*u),c*=p,d*=p,u*=p,o=v*u-y*d,a=y*c-f*u,r=f*d-v*c,p=Math.sqrt(o*o+a*a+r*r),p?(p=1/p,o*=p,a*=p,r*=p):(o=0,a=0,r=0),s=d*r-u*a,l=u*o-c*r,h=c*a-d*o,p=Math.sqrt(s*s+l*l+h*h),p?(p=1/p,s*=p,l*=p,h*=p):(s=0,l=0,h=0),t[0]=o,t[1]=s,t[2]=c,t[3]=0,t[4]=a,t[5]=l,t[6]=d,t[7]=0,t[8]=r,t[9]=h,t[10]=u,t[11]=0,t[12]=-(o*_+a*g+r*m),t[13]=-(s*_+l*g+h*m),t[14]=-(c*_+d*g+u*m),t[15]=1,t)},mat4.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},mat4.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},"undefined"!=typeof exports&&(exports.mat4=mat4);var quat={};quat.create=function(){var t=new GLMAT_ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},quat.rotationTo=function(){var t=vec3.create(),e=vec3.fromValues(1,0,0),i=vec3.fromValues(0,1,0);return function(n,o,a){var r=vec3.dot(o,a);return r<-.999999?(vec3.cross(t,e,o),vec3.length(t)<1e-6&&vec3.cross(t,i,o),vec3.normalize(t,t),quat.setAxisAngle(n,t,Math.PI),n):r>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(vec3.cross(t,o,a),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+r,quat.normalize(n,n))}}(),quat.setAxes=function(){var t=mat3.create();return function(e,i,n,o){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-i[0],t[5]=-i[1],t[8]=-i[2],quat.normalize(e,quat.fromMat3(e,t))}}(),quat.clone=vec4.clone,quat.fromValues=vec4.fromValues,quat.copy=vec4.copy,quat.set=vec4.set,quat.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},quat.setAxisAngle=function(t,e,i){i*=.5;var n=Math.sin(i);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(i),t},quat.add=vec4.add,quat.multiply=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=i[0],l=i[1],h=i[2],c=i[3];return t[0]=n*c+r*s+o*h-a*l,t[1]=o*c+r*l+a*s-n*h,t[2]=a*c+r*h+n*l-o*s,t[3]=r*c-n*s-o*l-a*h,t},quat.mul=quat.multiply,quat.scale=vec4.scale,quat.rotateX=function(t,e,i){i*=.5;var n=e[0],o=e[1],a=e[2],r=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l+r*s,t[1]=o*l+a*s,t[2]=a*l-o*s,t[3]=r*l-n*s,t},quat.rotateY=function(t,e,i){i*=.5;var n=e[0],o=e[1],a=e[2],r=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l-a*s,t[1]=o*l+r*s,t[2]=a*l+n*s,t[3]=r*l-o*s,t},quat.rotateZ=function(t,e,i){i*=.5;var n=e[0],o=e[1],a=e[2],r=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l+o*s,t[1]=o*l-n*s,t[2]=a*l+r*s,t[3]=r*l-a*s,t},quat.calculateW=function(t,e){var i=e[0],n=e[1],o=e[2];return t[0]=i,t[1]=n,t[2]=o,t[3]=-Math.sqrt(Math.abs(1-i*i-n*n-o*o)),t},quat.dot=vec4.dot,quat.lerp=vec4.lerp,quat.slerp=function(t,e,i,n){var o,a,r,s,l,h=e[0],c=e[1],d=e[2],u=e[3],p=i[0],_=i[1],g=i[2],m=i[3];return a=h*p+c*_+d*g+u*m,a<0&&(a=-a,p=-p,_=-_,g=-g,m=-m),1-a>1e-6?(o=Math.acos(a),r=Math.sin(o),s=Math.sin((1-n)*o)/r,l=Math.sin(n*o)/r):(s=1-n,l=n),t[0]=s*h+l*p,t[1]=s*c+l*_,t[2]=s*d+l*g,t[3]=s*u+l*m,t},quat.invert=function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=i*i+n*n+o*o+a*a,s=r?1/r:0;return t[0]=-i*s,t[1]=-n*s,t[2]=-o*s,t[3]=a*s,t},quat.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},quat.length=vec4.length,quat.len=quat.length,quat.squaredLength=vec4.squaredLength,quat.sqrLen=quat.squaredLength,quat.normalize=vec4.normalize,quat.fromMat3=function(t,e){var i,n=e[0]+e[4]+e[8];if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[7]-e[5])*i,t[1]=(e[2]-e[6])*i,t[2]=(e[3]-e[1])*i;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var a=(o+1)%3,r=(o+2)%3;i=Math.sqrt(e[3*o+o]-e[3*a+a]-e[3*r+r]+1),t[o]=.5*i,i=.5/i,t[3]=(e[3*r+a]-e[3*a+r])*i,t[a]=(e[3*a+o]+e[3*o+a])*i,t[r]=(e[3*r+o]+e[3*o+r])*i}return t},quat.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!=typeof exports&&(exports.quat=quat),GLCircle.STEP=6,baidu.extend(GLCircle.prototype,{initVertex:function(){var t,e,n=GLCircle.STEP;for(this._facesVertex.push(0,-20,0),i=0;i<360;i+=n)t=Math.cos(toRadian(i))*this._radius,e=Math.sin(toRadian(i))*this._radius,this._facesVertex.push(t,-20,e)},initFacesIndices:function(){for(var t=(this._facesVertex.length-3)/3,e=1;e<t;e++)this._facesVertexIndice.push(0,e,e+1);this._facesVertexIndice.push(0,e,1)},getFacesIndices:function(){return 0==this._facesVertexIndice.length&&this.initFacesIndices(),this._facesVertexIndice}}),GLRing.STEP=6,baidu.extend(GLRing.prototype,{initVertex:function(){for(var t,e,i=GLRing.STEP,n=0;n<360;n+=i)t=Math.cos(toRadian(n))*this._innerRadius,e=Math.sin(toRadian(n))*this._innerRadius,this._facesVertex.push(t,-20,e);for(n=0;n<360;n+=i)t=Math.cos(toRadian(n))*this._radius,e=Math.sin(toRadian(n))*this._radius,this._facesVertex.push(t,-20,e)},initFacesIndices:function(){var t=this._facesVertex.length/3/2;for(i=0;i<t-1;i++)this._facesVertexIndice.push(i,i+t+1,i+t),this._facesVertexIndice.push(i,i+1,i+t+1);this._facesVertexIndice.push(i,t,i+t),this._facesVertexIndice.push(i,0,t)},getFacesIndices:function(){return 0==this._facesVertexIndice.length&&this.initFacesIndices(),this._facesVertexIndice}}),GLSphere.H_SEGS=64,GLSphere.V_SEGS=33,baidu.extend(GLSphere.prototype,{initSphereVertex:function(){if(!(this._facesVertex.length>0)){for(var t,e=GLSphere.H_SEGS,i=GLSphere.V_SEGS,n=this._radius,o=360/e,a=180/(i-1),r=[],s=e/this._cols,l=e/s,h=[],c=0,d=0,u=0;u<i;u++){var p=Math.cos(toRadian(u*a-90))*n;p=Math.round(100*p)/100;var _=Math.sin(toRadian(u*a-90))*n;_=Math.round(100*_)/100,c=Math.floor(u/s);for(var g=0;g<e;g++){var m=Math.cos(toRadian(g*o))*p,f=Math.sin(toRadian(g*o))*p;if(m=Math.round(100*m)/100,f=Math.round(100*f)/100,r.push(m,_,f),d=Math.floor(g/s),t=d+c*l,c<this._rows&&(this._facesVertex[t]||(this._facesVertex[t]=[]),this._facesVertex[t].push(m,_,f)),c>0&&u%s==0){var v=d+(c-1)*l;this._facesVertex[v].length;this._facesVertex[v].push(m,_,f),g>0&&g%s==0&&this._facesVertex[v-1]&&this._facesVertex[v-1].push(m,_,f),g==e-1&&this._facesVertex[v].push(h[0],h[1],h[2])}0==d&&0==g&&(h=[m,_,f]),g>0&&g%s==0&&this._facesVertex[t-1]&&this._facesVertex[t-1].push(m,_,f),c<this._rows&&g==e-1&&this._facesVertex[t].push(h[0],h[1],h[2])}}this._sphereVerticesOriginal=r}},initSphereFacesIndices:function(){var t=GLSphere.H_SEGS,e=GLSphere.V_SEGS,i=t/this._cols,n=(this._rows,i+1);this._facesVertex[this._facesVertex.length/2];for(var o=0;o<i;o++)for(var a=0;a<i;a++){var r=o*n,s=r+a+1,l=r+a+1+n;this._facesVertexIndiceMiddle.push(r+a,s,l),s=r+a+1+n,this._facesVertexIndiceMiddle.push(r+a,s,r+n+a)}return this._facesVertexIndiceMiddle},generateTextureCoord:function(t,e,i){var n=this._facesVertex[Math.round(this._facesVertex.length/2)];if(n){for(var o=[],a=Math.pow(2,5-t),r=e%a,s=i%a,l=GLSphere.H_SEGS/this._cols,h=1/l,c=1/((GLSphere.V_SEGS-1)/this._rows),d=0;d<n.length/3;d++){var u=d%(l+1)*h,p=Math.floor(d/(l+1))*c;u=u/a+1*r/a,p=p/a+1*s/a,1===t&&(p*=2),o.push(u,p)}return o}},getFaceIndex:function(t){var e=0,i=0,n=t[0],o=t[1],a=t[2],r=Math.round(180*Math.atan(Math.abs(a)/Math.abs(n))/Math.PI);n>0?a<0&&(r=360-r):r=a>0?180-r:180+r,i=o>this._x3?7:o>this._x2?6:o>this._x1?5:o>0?4:o>-this._x1?3:o>-this._x2?2:o>-this._x3?1:0;var e=Math.floor(r/22.5),s=GLSphere.H_SEGS;return[e,i,e+i*(s/(s/this._cols))]}}),PanoramaTileGLRenderer.VS_SHADER_TEXT="attribute vec3 aVertexPosition;\nattribute vec2 aVertexTextureCoordBack;\nattribute vec2 aVertexTextureCoord;\nvarying mediump vec2 vTextureCoordBack;\nvarying mediump vec2 vTextureCoord;\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nvoid main(void) {\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoordBack = aVertexTextureCoordBack;\n    vTextureCoord = aVertexTextureCoord;\n}",PanoramaTileGLRenderer.FS_SHADER_TEXT="precision mediump float;\nvarying vec2 vTextureCoordBack;\nvarying vec2 vTextureCoord;\nuniform sampler2D uSamplerBack;\nuniform sampler2D uSampler;\nuniform bool uDrawThumb;\nuniform bool uDrawBack;\nuniform float uAlpha;\nvoid main(void) {\n    if (uDrawThumb) {\n        gl_FragColor = texture2D(uSamplerBack, vTextureCoordBack);\n        return;\n    }\n    if (uAlpha == 1.0) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n    if (uDrawBack) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha + texture2D(uSamplerBack, vTextureCoordBack) * (1.0 - uAlpha);\n    } else {\n        vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n        gl_FragColor =  vec4(textureColor.rgb, textureColor.a * uAlpha);\n    }\n}",baidu.extend(PanoramaTileGLRenderer.prototype,{_genImgColsRowsInfo:function(){this._imgColsRows=[];for(var t=2;t<=5;t++)this._imgColsRows[t]={cols:Math.pow(2,t-1),rows:Math.pow(2,t-1)/2};this._imgColsRows[1]={cols:1,rows:1}},_init:function(){this._createCanvas(),this._gl=this._canvas.getContext("webgl",{alpha:!1}),this._webglState=WebGLState.get(this._gl,this._pano.guid),this._initShaders(),this._setupWebGL(),this._getAllUniforms(),this._getAttribLocation(),this._prepareData(),this._webglState.initAttribute()},_createCanvas:function(){var t=this._canvas=create("canvas"),e=this._canvas.style,i=this._pano._container,n=i.clientWidth,o=i.clientHeight;e.width=n+"px",e.height=o+"px",this._width=t.width=n*this._ratio,this._height=t.height=o*this._ratio,this._pano._tileContainer.appendChild(this._canvas)},_setupWebGL:function(){var t=this._gl,e=this._canvas;t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.disable(t.DEPTH_TEST),t.enable(t.BLEND),t.depthMask(!0),t.viewport(0,0,e.width,e.height)},resize:function(){var t=this._pano._container,e=t.clientWidth,i=t.clientHeight;this._canvas.style.width=e+"px",this._canvas.style.height=i+"px",this._width=this._canvas.width=e*this._ratio,this._height=this._canvas.height=i*this._ratio,this._fovy=null;var n=this._canvas;this._gl.viewport(0,0,n.width,n.height)},_initShaders:function(){var t=PanoramaTileGLRenderer.VS_SHADER_TEXT,e=PanoramaTileGLRenderer.FS_SHADER_TEXT,i=this._gl,n=this._glProgram=i.createProgram(),o=this._makeShader(t,i.VERTEX_SHADER),a=this._makeShader(e,i.FRAGMENT_SHADER);i.attachShader(n,o),i.attachShader(n,a),i.bindAttribLocation(n,0,"aVertexPosition"),i.linkProgram(n)},_makeShader:function(t,e){var i=this._gl,n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n},_prepareData:function(){var t=new GLSphere(this._radius),e=t.initSphereFacesIndices();this._sphere={sphere:t,facesVertexIndice:e,facesVertex:t._facesVertex}},setData:function(t){null!==t&&(this._preId=this._data?this._data.id:null,this._preData=this._data||null),this._data=t,t&&this._texturesInfo.setData(t.id,[]),this._isLoaded=!1,this._drawFirstFace=!1},render:function(t,e){if(this._data){this._pov=t,this._imageZoom=e;var i=(this._gl,this._canvas);if(this._viewZoom||(this._viewZoom=this._pano.getZoom()),!this._fovy){var n=i.width,o=i.height,a=180/Math.pow(2,this._viewZoom);this._widthHeightRatio=n/o,this._widthHeightRatio>1?this._fovy=2*Math.atan(Math.tan(toRadian(a/2)))/this._widthHeightRatio:this._fovy=toRadian(180/Math.pow(2,this._viewZoom)),mat4.perspective(this._pMatrix,this._fovy,this._widthHeightRatio,.01,1e3),mat4.invert(this._pMatrixInvert,this._pMatrix)}this._calcMVMatrix(0);var r=this._getColAndRow(0);this._faceRangeInfo[0]=r[0],this._imgRangeInfo[0]=r[1],this._loadImages(),this._startRenderThread()}},_calcMVMatrix:function(t){mat4.identity(this._mvMatrixInfo[t]);var e=this._pov.pitch;mat4.rotate(this._mvMatrixInfo[t],this._mvMatrixInfo[t],toRadian(e),[-1,0,0]);var i=this._data.tiles.dirNorth;1==t&&this._preData&&(i=this._preData.tiles.dirNorth);var n=toRadian(i+this._pov.heading+90);mat4.rotate(this._mvMatrixInfo[t],this._mvMatrixInfo[t],n,[0,1,0]),mat4.invert(this._mvMatrixInvertInfo[t],this._mvMatrixInfo[t])},_getFaceIndex:function(t,e,i){var n=this._width,o=this._height,a=vec4.create(),r=this._pMatrixInvert,s=this._mvMatrixInvertInfo[i],l=t,h=e,c=2*l/n-1,d=1-2*h/o,u=vec4.fromValues(c,d,-1,1);mat4.multiply(a,r,u),mat4.multiply(a,s,a);var p,_,g,m=this._radius;p=200*a[0],_=200*a[1],g=200*a[2];var f=p*p+_*_+g*g,v=-m*m,y=Math.sqrt(-v/f),b=[p*y,_*y,g*y];return this._sphere.sphere.getFaceIndex(b)},_ifCoordsInView:function(t,e,i,n){var o=(this._width,this._height),a=vec4.fromValues(t,e,i,1),r=vec4.create();if(mat4.multiply(r,this._mvMatrixInfo[n],a),a=vec4.fromValues(r[0],r[1],r[2],r[3]),mat4.multiply(r,this._pMatrix,a),0!==r[3]){var s=vec3.fromValues(r[0]/r[3],r[1]/r[3],r[2]/r[3]),l=(1-s[1])*o/2;return r[3]>0&&l>0&&l<o}},setZoom:function(t,e,i){i=i||{};var n=i.noAnimation||!1,o=i.renderCallback||null;this._preImgZoom=this._imageZoom,this._imageZoom=e,this._fovy=null,this._zooming=!0;var a=this,r=this._viewZoom,s=t-r;if(a._imageZoomAni&&(a._imageZoomAni.stop(),a._imageZoomAni=null),n)return a._viewZoom=t,a._zooming=!1,void a.render(a._pov,e);a._imageZoomAni=new Animation({duration:600,fps:60,transition:Transitions.easeOutCubic,render:function(t){0!=t&&(a._fovy=null,a._viewZoom=r+s*t,t<.5?a.render(a._pov,a._preImgZoom):a.render(a._pov,e),o&&o(a._viewZoom))},finish:function(){a._imageZoomAni=null,a._viewZoom=t,a._zooming=!1,a._pano.dispatchEvent(new BaseEvent("onzoom_changed"))},onStop:function(t){a._pano.dispatchEvent(new BaseEvent("onzoom_changed")),a._imageZoomAni=null}})},_loadImages:function(){var t=this;this._prepareTexture(0,0,1,function(){t._moving||t._loadHighResTextures()})},_loadHighResTextures:function(){for(var t=this,e=t._imgRangeInfo[0],i=e[0],n=e[1],o=e[2],a=e[3],r=o;r<=a;r++){var s=i,l=n;"number"==typeof t._imgVertexFromRow&&r>=t._imgVertexFromRow&&r<=t._imgVertexToRow&&(s=0,l=t._imgColsRows[t._imageZoom].cols-1);for(var h=s;h<=l;h++)t._prepareTexture(h,r)}},_prepareTexture:function(t,e,i,n){i=i||this._imageZoom;var o=this._imgColsRows[i].cols,a=this._imgColsRows[i].rows,r=this,s=r._processI(t,i),l=e;l<0&&(s=r._processI(o-1-s,i),l=0),l>a-1&&(s=r._processI(o-1-s,i),l=a-1);var h=s+l*o,c=r._texturesInfo.getData(r._data.id);c[i]||(c[i]=[]),c[i][h]||(c[i][h]={});var d=c[i][h];if(d.loaded)return r._showAnimation(i)&&r._startMovingAnimation(),void(n&&n());d.index=h,d.loaded=!1,d.panoId=r._data.id,r._loadImage(s,l,i,function(t){if(d.panoId==r._data.id){d.loaded=!0;var e=c[i][h];e.done||(r._setupTexture(e,t,i),i>1&&(e.aniInfo={duration:300,startTime:Date.now(),curAlpha:0,destAlpha:1}),e.done=!0),r._showAnimation(i)&&r._startMovingAnimation(),n&&n(),r._startRenderThread()}})},_showAnimation:function(t){return!(1!==t||!this._preId||!this._pano._useAnimation)},setMoveLinkIndex:function(t){this._moveLinkIndex=t},_processI:function(t,e){for(var i=t,n=this._imgColsRows[e||this._imageZoom].cols;i<0;)i+=n;return i%=n},_checkTilesLoaded:function(){0===--this._totalImageToLoad&&this._pano.dispatchEvent(new BaseEvent("ontilesloaded"))},_startRenderThread:function(){this._cancelTimer&&(clearTimeout(this._cancelTimer),this._cancelTimer=null);var t=this;this._cancelTimer=setTimeout(function(){cancelAnimationFrame(t._requestId),t._requestId=null,t._cancelTimer=null},300),this._requestId||this._renderFrame()},_renderFrame:function(){var t=this;t._requestId=requestAnimationFrame(function(){t._renderFrame()});var e=this._glProgram;this._gl.useProgram(e);var i=this._webglState;i.enableAttribute(e.vertexPositionAttribute),i.enableAttribute(e.vertexTexCoordBackAttribute),i.enableAttribute(e.vertexTexCoordAttribute),i.disableUnusedAttributes();var n=!1;if(this._moving?this._processMovingAnimation():n=this._renderSphereScene(0),n&&!this._moving)for(var o=0;o<this._renderer.length;o++)this._renderer[o]._renderFrame(this._pMatrix,this._mvMatrixInfo[0],this._pMatrixInvert,this._mvMatrixInvertInfo[0])},_renderSphereScene:function(t,e){if(!this._data)return!1;var i=this._faceRangeInfo[t];if(!i)return!1;var n=0==t?this._data.id:this._preId;if(!n)return!1;e&&mat4.translate(this._mvMatrixInfo[t],this._moveStartMatrix[t],e);var o=(this._rows,this._cols,i[0]),a=i[1],r=i[2],s=i[3];this._moving&&0==t&&(o-=2,a+=2,r-=2,s+=2,r=r<0?0:r);var l=this._texturesInfo.getData(n);if(!l)return!1;for(var h=r;h<=s;h++){var c=o,d=a;"number"==typeof this._vertexFromRow&&h>=this._vertexFromRow&&h<=this._vertexToRow&&(c=0,d=this._cols-1);for(var u=c;u<=d;u++){for(var p=u;p<0;)p+=this._cols;p%=this._cols;var _=this._getImgIndexByFaceColRow(p,h),g=_[2],m=this._getImgIndexByFaceColRow(p,h,this._preImgZoom),f=m[2],v=this._getImgIndexByFaceColRow(p,h,1),y=v[2],b=null,x=null,w=1;if(l[this._imageZoom]&&l[this._imageZoom][g]&&l[this._imageZoom][g].done&&(b=g),l[this._preImgZoom]&&l[this._preImgZoom][f]&&l[this._preImgZoom][f].done?(x=f,w=this._preImgZoom):l[1][y]&&l[1][y].done&&(x=y),null===b&&null===x)return!1;var P=this._gl,M=this._glProgram,T=this._imageZoom;this._moving&&1==t?(P.uniform1i(M.drawBack,!1),null===b&&(b=x,T=1),x=null):P.uniform1i(M.drawBack,!0),this._justBindTexture(b,T,x,w,t),this._setupBuffers(p,h,T,w),this._setMatrixUniforms(t),this._drawScene()}}return!0},_getImgIndexByFaceColRow:function(t,e,i){i=i||this._imageZoom;var n=Math.pow(2,5-i),o=Math.floor(t/n),a=Math.floor(e/n);return a=this._imgColsRows[i].rows-a-1,[o,a,o+a*this._cols/n]},_setupTexture:function(t,e,i){if(t){var n=this._gl;1===i?n.activeTexture(n.TEXTURE0):n.activeTexture(n.TEXTURE1),t.texture=n.createTexture();var o=t.texture;n.bindTexture(n.TEXTURE_2D,o),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR)}},_justBindTexture:function(t,e,i,n,o){var a=0==o?this._data.id:this._preId;if(a){var r=this._texturesInfo.getData(a),s=this._gl,l=this._glProgram;null===t?s.uniform1i(l.drawThumb,!0):s.uniform1i(l.drawThumb,!1);var h=null;if(r[n]&&r[n][i]&&(s.activeTexture(s.TEXTURE0),h=r[n][i].texture,s.bindTexture(s.TEXTURE_2D,h),s.uniform1i(l.samplerThumb,0)),"number"==typeof t){s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,r[e][t].texture),s.uniform1i(l.samplerUniform,1);var c=r[e][t];if("number"!=typeof c.destAlpha&&(c.destAlpha=1),1==o&&(c.aniInfo&&0==c.aniInfo.destAlpha||(c.aniInfo={duration:400,startTime:this._startTime,curAlpha:1,destAlpha:0},c.destAlpha=0)),c.aniInfo){var d,u=c.aniInfo,p=Date.now()-u.startTime,_=p/u.duration;0==u.curAlpha?(d=_)>1&&(d=1,c.aniInfo=null):(d=u.curAlpha*(1-_))<0&&(d=0,c.aniInfo=null),s.uniform1f(l.alpha,d)}else s.uniform1f(l.alpha,c.destAlpha)}}},_setupBuffers:function(t,e,i,n){var o=this._getVertex(t,e),a=this._sphere.facesVertexIndice,r=this._getTextureCoord(t,e,i),s=this._getTextureCoord(t,e,n),l=this._gl;this._trianglesVerticeBuffer||(this._trianglesVerticeBuffer=l.createBuffer()),l.bindBuffer(l.ARRAY_BUFFER,this._trianglesVerticeBuffer),l.bufferData(l.ARRAY_BUFFER,new Float32Array(o),l.STATIC_DRAW),this._triangleVerticesIndexBuffer||(this._triangleVerticesIndexBuffer=l.createBuffer(),this._triangleVerticesIndexBuffer.vertexCount=a.length,l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,this._triangleVerticesIndexBuffer),l.bufferData(l.ELEMENT_ARRAY_BUFFER,new Uint16Array(a),l.STATIC_DRAW)),this._vertexTexCoordBackBuffer||(this._vertexTexCoordBackBuffer=l.createBuffer()),l.bindBuffer(l.ARRAY_BUFFER,this._vertexTexCoordBackBuffer),l.bufferData(l.ARRAY_BUFFER,new Float32Array(s),l.STATIC_DRAW),r&&(this._vertexTexCoordBuffer||(this._vertexTexCoordBuffer=l.createBuffer()),l.bindBuffer(l.ARRAY_BUFFER,this._vertexTexCoordBuffer),l.bufferData(l.ARRAY_BUFFER,new Float32Array(r),l.STATIC_DRAW))},_drawScene:function(){var t=this._gl,e=this._glProgram;t.bindBuffer(t.ARRAY_BUFFER,this._trianglesVerticeBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._triangleVerticesIndexBuffer),t.vertexAttribPointer(e.vertexPositionAttribute,3,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,this._vertexTexCoordBackBuffer),t.vertexAttribPointer(e.vertexTexCoordBackAttribute,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,this._vertexTexCoordBuffer),t.vertexAttribPointer(e.vertexTexCoordAttribute,2,t.FLOAT,!1,0,0),t.drawElements(t.TRIANGLES,this._triangleVerticesIndexBuffer.vertexCount,t.UNSIGNED_SHORT,0)},_getVertex:function(t,e){var i=GLSphere.H_SEGS/this._cols,n=GLSphere.H_SEGS/i,o=t+e*n;return this._sphere.facesVertex[o]},_getTextureCoord:function(t,e,i){return this._sphere.sphere.generateTextureCoord(i||this._imageZoom,t,e)},_getAllUniforms:function(){var t=this._glProgram,e=this._gl;t.pMatrixUniform=e.getUniformLocation(t,"uPMatrix"),t.mvMatrixUniform=e.getUniformLocation(t,"uMVMatrix"),t.drawThumb=e.getUniformLocation(t,"uDrawThumb"),t.drawBack=e.getUniformLocation(t,"uDrawBack"),t.alpha=e.getUniformLocation(t,"uAlpha"),t.samplerThumb=e.getUniformLocation(t,"uSamplerBack"),t.samplerUniform=e.getUniformLocation(t,"uSampler")},_getAttribLocation:function(){var t=this._glProgram,e=this._gl;t.vertexPositionAttribute=e.getAttribLocation(t,"aVertexPosition"),t.vertexTexCoordBackAttribute=e.getAttribLocation(t,"aVertexTextureCoordBack"),t.vertexTexCoordAttribute=e.getAttribLocation(t,"aVertexTextureCoord")},_setMatrixUniforms:function(t){var e=this._glProgram,i=this._gl;i.uniformMatrix4fv(e.pMatrixUniform,!1,this._pMatrix),i.uniformMatrix4fv(e.mvMatrixUniform,!1,this._mvMatrixInfo[t])},_calcTileKey:function(t,e,i,n){return t+"_"+e+"_"+i+"_"+n},_loadImage:function(t,e,i,n){var o=this._calcTileKey(this._data.id,t,e,i),a=this._tileImagesCache.getData(o);if(this._totalImageToLoad++,a)return void(a._loaded&&(n(a),this._checkTilesLoaded()));a=this._imgPool.getImage(),a.crossOrigin="anonymous",a._loaded=!1;var r=this;a.onload=function(){-1!=this.src.indexOf("pos=0_0&z=1")&&r._pano.dispatchEvent(new BaseEvent("onthumbnail_complete")),n(this),r._checkTilesLoaded(),this._loaded=!0},a.src=this._data.tiles.getTilesUrl(this._data.id,new Pixel(t,e),i),this._tileImagesCache.setData(o,a)},_getColAndRow:function(t){var e,i,n,o,a,r,s,l,h,c,d=this._width,u=this._height,p=this._getFaceIndex(0,0,t);e=p[0],o=p[1],p=this._getFaceIndex(d/2,0,t),p[1]>o&&(o=p[1]),p=this._getFaceIndex(d,0,t),i=p[0],h=p[1],i<e&&(i+=this._cols),h=p[1],p=this._getFaceIndex(0,u/2,t),p[0]>i&&(p[0]-=this._cols),p[0]<e&&(e=p[0]),p=this._getFaceIndex(d,u/2,t),p[0]<e&&(p[0]+=this._cols),p[0]>i&&(i=p[0]),p=this._getFaceIndex(0,u,t),p[0]>i&&(p[0]-=this._cols),p[0]<e&&(e=p[0]),n=p[1],p=this._getFaceIndex(d/2,u,t),p[1]<n&&(n=p[1]),p=this._getFaceIndex(d,u,t),p[0]<e&&(p[0]+=this._cols),p[0]>i&&(i=p[0]),c=p[1],this._ifCoordsInView(0,100,0,t)?(this._vertexToRow=this._rows-1,this._vertexFromRow=h):this._ifCoordsInView(0,-100,0,t)?(this._vertexFromRow=0,this._vertexToRow=c):(this._vertexToRow=this._vertexFromRow=null,this._imgVertexToRow=this._imgVertexFromRow=null),null!=this._vertexToRow&&o<this._vertexToRow&&(o=this._vertexToRow),null!=this._vertexFromRow&&n>this._vertexFromRow&&(n=this._vertexFromRow);var _=this._getImgIndexByFaceColRow(e,o),g=this._getImgIndexByFaceColRow(i,n);return a=_[0],r=g[0],s=_[1],l=g[1],this._imgVertexFromRow=this._getImgIndexByFaceColRow(0,this._vertexFromRow)[1],this._imgVertexToRow=this._getImgIndexByFaceColRow(0,this._vertexToRow)[1],[[e,i,n,o],[a,r,s,l]]},addFrameRenderer:function(t){this._renderer.push(t)},_startMovingAnimation:function(){if(!this._moving){this._calcMVMatrix(1),this._moveStartMatrix[0]=mat4.clone(this._mvMatrixInfo[0]),this._moveStartMatrix[1]=mat4.clone(this._mvMatrixInfo[1]);var t=this._getColAndRow(1);if(this._faceRangeInfo[1]=t[0],this._moving=!0,this._distanceForNew=160,this._distanceForOld=120,"number"==typeof this._pano._distanceToLast){var e=Math.pow(this._pano._distanceToLast,.25);this._distanceForNew*=e,this._distanceForOld*=e}}},_onMovingFinish:function(){this._moving=!1,this._preId=null,this._startTime=null,this._calcMVMatrix(0);var t=this._getColAndRow(0);this._faceRangeInfo[0]=t[0],this._imgRangeInfo[0]=t[1],this._loadHighResTextures(),this._startRenderThread()},_processMovingAnimation:function(){this._startTime||(this._startTime=Date.now()),this._startRenderThread(),this._curAniTime=Date.now();var t=this._curAniTime-this._startTime;if(t>400)return void this._onMovingFinish();var e=t/400,i=-e*(e-2),n=this._preData.links[this._moveLinkIndex];if(!n)return void this._onMovingFinish();var o=n.dir+this._data.tiles.dirNorth;o>360&&(o%=360);var a=this._distanceForNew*(1-i),r=Math.cos(toRadian(o))*a,s=Math.sin(toRadian(o))*a;try{this._renderSphereScene(0,[r,0,s])}catch(t){}a=this._distanceForOld*i,r=Math.cos(toRadian(n.refinedDir))*a,s=Math.sin(toRadian(n.refinedDir))*a;try{this._renderSphereScene(1,[-r,0,-s])}catch(t){}},destroy:function(){cancelAnimationFrame(this._requestId),this._texturesInfo.clear()}});var imgPath="//webmap0.bdimg.com/wolfman/static/pano/images/webgl/",LINK_ARROW_TEXTURE=imgPath+"link-arrow_cac0d01.png",LINK_ARROW_SHADOW_TEXTURE=imgPath+"link-arrow-shadow_0e51d57.png",DIR_TEXTURE=imgPath+"dir-texture_acee461.png",EVENTS,getPagePosition,getZoom;isMobile()?(EVENTS={START:"touchstart",MOVING:"touchmove",END:"touchend",OUT:"touchcancel",WHEEL:"gesturechange",DOMMouseScroll:"DOMMouseScroll"},getPagePosition=function(t){var e=t.touches.length>0?t.touches[0]:t.changedTouches[0];return{x:e.offsetX,y:e.offsetY}},getZoom=function(t){return t.scale>1?1:-1}):(EVENTS={START:"mousedown",MOVING:"mousemove",END:"mouseup",OUT:"mouseout",WHEEL:"mousewheel"},getPagePosition=function(t){return{x:t.offsetX,y:t.offsetY}},getZoom=function(t){if(t.detail)return 0===t.detail?0:t.detail<0?1:-1;var e=Math.abs(t.wheelDelta),i=e<=3||120===e&&void 0!==t.deltaY&&0===Math.round(t.deltaY),n=event.wheelDeltaX&&Math.abs(t.wheelDeltaX)>3;return i||n?0:t.wheelDelta>0?1:-1}),PanoramaLinksGLRenderer.VS_SHADER_TEXT="attribute vec3 aVertexPosition;\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nvoid main(void) {\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n}",PanoramaLinksGLRenderer.FS_SHADER_TEXT="precision mediump float;\nuniform float uColor;\nuniform float uAlpha;\nvoid main(void) {\n    gl_FragColor = vec4(uColor, uColor, uColor, 1.0) * uAlpha;\n}",PanoramaLinksGLRenderer.VS_SHADER_TEXT_2="attribute vec3 aVertexPosition;\nattribute vec2 aVertexTextureCoord;\nvarying highp vec2 vTextureCoord;\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nvoid main(void) {\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aVertexTextureCoord;\n}",PanoramaLinksGLRenderer.FS_SHADER_TEXT_2="precision mediump float;\nuniform sampler2D uSampler;\nvarying highp vec2 vTextureCoord;\nvoid main(void) {\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n}",PanoramaLinksGLRenderer.ARROW_VERTEX=[10,-20,30,10,-20,10,-10,-20,10,-10,-20,30],PanoramaLinksGLRenderer.ARROW_VERTEX_INDICE=[0,1,2,0,2,3],PanoramaLinksGLRenderer.ARROW_TEXT_COORD=[0,0,0,1,1,1,1,0],PanoramaLinksGLRenderer.TEXT_VERTEX=[2.2,-20,22.3,2.2,-20,13.7,-2.2,-20,13.7,-2.2,-20,22.3],PanoramaLinksGLRenderer.TEXT_VERTEX_INDICE=[0,1,3,2,3,1],PanoramaLinksGLRenderer.TEXT_COORD=[0,0,0,.5,.25,.5,.25,0],baidu.extend(PanoramaLinksGLRenderer.prototype,{_init:function(){this._circle=new GLCircle(8.5),this._ring=new GLRing(10,1.5),this._loadTextures(),this._initShaders(),this._initShaders2(),this._bind(),this._getAllUniforms(),this._getAttribLocation()},_loadTextures:function(){var t=new Image,e=this;t.crossOrigin="anonymous",t.onload=function(){this._loaded=!0;var t=e._gl;e._arrowShadowTexture=t.createTexture(),e._initTexture(e._arrowShadowTexture,this)},t.src=LINK_ARROW_SHADOW_TEXTURE;var i=new Image;i.crossOrigin="anonymous",i.onload=function(){this._loaded=!0;var t=e._gl;e._arrowTexture=t.createTexture(),e._initTexture(e._arrowTexture,this)},i.src=LINK_ARROW_TEXTURE;var n=new Image;n.crossOrigin="anonymous",n.onload=function(){this._loaded=!0;var t=e._gl;e._arrowTextTexture=t.createTexture(),e._initTexture(e._arrowTextTexture,this)},n.src=DIR_TEXTURE},_initShaders:function(){var t=PanoramaLinksGLRenderer.VS_SHADER_TEXT,e=PanoramaLinksGLRenderer.FS_SHADER_TEXT,i=this._gl,n=this._glProgram=i.createProgram(),o=this._makeShader(t,i.VERTEX_SHADER),a=this._makeShader(e,i.FRAGMENT_SHADER);i.attachShader(n,o),i.attachShader(n,a),i.linkProgram(n),i.useProgram(n)},_initShaders2:function(){var t=PanoramaLinksGLRenderer.VS_SHADER_TEXT_2,e=PanoramaLinksGLRenderer.FS_SHADER_TEXT_2,i=this._gl,n=this._glProgram2=i.createProgram(),o=this._makeShader(t,i.VERTEX_SHADER),a=this._makeShader(e,i.FRAGMENT_SHADER);i.attachShader(n,o),i.attachShader(n,a),i.linkProgram(n),i.useProgram(n)},_makeShader:function(t,e){var i=this._gl,n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n},_initTexture:function(t,e){var i=this._gl;i.activeTexture(i.TEXTURE2),i.bindTexture(i.TEXTURE_2D,t),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.bindTexture(i.TEXTURE_2D,null)},_bind:function(){var t=this;baidu.on(this._canvas,EVENTS.START,function(e){if(!t._tileRenderer._moving){t._msdownPov=[t._pano.getPov().heading,t._pano.getPov().pitch];var i=getPagePosition(e),n=i.x*t._ratio,o=i.y*t._ratio,a=null;t._linkVisible&&(a=t._getIdByTouchPos(n,o)),t._touchPos=[n,o],t._hitId=a,null!==a&&(t._pano.dispatchEvent(new BaseEvent("onlinktouchstart")),t._showCoverTimer=setTimeout(function(){if(!t.isPC){for(var e=t._data.links,o=0;o<e.length;o++)if(e[o].id===a){t._curCoverDir=e[o].dir,t._curIndex=o;break}t._hideLink=!0,t._showCover=!0,t._pano._showCover=!0;var r=[n,(i.y-60)*t._ratio];t._coverPos=t._getCoverPos(r),t._coverDis=t._calcCoverDis(r),t._pano.dispatchEvent(new BaseEvent("onrefresh")),t._pano.dispatchEvent(new BaseEvent("onlongjumpstart"))}},300))}}),baidu.on(this._canvas,EVENTS.END,function(e){if(clearTimeout(t._showCoverTimer),!t._tileRenderer._moving){var i=t._pano.getPov();if(Math.abs(Math.round(t._msdownPov[0])-Math.round(i.heading))>1||Math.abs(Math.round(t._msdownPov[1])-Math.round(i.pitch))>1?t._validClick=!1:t._validClick=!0,t._tileRenderer.setMoveLinkIndex(t._curIndex),t._showCover){if(t._showCover=t.isPC,t._pano._showCover=t.isPC,t.isPC||(t._hideLink=!1),t.isPC&&!t._validClick)return;var n=t._curCoverDir,o=t._calcCoverDis()
;if(o<5)return t._pano.dispatchEvent(new BaseEvent("onrefresh")),void t._pano.dispatchEvent(new BaseEvent("onlongjumpcancel"));var a=Math.sin(toRadian(n))*o,r=Math.cos(toRadian(n))*o,s=t._data.pointX+a,l=t._data.pointY+r;t._pano.dispatchEvent(new BaseEvent("onrefresh")),t._pano.dispatchEvent(new BaseEvent("onlongjumpend"));var h=new Point(s,l);return t._pano.setPosition(t._mercatorProjection.mercatorToLngLat(h),{animation:!0}),void t.updateCoverDistanceLabel(0,!1)}t._validClick&&t._data&&t._hitId&&(t._pano.dispatchEvent(new BaseEvent("onlinkclick")),t._pano.setId(t._hitId,{animation:!0}),t._pano.dispatchEvent(new BaseEvent("onlinktouchend")))}}),baidu.on(this._canvas,EVENTS.MOVING,function(e){if(!t._tileRenderer._moving&&t._data){var i,n,o=null,a=null,r=null,s=!1;if((t._showCover||t.isPC)&&!t._data.breakId&&t._enableClickOnRoad){if(o=getPagePosition(e),a=o.x*t._ratio,r=o.y*t._ratio,n=t._getCoverPos([a,r]),t.isPC){if(t._linkVisible&&(a=o.x*t._ratio,r=o.y*t._ratio,t._getIdByTouchPos(a,r)&&(s=!0)),!n)return t._showCover=!1,void(t._pano._showCover=!1);if(t._showCover||(t._showCover=!0,t._pano._showCover=!0),-1!==(i=t._pickTopoRoad(n))){t._curIndex=i,t._curCoverDir=t._data.links[i].dir;var l=(t._data.links[i].refinedDir,Math.sqrt(n[0]*n[0]+n[2]*n[2]))}}t._coverDis=t._calcCoverDis([a,r]),l=9*t._coverDis/l;var h=Math.acos(l),c=t._getCurLink(),d=c&&c.roadWidth?c.roadWidth/100:5;h&&t.isPC&&(d>Math.abs(Math.sin(h)*t._coverDis)&&!s?(t._showCover=!0,t._pano._showCover=!0):(t._showCover=!1,t._pano._showCover=!1,t.updateCoverDistanceLabel(0,!1))),t._coverDis<5&&t.isPC&&(t._showCover=!1,t._pano._showCover=!1),t.updateCoverDistanceLabel(t._coverDis,!0,o),t._pano.dispatchEvent(new BaseEvent("onrefresh"))}}})},_hitLinkTest:function(t,e){var i=t[0],n=t[2],o=[(e[0]+e[3]+e[6]+e[9])/4,(e[2]+e[5]+e[8]+e[11])/4];return Math.abs(i-o[0])<12&&Math.abs(n-o[1])<12},_getCurLink:function(){return this._data.links.length<1||!this._data.links[this._curIndex]?null:this._data.links[this._curIndex]},_pickTopoRoad:function(t){if(t){for(var e=this._data.links,i=[0,0],n=0,o=-1/0,a=-1,r=[t[0],t[2]],s=0;s<e.length;s++)n=toRadian(e[s].refinedDir),i=[Math.sin(n),-Math.cos(n)],theta=r[0]*i[0]+r[1]*i[0],a=o<theta?s:a,o=o<theta?theta:o;return a}},_getIdByTouchPos:function(t,e){if(!this._linkVisible||!this._linkConstData||!this._linkConstData.length)return null;var i=this._linkConstData[1],n=this._getCoverPos([t,e],i[1]);if(!n)return null;for(var o=0,a=this._data.links.length;o<a;o++){var r=i.slice(12*o,12*o+12);if(this._hitLinkTest(n,r)){this._curIndex=o;break}}return this._data.links[o]?this._data.links[o].id:null},goByTouchingOnRoad:function(t,e){if(0===this._data.links.length||!1===this._enableClickOnRoad)return 0;var i=this._getCoverPos([t,e]),n=!1;if(!i){var o=this._pano.getZoom(),a=50*Math.pow(2,o-2),i=this._getCoverPos([t,e+a]);if(!i)return 0;n=!0}for(var r=this._pano.getPov().heading;r<0;)r+=360;r%=360;var s=this._findNeariestLink(r),l=this._data.links[s].refinedDir,h=Math.sin(toRadian(l)),c=Math.cos(toRadian(l)),d=(Math.sin(toRadian(-l)),Math.cos(toRadian(-l)),c*i[0]+h*i[2]),u=-h*i[0]+c*i[2];if(u>100||u<-100)return 0;var p=d/9;if(p<3.6)return 0;var _=this._data.links[s],g=this._calculateDistance([this._data.pointX,0,this._data.pointY],[_.x,0,_.y]);if(this._tileRenderer.setMoveLinkIndex(s),p<g){var m=_.id;return this._pano.setId(m,{animation:!0}),this._pano.dispatchEvent(new BaseEvent("onclickonroad")),p}p>300&&(p=300),n&&(p=300);var f=this._data.links[s].dir,v=Math.sin(toRadian(f))*p,y=Math.cos(toRadian(f))*p,b=this._data.pointX+v,x=this._data.pointY+y;this._pano.dispatchEvent(new BaseEvent("onclickonroad"));var w=new Point(b,x);return this._pano.setPosition(this._mercatorProjection.mercatorToLngLat(w),{animation:!0}),p},_calcCoverDis:function(t){var e=this,i=e._coverPos,n=e._getCurLink();if(t)var i=e._getCoverPos(t);if(!i)return 300;if(!n)return 0;var o=n.refinedDir,a=Math.sin(toRadian(o)),r=Math.cos(toRadian(o)),s=Math.sin(toRadian(-o)),l=Math.cos(toRadian(-o)),h=r*i[0]+a*i[2],c=-a*i[0]+r*i[2];c>70&&(c=70),c<-70&&(c=-70),i[0]=l*h+s*c,i[2]=-s*h+l*c,e._coverPos[0]=i[0],e._coverPos[2]=i[2];var d=h/9;return d=d>300?300:d},_findNeariestLink:function(t){for(var e=360,i=-1,n=0;n<this._data.links.length;n++){var o=Math.abs(t-this._data.links[n].dir);o<e&&(e=o,i=n)}var a=i==this._data.links.length-1?0:i+1,r=this._data.links[a].dir;if(r<this._data.links[i].dir){var s=Math.abs(t-(r+360));if(s<e)return a}var l=0==i?this._data.links.length-1:i-1,h=this._data.links[l].dir;if(h>this._data.links[i].dir){var s=Math.abs(360+t-h);if(s<e)return l}return i},_calculateDistance:function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[2]-e[2],2))},_getAllUniforms:function(){var t=this._glProgram,e=this._gl;t.pMatrixUniform=e.getUniformLocation(t,"uPMatrix"),t.mvMatrixUniform=e.getUniformLocation(t,"uMVMatrix"),t.alpha=e.getUniformLocation(t,"uAlpha"),t.color=e.getUniformLocation(t,"uColor"),t=this._glProgram2,t.pMatrixUniform=e.getUniformLocation(t,"uPMatrix"),t.mvMatrixUniform=e.getUniformLocation(t,"uMVMatrix"),t.sampler=e.getUniformLocation(t,"uSampler")},_getAttribLocation:function(){var t=this._glProgram,e=this._gl;t.vertexPositionAttribute=e.getAttribLocation(t,"aVertexPosition"),t=this._glProgram2,t.vertexPositionAttribute=e.getAttribLocation(t,"aVertexPosition"),t.vertexTexCoordAttribute=e.getAttribLocation(t,"aVertexTextureCoord")},_setMatrixUniforms:function(){var t=this._glProgram,e=this._gl;e.uniformMatrix4fv(t.pMatrixUniform,!1,this._pMatrix),e.uniformMatrix4fv(t.mvMatrixUniform,!1,this._mvMatrix)},render:function(){},setData:function(t){this._data=t,t&&(this._cachedData={},this._dirNorth=this._data.tiles.dirNorth,this._visible=!0)},_renderFrame:function(t,e,i,n){this._gl&&this._visible&&this._data&&(this._gl.useProgram(this._glProgram),this._pMatrix=t,this._mvMatrix=e,this._pMatrixInvert=i,this._mvMatrixInvert=n,this._setMatrixUniforms(),this._draw())},_draw:function(){if(this._pMatrix&&this._mvMatrix){var t=this._prepareDrawingData(),e=this._gl,i=this._glProgram,n=this._glProgram2;e.depthMask(!1),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA);var o=this._webglState;if(o.initAttribute(),o.enableAttribute(i.vertexPositionAttribute),o.disableUnusedAttributes(),this._showCover&&this._enableClickOnRoad){var a=.6;this._coverDis<5&&(a=this.isPC?-.3:.2),this._drawVertex(this._circle._facesVertex,this._circle.getFacesIndices(),this._coverPos,1,a,!1),this._drawVertex(this._ring._facesVertex,this._ring.getFacesIndices(),this._coverPos,1,a+.3,!1)}else this.updateCoverDistanceLabel(0,!1);if(!this._hideLink&&!1!==this._linkVisible){var r=t[0],s=t[1],l=t[2],h=t[3],c=t[4],d=t[5],u=t[6];e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.activeTexture(e.TEXTURE2),e.useProgram(n),o.initAttribute(),o.enableAttribute(n.vertexPositionAttribute),o.enableAttribute(n.vertexTexCoordAttribute),o.disableUnusedAttributes(),e.uniformMatrix4fv(n.pMatrixUniform,!1,this._pMatrix),e.uniformMatrix4fv(n.mvMatrixUniform,!1,this._mvMatrix),e.uniform1i(n.sampler,2),this._arrowShadowTexture&&(e.bindTexture(e.TEXTURE_2D,this._arrowShadowTexture),this._drawVertex(r,h,null,1,1,!0,c)),this._arrowTexture&&(e.bindTexture(e.TEXTURE_2D,this._arrowTexture),this._drawVertex(s,h,null,1,1,!0,c)),this._arrowTextTexture&&(e.bindTexture(e.TEXTURE_2D,this._arrowTextTexture),this._drawVertex(l,d,null,1,1,!0,u)),e.depthMask(!0)}}},updateCoverDistanceLabel:function(t,e,i){if(null===this._wellLidDistanceLabel){this._wellLidDistanceLabel=document.createElement("span"),this._wellLidDistanceLabel.style.cssText=["font: 13px Microsoft YaHei,SimHei,Apple LiSung Light","color: #FFFFFF","position:absolute","z-index: 9999"].join(";");this._pano.getContainer().append(this._wellLidDistanceLabel)}var n=this._wellLidDistanceLabel;if(!0===e&&!0===this._showCover&&void 0!==t&&!isNaN(t)&&void 0!==i&&t>5){n.style.display="inline";var o=parseInt(i.y,10)+20,a=parseInt(i.x,10)-20;n.style.top=o+"px",n.style.left=a+"px",n.innerHTML="前进"+parseInt(t,10)+"米"}else n.style.display="none"},_prepareDrawingData:function(){for(var t=[],e=[],i=[],n=[],o=[],a=[],r=[],s=PanoramaLinksGLRenderer.ARROW_VERTEX.length/3,l=this._pano.getPov().heading+this._dirNorth;l<0;)l+=360;l%=360;var h=this._pano.getPov().pitch,c=isMobile()?30:60,d=-30;(c+=20*(this._tileRenderer._viewZoom||this._pano.getZoom()),h<0)&&(h=Math.abs(h),c*=(90-h)/90,d-=20*h/90);for(var u=0;u<this._data.links.length;u++){var p=this._data.links[u],_=p.refinedDir,g=Math.cos(toRadian(_))*c,m=Math.sin(toRadian(_))*c,f=mat4.create();mat4.identity(f),mat4.rotate(f,f,toRadian(_-90),[0,1,0]);for(var v=[g,d,m],y=PanoramaLinksGLRenderer.ARROW_VERTEX,b=PanoramaLinksGLRenderer.TEXT_VERTEX,x=0;x<s;x++){var w=this._calcRotationResult(f,y,3*x);t.push(w[0]+v[0],v[1]-1,w[2]+v[2]),e.push(w[0]+v[0],v[1],w[2]+v[2]),w=this._calcRotationResult(f,b,3*x),i.push(w[0]+v[0],v[1],w[2]+v[2])}}var P=this._calcIndicesTexCoords(n,o,a,r),M=[t,e,i,n,P[0],a,P[1]];return this._linkConstData=M,M},_calcIndicesTexCoords:function(t,e,i,n){for(var o=0;o<this._data.links.length;o++){var a=4*o;t.push(a,a+1,a+2),t.push(a,a+2,a+3),i.push(a,a+1,a+3),i.push(a+2,a+3,a+1),e=e.concat(PanoramaLinksGLRenderer.ARROW_TEXT_COORD);var r=this._data.links[o].dir;n=n.concat(this._getCoord(r))}return[e,n]},_calcRotationResult:function(t,e,i){return[t[0]*e[i]+t[1]*e[i+1]+t[2]*e[i+2],0,t[8]*e[i]+t[9]*e[i+1]+t[10]*e[i+2]]},_drawVertex:function(t,e,i,n,o,a,r){var s=this._gl,l=this._glProgram;a&&(l=this._glProgram2);var h=[0,0,0],c=[];if(i){h[0]=i[0],h[2]=i[2];for(var d=0;d<t.length/3;d++){var u=3*d;c.push(t[u]+h[0],i[1],t[u+2]+h[2])}}else c=t;a?(this._vertexTexCoordBuffer||(this._vertexTexCoordBuffer=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,this._vertexTexCoordBuffer),s.bufferData(s.ARRAY_BUFFER,new Float32Array(r),s.STATIC_DRAW),s.vertexAttribPointer(l.vertexTexCoordAttribute,2,s.FLOAT,!1,0,0)):(s.uniform1f(l.color,n),s.uniform1f(l.alpha,o)),this._linksVerticeBuffer||(this._linksVerticeBuffer=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,this._linksVerticeBuffer),s.bufferData(s.ARRAY_BUFFER,new Float32Array(c),s.STATIC_DRAW),this._linksVerticesIndexBuffer||(this._linksVerticesIndexBuffer=s.createBuffer()),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this._linksVerticesIndexBuffer),s.bufferData(s.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),s.STATIC_DRAW),this._linksVerticesIndexBuffer.vertexCount=e.length,s.vertexAttribPointer(l.vertexPositionAttribute,3,s.FLOAT,!1,0,0),s.drawElements(s.TRIANGLES,this._linksVerticesIndexBuffer.vertexCount,s.UNSIGNED_SHORT,0)},_getCoverPos:function(t,e){var i=this._pMatrixInvert,n=this._mvMatrixInvert;if(i){var o=t[0],a=t[1],r=this._width,s=this._height,l=vec4.create(),h=o,c=a,d=2*h/r-1,u=1-2*c/s,p=vec4.fromValues(d,u,-1,1);mat4.multiply(l,i,p),mat4.multiply(l,n,l);var _,g,m;_=200*l[0],g=200*l[1],m=200*l[2],e=e||-20;var f=e/g;if(!(f<0)){return[_*f,g*f,m*f]}}},resize:function(){this._width=this._canvas.width,this._height=this._canvas.height},_getCoord:function(t){t=(t+360)%360;var e=Math.ceil(Math.floor(t/22.5)/2);8===e&&(e=0);for(var i=PanoramaLinksGLRenderer.TEXT_COORD.slice(0),n=Math.floor(e/2),o=e%2,a=0;a<i.length;a++)i[a]+=a%2==0?.25*n:.5*o;return i},clearCache:function(){this._cachedData={}},show:function(){this._linkVisible=!0},hide:function(){this._linkVisible=!1},enableClickOnRoad:function(){this._enableClickOnRoad=!0},disableClickOnRoad:function(){this._enableClickOnRoad=!1},destroy:function(){this.clearCache();var t=this._gl;t.deleteTexture(this._arrowShadowTexture),t.deleteTexture(this._arrowTexture),t.deleteTexture(this._arrowTextTexture),this._arrowShadowTexture=null,this._arrowTexture=null,this._arrowTextTexture=null}}),window._panorama=2,window._pcommon=1,PanoramaVisiblePOI.VISIBLE_RADIUS=200,PanoramaVisiblePOI.MAX_POI_NUMBER=15,PanoramaVisiblePOI.POI_TYPE_MATCH={},PanoramaVisiblePOI.POI_TYPE_MATCH[BMAP_PANORAMA_POI_NONE]=["-1",""],PanoramaVisiblePOI.POI_TYPE_MATCH[BMAP_PANORAMA_POI_TRANSIT]=["0","m_transit.png"],PanoramaVisiblePOI.POI_TYPE_MATCH[BMAP_PANORAMA_POI_HOTEL]=["1","m_hotel.png"],PanoramaVisiblePOI.POI_TYPE_MATCH[BMAP_PANORAMA_POI_CATERING]=["2","m_catering.png"],PanoramaVisiblePOI.POI_TYPE_MATCH[BMAP_PANORAMA_POI_MOVIE]=["3","m_movie.png"],PanoramaVisiblePOI.POI_TYPE_MATCH[BMAP_PANORAMA_POI_TRANSIT]=["4","m_transit.png"],PanoramaVisiblePOI.POI_TYPE_MATCH[BMAP_PANORAMA_POI_INDOOR_SCENE]=["5","m_indoor_scene.png"],BMap.panoRegister(function(t){new PanoramaVisiblePOI(t)}),baidu.extend(PanoramaVisiblePOI.prototype,{_bindPanoEvents:function(){var t=this;pano=t._pano,pano.addEventListener("visible_poi_type_changed",function(e){var i=e.visiblePOIType;t.setVisiblePOIType(i)}),pano.addEventListener("position_changed",function(e){t._visiblePOIType&&t._renderPOIMarkers()})},setVisiblePOIType:function(t){this._visiblePOIType=t,this._renderPOIMarkers()},_clearPOIMarkers:function(){for(var t=this._visiblePOIMarkers.length-1;t>=0;t--)this._pano.removeOverlay(this._visiblePOIMarkers[t]);this._visiblePOIMarkers=[]},_renderPOIMarkers:function(){if(this._clearPOIMarkers(),pano.getSceneType()!==BMAP_PANORAMA_INDOOR_SCENE){var t=PanoramaVisiblePOI.POI_TYPE_MATCH[this._visiblePOIType],e=this._pano.getPosition(),i=this._pano.getId(),n=this;this._service.getVisiblePOIs(e,PanoramaVisiblePOI.VISIBLE_RADIUS,t[0],function(e){var o=n._pano.getId();if(o===i)for(var a=null,r=null,s=0,l=e.length;s<l;s++)r=e[s],(s<PanoramaVisiblePOI.MAX_POI_NUMBER||r.panoInfo&&r.panoInfo.panoId==o)&&(a=new PanoramaMarker(r.position,{icon:MapConfig.imgPath+"panorama/"+t[1],title:r.title,altitude:r.altitude,panoInfo:r.panoInfo}),n._pano.addOverlay(a),n._visiblePOIMarkers.push(a))})}}});var doc=document,m=Math,dummyStyle=doc.createElement("div").style,vendor=function(){for(var t="t,webkitT,MozT,msT,OT".split(","),e=0,i=t.length;e<i;e++)if(t[e]+"ransform"in dummyStyle)return t[e].substr(0,t[e].length-1);return!1}(),cssVendor=vendor?"-"+vendor.toLowerCase()+"-":"",transform=prefixStyle("transform"),transitionProperty=prefixStyle("transitionProperty"),transitionDuration=prefixStyle("transitionDuration"),transformOrigin=prefixStyle("transformOrigin"),transitionTimingFunction=prefixStyle("transitionTimingFunction"),transitionDelay=prefixStyle("transitionDelay"),isAndroid=/android/gi.test(navigator.appVersion),isIDevice=/iphone|ipad/gi.test(navigator.appVersion),isTouchPad=/hp-tablet/gi.test(navigator.appVersion),has3d=prefixStyle("perspective")in dummyStyle,hasTouch="ontouchstart"in window&&!isTouchPad,hasTransform=!1!==vendor,hasTransitionEnd=prefixStyle("transition")in dummyStyle,RESIZE_EV="onorientationchange"in window?"orientationchange":"resize",START_EV=hasTouch?"touchstart":"mousedown",MOVE_EV=hasTouch?"touchmove":"mousemove",END_EV=hasTouch?"touchend":"mouseup",CANCEL_EV=hasTouch?"touchcancel":"mouseup",TRNEND_EV=function(){return!1!==vendor&&{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[vendor]}(),CLICK_EV="click",nextFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),cancelFrame=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),translateZ=has3d?" translateZ(0)":"",iScroll=function(t,e){var i,n=this;n.wrapper="object"==typeof t?t:doc.getElementById(t),n.wrapper.style.overflow="hidden",n.scroller=n.wrapper.children[0],n.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:isAndroid,hideScrollbar:isIDevice,fadeScrollbar:isIDevice&&has3d,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(i in e)n.options[i]=e[i];n.x=n.options.x,n.y=n.options.y,n.options.useTransform=hasTransform&&n.options.useTransform,n.options.hScrollbar=n.options.hScroll&&n.options.hScrollbar,n.options.vScrollbar=n.options.vScroll&&n.options.vScrollbar,n.options.zoom=n.options.useTransform&&n.options.zoom,n.options.useTransition=hasTransitionEnd&&n.options.useTransition,n.options.zoom&&isAndroid&&(translateZ=""),n.scroller.style[transitionProperty]=n.options.useTransform?cssVendor+"transform":"top left",n.scroller.style[transitionDuration]="0",n.scroller.style[transformOrigin]="0 0",n.options.useTransition&&(n.scroller.style[transitionTimingFunction]="cubic-bezier(0.33,0.66,0.66,1)"),n.options.useTransform?n.scroller.style[transform]="translate("+n.x+"px,"+n.y+"px)"+translateZ:n.scroller.style.cssText+=";position:absolute;top:"+n.y+"px;left:"+n.x+"px",n.options.useTransition&&(n.options.fixedScrollbar=!0),n.refresh(),n._bind(RESIZE_EV,window),n._bind(START_EV),hasTouch||"none"!=n.options.wheelAction&&(n._bind("DOMMouseScroll"),n._bind("mousewheel")),n.options.checkDOMChanges&&(n.checkDOMTime=setInterval(function(){n._checkDOMChanges()},500)),this.options.handleClick&&(Event.prototype.stopImmediatePropagation||(document.body.removeEventListener=function(t,e,i){var n=Node.prototype.removeEventListener;"click"===t?n.call(document.body,t,e.hijacked||e,i):n.call(document.body,t,e,i)},document.body.addEventListener=function(t,e,i){var n=Node.prototype.addEventListener;"click"===t?n.call(document.body,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),i):n.call(document.body,t,e,i)}),n._bind(CLICK_EV,document.body,!0))};iScroll.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(t){var e=this;switch(t.type){case START_EV:if(!hasTouch&&0!==t.button)return;e._start(t);break;case MOVE_EV:e._move(t);break;case END_EV:case CANCEL_EV:e._end(t);break;case RESIZE_EV:e._resize();break;case"DOMMouseScroll":case"mousewheel":e._wheel(t);break;case TRNEND_EV:e._transitionEnd(t);break;case CLICK_EV:e._click(t)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(t){var e,i=this;if(!i[t+"Scrollbar"])return void(i[t+"ScrollbarWrapper"]&&(hasTransform&&(i[t+"ScrollbarIndicator"].style[transform]=""),i[t+"ScrollbarWrapper"].parentNode.removeChild(i[t+"ScrollbarWrapper"]),i[t+"ScrollbarWrapper"]=null,i[t+"ScrollbarIndicator"]=null));i[t+"ScrollbarWrapper"]||(e=doc.createElement("div"),i.options.scrollbarClass?e.className=i.options.scrollbarClass+t.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+("h"==t?"height:7px;bottom:1px;left:2px;right:"+(i.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(i.hScrollbar?"7":"2")+"px;top:2px;right:1px"),e.style.cssText+=";pointer-events:none;"+cssVendor+"transition-property:opacity;"+cssVendor+"transition-duration:"+(i.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(i.options.hideScrollbar?"0":"1"),i.wrapper.appendChild(e),i[t+"ScrollbarWrapper"]=e,e=doc.createElement("div"),i.options.scrollbarClass||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+cssVendor+"background-clip:padding-box;"+cssVendor+"box-sizing:border-box;"+("h"==t?"height:100%":"width:100%")+";"+cssVendor+"border-radius:3px;border-radius:3px"),e.style.cssText+=";pointer-events:none;"+cssVendor+"transition-property:"+cssVendor+"transform;"+cssVendor+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+cssVendor+"transition-duration:0;"+cssVendor+"transform: translate(0,0)"+translateZ,i.options.useTransition&&(e.style.cssText+=";"+cssVendor+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),i[t+"ScrollbarWrapper"].appendChild(e),i[t+"ScrollbarIndicator"]=e),"h"==t?(i.hScrollbarSize=i.hScrollbarWrapper.clientWidth,i.hScrollbarIndicatorSize=m.max(m.round(i.hScrollbarSize*i.hScrollbarSize/i.scrollerW),8),i.hScrollbarIndicator.style.width=i.hScrollbarIndicatorSize+"px",i.hScrollbarMaxScroll=i.hScrollbarSize-i.hScrollbarIndicatorSize,i.hScrollbarProp=i.hScrollbarMaxScroll/i.maxScrollX):(i.vScrollbarSize=i.vScrollbarWrapper.clientHeight,i.vScrollbarIndicatorSize=m.max(m.round(i.vScrollbarSize*i.vScrollbarSize/i.scrollerH),8),i.vScrollbarIndicator.style.height=i.vScrollbarIndicatorSize+"px",i.vScrollbarMaxScroll=i.vScrollbarSize-i.vScrollbarIndicatorSize,i.vScrollbarProp=i.vScrollbarMaxScroll/i.maxScrollY),i._scrollbarPos(t,!0)},_resize:function(){var t=this;setTimeout(function(){t.refresh()},isAndroid?200:0)},_pos:function(t,e){this.zoomed||(t=this.hScroll?t:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[transform]="translate("+t+"px,"+e+"px) scale("+this.scale+")"+translateZ:(t=m.round(t),e=m.round(e),this.scroller.style.left=t+"px",this.scroller.style.top=e+"px"),this.x=t,this.y=e,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(t,e){var i,n=this,o="h"==t?n.x:n.y;n[t+"Scrollbar"]&&(o=n[t+"ScrollbarProp"]*o,o<0?(n.options.fixedScrollbar||(i=n[t+"ScrollbarIndicatorSize"]+m.round(3*o),i<8&&(i=8),n[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=i+"px"),o=0):o>n[t+"ScrollbarMaxScroll"]&&(n.options.fixedScrollbar?o=n[t+"ScrollbarMaxScroll"]:(i=n[t+"ScrollbarIndicatorSize"]-m.round(3*(o-n[t+"ScrollbarMaxScroll"])),i<8&&(i=8),n[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=i+"px",o=n[t+"ScrollbarMaxScroll"]+(n[t+"ScrollbarIndicatorSize"]-i))),n[t+"ScrollbarWrapper"].style[transitionDelay]="0",n[t+"ScrollbarWrapper"].style.opacity=e&&n.options.hideScrollbar?"0":"1",n[t+"ScrollbarIndicator"].style[transform]="translate("+("h"==t?o+"px,0)":"0,"+o+"px)")+translateZ)},_click:function(t){if(!0===t._fake)return this.actualClickElement=t.target,this.fakeClickTimeStamp=Date.now(),!0;if(this.actualClickElement&&this.fakeClickTimeStamp){if(Date.now()-this.fakeClickTimeStamp>600)return this.actualClickElement=null,this.fakeClickTimeStamp=null,!0}else{for(var e=t.target;e!=this.scroller&&e!=document.body;)e=e.parentNode;if(e==document.body)return!0}for(var i=t.target;1!=i.nodeType;)i=i.parentNode;var n=i.tagName.toLowerCase();return"select"!=n&&"input"!=n&&"textarea"!=n?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),this.actualClickElement=null,this.fakeClickTimeStamp=null,!1):void 0},_start:function(t){var e,i,n,o,a,r=this,s=hasTouch?t.touches[0]:t;r.enabled&&(r.options.onBeforeScrollStart&&r.options.onBeforeScrollStart.call(r,t),(r.options.useTransition||r.options.zoom)&&r._transitionTime(0),r.moved=!1,r.animating=!1,r.zoomed=!1,r.distX=0,r.distY=0,r.absDistX=0,r.absDistY=0,r.dirX=0,r.dirY=0,r.options.zoom&&hasTouch&&t.touches.length>1&&(o=m.abs(t.touches[0].pageX-t.touches[1].pageX),a=m.abs(t.touches[0].pageY-t.touches[1].pageY),r.touchesDistStart=m.sqrt(o*o+a*a),r.originX=m.abs(t.touches[0].pageX+t.touches[1].pageX-2*r.wrapperOffsetLeft)/2-r.x,r.originY=m.abs(t.touches[0].pageY+t.touches[1].pageY-2*r.wrapperOffsetTop)/2-r.y,r.options.onZoomStart&&r.options.onZoomStart.call(r,t)),r.options.momentum&&(r.options.useTransform?(e=getComputedStyle(r.scroller,null)[transform].replace(/[^0-9\-.,]/g,"").split(","),i=+(e[12]||e[4]),n=+(e[13]||e[5])):(i=+getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,""),n=+getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,"")),i==r.x&&n==r.y||(r.options.useTransition?r._unbind(TRNEND_EV):cancelFrame(r.aniTime),r.steps=[],r._pos(i,n),r.options.onScrollEnd&&r.options.onScrollEnd.call(r))),r.absStartX=r.x,r.absStartY=r.y,r.startX=r.x,r.startY=r.y,r.pointX=s.pageX,r.pointY=s.pageY,r.startTime=t.timeStamp||Date.now(),r.options.onScrollStart&&r.options.onScrollStart.call(r,t),r._bind(MOVE_EV,window),r._bind(END_EV,window),r._bind(CANCEL_EV,window))},_move:function(t){var e,i,n,o=this,a=hasTouch?t.touches[0]:t,r=a.pageX-o.pointX,s=a.pageY-o.pointY,l=o.x+r,h=o.y+s,c=t.timeStamp||Date.now();if(o.options.onBeforeScrollMove&&o.options.onBeforeScrollMove.call(o,t),o.options.zoom&&hasTouch&&t.touches.length>1)return e=m.abs(t.touches[0].pageX-t.touches[1].pageX),i=m.abs(t.touches[0].pageY-t.touches[1].pageY),o.touchesDist=m.sqrt(e*e+i*i),o.zoomed=!0,n=1/o.touchesDistStart*o.touchesDist*this.scale,n<o.options.zoomMin?n=.5*o.options.zoomMin*Math.pow(2,n/o.options.zoomMin):n>o.options.zoomMax&&(n=2*o.options.zoomMax*Math.pow(.5,o.options.zoomMax/n)),o.lastScale=n/this.scale,l=this.originX-this.originX*o.lastScale+this.x,h=this.originY-this.originY*o.lastScale+this.y,this.scroller.style[transform]="translate("+l+"px,"+h+"px) scale("+n+")"+translateZ,void(o.options.onZoom&&o.options.onZoom.call(o,t));o.pointX=a.pageX,o.pointY=a.pageY,(l>0||l<o.maxScrollX)&&(l=o.options.bounce?o.x+r/2:l>=0||o.maxScrollX>=0?0:o.maxScrollX),(h>o.minScrollY||h<o.maxScrollY)&&(h=o.options.bounce?o.y+s/2:h>=o.minScrollY||o.maxScrollY>=0?o.minScrollY:o.maxScrollY),o.distX+=r,o.distY+=s,o.absDistX=m.abs(o.distX),o.absDistY=m.abs(o.distY),o.absDistX<6&&o.absDistY<6||(o.options.lockDirection&&(o.absDistX>o.absDistY+5?(h=o.y,s=0):o.absDistY>o.absDistX+5&&(l=o.x,r=0)),o.moved=!0,o._pos(l,h),o.dirX=r>0?-1:r<0?1:0,o.dirY=s>0?-1:s<0?1:0,c-o.startTime>300&&(o.startTime=c,o.startX=o.x,o.startY=o.y),o.options.onScrollMove&&o.options.onScrollMove.call(o,t))},_end:function(t){if(!hasTouch||0===t.touches.length){var e,i,n,o,a,r,s,l,h=this,c=hasTouch?t.changedTouches[0]:t,d={dist:0,time:0},u={dist:0,time:0},p=(t.timeStamp||Date.now())-h.startTime,_=h.x,g=h.y;if(h._unbind(MOVE_EV,window),h._unbind(END_EV,window),h._unbind(CANCEL_EV,window),h.options.onBeforeScrollEnd&&h.options.onBeforeScrollEnd.call(h,t),h.zoomed)return l=h.scale*h.lastScale,l=Math.max(h.options.zoomMin,l),l=Math.min(h.options.zoomMax,l),h.lastScale=l/h.scale,h.scale=l,h.x=h.originX-h.originX*h.lastScale+h.x,h.y=h.originY-h.originY*h.lastScale+h.y,h.scroller.style[transitionDuration]="200ms",h.scroller.style[transform]="translate("+h.x+"px,"+h.y+"px) scale("+h.scale+")"+translateZ,h.zoomed=!1,h.refresh(),void(h.options.onZoomEnd&&h.options.onZoomEnd.call(h,t));if(!h.moved){if(hasTouch)if(h.doubleTapTimer&&h.options.zoom)clearTimeout(h.doubleTapTimer),h.doubleTapTimer=null,h.options.onZoomStart&&h.options.onZoomStart.call(h,t),h.zoom(h.pointX,h.pointY,1==h.scale?h.options.doubleTapZoom:1),h.options.onZoomEnd&&setTimeout(function(){h.options.onZoomEnd.call(h,t)},200);else if(this.options.handleClick){for(e=c.target;1!=e.nodeType;)e=e.parentNode;i=e.tagName.toLowerCase(),"select"!=i&&"input"!=i&&"textarea"!=i?(n=doc.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,t.view,1,c.screenX,c.screenY,c.clientX,c.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),n._fake=!0,e.dispatchEvent(n)):e.focus()}return h._resetPos(400),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,t))}if(p<300&&h.options.momentum&&(d=_?h._momentum(_-h.startX,p,-h.x,h.scrollerW-h.wrapperW+h.x,h.options.bounce?h.wrapperW:0):d,u=g?h._momentum(g-h.startY,p,-h.y,h.maxScrollY<0?h.scrollerH-h.wrapperH+h.y-h.minScrollY:0,h.options.bounce?h.wrapperH:0):u,_=h.x+d.dist,g=h.y+u.dist,(h.x>0&&_>0||h.x<h.maxScrollX&&_<h.maxScrollX)&&(d={dist:0,time:0}),(h.y>h.minScrollY&&g>h.minScrollY||h.y<h.maxScrollY&&g<h.maxScrollY)&&(u={dist:0,time:0})),d.dist||u.dist)return r=m.max(m.max(d.time,u.time),10),h.options.snap&&(o=_-h.absStartX,a=g-h.absStartY,m.abs(o)<h.options.snapThreshold&&m.abs(a)<h.options.snapThreshold?h.scrollTo(h.absStartX,h.absStartY,200):(s=h._snap(_,g),_=s.x,g=s.y,r=m.max(s.time,r))),h.scrollTo(m.round(_),m.round(g),r),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,t));if(h.options.snap)return o=_-h.absStartX,a=g-h.absStartY,m.abs(o)<h.options.snapThreshold&&m.abs(a)<h.options.snapThreshold?h.scrollTo(h.absStartX,h.absStartY,200):(s=h._snap(h.x,h.y),s.x==h.x&&s.y==h.y||h.scrollTo(s.x,s.y,s.time)),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,t));h._resetPos(200),h.options.onTouchEnd&&h.options.onTouchEnd.call(h,t)}},_resetPos:function(t){var e=this,i=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,n=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;if(i==e.x&&n==e.y)return e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e)),e.hScrollbar&&e.options.hideScrollbar&&("webkit"==vendor&&(e.hScrollbarWrapper.style[transitionDelay]="300ms"),e.hScrollbarWrapper.style.opacity="0"),void(e.vScrollbar&&e.options.hideScrollbar&&("webkit"==vendor&&(e.vScrollbarWrapper.style[transitionDelay]="300ms"),e.vScrollbarWrapper.style.opacity="0"));e.scrollTo(i,n,t||0)},_wheel:function(t){var e,i,n,o,a,r=this;if("wheelDeltaX"in t)e=t.wheelDeltaX/12,i=t.wheelDeltaY/12;else if("wheelDelta"in t)e=i=t.wheelDelta/12;else{if(!("detail"in t))return;e=i=3*-t.detail}if("zoom"==r.options.wheelAction)return a=r.scale*Math.pow(2,1/3*(i?i/Math.abs(i):0)),a<r.options.zoomMin&&(a=r.options.zoomMin),a>r.options.zoomMax&&(a=r.options.zoomMax),void(a!=r.scale&&(!r.wheelZoomCount&&r.options.onZoomStart&&r.options.onZoomStart.call(r,t),r.wheelZoomCount++,r.zoom(t.pageX,t.pageY,a,400),setTimeout(function(){!--r.wheelZoomCount&&r.options.onZoomEnd&&r.options.onZoomEnd.call(r,t)},400)));n=r.x+e,o=r.y+i,n>0?n=0:n<r.maxScrollX&&(n=r.maxScrollX),o>r.minScrollY?o=r.minScrollY:o<r.maxScrollY&&(o=r.maxScrollY),r.maxScrollY<0&&r.scrollTo(n,o,0)},_transitionEnd:function(t){var e=this;t.target==e.scroller&&(e._unbind(TRNEND_EV),e._startAni())},_startAni:function(){var t,e,i,n=this,o=n.x,a=n.y,r=Date.now();if(!n.animating){if(!n.steps.length)return void n._resetPos(400);if(t=n.steps.shift(),t.x==o&&t.y==a&&(t.time=0),n.animating=!0,n.moved=!0,n.options.useTransition)return n._transitionTime(t.time),n._pos(t.x,t.y),n.animating=!1,void(t.time?n._bind(TRNEND_EV):n._resetPos(0));i=function(){var s,l,h=Date.now();if(h>=r+t.time)return n._pos(t.x,t.y),n.animating=!1,n.options.onAnimationEnd&&n.options.onAnimationEnd.call(n),void n._startAni();h=(h-r)/t.time-1,e=m.sqrt(1-h*h),s=(t.x-o)*e+o,l=(t.y-a)*e+a,n._pos(s,l),n.animating&&(n.aniTime=nextFrame(i))},i()}},_transitionTime:function(t){t+="ms",this.scroller.style[transitionDuration]=t,this.hScrollbar&&(this.hScrollbarIndicator.style[transitionDuration]=t),this.vScrollbar&&(this.vScrollbarIndicator.style[transitionDuration]=t)},_momentum:function(t,e,i,n,o){var a=m.abs(t)/e,r=a*a/.0012,s=0,l=0;return t>0&&r>i?(l=o/(6/(r/a*6e-4)),i+=l,a=a*i/r,r=i):t<0&&r>n&&(l=o/(6/(r/a*6e-4)),n+=l,a=a*n/r,r=n),r*=t<0?-1:1,s=a/6e-4,{dist:r,time:m.round(s)}},_offset:function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return t!=this.wrapper&&(e*=this.scale,i*=this.scale),{left:e,top:i}},_snap:function(t,e){var i,n,o,a,r,s,l=this;for(o=l.pagesX.length-1,i=0,n=l.pagesX.length;i<n;i++)if(t>=l.pagesX[i]){o=i;break}for(o==l.currPageX&&o>0&&l.dirX<0&&o--,t=l.pagesX[o],r=m.abs(t-l.pagesX[l.currPageX]),r=r?m.abs(l.x-t)/r*500:0,l.currPageX=o,o=l.pagesY.length-1,i=0;i<o;i++)if(e>=l.pagesY[i]){o=i;break}return o==l.currPageY&&o>0&&l.dirY<0&&o--,e=l.pagesY[o],s=m.abs(e-l.pagesY[l.currPageY]),s=s?m.abs(l.y-e)/s*500:0,l.currPageY=o,a=m.round(m.max(r,s))||200,{x:t,y:e,time:a}},_bind:function(t,e,i){(e||this.scroller).addEventListener(t,this,!!i)},_unbind:function(t,e,i){(e||this.scroller).removeEventListener(t,this,!!i)},destroy:function(){var t=this;t.scroller.style[transform]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(RESIZE_EV,window),t._unbind(START_EV),t._unbind(MOVE_EV,window),t._unbind(END_EV,window),
t._unbind(CANCEL_EV,window),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(TRNEND_EV),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var t,e,i,n,o=this,a=0,r=0;if(o.scale<o.options.zoomMin&&(o.scale=o.options.zoomMin),o.wrapperW=o.wrapper.clientWidth||1,o.wrapperH=o.wrapper.clientHeight||1,o.minScrollY=-o.options.topOffset||0,o.scrollerW=m.round(o.scroller.offsetWidth*o.scale),o.scrollerH=m.round((o.scroller.offsetHeight+o.minScrollY)*o.scale),o.maxScrollX=o.wrapperW-o.scrollerW,o.maxScrollY=o.wrapperH-o.scrollerH+o.minScrollY,o.dirX=0,o.dirY=0,o.options.onRefresh&&o.options.onRefresh.call(o),o.hScroll=o.options.hScroll&&o.maxScrollX<0,o.vScroll=o.options.vScroll&&(!o.options.bounceLock&&!o.hScroll||o.scrollerH>o.wrapperH),o.hScrollbar=o.hScroll&&o.options.hScrollbar,o.vScrollbar=o.vScroll&&o.options.vScrollbar&&o.scrollerH>o.wrapperH,t=o._offset(o.wrapper),o.wrapperOffsetLeft=-t.left,o.wrapperOffsetTop=-t.top,"string"==typeof o.options.snap)for(o.pagesX=[],o.pagesY=[],n=o.scroller.querySelectorAll(o.options.snap),e=0,i=n.length;e<i;e++)a=o._offset(n[e]),a.left+=o.wrapperOffsetLeft,a.top+=o.wrapperOffsetTop,o.pagesX[e]=a.left<o.maxScrollX?o.maxScrollX:a.left*o.scale,o.pagesY[e]=a.top<o.maxScrollY?o.maxScrollY:a.top*o.scale;else if(o.options.snap){for(o.pagesX=[];a>=o.maxScrollX;)o.pagesX[r]=a,a-=o.wrapperW,r++;for(o.maxScrollX%o.wrapperW&&(o.pagesX[o.pagesX.length]=o.maxScrollX-o.pagesX[o.pagesX.length-1]+o.pagesX[o.pagesX.length-1]),a=0,r=0,o.pagesY=[];a>=o.maxScrollY;)o.pagesY[r]=a,a-=o.wrapperH,r++;o.maxScrollY%o.wrapperH&&(o.pagesY[o.pagesY.length]=o.maxScrollY-o.pagesY[o.pagesY.length-1]+o.pagesY[o.pagesY.length-1])}o._scrollbar("h"),o._scrollbar("v"),o.zoomed||(o.scroller.style[transitionDuration]="0",o._resetPos(400))},scrollTo:function(t,e,i,n){var o,a,r=this,s=t;for(r.stop(),s.length||(s=[{x:t,y:e,time:i,relative:n}]),o=0,a=s.length;o<a;o++)s[o].relative&&(s[o].x=r.x-s[o].x,s[o].y=r.y-s[o].y),r.steps.push({x:s[o].x,y:s[o].y,time:s[o].time||0});r._startAni()},scrollToElement:function(t,e){var i,n=this;(t=t.nodeType?t:n.scroller.querySelector(t))&&(i=n._offset(t),i.left+=n.wrapperOffsetLeft,i.top+=n.wrapperOffsetTop,i.left=i.left>0?0:i.left<n.maxScrollX?n.maxScrollX:i.left,i.top=i.top>n.minScrollY?n.minScrollY:i.top<n.maxScrollY?n.maxScrollY:i.top,e=void 0===e?m.max(2*m.abs(i.left),2*m.abs(i.top)):e,n.scrollTo(i.left,i.top,e))},scrollToPage:function(t,e,i){var n,o,a=this;i=void 0===i?400:i,a.options.onScrollStart&&a.options.onScrollStart.call(a),a.options.snap?(t="next"==t?a.currPageX+1:"prev"==t?a.currPageX-1:t,e="next"==e?a.currPageY+1:"prev"==e?a.currPageY-1:e,t=t<0?0:t>a.pagesX.length-1?a.pagesX.length-1:t,e=e<0?0:e>a.pagesY.length-1?a.pagesY.length-1:e,a.currPageX=t,a.currPageY=e,n=a.pagesX[t],o=a.pagesY[e]):(n=-a.wrapperW*t,o=-a.wrapperH*e,n<a.maxScrollX&&(n=a.maxScrollX),o<a.maxScrollY&&(o=a.maxScrollY)),a.scrollTo(n,o,i)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(MOVE_EV,window),this._unbind(END_EV,window),this._unbind(CANCEL_EV,window)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(TRNEND_EV):cancelFrame(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(t,e,i,n){var o=this,a=i/o.scale;o.options.useTransform&&(o.zoomed=!0,n=void 0===n?200:n,t=t-o.wrapperOffsetLeft-o.x,e=e-o.wrapperOffsetTop-o.y,o.x=t-t*a+o.x,o.y=e-e*a+o.y,o.scale=i,o.refresh(),o.x=o.x>0?0:o.x<o.maxScrollX?o.maxScrollX:o.x,o.y=o.y>o.minScrollY?o.minScrollY:o.y<o.maxScrollY?o.maxScrollY:o.y,o.scroller.style[transitionDuration]=n+"ms",o.scroller.style[transform]="translate("+o.x+"px,"+o.y+"px) scale("+i+")"+translateZ,o.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},dummyStyle=null;var catalogs=[0,1,2,2,2,2,2,2,2,3,3,3,3,4,5,5,5,6,6,7,8,8,8,9,10],parentCatalogs=["其他","正门","房型","设施","正门","餐饮设施","其他设施","正门","设施","观影厅","其他设施"],CATLOG_BTN_HEIGHT=7;BMap.panoRegister(function(t){var e=null;t.addEventListener("position_changed",function(){t._opts.visible&&!0===t._opts.albumsControl&&(e?e.renderByPid(t.getId()):(e=new PanoramaPhotoListControl(t._opts.albumsControlOptions),e.initialize(t)))}),t.addEventListener("albums_visible_changed",function(){!0===t._opts.albumsControl?(e?e.renderByPid(t.getId()):(e=new PanoramaPhotoListControl(t._opts.albumsControlOptions),e.initialize(t)),e.show()):e.hide()}),t.addEventListener("albums_options_changed",function(){if(e){var i=t._opts.albumsControlOptions;e.setOptions(i)}}),t.addEventListener("visible_changed",function(){e&&(t.getVisible()?!0===t._opts.albumsControl&&(e._container.style.visibility="visible"):e._container.style.visibility="hidden")})}),PanoramaPhotoListControl.PHOTO_ASPECT_RATIO=1.8,isMobile()&&(PanoramaPhotoListControl.PHOTO_ASPECT_RATIO=1),PanoramaPhotoListControl.PHOTO_SPACE_WIDTH=8,baidu.extend(PanoramaPhotoListControl.prototype,{setOptions:function(t){for(var e in t)this._opts[e]=t[e];var i=this._opts.imageHeight+"px";this.setAnchor(this._opts.anchor),this._container.style.width=!0===isNaN(Number(this._opts.maxWidth))?this._opts.maxWidth:this._opts.maxWidth+"px",this._container.style.height=i,this._slideWrapper.style.height=i,this._slideScroller.style.height=i,this._imageSize={height:this._opts.imageHeight,width:this._opts.imageHeight*PanoramaPhotoListControl.PHOTO_ASPECT_RATIO},this._seletedItemMask.style.height=this._imageSize.height-6+"px",this._seletedItemMask.style.width=this._imageSize.width-6+"px",this.renderByPid(this._pano.getId(),!0)},initialize:function(t){this._pano=t;this.createDoms(),this._bindEvents(),this.initIScroll(),this.renderByPid(t.getId())},createDoms:function(){var t=this._opts.imageHeight+"px";this._container=create("div");var e=this._container.style;e.cssText="background:rgb(37,37,37);background:rgba(37,37,37,0.9);",e.position="absolute",e.zIndex="2000",e.width=!0===isNaN(Number(this._opts.maxWidth))?this._opts.maxWidth:this._opts.maxWidth+"px",e.padding="8px 0",e.visibility="hidden",e.height=t,this._slideWrapper=create("div"),e=this._slideWrapper.style,e.position="absolute",e.overflow="hidden",e.width="100%",e.height=t,this._slideScroller=create("div"),e=this._slideScroller.style,e.height=t,this._slideWrapper.appendChild(this._slideScroller),this._container.appendChild(this._slideWrapper),this._pano._container.appendChild(this._container),this._seletedItemMask=create("div",{class:"pano_photo_item_seleted"}),this._seletedItemMask.style.height=this._imageSize.height-6+"px",this._seletedItemMask.style.width=this._imageSize.width-6+"px",this.setAnchor(this._opts.anchor)},_getIndexInCurrentRecoPanos:function(t){for(var e=this._recoPanos,i=e.length-1;i>=0;i--)if(e[i].panoId==t)return i;return-1},renderByPid:function(t,e){if(e||!this._recoPanos[this.currentIndex]||this._recoPanos[this.currentIndex].panoId!=t||3===this._recoPanos[this.currentIndex].recoType){var i=this,n=this._getIndexInCurrentRecoPanos(t);!e&&-1!==n&&this._recoPanos[n]&&3!==this._recoPanos[n].recoType?this.setIndex(n):this.getRecoPanos(function(t){for(var e,n,o={},a=!1,r=[],s=0,l=t.length;s<l;s++)e=t[s].catlog,n=t[s].floor,void 0!==e&&(""===e&&void 0!==n?(a=!0,o[n]||(o[n]=[]),o[n].push(t[s])):(o[catalogs[e]]||(o[catalogs[e]]=[]),o[catalogs[e]].push(t[s])));for(var h in o)a?r.push({data:h+"F",index:h}):r.push({data:parentCatalogs[h],index:h});i._catlogDatas=o,i._existParentCatalogs=r,i._renderList(t),0==t.length?i.hide():i.show()})}},createMobileCatlogDom:function(){if(!this._catlog){var t=this.getMobileCatlogHtml(this._existParentCatalogs),e=create("div"),i=["width:"+134*this._existParentCatalogs.length+"px;","overflow:hidden;","-ms-user-select:none;","-moz-user-select:none;","-webkit-user-select:none;"];e.style.cssText=i.join(""),e.innerHTML=t;var n=create("div");n.appendChild(e);var o=["position:absolute;","top:-25px;","background:rgb(37,37,37);","background:rgba(37,37,37,0.9);","border-bottom:1px solid #4e596a;","width:100%;","line-height:25px;","height:25px;","overflow:scroll;","outline:0"];n.style.cssText=o.join("");new iScroll(n,{bounce:!1,momentum:!0,hScrollbar:!1,vScrollbar:!1,vScroll:!1,lockDirection:!0,checkDOMChanges:!0,handleClick:!0});this._container.appendChild(n);for(var a,r=this,s=e.getElementsByTagName("span"),l=0,h=s.length;l<h;l++)a=s[l],baidu.on(a,"click",function(t){if(this.getAttribute("dataindex")){r._renderList(r._catlogDatas[this.getAttribute("dataindex")]);for(var e=0,i=s.length;e<i;e++)s[e].style.color="#FFFFFF";this.style.color="#3383FF"}});this._catlog=n}},createCatlogDom:function(){if(this._catlog){var t=this.getCatlogHtml(this._existParentCatalogs);this._catlogul.innerHTML=t}else{var t=this.getCatlogHtml(this._existParentCatalogs),e=create("ul"),i=this,n=["list-style: none;","padding:0px;","margin:0px;","display:block;","width:60px;","position:absolute;","top:7px"];e.style.cssText=n.join(""),e.innerHTML=t,baidu.on(e,"click",function(t){var n=t.srcElement||t.target,o=n.getAttribute("dataindex");if(o){i._renderList(i._catlogDatas[o]);for(var a=e.getElementsByTagName("li"),r=0,s=a.length;r<s;r++)a[r].childNodes[0].getAttribute("dataindex")===o?baidu.dom.addClass(a[r],"pano_catlogLiActive"):baidu.dom.removeClass(a[r],"pano_catlogLiActive")}});var o=create("div"),a=create("a"),r=create("span"),s=create("a"),l=create("span"),h=["background:url("+MapConfig.imgPath+"panorama/catlog_icon.png) no-repeat;","display:block;","width:10px;","height:"+CATLOG_BTN_HEIGHT+"px;","margin:0 auto;"],c=["background:#1C1C1C;","display:block;","position:absolute;","width:58px;"],d=h.join(""),u=c.join("");r.style.cssText=d+"background-position:-18px 0;",a.style.cssText=u,l.style.cssText=d+"background-position:0 0;",s.style.cssText=u,s.style.top=this._opts.imageHeight-CATLOG_BTN_HEIGHT+"px",o.style.cssText="position:absolute;top:0px;left:0px;width:60px;",a.appendChild(r),s.appendChild(l),baidu.on(a,"mouseover",function(t){var i=parseInt(e.style.top,10),n=CATLOG_BTN_HEIGHT;n!==i&&(r.style.backgroundPosition="-27px 0"),new Animation({fps:60,transition:Transitions.easeOutQuad,duration:300,render:function(t){e.style.top=i+(n-i)*t+"px"}})}),baidu.on(a,"mouseout",function(t){r.style.backgroundPosition="-18px 0"}),baidu.on(s,"mouseover",function(t){var n=parseInt(e.offsetHeight,10),o=parseInt(e.style.top,10),a=i._opts.imageHeight-2*CATLOG_BTN_HEIGHT;if(!(n<a)){var r=a-parseInt(e.offsetHeight,10)+CATLOG_BTN_HEIGHT;r!==o&&(l.style.backgroundPosition="-9px 0"),new Animation({fps:60,transition:Transitions.easeOutQuad,duration:300,render:function(t){e.style.top=o+(r-o)*t+"px"}})}}),baidu.on(s,"mouseout",function(){l.style.backgroundPosition="0 0"}),o.appendChild(a),o.appendChild(s);var p=create("div"),_=["position:absolute;","z-index:2001;","left:20px;","height:"+this._opts.imageHeight+"px;","width:62px;","overflow:hidden;","background:rgb(37,37,37);","background:rgba(37,37,37,0.9);"],g=_.join("");p.style.cssText=g,p.appendChild(e),p.appendChild(o),this._catlog=p,this._catlogul=e,this._container.appendChild(p)}},createExit:function(){if(this._existParentCatalogs&&!(this._existParentCatalogs.length<=0)){var t=create("div");t.innerHTML=this._exitHtml,t.style.cssText="position:absolute;background:#252525",this._container.appendChild(t),this.exitContainer=t,this.slideScroll._leftSlideBtn.style.left=this._imageSize.width+8+"px",this._catlog&&(this._catlog.style.left=parseInt(this._catlog.style.left,10)+this._imageSize.width+8+"px");var e=this;baidu.on(t,"click",function(){e._pano.setId(e.exitId)})}},_renderList:function(t){this._recoPanos=t,this._opts.showCatalog&&(this._existParentCatalogs.length>0?(isDesktop()?this.createCatlogDom():this.createMobileCatlogDom(),this.slideScroll.offsetLeft=60):(this.exitContainer&&(this._container.removeChild(this.exitContainer),this.exitContainer=null,this.slideScroll._leftSlideBtn.style.left="0px"),this._catlog&&(this._container.removeChild(this._catlog),this._catlog=null),this.slideScroll.offsetLeft=0));var e=this.getItemListHtml(t);isDesktop()&&this._existParentCatalogs&&this._existParentCatalogs.length>0&&this._opts.showExit&&this._exitHtml&&(this.slideScroll.offsetLeft+=this._imageSize.width+8,this.exitContainer?this.exitContainer.innerHTML=this._exitHtml:this.createExit()),this._slideScroller.innerHTML=e,this._slideScroller.style.width=(this._imageSize.width+PanoramaPhotoListControl.PHOTO_SPACE_WIDTH)*t.length+8+"px";var i=this._container.offsetWidth,n=this._slideScroller.offsetWidth;this.slideScroll.getControlWidth&&(n+=this.slideScroll.getControlWidth()),n<i-2*this.slideScroll.SLIDE_BTN_WIDTH-this.slideScroll.offsetLeft?this._container.style.width=n+this.slideScroll.offsetLeft+"px":(this._container.style.width=!0===isNaN(Number(this._opts.maxWidth))?this._opts.maxWidth:this._opts.maxWidth+"px",n<this._container.offsetWidth-2*this.slideScroll.SLIDE_BTN_WIDTH-this.slideScroll.offsetLeft&&(this._container.style.width=n+this.slideScroll.offsetLeft+"px")),this.slideScroll.refresh(),this._scrollerItems=this._slideScroller.children,this._slideScroller.appendChild(this._seletedItemMask),this._seletedItemMask.style.left="-100000px";var o=this._pano.getId(),a=this._getIndexInCurrentRecoPanos(o,this._seletedPanoName);-1!==a&&this.setIndex(a)},getMobileCatlogHtml:function(t){for(var e,i="",n=0,o=t.length;n<o;n++)e='<div style="color:white;opacity:0.5;margin:0 35px;float:left;text-align: center"><span  dataIndex="'+t[n].index+'">'+t[n].data+"</span></div>",i+=e;return i},getCatlogHtml:function(t){for(var e,i="",n=0,o=t.length;n<o;n++)e='<li class="pano_catlogLi"><span style="display:block;width:100%;" dataIndex="'+t[n].index+'">'+t[n].data+"</span></li>",i+=e;return i},getItemListHtml:function(t){for(var e,i,n,o,a,r,s=[],l=this._imageSize.height,h=this._imageSize.width,c=0;c<t.length;c++){e=t[c],recoType=e.recoType,n=e.panoId,o=e.name,a=e.heading,r=e.pitch,i=PanoramaEntranceUtil.getPano3DImageUrl(n,a,r,198,108);var d='<a href="javascript:void(0);" class="pano_photo_item" data-index="'+c+'"><img style="width:'+(h-2)+"px;height:"+(l-2)+'px;" data-index="'+c+'" name="'+o+'" src="'+i+'" alt="'+o+'"/><span class="pano_photo_decs" data-index="'+c+'" style="width:'+h+"px;font-size:"+Math.floor(l/6)+"px; line-height:"+Math.floor(l/6)+'px;"><em class="pano_poi_'+recoType+'"></em>'+o+"</span></a>";3===recoType?isDesktop()?(this._exitHtml=d,this.exitId=n,t.splice(c,1),c--):(d='<a href="javascript:void(0);" class="pano_photo_item" data-index="'+c+'"><img style="width:'+(h-2)+"px;height:"+(l-2)+'px;" data-index="'+c+'" name="'+o+'" src="'+i+'" alt="'+o+'"/><div style="background:rgba(37,37,37,0.5);position:absolute;top:0px;left:0px;width:100%;height:100%;text-align: center;line-height:'+this._opts.imageHeight+'px;" data-index="'+c+'"><img src="'+MapConfig.imgPath+'panorama/photoexit.png" style="border:none;vertical-align:middle;" data-index="'+c+'" alt=""/></div></a>',s.push(d)):s.push(d)}return s.join("")},getRecoPanos:function(t){var e=this,i=this._pano.getId();i&&this._service.getRecommendPanosById(i,function(n){e._pano.getId()===i&&t(n)})},setAnchor:function(t){(!isNumber(t)||isNaN(t)||t<BMAP_ANCHOR_TOP_LEFT||t>BMAP_ANCHOR_BOTTOM_RIGHT)&&(t=this.defaultAnchor);var e=this._container,i=this._opts.offset.width,n=this._opts.offset.height;switch(e.style.left=e.style.top=e.style.right=e.style.bottom="auto",t){case BMAP_ANCHOR_TOP_LEFT:e.style.top=n+"px",e.style.left=i+"px";break;case BMAP_ANCHOR_TOP_RIGHT:e.style.top=n+"px",e.style.right=i+"px";break;case BMAP_ANCHOR_BOTTOM_LEFT:e.style.bottom=n+"px",e.style.left=i+"px";break;case BMAP_ANCHOR_BOTTOM_RIGHT:e.style.bottom=n+"px",e.style.right=i+"px"}},_bindEvents:function(){this._bindControlDomEvents()},_bindControlDomEvents:function(){function t(t){var i=t.srcElement||t.target,n=i.getAttribute("data-index");if(n&&n!=e.currentIndex){e.setIndex(n);var o=e._recoPanos[n].panoId;e._pano.setId(o)}}var e=this;baidu.on(this._container,"touchstart",function(t){t.stopPropagation()}),baidu.on(this._slideWrapper,"click",function(e){t(e)}),baidu.on(this._slideScroller,"mouseover",function(t){var i=t.srcElement||t.target,n=i.getAttribute("data-index");null!==n&&e.completeShowItem(n,!0)}),this._pano.addEventListener("size_changed",function(){e._pano.getContainerSize().width;isNaN(Number(e._opts.maxWidth))&&e.setOptions({maxWidth:e._opts.maxWidth})})},setIndex:function(t){var e=(this.currentIndex,this._scrollerItems[t].offsetLeft+PanoramaPhotoListControl.PHOTO_SPACE_WIDTH);this._seletedItemMask.style.left=e+"px",this._seletedItemMask.setAttribute("data-index",this._scrollerItems[t].getAttribute("data-index")),this.currentIndex=t,this.completeShowItem(t)},completeShowItem:function(t,e){var i=this._imageSize.width+PanoramaPhotoListControl.PHOTO_SPACE_WIDTH,n=0;this.slideScroll.getControlWidth&&(n=this.slideScroll.getControlWidth()/2);var o=this._slideWrapper.offsetWidth-2*n,a=this._slideScroller.offsetLeft||this.slideScroll.x;a-=n;var r=-t*i;r>a&&this.slideScroll.scrollTo(r+n);var s=r-i,l=a-o;s<l&&(!e||e&&r-l>8)&&this.slideScroll.scrollTo(s+o+n)},initIScroll:function(){isMobile()?this.slideScroll=new iScroll(this._slideWrapper,{bounce:!1,momentum:!0,hScrollbar:!1,vScrollbar:!1,vScroll:!1,lockDirection:!0,checkDOMChanges:!0,handleClick:!0}):this.slideScroll=new PCScroller(this._slideWrapper)},hide:function(){this._container.style.visibility="hidden"},show:function(){this._container.style.visibility="visible"}}),PCScroller.prototype={initialize:function(){this._slideBody.style.position="relative",this.refresh(),this.createDoms(),this.bindEvents()},refresh:function(){this._pageWidth=this._container.offsetWidth-this.getControlWidth(),this._maxSlideLeft=-(this._slideBody.offsetWidth-this._pageWidth-this.SLIDE_BTN_WIDTH),this._minSlideLeft=this.SLIDE_BTN_WIDTH+this.offsetLeft,this._slideBody.style.left=this._minSlideLeft+"px",this._slideBody.children[0]&&(this._slideItemWidth=this._slideBody.children[0].offsetWidth),this._leftSlideBtn&&(this._leftSlideBtn.children[0].style.marginTop=this._rightSlideBtn.children[0].style.marginTop=this._leftSlideBtn.offsetHeight/2-this._leftSlideBtn.children[0].offsetHeight/2+"px")},getControlWidth:function(){return 2*this.SLIDE_BTN_WIDTH},createDoms:function(){this._scrollerContainer=create("div"),this._scrollerContainer.innerHTML=this._generateArrowsHtml(),this._leftSlideBtn=this._scrollerContainer.children[0],this._rightSlideBtn=this._scrollerContainer.children[1],this._container.appendChild(this._scrollerContainer),this._leftSlideBtn.children[0].style.marginTop=this._rightSlideBtn.children[0].style.marginTop=this._leftSlideBtn.offsetHeight/2-this._leftSlideBtn.children[0].offsetHeight/2+"px"},bindEvents:function(){var t=this;baidu.on(this._leftSlideBtn,"click",function(){t.scrollTo(t._slideBody.offsetLeft+t._pageWidth)}),baidu.on(this._rightSlideBtn,"click",function(){t.scrollTo(t._slideBody.offsetLeft-t._pageWidth)})},_updateSlideBtnStat:function(){baidu.dom.removeClass(this._leftSlideBtn,"pano_arrow_disable"),baidu.dom.removeClass(this._rightSlideBtn,"pano_arrow_disable");var t=this._slideBody.offsetLeft;t>=this._minSlideLeft&&baidu.dom.addClass(this._leftSlideBtn,"pano_arrow_disable"),t-this._pageWidth<=this._maxSlideLeft&&baidu.dom.addClass(this._rightSlideBtn,"pano_arrow_disable")},scrollTo:function(t){t=t<this._slideBody.offsetLeft?Math.ceil((t-this.SLIDE_BTN_WIDTH-this._pageWidth)/this._slideItemWidth)*this._slideItemWidth+this._pageWidth+this.SLIDE_BTN_WIDTH-8:Math.ceil((t-this.SLIDE_BTN_WIDTH)/this._slideItemWidth)*this._slideItemWidth+this.SLIDE_BTN_WIDTH,t<this._maxSlideLeft?t=this._maxSlideLeft:t>this._minSlideLeft&&(t=this._minSlideLeft);var e=this._slideBody.offsetLeft,i=this;new Animation({fps:60,transition:Transitions.easeOutQuad,duration:300,render:function(n){i._slideBody.style.left=e+(t-e)*n+"px"},finish:function(){i._updateSlideBtnStat()}})},_generateArrowsHtml:function(){return'<a class="pano_photo_arrow_l" style="background:rgb(37,37,37);background:rgba(37,37,37,0.9);" href="javascript:void(0)" title="上一页"><span class="pano_arrow_l"></span></a><a class="pano_photo_arrow_r" style="background:rgb(37,37,37);background:rgba(37,37,37,0.9);" href="javascript:void(0)" title="下一页"><span class="pano_arrow_r"></span></a>'}},PanoramaIndoorSwitchControl.OFFSET_LEFT_PERCENT=2,PanoramaIndoorSwitchControl.OFFSET_RIGHT_PERCENT=2,PanoramaIndoorSwitchControl.SWITCH_BUTTON_HEIGHT=28,BMap.panoRegister(function(t){function e(){var e=t.getSceneType();if(0==t._opts.indoorSceneSwitchControl||"street"==e)return void(i&&i.hide());"inter"==e&&(i||(i=new PanoramaIndoorSwitchControl(t,t._container)),i.updateRecoPanos(t.getId()),i.show())}t.addEventListener("scene_type_changed",e),t.addEventListener("indoor_default_switch_mode_changed",e);var i=null}),baidu.extend(PanoramaIndoorSwitchControl.prototype,{bindEvents:function(){this._bindDomEvents(),this._bindPanoEvents()},setIndex:function(t){function e(){var t={heading:i.heading,pitch:i.pitch};n._pano.setPov(t),n._pano.removeEventListener("position_changed",e)}var i=this._panoDatas[t];this._pano.setId(i.panoId);var n=this;this._pano.addEventListener("position_changed",e)},next:function(){this.setIndex(++this._currentRecoPanoIndex)},prev:function(){this.setIndex(--this._currentRecoPanoIndex)},createDoms:function(){var t=this._wrapperContainer=create("div"),e=t.style;e.position="absolute",e.zIndex="2000",e.width="100%",e.top=e.left="0px",this._container.appendChild(t),this._leftSwitchBtn=create("a"),this._leftSwitchBtn.style.left=PanoramaIndoorSwitchControl.OFFSET_LEFT_PERCENT+"%",this._leftSwitchBtn.href="javascript: void(0);",this._leftSwitchBtn.className="pano_switch_left",t.appendChild(this._leftSwitchBtn),this._rightSwitchBtn=create("a"),this._rightSwitchBtn.style.right=PanoramaIndoorSwitchControl.OFFSET_RIGHT_PERCENT+"%",this._leftSwitchBtn.href="javascript: void(0);",this._rightSwitchBtn.className="pano_switch_right",isMobile()&&(this._rightSwitchBtn.style.height="34px",this._rightSwitchBtn.style.width="34px",this._rightSwitchBtn.style.borderRadius="17px",this._leftSwitchBtn.style.height="34px",this._leftSwitchBtn.style.width="34px",this._leftSwitchBtn.style.borderRadius="17px"),t.appendChild(this._rightSwitchBtn);var i=this._pano.getContainerSize();this._leftSwitchBtn.style.top=this._rightSwitchBtn.style.top=i.height/2-PanoramaIndoorSwitchControl.SWITCH_BUTTON_HEIGHT/2+"px"},updateRecoPanos:function(t){var e=this,i=this._pano.getId();this._service.getRecommendPanosById(t,function(t){var n=e._pano.getId();n===i&&(e._panoDatas=t,e.updateIndexByPanoId(n))})},hide:function(){this._visible=!1,this._wrapperContainer.style.display="none"},show:function(){this._visible=!0,this._wrapperContainer.style.display="block"},isVisible:function(){return this._visible},updateIndexByPanoId:function(t){for(var e=this._panoDatas,i=e.length-1;i>=0;i--)e[i].panoId==t&&(this._currentRecoPanoIndex=i);baidu.dom.removeClass(this._leftSwitchBtn,"pano_switch_disable"),baidu.dom.removeClass(this._rightSwitchBtn,"pano_switch_disable"),1===this._currentRecoPanoIndex?baidu.dom.addClass(this._leftSwitchBtn,"pano_switch_disable"):this._currentRecoPanoIndex==e.length-1&&baidu.dom.addClass(this._rightSwitchBtn,"pano_switch_disable")},_bindDomEvents:function(){var t=this;T.on(this._leftSwitchBtn,"click",function(e){baidu.dom.hasClass(e.target,"pano_switch_disable")||t.prev()}),T.on(this._rightSwitchBtn,"click",function(e){baidu.dom.hasClass(e.target,"pano_switch_disable")||t.next()})},_bindPanoEvents:function(){var t=this,e=t._pano;e.addEventListener("position_changed",function(){if(t.isVisible()){var i=e.getId();t.updateIndexByPanoId(i)}})}}),window._pcommon=2}();